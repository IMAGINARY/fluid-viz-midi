{"mappings":"mkBAkBA,SAASA,EAAQC,EAAGC,GACnB,KAAMC,gBAAgBH,GACrB,OAAO,IAAIA,EAAOC,EAAGC,GActBC,KAAKF,EAAIA,GAAK,EAadE,KAAKD,EAAIA,GAAK,C,CA/CLE,EAAOC,QAAUL,EAoE3BA,EAAOM,UAAY,SAAUC,GAC5B,OAAO,IAAIP,EAAOO,EAAI,IAAM,EAAGA,EAAI,IAAM,E,EAiB1CP,EAAOQ,WAAa,SAAUC,GAC7B,OAAO,IAAIT,EAAOS,EAAIR,GAAK,EAAGQ,EAAIP,GAAK,E,EAwBxCF,EAAOU,UAAUC,KAAO,SAAUC,GAEjC,OADAT,KAAKF,GAAKW,EAAIX,EACPE,I,EAkBRH,EAAOU,UAAUG,KAAO,SAAUD,GAEjC,OADAT,KAAKD,GAAKU,EAAIV,EACPC,I,EAkBRH,EAAOU,UAAUI,IAAM,SAAUF,GAGhC,OAFAT,KAAKF,GAAKW,EAAIX,EACdE,KAAKD,GAAKU,EAAIV,EACPC,I,EAiBRH,EAAOU,UAAUK,UAAY,SAAUC,GAGtC,OAFAb,KAAKF,GAAKe,EACVb,KAAKD,GAAKc,EACHb,I,EAiBRH,EAAOU,UAAUO,WAAa,SAAUD,GAEvC,OADAb,KAAKF,GAAKe,EACHb,I,EAiBRH,EAAOU,UAAUQ,WAAa,SAAUF,GAEvC,OADAb,KAAKD,GAAKc,EACHb,I,EAkBRH,EAAOU,UAAUS,UAAY,SAAUP,GAEtC,OADAT,KAAKF,GAAKW,EAAIX,EACPE,I,EAkBRH,EAAOU,UAAUU,UAAY,SAAUR,GAEtC,OADAT,KAAKD,GAAKU,EAAIV,EACPC,I,EAkBRH,EAAOU,UAAUW,SAAW,SAAUT,GAGrC,OAFAT,KAAKF,GAAKW,EAAIX,EACdE,KAAKD,GAAKU,EAAIV,EACPC,I,EAiBRH,EAAOU,UAAUY,eAAiB,SAAUN,GAG3C,OAFAb,KAAKF,GAAKe,EACVb,KAAKD,GAAKc,EACHb,I,EAiBRH,EAAOU,UAAUa,gBAAkB,SAAUP,GAE5C,OADAb,KAAKF,GAAKe,EACHb,I,EAiBRH,EAAOU,UAAUc,gBAAkB,SAAUR,GAE5C,OADAb,KAAKD,GAAKc,EACHb,I,EAkBRH,EAAOU,UAAUe,QAAU,SAAUC,GAEpC,OADAvB,KAAKF,GAAKyB,EAAOzB,EACVE,I,EAkBRH,EAAOU,UAAUiB,QAAU,SAAUD,GAEpC,OADAvB,KAAKD,GAAKwB,EAAOxB,EACVC,I,EAkBRH,EAAOU,UAAUkB,OAAS,SAAUF,GAGnC,OAFAvB,KAAKF,GAAKyB,EAAOzB,EACjBE,KAAKD,GAAKwB,EAAOxB,EACVC,I,EAiBRH,EAAOU,UAAUmB,aAAe,SAAUb,GASzC,OARe,IAAXA,GACHb,KAAKF,GAAKe,EACVb,KAAKD,GAAKc,IAEVb,KAAKF,EAAI,EACTE,KAAKD,EAAI,GAGHC,I,EAiBRH,EAAOU,UAAUoB,cAAgB,SAAUd,GAM1C,OALe,IAAXA,EACHb,KAAKF,GAAKe,EAEVb,KAAKF,EAAI,EAEHE,I,EAiBRH,EAAOU,UAAUqB,cAAgB,SAAUf,GAM1C,OALe,IAAXA,EACHb,KAAKD,GAAKc,EAEVb,KAAKD,EAAI,EAEHC,I,EAgBRH,EAAOU,UAAUsB,QAAU,WAE1B,OADA7B,KAAKF,IAAK,EACHE,I,EAgBRH,EAAOU,UAAUuB,QAAU,WAE1B,OADA9B,KAAKD,IAAK,EACHC,I,EAgBRH,EAAOU,UAAUwB,OAAS,WAGzB,OAFA/B,KAAK6B,UACL7B,KAAK8B,UACE9B,I,EAkBRH,EAAOU,UAAUyB,UAAY,SAAUT,GAEtC,OADAvB,KAAKF,GAAKyB,EAAOzB,EACVE,I,EAkBRH,EAAOU,UAAU0B,UAAY,SAAUV,GAEtC,OADAvB,KAAKD,GAAKwB,EAAOxB,EACVC,I,EAkBRH,EAAOU,UAAU2B,SAAW,SAAUX,GAGrC,OAFAvB,KAAKF,GAAKyB,EAAOzB,EACjBE,KAAKD,GAAKwB,EAAOxB,EACVC,I,EAiBRH,EAAOU,UAAU4B,eAAiB,SAAUtB,GAG3C,OAFAb,KAAKF,GAAKe,EACVb,KAAKD,GAAKc,EACHb,I,EAiBRH,EAAOU,UAAU6B,gBAAkB,SAAUvB,GAE5C,OADAb,KAAKF,GAAKe,EACHb,I,EAiBRH,EAAOU,UAAU8B,gBAAkB,SAAUxB,GAE5C,OADAb,KAAKD,GAAKc,EACHb,I,EASRH,EAAOU,UAAU+B,UAAY,WAC5B,IAAIC,EAASvC,KAAKuC,SAQlB,OANe,IAAXA,GACHvC,KAAKF,EAAI,EACTE,KAAKD,EAAI,GAETC,KAAKyB,OAAO5B,EAAO0C,EAAQA,IAErBvC,I,EAGRH,EAAOU,UAAUiC,KAAO3C,EAAOU,UAAU+B,UAiBzCzC,EAAOU,UAAUkC,MAAQ,SAAUC,EAAKC,GAGvC,OAFIC,KAAKC,IAAI7C,KAAKF,GAAK4C,IAAM1C,KAAKF,GAAK6C,GACnCC,KAAKC,IAAI7C,KAAKD,GAAK2C,IAAM1C,KAAKD,GAAK4C,GAChC3C,I,EAkBRH,EAAOU,UAAUuC,UAAY,SAAUC,EAASC,GAI/C,OAHAhD,KAAKiD,WAAWF,EAASC,GACzBhD,KAAKkD,WAAWH,EAASC,GAElBhD,I,EAkBRH,EAAOU,UAAU0C,WAAa,SAAUF,EAASC,GAChD,IAAIG,EAAMP,KAAKO,IAAIJ,EAAQjD,EAAGkD,EAAYlD,GACtC4C,EAAME,KAAKF,IAAIK,EAAQjD,EAAGkD,EAAYlD,GAE1C,OADAE,KAAKF,EAAIsD,EAAOD,EAAKT,GACd1C,I,EAkBRH,EAAOU,UAAU2C,WAAa,SAAUH,EAASC,GAChD,IAAIG,EAAMP,KAAKO,IAAIJ,EAAQhD,EAAGiD,EAAYjD,GACtC2C,EAAME,KAAKF,IAAIK,EAAQhD,EAAGiD,EAAYjD,GAE1C,OADAC,KAAKD,EAAIqD,EAAOD,EAAKT,GACd1C,I,EAkBRH,EAAOU,UAAU8C,aAAe,SAAUN,EAASC,GAMlD,OALOJ,KAAKU,MAAMV,KAAKQ,UACtBpD,KAAKiD,WAAWF,EAASC,GAEzBhD,KAAKkD,WAAWH,EAASC,GAEnBhD,I,EAgBRH,EAAOU,UAAUgD,QAAU,WAG1B,OAFAvD,KAAKF,EAAI8C,KAAKU,MAAMtD,KAAKF,GACzBE,KAAKD,EAAI6C,KAAKU,MAAMtD,KAAKD,GAClBC,I,EAiBRH,EAAOU,UAAUiD,QAAU,SAAUC,GAIpC,YAHyB,IAAdA,IAA6BA,EAAY,GACpDzD,KAAKF,EAAIE,KAAKF,EAAE0D,QAAQC,GACxBzD,KAAKD,EAAIC,KAAKD,EAAEyD,QAAQC,GACjBzD,I,EAmBRH,EAAOU,UAAUmD,KAAO,SAAUjD,EAAKkD,GAMtC,YALsB,IAAXA,IACVA,EAAS,IAGV3D,KAAKF,GAAK,EAAI6D,GAAU3D,KAAKF,EAAI6D,EAASlD,EAAIX,EACvCE,I,EAmBRH,EAAOU,UAAUqD,KAAO,SAAUnD,EAAKkD,GAMtC,YALsB,IAAXA,IACVA,EAAS,IAGV3D,KAAKD,GAAK,EAAI4D,GAAU3D,KAAKD,EAAI4D,EAASlD,EAAIV,EACvCC,I,EAmBRH,EAAOU,UAAUsD,IAAM,SAAUpD,EAAKkD,GAGrC,OAFA3D,KAAK0D,KAAKjD,EAAKkD,GACf3D,KAAK4D,KAAKnD,EAAKkD,GACR3D,I,EAoBRH,EAAOU,UAAUuD,MAAQ,WACxB,OAAO,IAAIjE,EAAOG,KAAKF,EAAGE,KAAKD,E,EAiBhCF,EAAOU,UAAUwD,MAAQ,SAAUtD,GAElC,OADAT,KAAKF,EAAIW,EAAIX,EACNE,I,EAiBRH,EAAOU,UAAUyD,MAAQ,SAAUvD,GAElC,OADAT,KAAKD,EAAIU,EAAIV,EACNC,I,EAiBRH,EAAOU,UAAU0D,KAAO,SAAUxD,GAGjC,OAFAT,KAAK+D,MAAMtD,GACXT,KAAKgE,MAAMvD,GACJT,I,EAeRH,EAAOU,UAAU2D,KAAO,WAEvB,OADAlE,KAAKF,EAAIE,KAAKD,EAAI,EACXC,I,EAiBRH,EAAOU,UAAU4D,IAAM,SAAUC,GAChC,OAAOpE,KAAKF,EAAIsE,EAAKtE,EAAIE,KAAKD,EAAIqE,EAAKrE,C,EAGxCF,EAAOU,UAAU8D,MAAQ,SAAUD,GAClC,OAAOpE,KAAMF,EAAIsE,EAAKrE,EAAOC,KAAKD,EAAIqE,EAAKtE,C,EAkB5CD,EAAOU,UAAU+D,YAAc,SAAUF,GACrC,IAAIG,GAAUvE,KAAMF,EAAIsE,EAAKtE,EAAIE,KAAKD,EAAIqE,EAAKrE,IAAQqE,EAAMtE,EAAEsE,EAAKtE,EAAIsE,EAAKrE,EAAEqE,EAAKrE,GAGpF,OAFAC,KAAKF,EAAIyE,EAAQH,EAAKtE,EACtBE,KAAKD,EAAIwE,EAAQH,EAAKrE,EACfC,I,EAIXH,EAAOU,UAAUiE,gBAAkB,WAClC,OAAO5B,KAAK6B,MAAMzE,KAAKD,EAAGC,KAAKF,E,EAGhCD,EAAOU,UAAUmE,mBAAqB,WACrC,OAAOC,EAAe3E,KAAKwE,kB,EAG5B3E,EAAOU,UAAUqE,cAAgB,WAChC,OAAOhC,KAAK6B,MAAMzE,KAAKF,EAAGE,KAAKD,E,EAGhCF,EAAOU,UAAUsE,iBAAmB,WACnC,OAAOF,EAAe3E,KAAK4E,gB,EAG5B/E,EAAOU,UAAUuE,MAAQjF,EAAOU,UAAUiE,gBAC1C3E,EAAOU,UAAUwE,SAAWlF,EAAOU,UAAUmE,mBAC7C7E,EAAOU,UAAUyE,UAAYnF,EAAOU,UAAUiE,gBAE9C3E,EAAOU,UAAU0E,OAAS,SAAUH,GACnC,IAAII,EAAKlF,KAAMF,EAAI8C,KAAKuC,IAAIL,GAAW9E,KAAKD,EAAI6C,KAAKwC,IAAIN,GACrDO,EAAKrF,KAAMF,EAAI8C,KAAKwC,IAAIN,GAAW9E,KAAKD,EAAI6C,KAAKuC,IAAIL,GAKzD,OAHA9E,KAAKF,EAAIoF,EACTlF,KAAKD,EAAIsF,EAEFrF,I,EAGRH,EAAOU,UAAU+E,UAAY,SAAUR,GAEtC,OADAA,EAAQS,EAAeT,GAChB9E,KAAKiF,OAAOH,E,EAGpBjF,EAAOU,UAAUiF,SAAW,SAASC,GACpC,OAAOzF,KAAKiF,OAAOQ,EAASzF,KAAK8E,Q,EAGlCjF,EAAOU,UAAUmF,YAAc,SAASD,GAEvC,OADAA,EAAWF,EAAeE,GACnBzF,KAAKwF,SAASC,E,EAGtB5F,EAAOU,UAAUoF,SAAW,SAAUF,GACrC,IAAIX,EAAQ9E,KAAK8E,QAAUW,EAE3B,OAAOzF,KAAKiF,OAAOH,E,EAGpBjF,EAAOU,UAAUqF,YAAc,SAAUH,GAExC,OADAA,EAAWF,EAAeE,GACnBzF,KAAK2F,SAASF,E,EAiBtB5F,EAAOU,UAAUsF,UAAY,SAAUpF,GACtC,OAAOT,KAAKF,EAAIW,EAAIX,C,EAiBrBD,EAAOU,UAAUuF,aAAe,SAAUrF,GACzC,OAAOmC,KAAKC,IAAI7C,KAAK6F,UAAUpF,G,EAiBhCZ,EAAOU,UAAUwF,UAAY,SAAUtF,GACtC,OAAOT,KAAKD,EAAIU,EAAIV,C,EAiBrBF,EAAOU,UAAUyF,aAAe,SAAUvF,GACzC,OAAOmC,KAAKC,IAAI7C,KAAK+F,UAAUtF,G,EAiBhCZ,EAAOU,UAAU0F,SAAW,SAAUxF,GACrC,OAAOmC,KAAKsD,KAAKlG,KAAKmG,WAAW1F,G,EAiBlCZ,EAAOU,UAAU4F,WAAa,SAAU1F,GACvC,IAAI2F,EAAKpG,KAAK6F,UAAUpF,GACvB4F,EAAKrG,KAAK+F,UAAUtF,GAErB,OAAO2F,EAAKA,EAAKC,EAAKA,C,EAevBxG,EAAOU,UAAUgC,OAAS,WACzB,OAAOK,KAAKsD,KAAKlG,KAAKsG,W,EAevBzG,EAAOU,UAAU+F,SAAW,WAC3B,OAAOtG,KAAKF,EAAIE,KAAKF,EAAIE,KAAKD,EAAIC,KAAKD,C,EAGxCF,EAAOU,UAAUgG,UAAY1G,EAAOU,UAAUgC,OAc9C1C,EAAOU,UAAUiG,OAAS,WACzB,OAAkB,IAAXxG,KAAKF,GAAsB,IAAXE,KAAKD,C,EAgB7BF,EAAOU,UAAUkG,UAAY,SAASrC,GACrC,OAAOpE,KAAKF,IAAMsE,EAAKtE,GAAKE,KAAKD,IAAMqE,EAAKrE,C,EAmB7CF,EAAOU,UAAUmG,SAAW,WAC3B,MAAO,KAAO1G,KAAKF,EAAI,OAASE,KAAKD,C,EAetCF,EAAOU,UAAUoG,QAAU,WAC1B,MAAO,CAAE3G,KAAKF,EAAGE,KAAKD,E,EAevBF,EAAOU,UAAUqG,SAAW,WAC3B,MAAO,CAAE9G,EAAGE,KAAKF,EAAGC,EAAGC,KAAKD,E,EAI7B,IAAI8G,EAAU,IAAMjE,KAAKkE,GAEzB,SAAS1D,EAAQD,EAAKT,GAClB,OAAOE,KAAKmE,MAAMnE,KAAKQ,UAAYV,EAAMS,EAAM,GAAKA,E,CAGxD,SAASwB,EAAgBqC,GACxB,OAAOA,EAAMH,C,CAGd,SAAStB,EAAgB0B,GACxB,OAAOA,EAAMJ,C,uCC1yCd,I,aAAIK,EAAK,SACLC,EAAEC,EAAAC,SAAiBC,KAAKC,MAAM,KAC9BJ,EAAE,IAAI,GAAID,GAAM,SACXC,EAAE,IAAI,KAAID,GAAM,UACJ,SAAlBE,EAAAI,UAAyC,QAAdJ,EAAAK,KAAsBP,GAAM,aAChC,SAAlBE,EAAAI,UAAyC,OAAdJ,EAAAK,KAAqBP,GAAM,aACpC,UAAlBE,EAAAI,UAA0C,OAAdJ,EAAAK,KAAqBP,GAAM,eACrC,SAAlBE,EAAAI,UAAyC,OAAdJ,EAAAK,KAAqBP,GAAM,eACpC,SAAlBE,EAAAI,UAAyC,OAAdJ,EAAAK,OAAqBP,GAAM,gBAC9DjH,EAAAC,QAAewH,QAAQR,GACvBjH,EAAAC,QAAeyH,QAAQD,QAAQE,sC,sCCT/B,IAOIC,EACAC,EARAC,EAAU9H,EAAAC,QAAiB,GAU/B,SAAS8H,IACL,MAAM,IAAIC,MAAM,kC,CAEpB,SAASC,IACL,MAAM,IAAID,MAAM,oC,CAsBpB,SAASE,EAAWC,GAChB,GAAIP,IAAqBQ,WAErB,OAAOA,WAAWD,EAAK,GAG3B,IAAKP,IAAqBG,IAAqBH,IAAqBQ,WAEhE,OADAR,EAAmBQ,WACZA,WAAWD,EAAK,GAE3B,IAEI,OAAOP,EAAiBO,EAAK,E,CAC/B,MAAME,GACJ,IAEI,OAAOT,EAAiBU,KAAK,KAAMH,EAAK,E,CAC1C,MAAMI,GAEJ,OAAOX,EAAiBU,KAAKvI,KAAMoI,EAAK,E,IAvCnD,WACG,IAEQP,EADsB,mBAAfQ,WACYA,WAEAL,C,CAEzB,MAAOM,GACLT,EAAmBG,C,CAEvB,IAEQF,EADwB,mBAAjBW,aACcA,aAEAP,C,CAE3B,MAAOM,GACLV,EAAqBI,C,CAE5B,CAnBA,GAwED,IAEIQ,EAFAC,EAAQ,GACRC,GAAW,EAEXC,GAAa,EAEjB,SAASC,IACAF,GAAaF,IAGlBE,GAAW,EACPF,EAAanG,OACboG,EAAQD,EAAaK,OAAOJ,GAE5BE,GAAa,EAEbF,EAAMpG,QACNyG,I,CAIR,SAASA,IACL,IAAIJ,EAAJ,CAGA,IAAIK,EAAUd,EAAWW,GACzBF,GAAW,EAGX,IADA,IAAIM,EAAMP,EAAMpG,OACV2G,GAAK,CAGP,IAFAR,EAAeC,EACfA,EAAQ,KACCE,EAAaK,GACdR,GACAA,EAAaG,GAAYM,MAGjCN,GAAa,EACbK,EAAMP,EAAMpG,M,CAEhBmG,EAAe,KACfE,GAAW,EAnEf,SAAyBQ,GACrB,GAAItB,IAAuBW,aAEvB,OAAOA,aAAaW,GAGxB,IAAKtB,IAAuBI,IAAwBJ,IAAuBW,aAEvE,OADAX,EAAqBW,aACdA,aAAaW,GAExB,IAEWtB,EAAmBsB,E,CAC5B,MAAOd,GACL,IAEI,OAAOR,EAAmBS,KAAK,KAAMa,E,CACvC,MAAOZ,GAGL,OAAOV,EAAmBS,KAAKvI,KAAMoJ,E,GAgD7CC,CAAgBJ,EAnBZ,C,CAoCR,SAASK,EAAKlB,EAAKmB,GACfvJ,KAAKoI,IAAMA,EACXpI,KAAKuJ,MAAQA,C,CAYjB,SAASC,IAAO,CA5BhBzB,EAAQ0B,SAAW,SAAUrB,GACzB,IAAIsB,EAAO,IAAIC,MAAMC,UAAUrH,OAAS,GACxC,GAAIqH,UAAUrH,OAAS,EACnB,IAAK,IAAIsH,EAAI,EAAGA,EAAID,UAAUrH,OAAQsH,IAClCH,EAAKG,EAAI,GAAKD,UAAUC,GAGhClB,EAAMmB,KAAK,IAAIR,EAAKlB,EAAKsB,IACJ,IAAjBf,EAAMpG,QAAiBqG,GACvBT,EAAWa,E,EASnBM,EAAK/I,UAAU4I,IAAM,WACjBnJ,KAAKoI,IAAI2B,MAAM,KAAM/J,KAAKuJ,M,EAE9BxB,EAAQiC,MAAQ,UAChBjC,EAAQkC,SAAU,EAClBlC,EAAQmC,IAAM,GACdnC,EAAQoC,KAAO,GACfpC,EAAQqC,QAAU,GAClBrC,EAAQV,SAAW,GAInBU,EAAQsC,GAAKb,EACbzB,EAAQuC,YAAcd,EACtBzB,EAAQwC,KAAOf,EACfzB,EAAQyC,IAAMhB,EACdzB,EAAQ0C,eAAiBjB,EACzBzB,EAAQ2C,mBAAqBlB,EAC7BzB,EAAQ4C,KAAOnB,EACfzB,EAAQ6C,gBAAkBpB,EAC1BzB,EAAQ8C,oBAAsBrB,EAE9BzB,EAAQ+C,UAAY,SAAUC,GAAQ,MAAO,E,EAE7ChD,EAAQiD,QAAU,SAAUD,GACxB,MAAM,IAAI9C,MAAM,mC,EAGpBF,EAAQkD,IAAM,WAAc,MAAO,G,EACnClD,EAAQmD,MAAQ,SAAUC,GACtB,MAAM,IAAIlD,MAAM,iC,EAEpBF,EAAQqD,MAAQ,WAAa,OAAO,C,KCvLpCC,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,yG,IC8BrDC,E,KAPAC,EAAuB,iBAAZC,QAAuBA,QAAU,KAC5CC,EAAeF,GAAwB,mBAAZA,EAAE3B,MAC7B2B,EAAE3B,MACF,SAAsB8B,EAAQC,EAAUpC,GACxC,OAAOqC,SAASxL,UAAUwJ,MAAMxB,KAAKsD,EAAQC,EAAUpC,E,EAKzD+B,EADEC,GAA0B,mBAAdA,EAAEM,QACCN,EAAEM,QACVC,OAAOC,sBACC,SAAwBL,GACvC,OAAOI,OAAOE,oBAAoBN,GAC/B9C,OAAOkD,OAAOC,sBAAsBL,G,EAGxB,SAAwBA,GACvC,OAAOI,OAAOE,oBAAoBN,E,EAQtC,IAAIO,EAAcC,OAAOC,OAAS,SAAqBC,GACrD,OAAOA,GAAUA,C,EAGnB,SAASC,IACPA,EAAaC,KAAKlE,KAAKvI,K,EAEzB0M,EAAiBF,GACFjC,KAwYf,SAAcoC,EAAS5B,GACrB,OAAO,IAAI6B,SAAQ,SAAUC,EAASC,GACpC,SAASC,EAAcC,GACrBL,EAAQlC,eAAeM,EAAMkC,GAC7BH,EAAOE,E,CAGT,SAASC,IAC+B,mBAA3BN,EAAQlC,gBACjBkC,EAAQlC,eAAe,QAASsC,GAElCF,EAAQ,GAAGK,MAAM3E,KAAKqB,W,CAGxBuD,EAA+BR,EAAS5B,EAAMkC,EAAU,CAAE1C,MAAM,IACnD,UAATQ,GAMR,SAAuC4B,EAASS,EAASC,GAC7B,mBAAfV,EAAQtC,IACjB8C,EAA+BR,EAAS,QAASS,EAASC,E,CAPxDC,CAA8BX,EAASI,EAAe,CAAExC,MAAM,G,KArZpEiC,EAAae,aAAef,EAE5BA,EAAajM,UAAUiN,aAAUC,EACjCjB,EAAajM,UAAUmN,aAAe,EACtClB,EAAajM,UAAUoN,mBAAgBF,EAIvC,IAAIG,EAAsB,GAE1B,SAASC,EAAcC,GACrB,GAAwB,mBAAbA,EACT,MAAM,IAAIC,UAAU,0EAA4ED,E,CAsCpG,SAASE,EAAiBC,GACxB,YAA2BR,IAAvBQ,EAAKN,cACAnB,EAAa0B,oBACfD,EAAKN,a,CAmDd,SAASQ,EAAatC,EAAQuC,EAAMN,EAAUO,GAC5C,IAAIC,EACAC,EACAC,EA1HsBC,EAgJ1B,GApBAZ,EAAcC,QAGCL,KADfc,EAAS1C,EAAO2B,UAEde,EAAS1C,EAAO2B,QAAUvB,OAAOyC,OAAO,MACxC7C,EAAO6B,aAAe,SAIKD,IAAvBc,EAAOI,cACT9C,EAAOlB,KAAK,cAAeyD,EACfN,EAASA,SAAWA,EAASA,SAAWA,GAIpDS,EAAS1C,EAAO2B,SAElBgB,EAAWD,EAAOH,SAGHX,IAAbe,EAEFA,EAAWD,EAAOH,GAAQN,IACxBjC,EAAO6B,kBAeT,GAbwB,mBAAbc,EAETA,EAAWD,EAAOH,GAChBC,EAAU,CAACP,EAAUU,GAAY,CAACA,EAAUV,GAErCO,EACTG,EAASI,QAAQd,GAEjBU,EAAS1E,KAAKgE,IAIhBQ,EAAIN,EAAiBnC,IACb,GAAK2C,EAASjM,OAAS+L,IAAME,EAASK,OAAQ,CACpDL,EAASK,QAAS,EAGlB,IAAIC,EAAI,IAAI7G,MAAM,+CACEuG,EAASjM,OAAS,IAAMwM,OAAOX,GADjC,qEAIlBU,EAAE/D,KAAO,8BACT+D,EAAEnC,QAAUd,EACZiD,EAAEV,KAAOA,EACTU,EAAEE,MAAQR,EAASjM,OA7KGkM,EA8KHK,EA7KnBG,SAAWA,QAAQC,MAAMD,QAAQC,KAAKT,E,CAiL1C,OAAO5C,C,CAcT,SAASsD,IACP,IAAKnP,KAAKoP,MAGR,OAFApP,KAAK6L,OAAOpB,eAAezK,KAAKoO,KAAMpO,KAAKqP,QAC3CrP,KAAKoP,OAAQ,EACY,IAArBxF,UAAUrH,OACLvC,KAAK8N,SAASvF,KAAKvI,KAAK6L,QAC1B7L,KAAK8N,SAAS/D,MAAM/J,KAAK6L,OAAQjC,U,CAI5C,SAAS0F,EAAUzD,EAAQuC,EAAMN,GAC/B,IAAIyB,EAAQ,CAAEH,OAAO,EAAOC,YAAQ5B,EAAW5B,OAAQA,EAAQuC,KAAMA,EAAMN,SAAUA,GACjF0B,EAAUL,EAAYM,KAAKF,GAG/B,OAFAC,EAAQ1B,SAAWA,EACnByB,EAAMF,OAASG,EACRA,C,CA0HT,SAASE,EAAW7D,EAAQuC,EAAMuB,GAChC,IAAIpB,EAAS1C,EAAO2B,QAEpB,QAAeC,IAAXc,EACF,MAAO,GAET,IAAIqB,EAAarB,EAAOH,GACxB,YAAmBX,IAAfmC,EACK,GAEiB,mBAAfA,EACFD,EAAS,CAACC,EAAW9B,UAAY8B,GAAc,CAACA,GAElDD,EAsDT,SAAyBvP,GAEvB,IADA,IAAIyP,EAAM,IAAIlG,MAAMvJ,EAAImC,QACfsH,EAAI,EAAGA,EAAIgG,EAAItN,SAAUsH,EAChCgG,EAAIhG,GAAKzJ,EAAIyJ,GAAGiE,UAAY1N,EAAIyJ,GAElC,OAAOgG,C,CA1DLC,CAAgBF,GAAcG,EAAWH,EAAYA,EAAWrN,O,CAoBpE,SAASyN,EAAc5B,GACrB,IAAIG,EAASvO,KAAKwN,QAElB,QAAeC,IAAXc,EAAsB,CACxB,IAAIqB,EAAarB,EAAOH,GAExB,GAA0B,mBAAfwB,EACT,OAAO,EACF,QAAmBnC,IAAfmC,EACT,OAAOA,EAAWrN,M,CAItB,OAAO,C,CAOT,SAASwN,EAAW3P,EAAK6P,GAEvB,IADA,IAAIhM,EAAO,IAAI0F,MAAMsG,GACZpG,EAAI,EAAGA,EAAIoG,IAAKpG,EACvB5F,EAAK4F,GAAKzJ,EAAIyJ,GAChB,OAAO5F,C,CA4CT,SAASkJ,EAA+BR,EAAS5B,EAAM+C,EAAUT,GAC/D,GAA0B,mBAAfV,EAAQtC,GACbgD,EAAM9C,KACRoC,EAAQpC,KAAKQ,EAAM+C,GAEnBnB,EAAQtC,GAAGU,EAAM+C,OAEd,IAAwC,mBAA7BnB,EAAQuD,iBAYxB,MAAM,IAAInC,UAAU,6EAA+EpB,GATnGA,EAAQuD,iBAAiBnF,GAAM,SAASoF,EAAaC,GAG/C/C,EAAM9C,MACRoC,EAAQ0D,oBAAoBtF,EAAMoF,GAEpCrC,EAASsC,E,GAGgG,C,CAna/GnE,OAAOqE,eAAe9D,EAAc,sBAAuB,CACzD+D,YAAY,EACZC,IAAK,WACH,OAAO5C,C,EAET6C,IAAK,SAASL,GACZ,GAAmB,iBAARA,GAAoBA,EAAM,GAAKhE,EAAYgE,GACpD,MAAM,IAAIM,WAAW,kGAAoGN,EAAM,KAEjIxC,EAAsBwC,C,IAI1B5D,EAAaC,KAAO,gBAEGgB,IAAjBzN,KAAKwN,SACLxN,KAAKwN,UAAYvB,OAAO0E,eAAe3Q,MAAMwN,UAC/CxN,KAAKwN,QAAUvB,OAAOyC,OAAO,MAC7B1O,KAAK0N,aAAe,GAGtB1N,KAAK2N,cAAgB3N,KAAK2N,oBAAiBF,C,EAK7CjB,EAAajM,UAAUqQ,gBAAkB,SAAyBX,GAChE,GAAiB,iBAANA,GAAkBA,EAAI,GAAK7D,EAAY6D,GAChD,MAAM,IAAIS,WAAW,gFAAkFT,EAAI,KAG7G,OADAjQ,KAAK2N,cAAgBsC,EACdjQ,I,EASTwM,EAAajM,UAAUsQ,gBAAkB,WACvC,OAAO7C,EAAiBhO,K,EAG1BwM,EAAajM,UAAUoK,KAAO,SAAcyD,GAE1C,IADA,IAAI1E,EAAO,GACFG,EAAI,EAAGA,EAAID,UAAUrH,OAAQsH,IAAKH,EAAKI,KAAKF,UAAUC,IAC/D,IAAIiH,EAAoB,UAAT1C,EAEXG,EAASvO,KAAKwN,QAClB,QAAeC,IAAXc,EACFuC,EAAWA,QAA4BrD,IAAjBc,EAAOwC,WAC1B,IAAKD,EACR,OAAO,EAGT,GAAIA,EAAS,CACX,IAAIE,EAGJ,GAFItH,EAAKnH,OAAS,IAChByO,EAAKtH,EAAK,IACRsH,aAAc/I,MAGhB,MAAM+I,EAGR,IAAIhE,EAAM,IAAI/E,MAAM,oBAAsB+I,EAAK,KAAOA,EAAGC,QAAU,IAAM,KAEzE,MADAjE,EAAIkE,QAAUF,EACRhE,C,CAGR,IAAII,EAAUmB,EAAOH,GAErB,QAAgBX,IAAZL,EACF,OAAO,EAET,GAAuB,mBAAZA,EACTxB,EAAawB,EAASpN,KAAM0J,OAE5B,KAAIR,EAAMkE,EAAQ7K,OACduI,EAAYiF,EAAW3C,EAASlE,GACpC,IAASW,EAAI,EAAGA,EAAIX,IAAOW,EACzB+B,EAAad,EAAUjB,GAAI7J,KAAM0J,EAHX,CAM1B,OAAO,C,EAiET8C,EAAajM,UAAU+J,YAAc,SAAqB8D,EAAMN,GAC9D,OAAOK,EAAanO,KAAMoO,EAAMN,GAAU,E,EAG5CtB,EAAajM,UAAU8J,GAAKmC,EAAajM,UAAU+J,YAEnDkC,EAAajM,UAAUqK,gBACnB,SAAyBwD,EAAMN,GAC7B,OAAOK,EAAanO,KAAMoO,EAAMN,GAAU,E,EAqBhDtB,EAAajM,UAAUgK,KAAO,SAAc6D,EAAMN,GAGhD,OAFAD,EAAcC,GACd9N,KAAKqK,GAAG+D,EAAMkB,EAAUtP,KAAMoO,EAAMN,IAC7B9N,I,EAGTwM,EAAajM,UAAUsK,oBACnB,SAA6BuD,EAAMN,GAGjC,OAFAD,EAAcC,GACd9N,KAAK4K,gBAAgBwD,EAAMkB,EAAUtP,KAAMoO,EAAMN,IAC1C9N,I,EAIbwM,EAAajM,UAAUkK,eACnB,SAAwB2D,EAAMN,GAC5B,IAAIqD,EAAM5C,EAAQ6C,EAAUvH,EAAGwH,EAK/B,GAHAxD,EAAcC,QAGCL,KADfc,EAASvO,KAAKwN,SAEZ,OAAOxN,KAGT,QAAayN,KADb0D,EAAO5C,EAAOH,IAEZ,OAAOpO,KAET,GAAImR,IAASrD,GAAYqD,EAAKrD,WAAaA,EACb,KAAtB9N,KAAK0N,aACT1N,KAAKwN,QAAUvB,OAAOyC,OAAO,cAEtBH,EAAOH,GACVG,EAAO9D,gBACTzK,KAAK2K,KAAK,iBAAkByD,EAAM+C,EAAKrD,UAAYA,SAElD,GAAoB,mBAATqD,EAAqB,CAGrC,IAFAC,GAAW,EAENvH,EAAIsH,EAAK5O,OAAS,EAAGsH,GAAK,EAAGA,IAChC,GAAIsH,EAAKtH,KAAOiE,GAAYqD,EAAKtH,GAAGiE,WAAaA,EAAU,CACzDuD,EAAmBF,EAAKtH,GAAGiE,SAC3BsD,EAAWvH,EACX,K,CAIJ,GAAIuH,EAAW,EACb,OAAOpR,KAEQ,IAAboR,EACFD,EAAKG,QAiIf,SAAmBH,EAAMI,GACvB,KAAOA,EAAQ,EAAIJ,EAAK5O,OAAQgP,IAC9BJ,EAAKI,GAASJ,EAAKI,EAAQ,GAC7BJ,EAAKK,K,CAlIGC,CAAUN,EAAMC,GAGE,IAAhBD,EAAK5O,SACPgM,EAAOH,GAAQ+C,EAAK,SAEQ1D,IAA1Bc,EAAO9D,gBACTzK,KAAK2K,KAAK,iBAAkByD,EAAMiD,GAAoBvD,E,CAG1D,OAAO9N,I,EAGbwM,EAAajM,UAAUiK,IAAMgC,EAAajM,UAAUkK,eAEpD+B,EAAajM,UAAUmK,mBACnB,SAA4B0D,GAC1B,IAAItD,EAAWyD,EAAQ1E,EAGvB,QAAe4D,KADfc,EAASvO,KAAKwN,SAEZ,OAAOxN,KAGT,QAA8ByN,IAA1Bc,EAAO9D,eAUT,OATyB,IAArBb,UAAUrH,QACZvC,KAAKwN,QAAUvB,OAAOyC,OAAO,MAC7B1O,KAAK0N,aAAe,QACMD,IAAjBc,EAAOH,KACY,KAAtBpO,KAAK0N,aACT1N,KAAKwN,QAAUvB,OAAOyC,OAAO,aAEtBH,EAAOH,IAEXpO,KAIT,GAAyB,IAArB4J,UAAUrH,OAAc,CAC1B,IACImP,EADAC,EAAO1F,OAAO0F,KAAKpD,GAEvB,IAAK1E,EAAI,EAAGA,EAAI8H,EAAKpP,SAAUsH,EAEjB,oBADZ6H,EAAMC,EAAK9H,KAEX7J,KAAK0K,mBAAmBgH,GAK1B,OAHA1R,KAAK0K,mBAAmB,kBACxB1K,KAAKwN,QAAUvB,OAAOyC,OAAO,MAC7B1O,KAAK0N,aAAe,EACb1N,I,CAKT,GAAyB,mBAFzB8K,EAAYyD,EAAOH,IAGjBpO,KAAKyK,eAAe2D,EAAMtD,QACrB,QAAkB2C,IAAd3C,EAET,IAAKjB,EAAIiB,EAAUvI,OAAS,EAAGsH,GAAK,EAAGA,IACrC7J,KAAKyK,eAAe2D,EAAMtD,EAAUjB,IAIxC,OAAO7J,I,EAoBbwM,EAAajM,UAAUuK,UAAY,SAAmBsD,GACpD,OAAOsB,EAAW1P,KAAMoO,GAAM,E,EAGhC5B,EAAajM,UAAUqR,aAAe,SAAsBxD,GAC1D,OAAOsB,EAAW1P,KAAMoO,GAAM,E,EAGhC5B,EAAaqF,cAAgB,SAASlF,EAASyB,GAC7C,MAAqC,mBAA1BzB,EAAQkF,cACVlF,EAAQkF,cAAczD,GAEtB4B,EAAczH,KAAKoE,EAASyB,E,EAIvC5B,EAAajM,UAAUsR,cAAgB7B,EAiBvCxD,EAAajM,UAAUuR,WAAa,WAClC,OAAO9R,KAAK0N,aAAe,EAAIjC,EAAezL,KAAKwN,SAAW,E,ECnahE,MAAMuE,EAA8C,CAClDC,YAAa,OA0BTC,EAAmD,CACvD,UACA,WACA,iBACA,sBACA,2BACA,gCACA,+BACA,qCACA,wBAGY,MAAAC,UAAqCxF,EAAAa,aAC1CyE,YAEPG,YAAYC,EAAgD,IAC1DC,QACA,MAAML,YAAEA,GAAgB,IAAKD,KAAmBK,GAChDpS,KAAKgS,YAAcA,C,CAIrBF,aACE,OAAOG,C,CAGTK,QAAQC,GACN,OAAOvS,KAAKwS,sBAAsBD,E,CAGpCE,YAAYC,GACV,OAAO1S,KAAK2S,uBAAuBD,E,CAGrCC,wBAAuBJ,KAAEA,IACvBvS,KAAKwS,sBAAsBD,E,CAGnBC,sBAAsBD,GAE9B,MAAMK,EAASL,EAAK,GAEdnE,EAAOwE,GAAU,EACvB,GAAIxE,GAAQ,GAAUA,GAAQ,GAAQ,CAEpC,MAAMyE,EAAiB,EAAPzE,EACV0E,EAAmB,GAATF,EAChB5S,KAAK+S,yBAAyBF,EAASC,KAAYP,EAAKrF,MAAM,G,KACzD,CAEL,MAAM8F,EAAmB,GAATJ,EAChB5S,KAAKiT,wBAAwBD,KAAYT,EAAKrF,MAAM,G,CAExB,CAGtBgG,uBAEN,GAEMC,uBAEN,CACF,EAAOnT,KAAKoT,qBAAqB3D,KAAKzP,MACtC,EAAOA,KAAKqT,oBAAoB5D,KAAKzP,MACrC,EAAOA,KAAKsT,4BAA4B7D,KAAKzP,OAGrCuT,WAAWT,GAEnB,MAAMU,EAAa,GAAOV,EAC1B,OAA2C,IAAnC9S,KAAKgS,YAAcwB,EACG,CAGtBT,yBACRF,EACAC,KACGP,GAEH,GAAKvS,KAAKuT,WAAWT,GAErB,GAAoB,IAAhBP,EAAKhQ,OAAc,CACrB,MAAMkR,EAAOzT,KAAKkT,uBAAuBL,GACrCY,GAAMA,EAAKX,EAASP,EAAK,G,MACxB,GAAoB,IAAhBA,EAAKhQ,OAAc,CAC5B,MAAMmR,EAAO1T,KAAKmT,uBAAuBN,GACrCa,GAAMA,EAAKZ,EAASP,EAAK,GAAIA,EAAK,G,EAIhCoB,qBAEN,CACF,GAAQ3T,KAAK4T,mBAAmBnE,KAAKzP,OAGvCiT,wBAAwBJ,KAAoBN,GAC1C,MAAMkB,EAAOzT,KAAK2T,qBAAqBd,GACnCY,GAAMA,KAAQlB,E,CAGpBsB,+BACEf,EACAgB,EACAvH,GAEA,MAAMwH,EAAiB/T,KAAKgU,kBAAkBF,GAC1CC,GAAgBA,EAAejB,EAASvG,E,CAGpCyH,kBAEN,CACF,GAAIhU,KAAKiU,+BAA+BxE,KAAKzP,MAC7C,GAAIA,KAAKkU,oCAAoCzE,KAAKzP,MAClD,IAAKA,KAAKmU,uCAAuC1E,KAAKzP,MACtD,IAAKA,KAAKoU,sCAAsC3E,KAAKzP,MACrD,IAAKA,KAAKqU,4CAA4C5E,KAAKzP,OAG7DoT,qBAAqBN,EAAiBwB,EAAcC,GAClDvU,KAAK2K,KAAK,WAAYmI,EAASwB,EAAMC,E,CAGvClB,oBAAoBP,EAAiBwB,EAAcC,GACjDvU,KAAK2K,KAAK,UAAWmI,EAASwB,EAAMC,E,CAGtCjB,4BACER,EACAgB,EACAvH,GAEAvM,KAAK2K,KAAK,iBAAkBmI,EAASgB,EAAYvH,GACjD,MAAMwH,EAAiB/T,KAAKgU,kBAAkBF,GAC1CC,GAAgBA,EAAejB,EAASvG,E,CAG9C0H,+BAA+BnB,EAAiBvG,GAC9CvM,KAAK2K,KAAK,sBAAuBmI,EAASvG,E,CAG5C2H,oCAAoCpB,EAAiBvG,GACnDvM,KAAK2K,KAAK,2BAA4BmI,EAASvG,E,CAGjD4H,uCAAuCrB,EAAiBvG,GACtDvM,KAAK2K,KAAK,gCAAiCmI,EAASvG,E,CAGtD6H,sCAAsCtB,EAAiBvG,GACrDvM,KAAK2K,KAAK,+BAAgCmI,EAASvG,E,CAGrD8H,4CAA4CvB,EAAiBvG,GAC3DvM,KAAK2K,KAAK,qCAAsCmI,EAASvG,E,CAG3DqH,qBACE5T,KAAK2K,KAAK,uB,EC1LA,MAAA6J,EACOC,KAEAC,UAEnBvC,YACEwC,EACAvC,EAAqC,IAErCpS,KAAK0U,UAAY,IAAIxC,EAAqBE,GAC1CuC,EAAUzE,iBACR,cACAlQ,KAAK4U,sBAAsBnF,KAAKzP,OAElC2U,EAAUzE,iBAAiB,cAAelQ,KAAK0U,WAC/C1U,KAAKyU,KAAOE,EACZ3U,KAAK4U,uB,CAGPC,iCACEC,EACAC,EACA3C,EAAqC,IAErC,MAAM4C,EAAsB,EAACjK,KAAEA,KAC7BA,IAASgK,EACLE,EAAY,IAAIH,EAAWI,OAAOC,UAAUC,OAChDJ,GAEF,OAAIC,EAAU1S,OAAS,EACd,IAAIiS,EAAUS,EAAU,GAAI7C,GAE9B,IAAIxF,SAASC,IAClB,MAAMwI,EAAoB,EAACZ,KAAEA,MAEzBD,EAAUc,YAAYb,IACP,cAAfA,EAAKlF,OACLyF,EAAoBP,KAEpBK,EAAWzE,oBACT,cACAgF,GAEFxI,EAAQ,IAAI2H,EAAUC,EAAMrC,I,EAGhC0C,EAAW5E,iBAAiB,cAAemF,EAAkB,G,CAIzDR,mBACNJ,GAEA,MAAqB,UAAdA,EAAKrG,I,CAGdwG,wBAC0B,cAApB5U,KAAKyU,KAAKlF,OACPvP,KAAKyU,KAAKc,M,CAInBC,eACE,OAAOxV,KAAK0U,S,EC3CF,MAAAe,EACFrD,QAEAsD,OAEAC,MAEAC,QAEAC,aAEVhB,mBAA4B,CAACtI,EAAOuJ,EAAOC,EAAOC,EAAQC,KACtD1J,EAAQuJ,IAAUC,EAAQD,IAAWG,EAASD,GAAUA,EAE5DnB,wBAAiC,CAACtI,EAAOuJ,EAAOC,EAAOC,EAAQC,KAC5DA,EAASD,MAAazJ,EAAQuJ,IAAUC,EAAQD,IAAUE,EAE7DnB,cAA+D,CAC7DqB,OAAQT,EAAaU,YACrBC,YAAaX,EAAaY,kBAG5BxB,gBAAgD,CAC9CyB,eAAgB,GAChBC,YAAad,EAAae,OAAON,OACjCO,UAAW,EACXC,cAAe,EACfC,WAAYlB,EAAae,OAAON,OAChCU,gBAAiBC,IACjBC,aAAc,GACdC,gBAAiB,GACjBC,aAAcvB,EAAae,OAAON,QAGpC/D,YAAYC,GACVpS,KAAKoS,QAAU,IAAKqD,EAAawB,YAAc7E,UAAW,IAC1D,MAAMkE,eACJA,EAAcC,YACdA,EAAWE,UACXA,EAASC,cACTA,EAAaC,WACbA,EAAUC,gBACVA,EAAeE,aACfA,EAAYC,gBACZA,EAAeC,aACfA,GACEhX,KAAKoS,QACTpS,KAAK0V,OAAS,CACZwB,SAAUZ,EACVa,YAAaV,EACbW,MAAOb,GAETvW,KAAK2V,MAAQ,CACXuB,SAAUR,EACVS,YAAaL,EACbM,MAAOT,GAET3W,KAAK4V,QAAU,CACbsB,SAAUH,EACVI,YAAa,EACbC,MAAOJ,GAEThX,KAAK6V,aAAeS,EAAiBI,EAAgBE,C,CAG7CS,YAAYC,GACpB,GAAIA,GAAe,EAEjB,OAAO,EAIT,IAAIC,EAAgBD,EAChBE,EAAc,EAUlB,MATA,CAACxX,KAAK0V,OAAQ1V,KAAK2V,OAAO8B,SAAQ,EAACP,SAAEA,EAAQC,YAAEA,EAAWC,MAAEA,MACtDG,GAAiBL,EAEnBE,EAAMG,EAAe,EAAGL,EAAUM,EAAaL,IAGjDI,GAAiBL,EACjBM,EAAcL,EAAW,IAEpBnX,KAAKoS,QAAQ0E,Y,CAGZY,UACRC,EACAC,GAEA,MAAMV,SAAEA,EAAQC,YAAEA,EAAWC,MAAEA,GAAUpX,KAAK4V,QAC9C,OAAI+B,EAA0BT,EACrBE,EACLO,EACA,EACAT,EACAU,EACAT,GAGGA,C,CAGCU,gBAAgBC,EAAcjB,KACtC,OAAOjU,KAAKO,IAAI2U,EAAa9X,KAAK6V,a,CAGpCkC,QAAQT,EAAqBQ,EAAcjB,KACzC,GAAIS,GAAe,EAEjB,OAAO,EAGT,MAAMU,EAAiBhY,KAAK6X,gBAAgBC,GAE5C,GAAIR,EAAcU,EAEhB,OAAOhY,KAAKqX,YAAYC,GAG1B,MAAMW,EAAuBX,EAAcU,EACrCJ,EAAqB5X,KAAKqX,YAAYW,GAC5C,OAAOhY,KAAK0X,UAAUO,EAAsBL,E,CAG9CM,OAAOZ,EAAqBQ,EAAcjB,KACxC,MACMoB,EAAuBX,EADNtX,KAAK6X,gBAAgBC,IAEtCZ,SAAEA,GAAalX,KAAK4V,QAC1B,OAAOqC,EAAuBf,C,EC3JlC,IAAAiB,EAAA9M,EAAA,SCEc,MAAA+M,EACHC,SAEAC,aAEAC,SAECC,UAEAV,YAEAW,UAEAC,aAEAC,cAEVxG,YAAYkG,EAAkBC,EAAsBC,GAClDvY,KAAKqY,SAAWA,EAChBrY,KAAKsY,aAAeA,EACpBtY,KAAKuY,SAAWA,EAChBvY,KAAKwY,UAAYI,YAAYC,MAAQ,IACrC7Y,KAAK8X,YAAcjB,IACnB7W,KAAKyY,WAAY,EACjBzY,KAAK0Y,cAAe,EACpB1Y,KAAK2Y,eAAgB,C,CAGvBrB,cACE,OAAOsB,YAAYC,MAAQ,IAAS7Y,KAAKwY,S,CAG3CM,QAAQC,GAEHA,IACD/Y,KAAK0Y,eACL1Y,KAAK2Y,eACJ3Y,KAAKgZ,UACLhZ,KAAKiZ,SAENjZ,KAAKkZ,WAEPlZ,KAAKyY,UAAYM,C,CAGnBI,cACE,OAAOnZ,KAAK0Y,Y,CAGdU,KAAKL,GAEAA,IACD/Y,KAAKyY,YACLzY,KAAK2Y,eACJ3Y,KAAKmZ,eACLnZ,KAAKiZ,SAENjZ,KAAKkZ,WAEPlZ,KAAKyY,UAAYM,C,CAGnBC,SACE,OAAOhZ,KAAKyY,S,CAGdQ,QACE,OAAOjZ,KAAK8X,cAAgBjB,G,CAG9BrM,MACExK,KAAK2Y,eAAgB,EAChB3Y,KAAKmZ,eAAkBnZ,KAAKgZ,UAAahZ,KAAKiZ,SACjDjZ,KAAKkZ,U,CAITA,WACElZ,KAAK8X,YAAc9X,KAAKsX,a,CAG1B+B,YACE,OACErZ,KAAMsY,aAAe,IAAStY,KAAKuY,SAASR,QAAQ/X,KAAKsX,c,CAI7DY,SACE,OAAOlY,KAAKuY,SAASL,OAAOlY,KAAKsX,cAAetX,KAAK8X,Y,mBClFzD,MAAMwB,EAJNjO,EAAA,SAYYkO,M,iBFRE,MAAAC,EACZ3E,0BAA4B,GAEnBP,KAECmF,YAEAC,MAEAC,WAEVxH,YACEkG,EACAC,EACAC,EACAmB,GAEA1Z,KAAKsU,KAAO,IAAI8D,EAAKC,EAAUC,EAAcC,GAC7CvY,KAAKyZ,YACF,KAADb,YAAaC,MAAoBjW,KAAKkE,GACtC0S,EAAmBI,mBAErB5Z,KAAK0Z,OAAQ,EAAAG,EAAAC,YAAWJ,GAAS,IAAMA,EAAQA,EAE/C1Z,KAAK2Z,WAAa3Z,KAAK+Z,wBACvB/Z,KAAKga,Q,CAGPC,4BACE,MAAMC,EAAIla,KAAKsU,KAAKgD,cAOpB,OAAO,IAAO,EANS1U,KAAKO,IAC1BgX,EAAAC,QAAOC,qBAAuBra,KAAKsU,KAAKgE,aACtC6B,EAAAC,QAAOE,qBACT,KAE6B,IACFJ,IAAM,EAAM,C,CAG3CH,wBACE,MAAMQ,EAASJ,EAAAC,QAAOI,OAChBC,EAAmD,GAArC7X,KAAKF,IAAI,GAAKyX,EAAAC,QAAOM,cACnCC,EAAS,IAAIC,EAAAzC,GAAJ,CAAW,GAAK,IAEzBhN,EAAM,IAAIyP,EAAAzC,GAAJ,CAAW,EAAG,GAAGlT,OAC3BjF,KAAKyZ,YAAc,EAAK7W,KAAKkE,GAAK9G,KAAKsU,KAAK+D,SAAY,IAEpDwC,EAAQF,EACX7W,QACAnD,IAAIwK,EAAIrH,QAAQ3B,eAAeoY,EAASE,IACrCK,EAAMH,EAENT,EAAIla,KAAKia,4BAEf,OADUY,EAAM/W,QAAQD,IAAIiX,EAAKZ,E,CAInCF,SACE,MAAMe,EAAS/a,KAAKsU,KAAK+E,YAMnB1W,GALeC,KAAKO,IACxBgX,EAAAC,QAAOC,qBAAuBU,EAC5BZ,EAAAC,QAAOE,qBAAuB,IAChC,GAEa,IAAWS,GACpBC,EAAIhb,KAAK+Z,wBACTkB,EAAID,EACPlX,QACA5C,SAASlB,KAAK2Z,YACdzX,SAAS,IAAI0Y,EAAAzC,GAAJ,CAAWxV,EAAQA,IAEzB+W,EAAQ1Z,KAAK0Z,MAAM1Z,KAAKsU,KAAKgD,eAC7BiD,EAASJ,EAAAC,QAAOM,cAAgB,GAAO,EAAMK,IAAW,GAC1DR,EAAS,GAAKjB,EAAM0B,EAAElb,EAAGkb,EAAEjb,EAAGkb,EAAEnb,EAAGmb,EAAElb,EAAG2Z,EAHxB,GAG4Ca,GAChEva,KAAK2Z,WAAaqB,C,gCG5EtB,MAAME,EAAe,IAAIzF,EAAa,CACpCa,eAAgB,IAChBI,cAAe,EACfE,gBAAiB,EACjBE,aAAc,GACdC,gBAAiB,GACjBR,YAAad,EAAae,OAAON,OACjCS,WAAYlB,EAAae,OAAOJ,YAChCY,aAAcvB,EAAae,OAAOJ,cAG9B+E,EACJxR,MAAoB,IAAIyR,KAAKF,GAEzBG,EAAiD,IAAI1R,MAAM,IAC9DyR,KAAK,MACLE,KAAI,IAAM,KACPC,EAAyB,IAAI5R,MAAe,IAAIyR,MAAK,GAE3D,SAASI,EAAQC,EAAqBC,GACpC,MAAMtC,EAAOsC,GAAuB,GACpCH,EAAYE,GAAerC,EAC3BiC,EAAuBI,GAAahE,SAASkE,GAAOA,EAAGrH,KAAK8E,KAAKA,I,CAGnE,SAASwC,EAAaH,EAAqBC,GACzC,MAAMG,EAAYH,GAAuB,GACzCL,EAAuBI,GAAahE,SAASkE,GAC3CA,EAAGrH,KAAKwE,QAAQ+C,I,CAIpB,SAASC,EAAaL,GACpBJ,EAAuBI,GAAahE,SAASkE,GAAOA,EAAGrH,KAAK4E,Y,CAG9D,SAAS6C,EAAYN,GACnBJ,EAAuBI,GAAahE,SAASkE,GAAOA,EAAGrH,KAAK9J,O,CAG9D,SAASwR,EAAkBP,GACzBF,EAAYE,IAAe,EAC3BJ,EAAuBI,GAAahE,SAASkE,GAAOA,EAAGrH,KAAK8E,MAAK,KACjEiC,EAAuBI,GAAahE,SAASkE,GAAOA,EAAGrH,KAAKwE,SAAQ,I,CAGtE,SAASmD,EACPR,EACApD,EACA6D,GAAQ,GAER,MACMC,EAAgCD,EACjC5H,GAASA,EAAK4E,WACd5E,GAASA,EAAK9J,MAHI6Q,EAAuBI,GAK3CH,KAAI,EAAChH,KAAEA,KAAWA,IAClBc,QAAQd,GAASA,EAAK+D,WAAaA,IACnCZ,QAAQ0E,E,CAqCb,SAASC,EAAQtJ,EAAiBwB,GAChC2H,EAAsBnJ,EAASwB,E,CAGjC,SAAS+H,EAAOvJ,EAAiBwB,EAAcC,IAtC/C,SACEkH,EACApD,EACAC,GAEA2D,EAAsBR,EAAapD,GAAU,GAE7C,MAAMiE,EAAiBjB,EAAuBI,GACxCc,EAAOpB,EAAiBM,GAExB/B,GAAQ,EAAAG,EAAA2C,qBAAoB,IAC5BC,EAAa,IAAIjD,EACrBnB,EACAC,EACAiE,EACA7C,GAEF+C,EAAWnI,KAAK8E,KAAKmC,EAAYE,IAEjCa,EAAexS,KAAK2S,E,CAoBpBC,CAAkB5J,EAASwB,EAAMC,E,CAGnC,SAASoI,IACP,IAAK,IAAI7J,EAAU,EAAGA,EAAU,GAAIA,GAAW,EAC7CkJ,EAAkBlJ,GAClBgJ,EAAahJ,E,CAIM,IAAI,EAAA8J,EAAAxC,UA3B3B,WACEiB,EAAuB5D,SAAS6E,IAC9B,IAAK,IAAIzS,EAAIyS,EAAe/Z,OAAS,EAAGsH,GAAK,EAAGA,GAAK,EAAG,CACtD,MAAM4S,EAAaH,EAAezS,GAClC4S,EAAWzC,SACPyC,EAAWnI,KAAK4D,UAClBoE,EAAeO,OAAOhT,EAAG,E,QAsBlBiT,SAASlE,YAAYC,O,SClHhCkE,EAUK,WAEP,IAEIlT,EAAGmT,EAAGC,EAAG3O,EAAG2B,EAFZiN,EAA2B,oBAAXC,OAAyBC,EAASD,OAClDE,EAAW,QAIXC,EAAQC,KAAK1E,KAAO,WAAc,OAAO,IAAI0E,MAAOC,S,EACpDC,EAAaH,IAEbI,EAA6B,oBAAf9E,aAA8BA,YAAYC,IAC1D,WAAa,OAAOD,YAAYC,K,EAAW,WAAa,OAAOyE,IAAUG,C,EACvEE,EAAY,SAASC,GACvBvV,WAAWuV,EAAG,E,EAEhB,SAASC,IAAO,CAChB,SAASC,EAAMF,GAAK,MAAmB,mBAALA,C,CAGlC,SAASG,IACP/d,KAAKge,MAAQhe,KACbA,KAAKie,QAAS,EACdje,KAAKke,OAAS,GACdle,KAAKme,KAAO,E,CAkCd,SAASC,EAAMC,EAAMC,GACfte,KAAKue,KACHT,EAAMQ,IAAMA,EAAIvU,MAAM/J,KAAM,CAAC,IAAIiI,MAAMjI,KAAKwe,UAG5CV,EAAMO,IAAOA,EAAKtU,MAAM/J,KAAM,CAACA,M,CAGvC,SAASye,EAAMne,EAAKoe,GACd1e,KAAKue,KAAMje,EAAIqe,OAAO3e,KAAKwe,QAC1BnW,YAAW,WAAa/H,EAAIse,S,GAAcF,E,CAQjD,SAASG,EAAMve,GAAWN,KAAKue,MAAMje,EAAIwe,OAAO9e,KAAKwe,QAASle,EAAIse,S,CAClE,SAASG,EAASC,EAAM1e,EAAKyK,GAC3BiU,EAAKjU,GAAQ,WACX,IAAIqF,EAAMxG,UACNiG,EAAMvP,EAAI2e,SAEd,OADAjf,KAAKkf,MAAML,EAAO,CAAChP,IACZA,EAAI9E,GAAMhB,MAAM8F,EAAKO,E,EAGhC,SAAS+O,EAAKC,GACPpf,KAAKue,OACJT,EAAMsB,GAAIA,EAAErV,MAAM/J,MAAYiP,QAAQoQ,IAAID,G,CAIlD,SAASE,EAAIF,GACPpf,KAAKue,OACHT,EAAMsB,GAAIA,EAAErV,MAAM/J,MAAYiP,QAAQoQ,IAAID,G,CAclD,SAASG,EAAOjf,GACVN,KAAKue,KAAMje,EAAIqe,OAAO3e,KAAKwe,SAE7Bxe,KAAK8e,OAAO,UACZxe,EAAIse,U,CAUR,SAASY,EAAQpf,GACf,GAAKA,EAAImC,OAAT,CAIA,IAAIkR,EAAOrT,EAAIkR,QACf,GAAIlR,EAAImC,OAAQ,CACd,IAAIyc,EAAOhf,KACXA,KAAKyf,MAAMH,EAAK,CAAE,WAAaE,EAAQzV,MAAMiV,EAAM,CAAC5e,G,IAEtD,IACEJ,KAAK0f,UACLjM,EAAK1J,MAAM/J,K,CAEb,MAAOgN,GACLhN,KAAK8e,OAAO9R,EAAItG,W,OAbhB1G,KAAK8e,Q,CAiBT,SAASI,EAAM9e,EAAKE,GAClB,IAAK,IAAIuJ,EAAI,EAAGA,EAAIzJ,EAAImC,OAAQsH,IAAK,GAAIzJ,EAAIyJ,KAAOvJ,EAAK,OACzDF,EAAI0J,KAAKxJ,E,CAEX,SAASqf,EAAKvf,EAAKE,GACjB,IAAK,IAAIuJ,EAAI,EAAGA,EAAIzJ,EAAImC,OAAQsH,IAAK,GAAIzJ,EAAIyJ,KAAOvJ,EAElD,YADAF,EAAIyc,OAAOhT,EAAG,E,CAMlB,SAAS+V,IACP7B,EAAGhU,MAAM/J,K,CAIX,SAAS6f,EAAK/f,EAAG8d,GACf,IAAI,IAAIX,KAAKnd,EAAOA,EAAEggB,eAAe7C,IAAIW,EAAErV,KAAKvI,KAAMid,E,CAExD,SAAS8C,EAAOzf,EAAKoR,EAAKsO,GACxB,QAAkB,IAAPtO,EAAoB,OAAOqO,EAAOzf,EAAK,GAAI,IACtD,GAAIA,aAAe2L,OAAQ,CACzB,IAAK,IAAIpC,EAAI,EAAGA,EAAI6H,EAAInP,OAAQsH,IAAK,GAAI6H,EAAI7H,KAAOvJ,EAAK,OAAO0f,EAAInW,GACpE,IAAIgG,EAIJ,OAH0BA,EAAtBvP,aAAeqJ,MAAa,GAAe,GAC/C+H,EAAI5H,KAAKxJ,GAAM0f,EAAIlW,KAAK+F,GACxBgQ,EAAKvf,GAAK,SAAS2c,GAAKpN,EAAIoN,GAAK8C,EAAOzf,EAAI2c,GAAIvL,EAAKsO,E,IAC9CnQ,C,CAET,OAAOvP,C,CAhJTyd,EAAGxd,UAAU0f,MAAQ,WACnB,KAAOjgB,KAAKie,QAAUje,KAAKke,OAAO3b,QAAQ,CACxC,IAAIzC,EAAIE,KAAKke,OAAO5M,QACpBxR,EAAE,GAAGiK,MAAM/J,KAAMF,EAAE,G,GAGvBie,EAAGxd,UAAU2e,MAAQ,SAASzL,EAAMrD,GAAOpQ,KAAKke,OAAOpU,KAAK,CAAC2J,EAAMrD,IAAO2N,EAAGxd,UAAU0f,MAAMlW,MAAM/J,K,EACnG+d,EAAGxd,UAAUkf,MAAQ,SAAShM,EAAMrD,GAAOpQ,KAAKke,OAAOtP,QAAQ,CAAC6E,EAAMrD,G,EACtE2N,EAAGxd,UAAU2f,OAAS,WAAalgB,KAAKie,QAAS,C,EACjDF,EAAGxd,UAAUqe,QAAU,WAAa5e,KAAKie,QAAS,EAAMF,EAAGxd,UAAU0f,MAAMlW,MAAM/J,K,EACjF+d,EAAGxd,UAAUue,OAAS,SAAS9R,GAAOhN,KAAKge,MAAMO,MAAO,EAAMve,KAAKge,MAAMG,KAAKrU,KAAKkD,GAAO,oB,EAC1F+Q,EAAGxd,UAAUmf,QAAU,WAAa1f,KAAKge,MAAMO,MAAO,C,EACtDR,EAAGxd,UAAUoe,OAAS,SAAS3R,GAAOhN,KAAK8e,OAAO9R,GAAMhN,KAAK4e,S,EAC7Db,EAAGxd,UAAUie,KAAO,WAAa,OAAOxe,KAAKme,KAAKne,KAAKme,KAAK5b,OAAS,E,EACrEwb,EAAGxd,UAAU8e,IAAM,WAAa,OAAOU,EAAO/f,KAAKme,K,EACnDJ,EAAGxd,UAAU4f,KAAO,WAClB,IAAIC,EAAI,WAAW,EACnBA,EAAE7f,UAAYP,KAAKge,MACnB,IAAInO,EAAM,IAAIuQ,EAGd,OAFAvQ,EAAIoO,QAAS,EACbpO,EAAIqO,OAAS,GACNrO,C,EAETkO,EAAGxd,UAAU0e,OAAS,WAAa,OAAOjf,KAAKmgB,M,EAC/CpC,EAAGxd,UAAU8f,UAAY,WACvB,GAAIrgB,KAAKsgB,KAAM,OAAOtgB,KACtB,IAAIgf,EAAOhf,KACPogB,EAAI,WAAW,EAAIA,EAAE7f,UAAYye,EACrC,IAAInP,EAAM,IAAIuQ,EAEd,OADAvQ,EAAIyQ,KAAO,SAASjC,EAAMC,GAAuC,OAAhCU,EAAKE,MAAMd,EAAO,CAACC,EAAMC,IAActe,I,EACjE6P,C,EAcTkO,EAAGxd,UAAUggB,KAAO,SAAS7B,GAC3B,IAAKA,EAAO,OAAO1e,KACnB,IAAI6P,EAAM7P,KAAKif,SAEf,OADAjf,KAAKkf,MAAMT,EAAO,CAAC5O,EAAK6O,IACjB7O,EAAIwQ,W,EAgBbtC,EAAGxd,UAAUigB,IAAM,SAAS/M,GAAkC,OAA1BzT,KAAKkf,MAAMC,EAAM,CAAC1L,IAAezT,KAAKqgB,W,EAM1EtC,EAAGxd,UAAUkgB,GAAK,SAAShN,GAAiC,OAAzBzT,KAAKkf,MAAMI,EAAK,CAAC7L,IAAezT,KAAKqgB,W,EAExEtC,EAAGxd,UAAUmgB,MAAQ,GACrB3C,EAAGxd,UAAUogB,KAAO,WAClB,IAAIA,EAAOZ,EAAO/f,KAAKge,MAAM0C,OAG7B,YAF0B,IAAfC,EAAKC,SAAuBD,EAAKC,OAAS,aAC5B,IAAdD,EAAKE,QAAsBF,EAAKE,OAAQ,GAC5CF,C,EAET5C,EAAGxd,UAAUwK,KAAO,WAAa,OAAO/K,KAAK2gB,OAAO5V,I,EASpDgT,EAAGxd,UAAUugB,MAAQ,WACnB,IAAIjR,EAAM,IAAIkO,EAGd,OAFI/d,KAAKuf,QAAQvf,KAAKkf,MAAMlf,KAAKuf,OAAQ,IACzCvf,KAAKkf,MAAMK,EAAQ,CAAC1P,IACbA,EAAIwQ,W,EAqCbT,EAAGrf,UAAY,IAAIwd,EAiBnB6B,EAAGrf,UAAUmgB,MAAQ,CAAE3V,KAAM,SAAUgW,IAAK1D,EAAUjT,QAASiT,EAAUnI,OAAQ,GAAI8L,QAAS,IAE9F,IA6XIC,EA7XAC,EAAQ,GACRC,EAAO,GACPC,EAAS,GACTC,EAAQ,GAEZ,SAASC,IAUP,IAAIzX,EAAG/J,EACP,IAVAmhB,EAAKP,MAAME,OAASW,GAAQC,MAC5BP,EAAKP,MAAMtW,QAAUmX,GAAQlE,SAC7B4D,EAAKP,MAAMG,MAAQU,GAAQE,OAC3BR,EAAKP,MAAMxL,OAAS,GACpB+L,EAAKP,MAAMM,QAAU,GACrBE,EAAQ,GACRC,EAAO,GACPI,GAAQG,SAAW,GACnBH,GAAQI,QAAU,GAEb9X,EAAI,EAAGA,EAAI0X,GAAQL,MAAM3e,OAAQsH,KACpC/J,EAAIyhB,GAAQL,MAAMrX,IAChB+W,OAASW,GACXA,GAAQG,SAAS5hB,EAAEiL,MAAQjL,EAC3BmhB,EAAKP,MAAMM,QAAQlX,KAAK,CACtB8X,GAAI9hB,EAAEiL,KACNA,KAAMjL,EAAEiL,KACR8W,aAAc/hB,EAAE+hB,aAChBzX,QAAStK,EAAEsK,QACXwW,OAAQW,GAAQC,QAElBN,EAAMpX,KAAKhK,GAEb,IAAK+J,EAAI,EAAGA,EAAIiY,GAASZ,MAAM3e,OAAQsH,IACrC/J,EAAIgiB,GAASZ,MAAMrX,GACnBoX,EAAKP,MAAMM,QAAQlX,KAAK,CACtB8X,GAAI9hB,EAAEiL,KACNA,KAAMjL,EAAEiL,KACR8W,aAAc/hB,EAAE+hB,aAChBzX,QAAStK,EAAEsK,QACXwW,OAAQ9gB,EAAEsO,OAEZ8S,EAAMpX,KAAKhK,GAEb,IAAK+J,EAAI,EAAGA,EAAI0X,GAAQJ,KAAK5e,OAAQsH,KACnC/J,EAAIyhB,GAAQJ,KAAKtX,IACf+W,OAASW,GACXA,GAAQI,QAAQ7hB,EAAEiL,MAAQjL,EAC1BmhB,EAAKP,MAAMxL,OAAOpL,KAAK,CACrB8X,GAAI9hB,EAAEiL,KACNA,KAAMjL,EAAEiL,KACR8W,aAAc/hB,EAAE+hB,aAChBzX,QAAStK,EAAEsK,QACXwW,OAAQW,GAAQC,QAElBL,EAAKrX,KAAKhK,GAEZ,IAAK+J,EAAI,EAAGA,EAAIiY,GAASX,KAAK5e,OAAQsH,IACpC/J,EAAIgiB,GAASX,KAAKtX,GAClBoX,EAAKP,MAAMxL,OAAOpL,KAAK,CACrB8X,GAAI9hB,EAAEiL,KACNA,KAAMjL,EAAEiL,KACR8W,aAAc/hB,EAAE+hB,aAChBzX,QAAStK,EAAEsK,QACXwW,OAAQ9gB,EAAEsO,OAEZ+S,EAAKrX,KAAKhK,GAEZ,GAAImhB,EAAKc,UAAYd,EAAKc,SAASC,SAASzf,OAAQ,CAClD,IAAI0f,EAAOC,EAAMb,EAAOD,EAAQH,EAAKP,MAAMxL,OAAQ+L,EAAKP,MAAMM,SAC7D,GAAIiB,EAAM,CACT,IAAKjF,EAAI,EAAGA,EAAIiF,EAAK/M,OAAOiN,QAAQ5f,OAAQya,KAC1Cld,EAAIyhB,GAAQa,OAAOH,EAAK/M,OAAOiN,QAAQnF,GAAGjS,QACnCjL,EAAEuiB,YAEX,IAAKrF,EAAI,EAAGA,EAAIiF,EAAKjB,QAAQmB,QAAQ5f,OAAQya,KAC3Cld,EAAIyhB,GAAQe,QAAQL,EAAKjB,QAAQmB,QAAQnF,GAAGjS,QACrCjL,EAAEuiB,YAEXE,GAAON,E,EAGXZ,EAAQJ,EAAKP,MAAMxL,OACnBkM,EAASH,EAAKP,MAAMM,O,CAEtB,SAASwB,IACFxiB,KAAKue,MAAMgD,GAAQiB,SAASxiB,K,CAOnC,SAASyiB,EAAYrD,EAAGhf,GACtB,IAAIyJ,EAAGoG,EACH6N,EAAMsB,KAAIA,EAAIA,EAAEhf,IACdgf,aAAazV,QAAQyV,EAAI,CAACA,IAChC,IAAIsD,EAAS,GACTC,EAAQ,GACRC,EAAMxiB,EAAI8M,QACV2V,EAAIH,EACR,IAAK7Y,EAAI,EAAGA,EAAIuV,EAAE7c,OAAQsH,IACxB,QAAmB,IAARuV,EAAEvV,GAAmBgZ,EAAIF,OAC/B,GAAIvD,EAAEvV,aAAciZ,OAAQ,IAAK7S,EAAI,EAAGA,EAAI2S,EAAIrgB,OAAQ0N,IACvDmP,EAAEvV,GAAGkZ,KAAKH,EAAI3S,GAAGlF,QACnB8X,EAAE/Y,KAAK8Y,EAAI3S,IACX2S,EAAI/F,OAAO5M,EAAG,GACdA,UAIF,IAAKA,EAAI,EAAGA,EAAI2S,EAAIrgB,OAAQ0N,KAASmP,EAAEvV,GAAK,IAAOoG,EAAI,IAAMmP,EAAEvV,KAAO+Y,EAAI3S,GAAGlF,MAASqU,EAAEvV,aAAcoC,QAAUmT,EAAEvV,GAAGkB,OAAS6X,EAAI3S,GAAGlF,QACnI8X,EAAE/Y,KAAK8Y,EAAI3S,IACX2S,EAAI/F,OAAO5M,EAAG,GACdA,KAIN,OAAO4S,GAAKH,EAASA,EAASA,EAAO3Z,OAAO6Z,GAAK7Z,OAAO4Z,E,CAG1D,SAASK,EAAUvO,EAAM2K,GACvB,IAAI6D,EACqBA,EAArB7D,aAAa0D,OAAc,iBAAmB1D,EAAI,aAC7CA,aAAanT,aAAsB,IAALmT,EAAwB,iBACpD,SAAWA,EAAI,cAC1B3K,EAAKkK,OAAOsE,E,CAEd,SAASC,EAAazO,EAAMrE,GAC1B,GAAIpQ,KAAKue,KAAM9J,EAAKkK,OAAO3e,KAAKwe,YAC3B,CACH,IAAIpe,EAAMqiB,EAAYrS,EAAK8Q,GAC3B,IAAK9gB,EAAImC,OAAgC,YAAtBygB,EAAUvO,EAAMrE,GAEnC,IADA,IAAI+S,EAAO,SAASrjB,GAAK,OAAO,WAAaA,EAAE8gB,OAAOwC,SAASpjB,KAAMF,EAAEiL,K,GAC9DlB,EAAI,EAAGA,EAAIzJ,EAAImC,OAAQsH,IAAKzJ,EAAIyJ,GAAKsZ,EAAK/iB,EAAIyJ,IACvD4K,EAAKgL,MAAMD,EAAS,CAACpf,IACrBqU,EAAKmK,S,EAeT,SAASyE,EAAY5O,EAAMrE,GACzB,GAAIpQ,KAAKue,KAAM9J,EAAKkK,OAAO3e,KAAKwe,YAC3B,CACH,IAAIpe,EAAMqiB,EAAYrS,EAAK+Q,GAC3B,IAAK/gB,EAAImC,OAAgC,YAAtBygB,EAAUvO,EAAMrE,GAEnC,IADA,IAAI+S,EAAO,SAASrjB,GAAK,OAAO,WAAaA,EAAE8gB,OAAO0C,QAAQtjB,KAAMF,EAAEiL,K,GAC7DlB,EAAI,EAAGA,EAAIzJ,EAAImC,OAAQsH,IAAKzJ,EAAIyJ,GAAKsZ,EAAK/iB,EAAIyJ,IACvD4K,EAAKgL,MAAMD,EAAS,CAACpf,IACrBqU,EAAKmK,S,EAeT,SAAS2E,EAAUC,EAASpT,GACtBpQ,KAAKue,KAAMiF,EAAQ7E,UAErB6E,EAAQ/D,MAAMgE,EAAW,CAACrT,IAC1BoT,EAAQ5E,U,CAeZ,SAAS8E,IACP3F,EAAGhU,MAAM/J,MACTA,KAAKgiB,SAAW,GAChBhiB,KAAKkhB,MAAQ,E,CAsBf,SAASyC,EAASV,GAAYjjB,KAAKue,MAAMve,KAAK2jB,SAASV,E,CAuBvD,SAASW,EAAMX,GAAOjjB,KAAK4jB,MAAMX,E,CAKjC,SAASY,EAASzT,GACZ0N,EAAM1N,GAAM8O,EAAMlf,KAAKge,MAAMgE,SAAU5R,GACtC8O,EAAMlf,KAAKge,MAAMkD,MAAO9Q,E,CAE/B,SAAS0T,EAAY1T,QACD,IAAPA,GACTpQ,KAAKge,MAAMgE,SAAW,GACtBhiB,KAAKge,MAAMkD,MAAQ,IAEZpD,EAAM1N,GAAMuP,EAAK3f,KAAKge,MAAMgE,SAAU5R,GAC1CuP,EAAK3f,KAAKge,MAAMkD,MAAO9Q,E,CA8C9B,SAAS2T,EAAKzV,EAAG2B,GACVjQ,KAAKge,MAAM+F,OAAM/jB,KAAKge,MAAM+F,KAAO,IAAIC,IAC5ChkB,KAAKge,MAAM+F,KAAKE,MAAM3V,EAAG2B,E,CAc3B,SAASiU,EAAiBC,GACxB,GAAIA,GAAKC,SAASD,IAAMA,EAAI,GAAKA,EAAI,GACnC,MAAMzT,WAAW,gEAAkEyT,E,CAIvF,SAASE,IACPtG,EAAGhU,MAAM/J,MACTA,KAAKgiB,SAAW,GAChBjD,EAAS/e,KAAMihB,EAAM,WACrBlC,EAAS/e,KAAMihB,EAAM,eACrBlC,EAAS/e,KAAMihB,EAAM,cACrBlC,EAAS/e,KAAMihB,EAAM,YACrBlC,EAAS/e,KAAMihB,EAAM,Q,CAGvB,SAASwC,EAAUrT,GACb0N,EAAM1N,KACHpQ,KAAKge,MAAMgE,SAASzf,QAAQgf,GAAQ+C,SACzCpF,EAAMlf,KAAKge,MAAMgE,SAAU5R,G,CAG/B,SAASmU,EAAanU,QACF,IAAPA,EAAoBpQ,KAAKge,MAAMgE,SAAW,GAChDrC,EAAK3f,KAAKge,MAAMgE,SAAU5R,GAC1BpQ,KAAKge,MAAMgE,SAASzf,QAAQgf,GAAQiD,U,CAU3C,SAASC,EAASC,EAAIC,EAAIC,EAAIC,GAC5B,IAAIhb,EACJ,GAAI6a,EAAGniB,QAAUqiB,EAAGriB,QAAUoiB,EAAGpiB,QAAUsiB,EAAGtiB,OAAQ,OAAO,EAC7D,IAAKsH,EAAI,EAAGA,EAAI6a,EAAGniB,OAAQsH,IAAK,GAAI6a,EAAG7a,GAAGkB,MAAQ6Z,EAAG/a,GAAGkB,KAAM,OAAO,EACrE,IAAKlB,EAAI,EAAGA,EAAI8a,EAAGpiB,OAAQsH,IAAK,GAAI8a,EAAG9a,GAAGkB,MAAQ8Z,EAAGhb,GAAGkB,KAAM,OAAO,EACrE,OAAO,C,CAET,SAASmX,EAAMwC,EAAIC,EAAIC,EAAIC,GACzB,GAAKJ,EAASC,EAAIC,EAAIC,EAAIC,GAA1B,CACA,IAIIhb,EAJAib,EAAK,GACLC,EAAK,GACLC,EAAK,GACLC,EAAK,GAELC,EAAI,GACR,IAAKrb,EAAI,EAAGA,EAAI6a,EAAGniB,OAAQsH,IAAKqb,EAAER,EAAG7a,GAAGkB,OAAQ,EAChD,IAAKlB,EAAI,EAAGA,EAAI+a,EAAGriB,OAAQsH,IAAUqb,EAAEN,EAAG/a,GAAGkB,OAAO+Z,EAAGhb,KAAK8a,EAAG/a,IAE/D,IADAqb,EAAI,GACCrb,EAAI,EAAGA,EAAI+a,EAAGriB,OAAQsH,IAAKqb,EAAEN,EAAG/a,GAAGkB,OAAQ,EAChD,IAAKlB,EAAI,EAAGA,EAAI6a,EAAGniB,OAAQsH,IAAUqb,EAAER,EAAG7a,GAAGkB,OAAOia,EAAGlb,KAAK4a,EAAG7a,IAE/D,IADAqb,EAAI,GACCrb,EAAI,EAAGA,EAAI8a,EAAGpiB,OAAQsH,IAAKqb,EAAEP,EAAG9a,GAAGkB,OAAQ,EAChD,IAAKlB,EAAI,EAAGA,EAAIgb,EAAGtiB,OAAQsH,IAAUqb,EAAEL,EAAGhb,GAAGkB,OAAOga,EAAGjb,KAAK+a,EAAGhb,IAE/D,IADAqb,EAAI,GACCrb,EAAI,EAAGA,EAAIgb,EAAGtiB,OAAQsH,IAAKqb,EAAEL,EAAGhb,GAAGkB,OAAQ,EAChD,IAAKlB,EAAI,EAAGA,EAAI8a,EAAGpiB,OAAQsH,IAAUqb,EAAEP,EAAG9a,GAAGkB,OAAOka,EAAGnb,KAAK6a,EAAG9a,IAC/D,MAAO,CAAEqL,OAAQ,CAAEiQ,MAAOL,EAAI3C,QAAS6C,GAAMhE,QAAS,CAAEmE,MAAOJ,EAAI5C,QAAS8C,GAlB7C,C,CAoBjC,SAAS1C,GAAOnS,GACd,IAAKvG,EAAI,EAAGA,EAAIoX,EAAKc,SAASC,SAASzf,OAAQsH,IAAKoX,EAAKc,SAASC,SAASnY,GAAGE,MAAMkX,EAAM,CAAC7Q,G,CAtS7FwP,EAAGrf,UAAU6kB,QAAU,WAErB,OADAplB,KAAKkf,MAAMsD,EAAU,IACdxiB,KAAKqgB,W,EAiDdT,EAAGrf,UAAU8kB,YAAc,SAASjV,GAClC,IAAIqE,EAAO,IAAIiP,EAGf,OAFA1jB,KAAKkf,MAAMsD,EAAU,IACrBxiB,KAAKkf,MAAMgE,EAAc,CAACzO,EAAMrE,IACzBqE,EAAK4L,W,EAEdT,EAAGrf,UAAU+kB,eAAiB,SAASlV,GACrC,IAAIqE,EAAO,IAAIiP,EAEf,OADA1jB,KAAKkf,MAAMgE,EAAc,CAACzO,EAAMrE,IACzBqE,EAAK4L,W,EAcdT,EAAGrf,UAAUglB,WAAa,SAASnV,GACjC,IAAIqE,EAAO,IAAIiP,EAGf,OAFA1jB,KAAKkf,MAAMsD,EAAU,IACrBxiB,KAAKkf,MAAMmE,EAAa,CAAC5O,EAAMrE,IACxBqE,EAAK4L,W,EAEdT,EAAGrf,UAAUilB,cAAgB,SAASpV,GACpC,IAAIqE,EAAO,IAAIiP,EAEf,OADA1jB,KAAKkf,MAAMmE,EAAa,CAAC5O,EAAMrE,IACxBqE,EAAK4L,W,EAUdT,EAAGrf,UAAUklB,SAAW,SAASrV,GAC1BpQ,KAAKge,MAAM+D,WAAU/hB,KAAKge,MAAM+D,SAAW,IAAIsC,GACpD,IAAIb,EAAUxjB,KAAKge,MAAM+D,SAAS9C,SAElC,OADAjf,KAAKkf,MAAMqE,EAAW,CAACC,EAASpT,IACzBoT,EAAQnD,W,EAGjBT,EAAGrf,UAAUgf,OAAS,WACpBgC,GAAQhC,Q,EASVmE,EAAGnjB,UAAY,IAAIwd,EACnB2F,EAAGnjB,UAAUmlB,QAAU,SAASzC,GAC9B,GAAIjjB,KAAKge,MAAM+F,KAAM,CACnB,IAAI4B,EACAC,EAAO,EACP5lB,KAAKgiB,UAAYhiB,KAAKgiB,SAASzf,SACjCqjB,EAAO5lB,KAAKgiB,SAASzf,OACrBojB,EAAM3lB,KAAKgiB,SAAS,IAElBhiB,KAAKkhB,OAASlhB,KAAKkhB,MAAM3e,SAC3BqjB,EAAO5lB,KAAKkhB,MAAM3e,OAClBojB,EAAM3lB,KAAKkhB,MAAM,IAEP,GAAR0E,GAAcD,EAAI5B,OACpBd,EAAMjjB,KAAKge,MAAM+F,KAAK3O,OAAO6N,G,CAGjC,OAAOA,C,EAETS,EAAGnjB,UAAUojB,SAAW,SAASV,GAAOjjB,KAAK4jB,MAAM5jB,KAAK0lB,QAAQzC,G,EAEhES,EAAGnjB,UAAUslB,KAAO,WAElB,OADA7lB,KAAKkf,MAAMyE,EAAU,CAACmC,GAAK/b,MAAM,KAAMH,aAChC5J,KAAKqgB,W,EAEdqD,EAAGnjB,UAAU+T,KAAO,SAAS6P,EAAGlU,EAAG8V,EAAG7L,GAQpC,OAPAla,KAAKgmB,OAAO7B,EAAGlU,EAAG8V,QACK,IAAZ/lB,KAAKimB,UAA6C,IAAhBjmB,KAAKkmB,QAC5ChM,EAAI,GAAGla,KAAKugB,KAAKrG,GAAGiM,QAAQhC,EAAGlU,GAG/B8V,EAAI,GAAG/lB,KAAKugB,KAAKwF,GAAGI,QAAQhC,GAE3BnkB,KAAKqgB,W,EAEdqD,EAAGnjB,UAAUqjB,MAAQ,SAASX,GAC5B,IAAIpZ,EACJ,IAAKA,EAAI,EAAGA,EAAI7J,KAAKgiB,SAASzf,OAAQsH,IAAK7J,KAAKgiB,SAASnY,GAAGE,MAAM/J,KAAM,CAAC8lB,GAAK7C,GAAKmD,OAAOpmB,QAC1F,IAAK6J,EAAI,EAAGA,EAAI7J,KAAKkhB,MAAM3e,OAAQsH,IAAK,CACtC,IAAIyE,EAAIwX,GAAK7C,GACR3U,EAAE+X,SAASrmB,KAAKkhB,MAAMrX,KAAK7J,KAAKkhB,MAAMrX,GAAGgc,KAAKvX,EAAE8X,OAAOpmB,M,GAIhE0jB,EAAGnjB,UAAUoK,KAAO,SAASsY,GAE3B,OADAjjB,KAAKkf,MAAM0E,EAAO,CAACX,IACZjjB,KAAKqgB,W,EAcdqD,EAAGnjB,UAAU+lB,QAAU,SAASlW,GAE9B,OADApQ,KAAKkf,MAAM2E,EAAU,CAACzT,IACfpQ,KAAKqgB,W,EAEdqD,EAAGnjB,UAAUgmB,WAAa,SAASnW,GAEjC,OADApQ,KAAKkf,MAAM4E,EAAa,CAAC1T,IAClBpQ,KAAKqgB,W,EAEdqD,EAAGnjB,UAAUimB,UAAY,WACvB,OAAOxmB,KAAKge,MAAMgE,SAASzf,OAASvC,KAAKge,MAAMkD,MAAM3e,M,EAEvDmhB,EAAGnjB,UAAU0e,OAAS,WACpB,IAAIwH,EAAMzmB,KAAKmgB,OAKf,OAJAsG,EAAIR,IAAMjmB,KAAKimB,IACfQ,EAAIC,MAAQ1mB,KAAK0mB,MACjBD,EAAIP,QAAUlmB,KAAKkmB,QACnBO,EAAIE,MAAQ3mB,KAAK2mB,MACVF,C,EAET/C,EAAGnjB,UAAU0lB,SAAMxY,EACnBiW,EAAGnjB,UAAUmmB,MAAQ,IACrBhD,EAAGnjB,UAAU2lB,aAAUzY,EACvBiW,EAAGnjB,UAAUomB,WAAQlZ,EAErBiW,EAAGnjB,UAAUqmB,KAAO,SAAShF,GAE3B,QADiB,IAANA,IAAmBA,EAAK8B,EAAGnjB,UAAUmmB,OAC5C9E,GAAM5hB,KAAK0mB,MAAO,OAAO1mB,KAAKqgB,YAClCuB,EAAKiF,GAAIjF,GACT,IAAIkF,EAAM9mB,KAAKif,SAGf,OAFA6H,EAAIJ,MAAQ9E,EACZ5hB,KAAKkf,MAAML,EAAO,CAACiI,IACZA,EAAIzG,W,EAEbqD,EAAGnjB,UAAUwmB,GAAK,SAAS5C,GACzB,GAAIA,GAAKnkB,KAAKimB,UAAmB,IAAL9B,QAAuC,IAAZnkB,KAAKimB,IAAoB,OAAOjmB,KAAKqgB,YAC5F,IAAIyG,EAAM9mB,KAAKif,SAMf,YALgB,IAALkF,IAAkBA,EAAI8B,GAAI9B,IACrC2C,EAAIb,IAAM9B,EACV2C,EAAIZ,aAAUzY,EACdqZ,EAAIH,WAAQlZ,EACZzN,KAAKkf,MAAML,EAAO,CAACiI,IACZA,EAAIzG,W,EAObqD,EAAGnjB,UAAUymB,IAAM,SAAS1Y,EAAG2B,GAC7B,GAAI3B,GAAKtO,KAAKkmB,SAAWjW,GAAKjQ,KAAK2mB,YAAqB,IAALrY,QAA2C,IAAhBtO,KAAKkmB,QAAwB,OAAOlmB,KAAKqgB,YAEvH,QADgB,IAAL/R,GAAkB0V,GAAIiD,SAAS3Y,EAAG2B,IACxCA,EAAG,OAAOjQ,KAAK+mB,GAAGzY,GACvB,IAAIwY,EAAM9mB,KAAKif,SAMf,OALA6H,EAAIb,SAAMxY,EACVqZ,EAAIZ,QAAU5X,EACdwY,EAAIH,MAAQ1W,EACZjQ,KAAKkf,MAAM6E,EAAM,CAACzV,EAAG2B,IACrBjQ,KAAKkf,MAAML,EAAO,CAACiI,IACZA,EAAIzG,W,EAiBbgE,EAAG9jB,UAAY,IAAIwd,EAYnBsG,EAAG9jB,UAAU+lB,QAAU,SAASlW,GAE9B,OADApQ,KAAKkf,MAAMuE,EAAW,CAACrT,IAChBpQ,KAAKqgB,W,EAEdgE,EAAG9jB,UAAUgmB,WAAa,SAASnW,GAEjC,OADApQ,KAAKkf,MAAMqF,EAAc,CAACnU,IACnBpQ,KAAKqgB,W,EAmCd,IA+BI6G,GACAC,GAhCA5F,GAAU,CAAEL,MAAO,GAAIC,KAAM,IAC7BW,GAAW,CAAEZ,MAAO,GAAIC,KAAM,IAGlC,SAASiG,KAC6BrK,EAClCsK,GAAUhc,EAAA,UAGZrL,KAAK8e,Q,CAGP,SAASwI,KACP,IAAIC,EAAMC,SAASC,cAAc,OACjCF,EAAIG,MAAMC,WAAa,SACvBH,SAASI,KAAKC,YAAYN,GAC1B,IAAIjnB,EAAMknB,SAASC,cAAc,UACjCnnB,EAAIonB,MAAMC,WAAa,SACvBrnB,EAAIonB,MAAMI,MAAQ,MAAOxnB,EAAIonB,MAAMK,OAAS,MAC5CznB,EAAI0nB,QAAU,6CACd1nB,EAAI8N,KAAO,eACXoZ,SAASI,KAAKC,YAAYvnB,GAEtBA,EAAI2nB,OACNC,GAAgB5nB,GAGlBN,KAAK8e,Q,CAMP,SAASqJ,KACP,GAAyB,oBAAdC,WAA6BA,UAAUC,kBAAmB,CACnEnB,GAAakB,UACbjB,GAAqBiB,UAAUC,kBAC/B,KACuD,GAAjDlB,GAAmBzgB,WAAW4hB,QAAQ,UAAenB,QAAqB1Z,EAEpE,CAAZ,MAAOT,GAAK,C,EAGhB,SAASub,KAEP,GADAJ,KACIhB,GAAoB,CACtB,IAAInI,EAAOhf,KACPwoB,EAAS,SAASC,GACpBC,GAAaD,GACbzJ,EAAKJ,S,EAEH+J,EAAQ,SAAS1F,GACnBjE,EAAKL,OAAOsE,E,EAEV2F,EAAM,GAGV,OAFAzB,GAAmB5e,KAAK2e,GAAY0B,GAAKtI,KAAKkI,EAAQG,QACtD3oB,KAAKkgB,Q,CAGPlgB,KAAK8e,Q,CAEP,SAAS+J,KAEP,GADAV,KACIhB,GAAoB,CACtB,IAAInI,EAAOhf,KACPwoB,EAAS,SAASC,GACpBC,GAAaD,GAAM,GACnBzJ,EAAKJ,S,EAEH+J,EAAQ,SAAS1F,GACnBjE,EAAKL,OAAOsE,E,EAEV2F,EAAM,CAAE/H,OAAM,GAGlB,OAFAsG,GAAmB5e,KAAK2e,GAAY0B,GAAKtI,KAAKkI,EAAQG,QACtD3oB,KAAKkgB,Q,CAGPlgB,KAAK8e,Q,CAIP,SAASgK,KACP,IACIC,EACA9F,EAFAjE,EAAOhf,KAGX,SAASgpB,IAGP,GAFAD,GAAO,EACF9F,IAAKA,EAAMuE,SAASyB,eAAe,kBACnChG,EAAL,CACA,IAAIJ,EAAI,GACR,IAAMA,EAAItX,KAAKC,MAAMyX,EAAIiG,UAA0B,CAAZ,MAAOlc,GAAK,CACnDiW,EAAIiG,UAAY,GAChB1B,SAASnX,oBAAoB,gBAAiB2Y,GACjC,YAATnG,EAAE,IACJsG,GAASlG,EAAKJ,EAAE,IAChB7D,EAAKJ,WAGLI,EAAKL,QAVG,C,CAaZ3e,KAAKkgB,SACLsH,SAAStX,iBAAiB,gBAAiB8Y,GAC3C,IAAMxB,SAAS4B,cAAc,IAAIC,MAAM,aAA6B,CAAZ,MAAOrc,GAAK,CACpE2Q,GAAU,WAAkBoL,GAAM/J,EAAKL,Q,IAIzC,SAAS2K,KACPtpB,KAAKkgB,SACL,IAAIlB,EAAOhf,KACX2d,GAAU,WAAaqB,EAAKL,Q,IAG9B,SAAS4K,GAAeX,GAGtB,IAFA,IAAI/Y,EAAM,GACNzP,EAAMopB,GAAmBZ,GACpB/e,EAAI,EAAGA,EAAIzJ,EAAImC,OAAQsH,IAChB,WAAVzJ,EAAIyJ,IACF+e,IAAqB,IAAdA,EAAI/H,OAAgBhR,EAAI/F,KAAK+e,IACnCD,IAAqB,IAAdA,EAAI/H,QAAkC,IAAhB+H,EAAIa,SAAkB5Z,EAAI/F,KAAKye,KAEhD,QAAVnoB,EAAIyJ,IAAgBgG,EAAI/F,KAAKsd,IAAWvX,EAAI/F,KAAKwf,KACvC,aAAVlpB,EAAIyJ,GAAmBgG,EAAI/F,KAAKgf,IACtB,UAAV1oB,EAAIyJ,IAAgBgG,EAAI/F,KAAKwd,IAGxC,OADAzX,EAAI/F,KAAK4f,IACF7Z,C,CAGT,SAAS2Z,GAAmBZ,GAC1B,IAAIe,EAAM,CAAC,OAAQ,YAAa,SAAU,WAC1C,IAAKf,IAAQA,EAAIhI,OAAQ,OAAO+I,EAChC,IAEIC,EACAhH,EAGA/Y,EANAzJ,EAAMwoB,EAAIhI,kBAAkBjX,MAAQif,EAAIhI,OAAS,CAACgI,EAAIhI,QACtD6F,EAAM,GAGNoD,EAAO,GACPC,EAAO,GAEX,IAAKjgB,EAAI,EAAGA,EAAIzJ,EAAImC,OAAQsH,IAAK,CAC/B,IAAIkB,EAAO3K,EAAIyJ,GAAGnD,WAAWqjB,cACzBtD,EAAI1b,KACR0b,EAAI1b,IAAQ,EACC,SAATA,IAAiB6e,GAAO,GACf,QAAT7e,QAAiC,IAARA,IAAqB6X,GAAM,GACpDA,EAAKkH,EAAKhgB,KAAKiB,GAAY8e,EAAK/f,KAAKiB,GACzC4U,EAAKgK,EAAK5e,G,CAGZ,OADI6X,GAAOiH,EAAKtnB,QAAUunB,EAAKvnB,UAAQqnB,GAAO,GACvCA,EAAO,GAAKC,EAAK9gB,OAAO6Z,EAAM+G,EAAMG,E,CAG7C,SAASE,GAASpB,IAChB3H,EAAO,IAAIrB,GACNqK,SAAWrB,EAChB3H,EAAK/B,MAAMM,EAAS,CAAC+J,GAAeX,KACpC3H,EAAKmE,UACLnE,EAAKrC,S,CAGP,SAAS8K,KACPnI,GAAQC,MAAQ,OAChBD,GAAQlE,SAAWA,EACnBkE,GAAQE,QAAS,EACjBF,GAAQL,MAAQ,GAChBK,GAAQJ,KAAO,GACfI,GAAQiB,SAAW,WAAalB,G,EAChCC,GAAQ+C,OAASzG,EACjB0D,GAAQiD,SAAW3G,EACnB0D,GAAQhC,OAAS1B,C,CAGnB,SAASqM,KASP,IAAI1G,EACJ,SAASnB,IACP,IAAK,IAAIxY,EAAI,EAAGA,EAAI7J,KAAKmqB,QAAQ5nB,OAAQsH,IAAK7J,KAAKuf,OAAOvf,KAAKmqB,QAAQtgB,G,CAVzE0X,GAAQ6I,OAAS,GACjB7I,GAAQ8I,QAAU,GAClB9I,GAAQa,OAAS,GACjBb,GAAQe,QAAU,GAClBf,GAAQH,OAAS,GACjBG,GAAQF,MAAQ,GAChBE,GAAQlE,SAAWkE,GAAQ+I,MAAMlgB,QACjCmX,GAAQE,QAAS,EAKjBF,GAAQiB,SAAW,WAGjB,IAAI3Y,EAAG/J,EACP,IAHAyhB,GAAQL,MAAQ,GAChBK,GAAQJ,KAAO,GAEVtX,EAAI,GAAI/J,EAAIyhB,GAAQ+I,MAAMC,YAAY1gB,IAAItH,OAAQsH,IACrD0X,GAAQL,MAAMpX,KAAK,CAAEsE,KAAMmT,GAAQC,MAAOzW,KAAMjL,EAAE,GAAI+hB,aAAc/hB,EAAE,GAAIsK,QAAStK,EAAE,KAEvF,IAAK+J,EAAI,GAAI/J,EAAIyhB,GAAQ+I,MAAME,WAAW3gB,IAAItH,OAAQsH,IACpD0X,GAAQJ,KAAKrX,KAAK,CAAEsE,KAAMmT,GAAQC,MAAOzW,KAAMjL,EAAE,GAAI+hB,aAAc/hB,EAAE,GAAIsK,QAAStK,EAAE,KAEtFwhB,G,EAEFC,GAAQ6B,SAAW,SAAS3O,EAAM1J,GAChC,IAAI0f,EAAOlJ,GAAQe,QAAQvX,GAC3B,IAAK0f,EAAM,CACLlJ,GAAQmJ,MAAMnoB,QAAUgf,GAAQ8I,QAAQ9nB,QAAQgf,GAAQmJ,MAAM5gB,KAAKyX,GAAQoJ,cAC/EF,EAAO,CACL1f,KAAMA,EACNof,QAAS,GACTxJ,KAAM,CACJ5V,KAAMA,EACN8W,aAAcN,GAAQG,SAAS3W,GAAM8W,aACrCzX,QAASmX,GAAQG,SAAS3W,GAAMX,QAChCgE,KAAM,WACNyS,MAAOU,GAAQE,OACfb,OAAQW,GAAQC,OAElBjC,OAAQ,SAAS9K,GAAQ8M,GAAQqJ,UAAUnW,E,EAC3C4N,UAAWA,EACXsB,SAAU,SAASd,GAASA,EAAEtgB,QAAQvC,KAAK6qB,OAAOC,WAAWjI,EAAE3V,Q,GAEjE,IAAI2d,EAAStJ,GAAQmJ,MAAMnJ,GAAQ8I,QAAQ9nB,QAC3CkoB,EAAKI,OAASA,EACdtJ,GAAQ8I,QAAQvgB,KAAK2gB,GACrBlJ,GAAQe,QAAQvX,GAAQ0f,C,CAE1B,IAAKA,EAAKlV,KAAM,CACd,IAAIwV,EAAIN,EAAKI,OAAOG,YAAYjgB,GAChC,GAAIggB,IAAMhgB,EAEO,OADXggB,GAAGN,EAAKI,OAAOI,oBACnBxW,EAAKqK,SAEP2L,EAAKlV,MAAO,C,CAEdd,EAAKuJ,MAAMkN,MAAQT,EACnBvL,EAAMuL,EAAKN,QAAS1V,EAAKuJ,OACzBvJ,EAAKiM,MAAQ+J,EAAK9J,KAClBlM,EAAKkP,SAAW,SAASvT,GAAOqa,EAAK9G,SAASvT,E,EAC9CqE,EAAK8K,OAAS,WAAakL,EAAKlL,OAAOvf,K,GAEzCuhB,GAAQ+B,QAAU,SAAS7O,EAAM1J,GAC/B,IAAI0f,EAAOlJ,GAAQa,OAAOrX,GAC1B,IAAK0f,EAAM,CACLlJ,GAAQmJ,MAAMnoB,QAAUgf,GAAQ6I,OAAO7nB,QAAQgf,GAAQmJ,MAAM5gB,KAAKyX,GAAQoJ,cAC9EF,EAAO,CACL1f,KAAMA,EACNof,QAAS,GACTxJ,KAAM,CACJ5V,KAAMA,EACN8W,aAAcN,GAAQI,QAAQ5W,GAAM8W,aACpCzX,QAASmX,GAAQI,QAAQ5W,GAAMX,QAC/BgE,KAAM,UACNyS,MAAOU,GAAQE,OACfb,OAAQW,GAAQC,OAElBjC,OAAQ,SAAS9K,GAAQ8M,GAAQ4J,SAAS1W,E,EAC1C4N,UAAWA,EACX+I,OAAQ,SAASlR,EAAG2I,GAClB,IAAK,IAAIhZ,EAAI,EAAGA,EAAI7J,KAAKmqB,QAAQ5nB,OAAQsH,IAAK,CAC5C,IAAIoZ,EAAM6C,GAAKjD,GACf7iB,KAAKmqB,QAAQtgB,GAAG+Z,MAAMX,E,IAI5B,IAAIoI,EAAa,SAASvrB,GAAK,OAAO,SAASoa,EAAG2I,GAAK/iB,EAAEsrB,OAAOlR,EAAG2I,E,GACnE4H,EAAKa,OAASD,EAAWZ,GACzB,IAAII,EAAStJ,GAAQmJ,MAAMnJ,GAAQ6I,OAAO7nB,QAC1CkoB,EAAKI,OAASA,EACdtJ,GAAQ6I,OAAOtgB,KAAK2gB,GACpBlJ,GAAQa,OAAOrX,GAAQ0f,C,CAEzB,IAAKA,EAAKlV,KAAM,CACd,IAAIwV,EAAIN,EAAKI,OAAOU,WAAWxgB,EAAM0f,EAAKa,QAC1C,GAAIP,IAAMhgB,EAEO,OADXggB,GAAGN,EAAKI,OAAOW,mBACnB/W,EAAKqK,SAEP2L,EAAKlV,MAAO,C,CAEdd,EAAKuJ,MAAMkN,MAAQT,EACnBvL,EAAMuL,EAAKN,QAAS1V,EAAKuJ,OACzBvJ,EAAKiM,MAAQ+J,EAAK9J,KAClBlM,EAAK8K,OAAS,WAAakL,EAAKlL,OAAOvf,K,GAEzCuhB,GAAQqJ,UAAY,SAASnW,GAC3B,IAAIgW,EAAOhW,EAAKyW,MAChBvL,EAAK8K,EAAKN,QAAS1V,EAAKuJ,QACnByM,EAAKN,QAAQ5nB,QAAUkoB,EAAKlV,OAC/BkV,EAAKlV,MAAO,EACZkV,EAAKI,OAAOI,e,EAGhB1J,GAAQ4J,SAAW,SAAS1W,GAC1B,IAAIgW,EAAOhW,EAAKyW,MAChBvL,EAAK8K,EAAKN,QAAS1V,EAAKuJ,QACnByM,EAAKN,QAAQ5nB,QAAUkoB,EAAKlV,OAC/BkV,EAAKlV,MAAO,EACZkV,EAAKI,OAAOW,c,EAGhBjK,GAAQhC,OAAS,WACf,IAAK,IAAI1V,EAAI,EAAGA,EAAI0X,GAAQ6I,OAAO7nB,OAAQsH,IAAS0X,GAAQ6I,OAAOvgB,GAAG0L,MAAMgM,GAAQ6I,OAAOvgB,GAAGghB,OAAOW,cACrGjK,GAAQiD,U,EAEVjD,GAAQ+C,OAAS,WACVd,IAASA,EAAUiI,aAAY,WAAalK,GAAQiB,U,GAAe,K,EAE1EjB,GAAQiD,SAAW,WACbhB,GAASkI,cAAclI,GAC3BA,OAAU/V,C,EAId,SAAS4Z,GAAU/mB,GACjBihB,GAAQC,MAAQ,OAChBD,GAAQ+I,MAAQhqB,EAChBihB,GAAQmJ,MAAQ,GAChBnJ,GAAQoJ,WAAa,WAAa,OAAO,IAAIrqB,EAAIwlB,I,EACjDoE,I,CAGF,SAAShC,GAAgB5nB,GACvBihB,GAAQC,MAAQ,SAChBD,GAAQ+I,MAAQhqB,EAChBihB,GAAQmJ,MAAQ,CAACpqB,GACjBihB,GAAQoJ,WAAa,WACnB,IAAIgB,EAAMnE,SAASC,cAAc,UAMjC,OALAkE,EAAIjE,MAAMC,WAAa,SACvBgE,EAAIjE,MAAMI,MAAQ,MAAOxnB,EAAIonB,MAAMK,OAAS,MAC5C4D,EAAI3D,QAAU,6CACd2D,EAAIvd,KAAO,eACXoZ,SAASI,KAAKC,YAAY8D,GACnBA,EAAI1D,OAAS0D,OAAMle,C,EAE5Byc,I,CAEF,SAASxB,GAAakD,EAAQ/K,GAS5B,IAAI2C,EACJ,SAASnB,IACP,IAAK,IAAIxY,EAAI,EAAGA,EAAI7J,KAAKmqB,QAAQ5nB,OAAQsH,IAAK7J,KAAKuf,OAAOvf,KAAKmqB,QAAQtgB,G,CAVzE0X,GAAQC,MAAQ,UAChBD,GAAQlE,SAAW,GACnBkE,GAAQE,SAAWZ,EACnBU,GAAQsK,QAAUD,EAClBrK,GAAQa,OAAS,GACjBb,GAAQe,QAAU,GAClBf,GAAQH,OAAS,GACjBG,GAAQF,MAAQ,GAKhBE,GAAQiB,SAAW,WACjBjB,GAAQL,MAAQ,GAChBK,GAAQJ,KAAO,GACfI,GAAQsK,QAAQ7K,QAAQvJ,SAAQ,SAAShD,GACvC8M,GAAQL,MAAMpX,KAAK,CAACsE,KAAMmT,GAAQC,MAAOzW,KAAM0J,EAAK1J,KAAM8W,aAAcpN,EAAKoN,aAAczX,QAASqK,EAAKrK,S,IAE3GmX,GAAQsK,QAAQ3W,OAAOuC,SAAQ,SAAShD,GACtC8M,GAAQJ,KAAKrX,KAAK,CAACsE,KAAMmT,GAAQC,MAAOzW,KAAM0J,EAAK1J,KAAM8W,aAAcpN,EAAKoN,aAAczX,QAASqK,EAAKrK,S,IAE1GkX,G,EAEFC,GAAQ6B,SAAW,SAAS3O,EAAM1J,GAChC,IAkBI+gB,EAlBArB,EAAOlJ,GAAQe,QAAQvX,GACtB0f,IACHA,EAAO,CACL1f,KAAMA,EACNof,QAAS,GACTxJ,KAAM,CACJ5V,KAAMA,EACN8W,aAAcN,GAAQG,SAAS3W,GAAM8W,aACrCzX,QAASmX,GAAQG,SAAS3W,GAAMX,QAChCgE,KAAM,WACNyS,MAAOU,GAAQE,OACfb,OAAQW,GAAQC,OAElBjC,OAAQ,SAAS9K,GAAQ8M,GAAQqJ,UAAUnW,E,EAC3C4N,UAAWA,EACXsB,SAAU,SAASd,GAAS4H,EAAKsB,KAAOlJ,EAAEtgB,QAAQvC,KAAK+rB,IAAIlG,KAAKhD,EAAE3V,Q,IAItEqU,GAAQsK,QAAQ7K,QAAQvJ,SAAQ,SAASsU,GACnCA,EAAIhhB,OAASA,IAAM+gB,EAAQC,E,IAE7BD,GACFrB,EAAKsB,IAAMD,EACXvK,GAAQe,QAAQvX,GAAQ0f,EACxBhW,EAAKuJ,MAAMkN,MAAQT,EACnBvL,EAAMuL,EAAKN,QAAS1V,EAAKuJ,OACzBvJ,EAAKiM,MAAQ+J,EAAK9J,KAClBlM,EAAKkP,SAAW,SAASvT,GAAOqa,EAAK9G,SAASvT,E,EAC9CqE,EAAK8K,OAAS,WAAakL,EAAKlL,OAAOvf,K,EACnCyqB,EAAKsB,IAAIxW,OACXd,EAAKyL,SACLuK,EAAKsB,IAAIxW,OAAO+K,MAAK,WACnB7L,EAAKmK,S,IACJ,WACDnK,EAAKkK,Q,MAINlK,EAAKqK,Q,EAEZyC,GAAQ+B,QAAU,SAAS7O,EAAM1J,GAC/B,IAuBI+gB,EAvBArB,EAAOlJ,GAAQa,OAAOrX,GA2B1B,GA1BK0f,IACHA,EAAO,CACL1f,KAAMA,EACNof,QAAS,GACTxJ,KAAM,CACJ5V,KAAMA,EACN8W,aAAcN,GAAQI,QAAQ5W,GAAM8W,aACpCzX,QAASmX,GAAQI,QAAQ5W,GAAMX,QAC/BgE,KAAM,UACNyS,MAAOU,GAAQE,OACfb,OAAQW,GAAQC,OAElBjC,OAAQ,SAAS9K,GAAQ8M,GAAQ4J,SAAS1W,E,EAC1C4N,UAAWA,EACX+I,OAAQ,SAASY,GACf,IAAK,IAAIniB,EAAI,EAAGA,EAAI7J,KAAKmqB,QAAQ5nB,OAAQsH,IAAK,CAC5C,IAAIoZ,EAAM6C,GAAK,GAAG5Y,MAAM3E,KAAKyjB,EAAIzZ,OACjCvS,KAAKmqB,QAAQtgB,GAAG+Z,MAAMX,E,KAM9B1B,GAAQsK,QAAQ3W,OAAOuC,SAAQ,SAASsU,GAClCA,EAAIhhB,OAASA,IAAM+gB,EAAQC,E,IAE7BD,EAAO,CACTrB,EAAKsB,IAAMD,EACX,IAAIT,EAAa,SAASvrB,GAAK,OAAO,SAASksB,GAAOlsB,EAAEsrB,OAAOY,E,GAC/DvB,EAAKsB,IAAIE,cAAgBZ,EAAWZ,GACpClJ,GAAQa,OAAOrX,GAAQ0f,EACvBhW,EAAKuJ,MAAMkN,MAAQT,EACnBvL,EAAMuL,EAAKN,QAAS1V,EAAKuJ,OACzBvJ,EAAKiM,MAAQ+J,EAAK9J,KAClBlM,EAAK8K,OAAS,WAAakL,EAAKlL,OAAOvf,K,EACnCyqB,EAAKsB,IAAIxW,OACXd,EAAKyL,SACLuK,EAAKsB,IAAIxW,OAAO+K,MAAK,WACnB7L,EAAKmK,S,IACJ,WACDnK,EAAKkK,Q,UAINlK,EAAKqK,Q,EAEZyC,GAAQqJ,UAAY,SAASnW,GAC3B,IAAIgW,EAAOhW,EAAKyW,MAChBvL,EAAK8K,EAAKN,QAAS1V,EAAKuJ,OACnByM,EAAKN,QAAQ5nB,SACZkoB,EAAKsB,KAAOtB,EAAKsB,IAAIjL,OAAO2J,EAAKsB,IAAIjL,QACzC2J,EAAKsB,SAAMte,E,EAGf8T,GAAQ4J,SAAW,SAAS1W,GAC1B,IAAIgW,EAAOhW,EAAKyW,MAChBvL,EAAK8K,EAAKN,QAAS1V,EAAKuJ,OACnByM,EAAKN,QAAQ5nB,SACZkoB,EAAKsB,MACPtB,EAAKsB,IAAIE,cAAgB,KACrBxB,EAAKsB,IAAIjL,OAAO2J,EAAKsB,IAAIjL,SAE/B2J,EAAKsB,SAAMte,E,EAGf8T,GAAQhC,OAAS,WACfgC,GAAQiD,U,EAEVjD,GAAQ+C,OAAS,WACf/C,GAAQsK,QAAQK,cAAgB,WAC9B1I,GAAU,EACV7F,GAAU,WACJ6F,IACFjC,GAAQiB,WACRgB,GAAU,E,MAKlBjC,GAAQiD,SAAW,WACjBjD,GAAQsK,QAAQK,mBAAgBze,C,EAGpC,SAAS0b,GAASlG,EAAKlC,GA6BrB,SAASsB,IACP,IAAK,IAAIxY,EAAI,EAAGA,EAAI7J,KAAKmqB,QAAQ5nB,OAAQsH,IAAK7J,KAAKuf,OAAOvf,KAAKmqB,QAAQtgB,G,CA2FzE,IAAI2Z,EAxHJjC,GAAQC,MAAQ,YAChBD,GAAQlE,SAAW0D,EACnBQ,GAAQE,QAAS,EACjBF,GAAQmJ,MAAQ,GAChBnJ,GAAQL,MAAQ,GAChBK,GAAQJ,KAAO,GACfI,GAAQ6I,OAAS,GACjB7I,GAAQ8I,QAAU,GAClB9I,GAAQa,OAAS,GACjBb,GAAQe,QAAU,GAClBf,GAAQH,OAAS,GACjBG,GAAQF,MAAQ,GAChBE,GAAQ4K,eAAiB,GACzB5K,GAAQ6K,KAAOnJ,EACf1B,GAAQoJ,WAAa,WACnB,IAAIE,EAAS,CAAEjJ,GAAIL,GAAQmJ,MAAMnoB,QACjCgf,GAAQmJ,MAAM5gB,KAAK+gB,GACdA,EAAOjJ,GACP4F,SAAS4B,cAAc,IAAIiD,YAAY,YAAa,CAAEC,OAAQ,CAAC,UADpDzB,EAAO0B,OAAQ,C,EAGjChL,GAAQoJ,aACRpJ,GAAQiB,SAAW,SAASgK,GAC1BjL,GAAQ4K,eAAeriB,KAAK0iB,GAC5BA,EAAOtM,SACPvC,GAAU,WACR6J,SAAS4B,cAAc,IAAIiD,YAAY,YAAa,CAAEC,OAAQ,CAAC,a,KAMnE/K,GAAQ6B,SAAW,SAAS3O,EAAM1J,GAChC,IAAI0f,EAAOlJ,GAAQe,QAAQvX,GAC3B,IAAK0f,EAAM,CACLlJ,GAAQmJ,MAAMnoB,QAAUgf,GAAQ8I,QAAQ9nB,QAAQgf,GAAQoJ,aAC5D,IAAIE,EAAStJ,GAAQmJ,MAAMnJ,GAAQ8I,QAAQ9nB,QAC3CkoB,EAAO,CACL1f,KAAMA,EACNof,QAAS,GACTxJ,KAAM,CACJ5V,KAAMA,EACN8W,aAAcN,GAAQG,SAAS3W,GAAM8W,aACrCzX,QAASmX,GAAQG,SAAS3W,GAAMX,QAChCgE,KAAM,WACNyS,MAAOU,GAAQE,OACfb,OAAQW,GAAQC,OAElBiL,OAAQ,WAAajF,SAAS4B,cAAc,IAAIiD,YAAY,YAAa,CAAEC,OAAQ,CAAC,UAAWzB,EAAOjJ,GAAI7W,K,EAC1GwU,OAAQ,SAAS9K,GAAQ8M,GAAQqJ,UAAUnW,E,EAC3C4N,UAAWA,EACXsB,SAAU,SAASd,GAAK,GAAIA,EAAEtgB,OAAQ,CAAE,IAAIwjB,EAAIlD,EAAE3V,QAAS6Y,EAAElJ,OAAO,EAAG,EAAG,OAAQgO,EAAOjJ,IAAK4F,SAAS4B,cAAc,IAAIiD,YAAY,YAAa,CAACC,OAAQvG,I,IAE7J0E,EAAKI,OAASA,EACdA,EAAO6B,OAASjC,EAChBlJ,GAAQ8I,QAAQvgB,KAAK2gB,GACrBlJ,GAAQe,QAAQvX,GAAQ0f,C,CAE1BhW,EAAKuJ,MAAMkN,MAAQT,EACnBvL,EAAMuL,EAAKN,QAAS1V,EAAKuJ,OACzBvJ,EAAKiM,MAAQ+J,EAAK9J,KAClBlM,EAAKkP,SAAW,SAASvT,GAAOqa,EAAK9G,SAASvT,E,EAC9CqE,EAAK8K,OAAS,WAAakL,EAAKlL,OAAOvf,K,EAClCyqB,EAAKlV,OACRd,EAAKyL,SACDuK,EAAKI,OAAO0B,OAAO9B,EAAKgC,S,EAGhClL,GAAQ+B,QAAU,SAAS7O,EAAM1J,GAC/B,IAAI0f,EAAOlJ,GAAQa,OAAOrX,GAC1B,IAAK0f,EAAM,CACLlJ,GAAQmJ,MAAMnoB,QAAUgf,GAAQ6I,OAAO7nB,QAAQgf,GAAQoJ,aAC3D,IAAIE,EAAStJ,GAAQmJ,MAAMnJ,GAAQ6I,OAAO7nB,QAC1CkoB,EAAO,CACL1f,KAAMA,EACNof,QAAS,GACTxJ,KAAM,CACJ5V,KAAMA,EACN8W,aAAcN,GAAQI,QAAQ5W,GAAM8W,aACpCzX,QAASmX,GAAQI,QAAQ5W,GAAMX,QAC/BgE,KAAM,UACNyS,MAAOU,GAAQE,OACfb,OAAQW,GAAQC,OAElBiL,OAAQ,WAAajF,SAAS4B,cAAc,IAAIiD,YAAY,YAAa,CAAEC,OAAQ,CAAC,SAAUzB,EAAOjJ,GAAI7W,K,EACzGwU,OAAQ,SAAS9K,GAAQ8M,GAAQ4J,SAAS1W,E,EAC1C4N,UAAWA,GAEboI,EAAKI,OAASA,EACdA,EAAO8B,MAAQlC,EACflJ,GAAQ6I,OAAOtgB,KAAK2gB,GACpBlJ,GAAQa,OAAOrX,GAAQ0f,C,CAEzBhW,EAAKuJ,MAAMkN,MAAQT,EACnBvL,EAAMuL,EAAKN,QAAS1V,EAAKuJ,OACzBvJ,EAAKiM,MAAQ+J,EAAK9J,KAClBlM,EAAK8K,OAAS,WAAakL,EAAKlL,OAAOvf,K,EAClCyqB,EAAKlV,OACRd,EAAKyL,SACDuK,EAAKI,OAAO0B,OAAO9B,EAAKgC,S,EAGhClL,GAAQqJ,UAAY,SAASnW,GAC3B,IAAIgW,EAAOhW,EAAKyW,MAChBvL,EAAK8K,EAAKN,QAAS1V,EAAKuJ,QACnByM,EAAKN,QAAQ5nB,QAAUkoB,EAAKlV,OAC/BkV,EAAKlV,MAAO,EACZiS,SAAS4B,cAAc,IAAIiD,YAAY,YAAa,CAAEC,OAAQ,CAAC,WAAY7B,EAAKI,OAAOjJ,O,EAG3FL,GAAQ4J,SAAW,SAAS1W,GAC1B,IAAIgW,EAAOhW,EAAKyW,MAChBvL,EAAK8K,EAAKN,QAAS1V,EAAKuJ,QACnByM,EAAKN,QAAQ5nB,QAAUkoB,EAAKlV,OAC/BkV,EAAKlV,MAAO,EACZiS,SAAS4B,cAAc,IAAIiD,YAAY,YAAa,CAAEC,OAAQ,CAAC,UAAW7B,EAAKI,OAAOjJ,O,EAG1FL,GAAQhC,OAAS,WACfgC,GAAQiD,U,EAGVjD,GAAQ+C,OAAS,WACf/C,GAAQF,MAAQE,GAAQJ,KACxBI,GAAQH,OAASG,GAAQL,MACzBsC,EAAUiI,aAAY,WACpBjE,SAAS4B,cAAc,IAAIiD,YAAY,YAAa,CAACC,OAAO,CAAC,a,GAC5D,I,EAEL/K,GAAQiD,SAAW,WACjBkH,cAAclI,GACdA,OAAU/V,C,EAEZ+Z,SAAStX,iBAAiB,iBAAiB,WACzC,IACIua,EAAM5gB,EAAGmT,EADT+I,EAAIxE,GAAQ6K,KAAKlD,UAAU3hB,MAAM,MAGrC,IADAga,GAAQ6K,KAAKlD,UAAY,GACpBrf,EAAI,EAAGA,EAAIkc,EAAExjB,OAAQsH,IAAK,CAC7B,IAAIgZ,EAAI,GACR,IAAMA,EAAItX,KAAKC,MAAMua,EAAElc,GAAmB,CAAZ,MAAOmD,GAAK,CAC1C,GAAK6V,EAAEtgB,OACP,GAAa,YAATsgB,EAAE,GAAkB,CACtB,GAAIA,EAAE,GAAG+J,IAAK,CACZ,IAAK5P,EAAI,EAAGA,EAAI6F,EAAE,GAAG+J,IAAIrqB,OAAQya,IAAK6F,EAAE,GAAG+J,IAAI5P,GAAG5O,KAAOmT,GAAQC,MACjED,GAAQJ,KAAO0B,EAAE,GAAG+J,G,CAEtB,GAAI/J,EAAE,GAAG+C,KAAM,CACb,IAAK5I,EAAI,EAAGA,EAAI6F,EAAE,GAAG+C,KAAKrjB,OAAQya,IAAK6F,EAAE,GAAG+C,KAAK5I,GAAG5O,KAAOmT,GAAQC,MACnED,GAAQL,MAAQ2B,EAAE,GAAG+C,I,CAGvB,IADAtE,IACKtE,EAAI,EAAGA,EAAIuE,GAAQ4K,eAAe5pB,OAAQya,IAAKuE,GAAQ4K,eAAenP,GAAG4B,UAC9E2C,GAAQ4K,eAAiB,E,MAEtB,GAAa,YAATtJ,EAAE,GAAkB,CAC3B,IAAIgI,EAAStJ,GAAQmJ,MAAM7H,EAAE,IACzBgI,IACFA,EAAO0B,OAAQ,EACX1B,EAAO8B,OAAO9B,EAAO8B,MAAMF,SAC3B5B,EAAO6B,QAAQ7B,EAAO6B,OAAOD,S,MAGhC,GAAa,YAAT5J,EAAE,IAET,GADA4H,EAAOlJ,GAAQmJ,MAAM7H,EAAE,IAAI6J,OAEzB,GAAI7J,EAAE,IAAM4H,EAAK1f,MAEf,GADA0f,EAAKlV,MAAO,EACRkV,EAAKN,QAAS,IAAKnN,EAAI,EAAGA,EAAIyN,EAAKN,QAAQ5nB,OAAQya,IAAKyN,EAAKN,QAAQnN,GAAG4B,eAEzE,GAAI6L,EAAKN,QAAS,IAAKnN,EAAI,EAAGA,EAAIyN,EAAKN,QAAQ5nB,OAAQya,IAAKyN,EAAKN,QAAQnN,GAAG2B,cAGhF,GAAa,WAATkE,EAAE,IAET,GADA4H,EAAOlJ,GAAQmJ,MAAM7H,EAAE,IAAI8J,MAEzB,GAAI9J,EAAE,IAAM4H,EAAK1f,MAEf,GADA0f,EAAKlV,MAAO,EACRkV,EAAKN,QAAS,IAAKnN,EAAI,EAAGA,EAAIyN,EAAKN,QAAQ5nB,OAAQya,IAAKyN,EAAKN,QAAQnN,GAAG4B,eAEzE,GAAI6L,EAAKN,QAAS,IAAKnN,EAAI,EAAGA,EAAIyN,EAAKN,QAAQ5nB,OAAQya,IAAKyN,EAAKN,QAAQnN,GAAG2B,cAGhF,GAAa,SAATkE,EAAE,KACT4H,EAAOlJ,GAAQmJ,MAAM7H,EAAE,IAAI8J,QACflC,EAAKN,QACf,IAAKnN,EAAI,EAAGA,EAAIyN,EAAKN,QAAQ5nB,OAAQya,IAAK,CACxC,IAAIiG,EAAM6C,GAAKjD,EAAE3V,MAAM,IACvBud,EAAKN,QAAQnN,GAAG4G,MAAMX,E,MAQlC,IAAI4J,GAAM,SAASjE,GAEjB,OADK3H,GAAM+I,GAASpB,GACb3H,EAAKZ,W,EAMd,SAASyM,GAAO1c,GACd,IAAI4O,EAAO,IAAI0E,EAGf,OAFItT,aAAenE,QAAQ4T,EAAKzP,GAAK,SAAS6M,GAAK+B,EAAK/B,GAAK7M,EAAI6M,E,IACjE+B,EAAKJ,UACEI,C,CA2CT,SAAS+N,KACP,IAAI/N,EAAOhf,gBAAgB+sB,GAAQ/sB,KAAOgf,EAAO,IAAI+N,GAErD,OADAA,GAAMxsB,UAAUysB,MAAMjjB,MAAMiV,EAAMpV,WAC3BoV,C,CAqBT,SAASiO,KAAmC,OAAbjtB,KAAKoO,OAAkBpO,KAAKktB,QAAUltB,KAAKmtB,MAAQ,GAAKntB,KAAKotB,OAAS,KAAIptB,KAAKmtB,MAAQ,E,CAgGtH,SAASE,GAAKxK,GAAK,MAAO,CAAC,CAAC,GAAI,GAAI,MAAO,IAAIA,EAAG,IAAM,EAAK,IAAa,EAAPA,EAAE,KAAW,EAAKA,EAAE,GAAKA,EAAE,IAAM,EAAKA,EAAE,GAAKA,EAAE,IAAM,EAAKA,EAAE,GAAKA,EAAE,IAAM,EAAKA,EAAE,G,CAwDnJ,SAASyK,GAAKpT,GAGZ,IAAIrK,EACJ,QAHKqK,EAAEqT,WAAarT,EAAEsT,SAAW,EAAGtT,EAAEuT,YAC7BvT,EAAEqT,WAAarT,EAAEsT,QAAU,GAAGtT,EAAEwT,YAEjCxT,EAAEsT,SAAW,GACnB,KAAK,EAAG3d,EAAMqK,EAAEiT,MAAO,MACvB,KAAK,EAAGtd,EAAMqK,EAAEgT,OAAQ,MACxB,KAAK,EAAGrd,EAAMqK,EAAEkT,OAAQ,MACxB,QAASvd,EAAMqK,EAAEyT,KAYnB,OAVgB,EAAZzT,EAAEsT,QAAa3d,IAAQ,EACtBA,GAAO,GACK,GAAbqK,EAAEsT,UACU,IAAVtT,EAAE9L,KAAYyB,GAAO,EACN,OAAVqK,EAAE9L,KAAeyB,GAAO,EACd,IAAVqK,EAAE9L,OAAYyB,GAAO,KAG3BqK,EAAEqT,WAAarT,EAAEsT,SAAW,EAAGtT,EAAEwT,YAC7BxT,EAAEqT,WAAarT,EAAEsT,QAAU,GAAGtT,EAAEuT,YAClC5d,EAAOqK,EAAEsT,SAAW,C,CAE7B,SAASI,GAAQ1T,GACf,OAAc,IAAVA,EAAE9L,KAA4B,GAAT8L,EAAEyT,KACb,OAAVzT,EAAE9L,KAA+B,GAAT8L,EAAEyT,KAChB,IAAVzT,EAAE9L,KAA4B,GAAT8L,EAAEyT,KACpBzT,EAAEyT,I,CAEX,SAASE,GAAK/tB,GAAK,OAAOA,EAAI,GAAK,IAAMA,EAAIA,C,CAC7C,SAASguB,GAAUhuB,GAEjB,IADA,IAAIM,EAAM,GACDyJ,EAAI,EAAGA,EAAI/J,EAAEyC,OAAQsH,IAAKzJ,EAAIyJ,GAAKgkB,GAAKhkB,EAAI/J,EAAE+J,GAAY,GAAP/J,EAAE+J,IAC9D,OAAOzJ,EAAI2tB,KAAK,I,CAQlB,SAASjI,GAAK1V,GACZ,IACIvG,EADAmV,EAAOhf,gBAAgB8lB,GAAO9lB,KAAOgf,EAAO,IAAI8G,GAEpD,GAAI1V,aAAe0V,GAGjB,OAFA9G,EAAKgP,MAAQ5d,EAAI4d,MAAM9gB,QACvB2S,EAAKzP,GAAK,SAASvG,GAAc,SAALA,IAAcmV,EAAKnV,GAAKuG,EAAIvG,G,IACjDmV,EAGT,GADKA,EAAKgP,MAAQ,QACA,IAAP5d,EAAoB,OAAO4O,EACtC,IAAI5e,EAAMgQ,aAAezG,MAAQyG,EAAMxG,UACvC,IAAKC,EAAI,EAAGA,EAAIzJ,EAAImC,OAAQsH,IAC1BoG,EAAI7P,EAAIyJ,GACC,GAALA,IACEmV,EAAK,IAAM,KAAQA,EAAK,IAAM,MAAM/O,EAAI6V,GAAKmI,UAAUhe,IACvD+O,EAAK,IAAM,KAAQA,EAAK,IAAM,MAAM/O,EAAI6V,GAAKoI,aAAaje,MAE5DA,GAAKmU,SAASnU,IAAMA,EAAI,GAAKA,EAAI,MAAKke,GAAO/tB,EAAIyJ,IACrDmV,EAAKlV,KAAKmG,GAEZ,OAAO+O,C,CA/RT6N,GAAIA,IAAMA,GACVA,GAAIziB,QAAUiT,EACdwP,GAAIlM,KAAO,WAAa,OAAOf,EAAGrf,UAAUogB,M,EAQ5CkM,GAAIC,OAASA,GACblN,EAAGrf,UAAUusB,OAASD,GAAIC,OAC1BD,GAAIuB,UAAY,SAASrjB,EAAMsjB,GAC7B,IAAI1N,EAAOZ,EAAOsO,EAAO3N,OAAS,IAClCC,EAAK5V,KAAOA,EACZ4V,EAAKvS,KAAOuS,EAAKvS,MAAQ,aACzBuS,EAAKkB,aAAelB,EAAKkB,cAAgB,UACzClB,EAAKvW,QAAUuW,EAAKvW,SAAW,MAC/B,IAAIwW,EAAS,CACXF,MAAO,WAAa,OAAOC,C,EAC3B2C,QAAS,SAAS7O,GAChBA,EAAKyL,SACLzL,EAAKiM,MAAQX,EAAOY,GACpBlM,EAAK8K,OAAS,WAAa8O,EAAO9H,WAAW9R,E,EAC7C4Z,EAAO/H,QAAQ7R,GACfA,EAAKmK,S,GAGT,OAAOiO,GAAIyB,IAAIC,eAAexjB,EAAM6V,E,EAEtCiM,GAAI2B,WAAa,SAASzjB,EAAMsjB,GAC9B,IAAI1N,EAAOZ,EAAOsO,EAAO3N,OAAS,IAClCC,EAAK5V,KAAOA,EACZ4V,EAAKvS,KAAOuS,EAAKvS,MAAQ,aACzBuS,EAAKkB,aAAelB,EAAKkB,cAAgB,UACzClB,EAAKvW,QAAUuW,EAAKvW,SAAW,MAC/B,IAAIwW,EAAS,CACXF,MAAO,WAAa,OAAOC,C,EAC3ByC,SAAU,SAAS3O,GACjBA,EAAKyL,SACLzL,EAAKiM,MAAQX,EAAOY,GACpBlM,EAAK8K,OAAS,WAAa9K,EAAK8R,Y,EAChC1C,EAAS9Z,MAAM0K,EAAM,CAAC4Z,IACtB5Z,EAAKmK,S,GAGT,OAAOiO,GAAIyB,IAAIG,gBAAgB1jB,EAAM6V,E,EAUvCmM,GAAMxsB,UAAUysB,MAAQ,SAAS5c,GAC/B,GAAIA,aAAe2c,GAOjB,OANA/sB,KAAK0uB,QAAQte,EAAIue,WACjB3uB,KAAK4uB,QAAQxe,EAAIye,WACjB7uB,KAAK8uB,UAAU1e,EAAI2e,aACnB/uB,KAAKgvB,UAAU5e,EAAI6e,aACnBjvB,KAAKkvB,SAAS9e,EAAI+e,YAClBnvB,KAAKovB,WAAWhf,EAAIif,cACbrvB,KAET,IAAII,EAAMgQ,aAAezG,MAAQyG,EAAMxG,UAOvC,OANA5J,KAAK0uB,QAAQtuB,EAAI,IACjBJ,KAAK4uB,QAAQxuB,EAAI,IACjBJ,KAAK8uB,UAAU1uB,EAAI,IACnBJ,KAAKgvB,UAAU5uB,EAAI,IACnBJ,KAAKkvB,SAAS9uB,EAAI,IAClBJ,KAAKovB,WAAWhvB,EAAI,IACbJ,I,EAGT+sB,GAAMxsB,UAAU+uB,YAAc,WAAa,OAAuB,GAAhBtvB,KAAKwtB,SAAgC,GAAhBxtB,KAAKwtB,O,EAC5ET,GAAMxsB,UAAUouB,QAAU,WAAa,OAAO3uB,KAAKoO,I,EACnD2e,GAAMxsB,UAAUsuB,QAAU,WAAa,OAAO7uB,KAAK2tB,I,EACnDZ,GAAMxsB,UAAUwuB,UAAY,WAAa,OAAO/uB,KAAKotB,M,EACrDL,GAAMxsB,UAAU0uB,UAAY,WAAa,OAAOjvB,KAAKktB,M,EACrDH,GAAMxsB,UAAU4uB,SAAW,WAAa,OAAOnvB,KAAKmtB,K,EACpDJ,GAAMxsB,UAAU8uB,WAAa,WAAa,OAAOrvB,KAAKwtB,O,EACtDT,GAAMxsB,UAAUmuB,QAAU,SAAS5uB,GACjC,QAAgB,IAALA,GAAyB,IAALA,EAASE,KAAKoO,KAAO,QAC/C,GAAS,IAALtO,EAASE,KAAKoO,KAAO,QACzB,GAAS,OAALtO,EAAcE,KAAKoO,KAAO,MAAO6e,GAAcljB,MAAM/J,UACzD,IAAS,IAALF,EACJ,MAAM4Q,WAAW,yBAA2B5Q,GAD/BE,KAAKoO,KAAO,EACqB,CAEnD,OADIpO,KAAKmtB,OAASntB,KAAKoO,OAAMpO,KAAKmtB,MAAQntB,KAAKoO,KAAO,GAC/CpO,I,EAET+sB,GAAMxsB,UAAUquB,QAAU,SAAS9uB,GAEjC,QADgB,IAALA,IAAkBA,EAAI,GAC7BA,GAAKskB,SAAStkB,IAAMA,EAAI,GAAKA,GAAK,GAAI,MAAM4Q,WAAW,0BAA4B5Q,GAEvF,OADAE,KAAK2tB,KAAO7tB,EACLE,I,EAET+sB,GAAMxsB,UAAUuuB,UAAY,SAAShvB,GAEnC,QADgB,IAALA,IAAkBA,EAAI,GAC7BA,GAAKskB,SAAStkB,IAAMA,EAAI,GAAKA,GAAK,GAAI,MAAM4Q,WAAW,4BAA8B5Q,GAGzF,OAFAE,KAAKotB,OAASttB,EACdmtB,GAAcljB,MAAM/J,MACbA,I,EAET+sB,GAAMxsB,UAAUyuB,UAAY,SAASlvB,GAEnC,QADgB,IAALA,IAAkBA,EAAI,GAC7BA,GAAKskB,SAAStkB,IAAMA,EAAI,GAAKA,GAAK,GAAI,MAAM4Q,WAAW,4BAA8B5Q,GAGzF,OAFAE,KAAKktB,OAASptB,EACdmtB,GAAcljB,MAAM/J,MACbA,I,EAET+sB,GAAMxsB,UAAU2uB,SAAW,SAASpvB,GAElC,QADgB,IAALA,IAAkBA,EAAI,GAC7BA,GAAKskB,SAAStkB,IAAMA,EAAI,GAAKA,GAAKE,KAAKoO,KAAM,MAAMsC,WAAW,2BAA6B5Q,GAG/F,OAFAE,KAAKmtB,MAAQrtB,EACbmtB,GAAcljB,MAAM/J,MACbA,I,EAET+sB,GAAMxsB,UAAU6uB,WAAa,SAAStvB,GAEpC,QADgB,IAALA,IAAkBA,EAAI,GAC7BA,GAAKskB,SAAStkB,IAAMA,EAAI,GAAKA,GAAK,EAAG,MAAM4Q,WAAW,4BAA8B5Q,GAExF,OADAE,KAAKwtB,QAAU1tB,EACRE,I,EAET+sB,GAAMxsB,UAAUmtB,UAAY,WAe1B,OAdA1tB,KAAKmtB,QACDntB,KAAKmtB,OAASntB,KAAKoO,OACrBpO,KAAKmtB,MAAQ,EACbntB,KAAKktB,SACDltB,KAAKktB,QAAU,KACjBltB,KAAKktB,OAAS,EACdltB,KAAKotB,SACDptB,KAAKotB,QAAU,KACjBptB,KAAKotB,OAAS,EACdptB,KAAK2tB,KAAO3tB,KAAK2tB,MAAQ,GAAK,EAAI3tB,KAAK2tB,KAAO,KAIpDV,GAAcljB,MAAM/J,MACbA,I,EAET+sB,GAAMxsB,UAAUktB,UAAY,WAe1B,OAdKztB,KAAKktB,QAAwB,GAAdltB,KAAKmtB,OAA2B,OAAbntB,KAAKoO,MAAiBpO,KAAKotB,OAAS,KAAIptB,KAAKmtB,MAAQ,GAC5FntB,KAAKmtB,QACDntB,KAAKmtB,MAAQ,IACfntB,KAAKmtB,MAAqB,OAAbntB,KAAKoO,KAAgB,GAAKpO,KAAKoO,KAAO,EACnDpO,KAAKktB,SACDltB,KAAKktB,OAAS,IAChBltB,KAAKktB,OAAS,GACdltB,KAAKotB,SACDptB,KAAKotB,OAAS,IAChBptB,KAAKotB,OAAS,GACdptB,KAAK2tB,KAAO3tB,KAAK2tB,KAAO3tB,KAAK2tB,KAAO,EAAI,MAIvC3tB,I,EAET+sB,GAAMxsB,UAAUgvB,OAAS,WAIvB,OAHAvvB,KAAKutB,WAAY,EACjBvtB,KAAKwtB,QAAUxtB,KAAMwtB,QAAU,EAAK,EAChB,GAAhBxtB,KAAKwtB,SAAgC,GAAhBxtB,KAAKwtB,SAAcxtB,KAAK0tB,YAC1C1tB,I,EAET+sB,GAAMxsB,UAAUivB,OAAS,WAIvB,OAHAxvB,KAAKutB,WAAY,EACjBvtB,KAAKwtB,QAAUxtB,KAAMwtB,QAAU,EAAK,EAChB,GAAhBxtB,KAAKwtB,SAAgC,GAAhBxtB,KAAKwtB,SAAcxtB,KAAKytB,YAC1CztB,I,EAGT+sB,GAAMxsB,UAAUkvB,KAAO,SAASnhB,GAE9B,GADMA,aAAawX,KAAOxX,EAAIwX,GAAK/b,MAAM,KAAMH,YACnC,KAAR0E,EAAE,IAAsB,KAARA,EAAE,IAAsB,GAARA,EAAE,IAAmB,GAARA,EAAE,IAAmB,KAARA,EAAE,GAU9D,OATAtO,KAAKoO,KAAO,CAAC,GAAI,GAAI,MAAO,IAAIE,EAAG,IAAM,EAAK,GAC9CtO,KAAK2tB,KAAc,GAAPrf,EAAE,GACdtO,KAAKotB,OAAS9e,EAAE,GAChBtO,KAAKktB,OAAS5e,EAAE,GAChBtO,KAAKmtB,MAAQ7e,EAAE,GACftO,KAAKwtB,QAAU,EACfxtB,KAAK0vB,OAAIjiB,EACTzN,KAAK2vB,QAAKliB,EACVzN,KAAK4vB,QAAKniB,GACH,EAET,GAAY,KAARa,EAAE,SAA6B,IAARA,EAAE,GAAmB,CAC9C,IAAI8Q,EAAI9Q,EAAE,IAAM,EACZ2B,EAAW,GAAP3B,EAAE,GAmCV,OAlCS,GAAL8Q,EACY,GAAVpf,KAAK0vB,IACQ,GAAX1vB,KAAK4vB,KACP5vB,KAAKgtB,MAAMK,GAAKrtB,KAAK6vB,KACrB7vB,KAAK0tB,aAEP1tB,KAAK0tB,aAGK,GAALtO,EACO,GAAVpf,KAAK0vB,GACP1vB,KAAKytB,YAGK,GAALrO,EACO,GAAVpf,KAAK0vB,GACP1vB,KAAK0tB,YAGK,GAALtO,GACQ,IAAXpf,KAAK0vB,IACS,IAAZ1vB,KAAK2vB,KACP3vB,KAAKgtB,MAAMK,GAAKrtB,KAAK6vB,KACrB7vB,KAAKytB,aAEPztB,KAAKytB,aAGJztB,KAAK6vB,KAAI7vB,KAAK6vB,GAAK,IACxB7vB,KAAK6vB,GAAGzQ,GAAKnP,EACbjQ,KAAK4vB,GAAK5vB,KAAK4vB,KAAOxQ,EAAI,GAAU,GAALA,EAASA,OAAI3R,EAC5CzN,KAAK2vB,GAAK3vB,KAAK2vB,KAAOvQ,EAAI,GAAU,GAALA,EAASA,OAAI3R,EAC5CzN,KAAK0vB,EAAItQ,EACTpf,KAAKwtB,QAAUpO,GACR,C,CAET,OAAO,C,EAoCT2N,GAAMxsB,UAAUmG,SAAW,WAAa,OAAOonB,GAAU,CAAC9tB,KAAK2tB,KAAM3tB,KAAKotB,OAAQptB,KAAKktB,OAAQltB,KAAKmtB,O,EACpGN,GAAIE,MAAQA,GACZnN,EAAGrf,UAAUwsB,MAAQA,GA0BrBjH,GAAKvlB,UAAY,GACjBulB,GAAKvlB,UAAU4R,YAAc2T,GAC7B,IAAIgK,GAAW,GAcf,SAASC,GAAOjwB,GAAK,GAAIA,GAAKkwB,WAAWlwB,GAAI,MAAMiO,UAAU,iBAAmBjO,E,CA0BhF,SAASmwB,KAAQ,CAvCjBnK,GAAKmI,UAAY,SAASnuB,GAAK,YAAmB,IAALA,OAAmB2N,EAAYqiB,GAAShwB,EAAE4G,WAAWqjB,c,EAClGjE,GAAKoI,aAAe,SAASpuB,GAAK,OAAOA,C,EACzCgmB,GAAKoK,YAAc,SAASpwB,GAC1B,IAAImQ,EAAI6f,GAAShwB,EAAE4G,WAAWqjB,eAE9B,YADgB,IAAL9Z,IAAkBA,EAAI6f,GAAShwB,EAAE4G,WAAWqjB,cAAgB,WACpD,IAAL9Z,OAAmBxC,EAAYwC,EAAI,E,EAEnD6V,GAAKqK,KAAO,SAASlgB,EAAG4S,GAItB,YAHgB,IAALA,IAAkBA,EAAI,KACjCkN,GAAOlN,GACH5S,GAAK+f,WAAW/f,KAAIA,EAAImgB,GAAKngB,IACzB4S,EAAIjgB,KAAKytB,IAAI,GAAIpgB,EAAI,IAAQ,G,EAGvC6V,GAAKxU,MAAQ,SAASsM,EAAG0S,GAIvB,YAHiB,IAANA,IAAmBA,EAAK,KACnCP,GAAOnS,GACPmS,GAAOO,GACoB,GAApB1tB,KAAK2tB,KAAK3S,EAAI0S,E,EAEvBxK,GAAK2C,KAAO,SAAS7K,EAAG0S,GACtB,OAAI1S,GAAKoS,WAAWpS,GAAWwS,GAAKxS,GAC7BkI,GAAKxU,MAAMsM,EAAG0S,GAAM,E,EAE7BxK,GAAK0K,KAAO,SAAS1wB,GAEnB,OADAiwB,GAAOjwB,GACAA,GAAK,EAAI,EAAIA,GAAK,EAAI,IAAO8C,KAAKmE,MAAU,IAAJjH,E,EAEjDgmB,GAAK2K,MAAQ,SAAS3wB,GAEpB,OADAiwB,GAAOjwB,GACAA,GAAK,EAAI,EAAIA,GAAK,EAAI,MAAS8C,KAAKmE,MAAU,MAAJjH,E,EAEnDgmB,GAAK4K,MAAQ,SAAS5wB,GACpB,YAAgB,IAALA,EAAyB,SACpCiwB,GAAOjwB,GACHA,GAAK,EAAU,GACnBA,GAAK8C,KAAKmE,MAAMjH,IAAM,IAAMgmB,GAAK2K,MAAM3wB,EAAI8C,KAAKmE,MAAMjH,KAC3C,QAAWA,EAAI,Q,EAG5BmwB,GAAM1vB,UAAYulB,GAClBA,GAAKY,MAAQ,IACbZ,GAAKc,KAAO,SAAShF,GAEnB,QADiB,IAANA,IAAmBA,EAAKkE,GAAKY,OACpC9E,GAAM5hB,KAAK0mB,MAAO,OAAO1mB,KAC7B4hB,EAAKiF,GAAIjF,GACT,IAAI/R,EAAM,IAAIogB,GAGd,OAFApgB,EAAIoW,IAAMjmB,KAAKimB,IACfpW,EAAI6W,MAAQ9E,EACL/R,C,EAETiW,GAAKiB,GAAK,SAAS5C,GACjB,GAAIA,GAAKnkB,KAAKimB,UAAmB,IAAL9B,QAAuC,IAAZnkB,KAAKimB,IAAoB,OAAOjmB,KACvF,IAAI6P,EAAM,IAAIogB,GAId,YAHgB,IAAL9L,IAAkBA,EAAI8B,GAAI9B,IACrCtU,EAAIoW,IAAM9B,EACVtU,EAAI6W,MAAQ1mB,KAAK0mB,MACV7W,C,EAGT,IAAI8gB,GAAW,CAAExM,EAAE,EAAGlJ,EAAE,EAAG3S,EAAE,EAAGsV,EAAE,EAAGgT,EAAE,EAAG/N,EAAE,EAAGgO,EAAE,GAAI3L,EAAE,IAgBvD,IAfArF,EAAK8Q,IAAU,SAAS1T,GACtB,IAAKhN,EAAI,EAAGA,EAAI,OACd3B,EAAIqiB,GAAS1T,GAAS,GAAJhN,GACV,KAFUA,IAGlB6f,GAAS7S,EAAIhN,GAAK3B,EAAGwhB,GAAS7S,EAAI,IAAMhN,GAAK3B,EACzCA,EAAI,IACNwhB,GAAS7S,EAAI,IAAMhN,GAAK3B,EAAI,EAAGwhB,GAAS7S,EAAI,IAAMhN,GAAK3B,EAAI,EAC3DwhB,GAAS7S,EAAI,KAAOhN,GAAK3B,EAAI,EAAGwhB,GAAS7S,EAAI,KAAOhN,GAAK3B,EAAI,EAAGwhB,GAAS7S,EAAI,KAAMhN,GAAK3B,EAAI,GAE1FA,EAAI,MACNwhB,GAAS7S,EAAI,IAAMhN,GAAK3B,EAAI,EAAGwhB,GAAS7S,EAAI,IAAMhN,GAAK3B,EAAI,EAC3DwhB,GAAS7S,EAAI,KAAOhN,GAAK3B,EAAI,EAAGwhB,GAAS7S,EAAI,KAAOhN,GAAK3B,EAAI,EAAGwhB,GAAS7S,EAAI,KAAMhN,GAAK3B,EAAI,E,IAI7F2B,EAAI,EAAGA,EAAI,IAAKA,IAAK6f,GAAS7f,GAAKA,EACxC,SAASke,GAAOruB,GAAK,MAAM4Q,WAAW,mBAAqB5Q,E,CAC3D,SAASye,GAAKze,GAAK,MAAMiO,UAAU,kBAAoBjO,E,CACvD,SAASgxB,GAAKhxB,GAAK,MAAM4Q,WAAW,iBAAmB5Q,E,CACvD,SAASmmB,GAAI9B,GAA0B,OAArBD,EAAiBC,GAAWC,SAASD,E,CACvD,SAAS0C,GAAI5W,EAAG3B,GAAyF,OAAhF2B,GAAKmU,SAASnU,IAAMA,EAAI,GAAKA,EAAI,MAAMke,QAAmB,IAAL7f,EAAmB2B,EAAI3B,GAAW8V,SAASnU,E,CACzH,SAAS8gB,GAAI9gB,GAA2D,OAAlDA,GAAKmU,SAASnU,IAAMA,EAAI,GAAKA,EAAI,MAAMke,GAAOle,GAAWmU,SAASnU,E,CACxF,SAAS+gB,GAAK/gB,GAA6D,OAApDA,GAAKmU,SAASnU,IAAMA,EAAI,GAAKA,EAAI,QAAQke,GAAOle,GAAWmU,SAASnU,E,CAC3F,SAASghB,GAAKhhB,GAAK,GAAIA,GAAKmU,SAASnU,IAAMA,EAAI,GAAKA,EAAI,MAAQ,MAAMS,WAAW,4BAA8BT,GAAI,OAAOmU,SAASnU,E,CACnI,SAASihB,GAAKjhB,GAA+D,OAAtDA,GAAKmU,SAASnU,IAAMA,EAAI,GAAKA,EAAI,UAAUke,GAAOle,GAAWmU,SAASnU,E,CAC7F,SAASmgB,GAAKngB,GAAK,OAAO4W,GAAIf,GAAKmI,UAAUhe,GAAIA,E,CACjD,SAASkhB,GAAKlhB,GAAK,OAAiB,IAAV+gB,GAAK/gB,E,CAC/B,SAASmhB,GAAKnhB,GAAK,OAAO+gB,GAAK/gB,IAAM,C,CACrC,SAASohB,GAAKtG,GAAKA,EAAI,GAAKA,EAAG,IAAK,IAAIlhB,EAAI,EAAGA,EAAIkhB,EAAExoB,OAAQsH,IAASkhB,EAAEuG,WAAWznB,GAAK,KAAKskB,GAAOpD,EAAElhB,IAAK,OAAOkhB,C,CAClH,SAASwG,GAAOthB,GAAK,MAAO,CAACA,GAAK,GAAIA,GAAM,EAAK,IAAU,IAAJA,E,CACvD,SAASuhB,GAAI1xB,EAAGC,GAGd,OAFID,GAAKkwB,WAAWlwB,IAAIye,QAAiB,IAALxe,EAAmBD,EAAIC,IACvDD,EAAI,GAAKA,EAAI,IAAGgxB,QAAiB,IAAL/wB,EAAmBD,EAAIC,GAChDiwB,WAAWlwB,E,CAEpB,SAAS2xB,GAAIZ,GAAK,YAAmB,IAALA,GAAqBA,EAAW,IAAP,G,CACzD,SAASa,GAAK5xB,GACZ,IAAImd,EAAG3O,EACHqjB,EAAM,GACNC,EAAM,GACV/R,EAAK/f,GAAG,SAASmd,GAGf,GAFA3O,EAAI4iB,GAAKpxB,EAAEmd,KACXA,EAAImT,GAAKnT,MACA2U,EAAK,MAAMlhB,WAAW,yBAA2BuM,GAC1D0U,EAAI7nB,KAAKmT,GACT2U,EAAI3U,GAAK3O,C,IAEXqjB,EAAIE,OACJ,IAAIlM,EAAM,CAACgM,EAAIpvB,QACf,IAAK0a,EAAI,EAAGA,EAAI0U,EAAIpvB,OAAQ0a,IAAK0I,EAAMA,EAAI5c,OAAO,CAAC4oB,EAAI1U,IAAKsU,GAAOK,EAAID,EAAI1U,MAC3E,OAAO0I,C,CAET,SAASmM,GAAOhyB,GACd,IAAI6lB,EAAM,GAEV,OADA9F,EAAM/f,GAAG,SAASmd,GAAK0I,EAAI1I,GAAK6I,GAAK4K,MAAM5wB,EAAEmd,IAAM+S,WAAWlwB,EAAEmd,IAAMnd,EAAEmd,GAAKmT,GAAKtwB,EAAEmd,I,IAC7E0I,C,CAET,SAASoM,GAAQjyB,GACf,IAAI6lB,EAAM,GAEV,OADA9F,EAAM/f,GAAG,SAASmd,GAAK0I,EAAI1I,GAAK6I,GAAK4K,MAAM5K,GAAK2C,KAAK3oB,EAAEmd,I,IAChD0I,C,CAET,SAASqM,GAAMnP,GACb,IAAI8C,EAAM,GACV,KAAM9C,aAAalZ,QAAsB,IAAZkZ,EAAEtgB,OAAc,MAAMwL,UAAU,gCAC7D,IAAK,IAAIlE,EAAI,EAAGA,EAAI,GAAIA,IAAK8b,EAAI7b,KAAK+c,GAAIhE,EAAEhZ,KAC5C,OAAO8b,C,CAET,SAASsM,GAAOpP,GACd,IAAI8C,EAAM,GACV,KAAM9C,aAAalZ,QAAsB,IAAZkZ,EAAEtgB,OAAc,MAAMwL,UAAU,gCAC7D,IAAK,IAAIlE,EAAI,EAAGA,EAAI,GAAIA,IACtB8b,EAAI7b,KAAKsnB,GAAKvO,EAAEhZ,KAChB8b,EAAI7b,KAAKqnB,GAAKtO,EAAEhZ,KAElB,OAAO8b,C,CAET,IAAIuM,GAAa,CACf/L,QAAS,SAAShC,EAAGlU,EAAG8V,GAA0C,YAArB,IAALA,IAAkBA,EAAI,IAAW,CAAC,IAAOE,GAAI9B,GAAIiM,GAAKngB,GAAI4W,GAAId,G,EACtGC,OAAQ,SAAS7B,EAAGlU,EAAG8V,GAA2C,YAAtB,IAALA,IAAkBA,EAAI,KAAY,CAAC,IAAOE,GAAI9B,GAAIiM,GAAKngB,GAAI4W,GAAId,G,EACtGoM,WAAY,SAAShO,EAAGlU,EAAG8V,GAAK,MAAO,CAAC,IAAOE,GAAI9B,GAAIiM,GAAKngB,GAAI4W,GAAId,G,GAElEqM,GAAY,CACdC,QAAS,SAASlO,EAAGlU,EAAG8V,GAAK,MAAO,CAAC,IAAOE,GAAI9B,GAAI0C,GAAI5W,GAAI4W,GAAId,G,EAChEuM,QAAS,SAASnO,EAAGlU,GAAK,MAAO,CAAC,IAAOgW,GAAI9B,GAAI0C,GAAIf,GAAKoI,aAAaje,GAAIA,G,EAC3EsiB,SAAU,SAASpO,EAAGlU,GAAK,MAAO,CAAC,IAAOgW,GAAI9B,GAAI0C,GAAI5W,G,EACtDuiB,UAAW,SAASrO,EAAGlU,EAAGwiB,GAAK,YAAmB,IAALA,EAAmB,CAAC,IAAOxM,GAAI9B,GAAIgN,GAAKlhB,GAAImhB,GAAKnhB,IAAM,CAAC,IAAOgW,GAAI9B,GAAI0C,GAAI4L,GAAI5L,GAAI5W,G,EAChIyiB,WAAY,SAASvO,EAAGrkB,GAAK,OAAOsyB,GAAUI,UAAUrO,EAAG2B,GAAK2K,OAAO3wB,EAAI,GAAK,G,EAChF6yB,QAAS,SAASxO,EAAGlU,GAAK,MAAO,CAAC,IAAOgW,GAAI9B,GAAI,EAAM0C,GAAI5W,G,EAC3D2iB,QAAS,SAASzO,EAAGlU,GAAK,MAAO,CAAC,IAAOgW,GAAI9B,GAAI,GAAM0C,GAAI5W,G,EAC3D4iB,OAAQ,SAAS1O,EAAGlU,GAAK,MAAO,CAAC,IAAOgW,GAAI9B,GAAI,EAAM0C,GAAI5W,G,EAC1D6iB,OAAQ,SAAS3O,EAAGlU,GAAK,MAAO,CAAC,IAAOgW,GAAI9B,GAAI,GAAM0C,GAAI5W,G,EAC1D8iB,UAAW,SAAS5O,EAAGlU,GAAK,MAAO,CAAC,IAAOgW,GAAI9B,GAAI,EAAM0C,GAAI5W,G,EAC7D+iB,UAAW,SAAS7O,EAAGlU,GAAK,MAAO,CAAC,IAAOgW,GAAI9B,GAAI,GAAM0C,GAAI5W,G,EAC7DgjB,QAAS,SAAS9O,EAAGlU,GAAK,MAAO,CAAC,IAAOgW,GAAI9B,GAAI,EAAM0C,GAAI5W,G,EAC3DijB,QAAS,SAAS/O,EAAGlU,GAAK,MAAO,CAAC,IAAOgW,GAAI9B,GAAI,GAAM0C,GAAI5W,G,EAC3DkjB,cAAe,SAAShP,EAAGlU,GAAK,MAAO,CAAC,IAAOgW,GAAI9B,GAAI,EAAM0C,GAAI5W,G,EACjEmjB,cAAe,SAASjP,EAAGlU,GAAK,MAAO,CAAC,IAAOgW,GAAI9B,GAAI,GAAM0C,GAAI5W,G,EACjEojB,QAAS,SAASlP,EAAGlU,GAAK,MAAO,CAAC,IAAOgW,GAAI9B,GAAI,EAAM0C,GAAI5W,G,EAC3DqjB,QAAS,SAASnP,EAAGlU,GAAK,MAAO,CAAC,IAAOgW,GAAI9B,GAAI,GAAM0C,GAAI5W,G,EAC3DsjB,UAAW,SAASpP,EAAGlU,GAAK,MAAO,CAAC,IAAOgW,GAAI9B,GAAI,EAAM0C,GAAI5W,G,EAC7DujB,UAAW,SAASrP,EAAGlU,GAAK,MAAO,CAAC,IAAOgW,GAAI9B,GAAI,GAAM0C,GAAI5W,G,EAC7DwjB,WAAY,SAAStP,EAAGlU,GAAK,MAAO,CAAC,IAAOgW,GAAI9B,GAAI,EAAM0C,GAAI5W,G,EAC9DyjB,WAAY,SAASvP,EAAGlU,GAAK,MAAO,CAAC,IAAOgW,GAAI9B,GAAI,GAAM0C,GAAI5W,G,EAC9D0jB,OAAQ,SAASxP,EAAGlU,GAAK,MAAO,CAAC,IAAOgW,GAAI9B,GAAI,GAAM0C,GAAI5W,G,EAC1D2jB,OAAQ,SAASzP,EAAGlU,GAAK,MAAO,CAAC,IAAOgW,GAAI9B,GAAI,GAAM0C,GAAI5W,G,EAC1D4jB,cAAe,SAAS1P,EAAGlU,GAAK,MAAO,CAAC,IAAOgW,GAAI9B,GAAI,GAAM0C,GAAI5W,G,EACjE6jB,cAAe,SAAS3P,EAAGlU,GAAK,MAAO,CAAC,IAAOgW,GAAI9B,GAAI,GAAM0C,GAAI5W,G,EACjE8jB,OAAQ,SAAS5P,EAAG0M,GAA4C,YAAvB,IAALA,IAAkBA,GAAI,GAAa,CAAC,IAAO5K,GAAI9B,GAAI,GAAM0M,EAAI,IAAM,E,EACvGmD,WAAY,SAAS7P,EAAG0M,GAA4C,YAAvB,IAALA,IAAkBA,GAAI,GAAa,CAAC,IAAO5K,GAAI9B,GAAI,GAAM0M,EAAI,IAAM,E,EAC3GhV,UAAW,SAASsI,EAAG0M,GAA4C,YAAvB,IAALA,IAAkBA,GAAI,GAAa,CAAC,IAAO5K,GAAI9B,GAAI,GAAM0M,EAAI,IAAM,E,EAC1GoD,KAAM,SAAS9P,EAAG0M,GAA4C,YAAvB,IAALA,IAAkBA,GAAI,GAAa,CAAC,IAAO5K,GAAI9B,GAAI,GAAM0M,EAAI,IAAM,E,EACrGqD,OAAQ,SAAS/P,EAAG0M,GAA4C,YAAvB,IAALA,IAAkBA,GAAI,GAAa,CAAC,IAAO5K,GAAI9B,GAAI,GAAM0M,EAAI,IAAM,E,EACvGsD,MAAO,SAAShQ,EAAG0M,GAA4C,YAAvB,IAALA,IAAkBA,GAAI,GAAa,CAAC,IAAO5K,GAAI9B,GAAI,GAAM0M,EAAI,IAAM,E,EACtGuD,eAAgB,SAASjQ,EAAGlU,GAAK,MAAO,CAAC,IAAOgW,GAAI9B,GAAI,GAAMiM,GAAKngB,G,EACnEokB,gBAAiB,SAASlQ,EAAGlU,GAAK,MAAO,CAAC,IAAOgW,GAAI9B,GAAI,GAAMiM,GAAKngB,G,EACpE6H,YAAa,SAASqM,EAAGlU,GAAK,MAAO,CAAC,IAAOgW,GAAI9B,GAAI,GAAMiM,GAAKngB,G,EAChEqkB,WAAY,SAASnQ,EAAGlU,GAAK,MAAO,CAAC,IAAOgW,GAAI9B,GAAI,GAAMiM,GAAKngB,G,EAC/DskB,WAAY,SAASpQ,EAAGlU,GAAK,MAAO,CAAC,IAAOgW,GAAI9B,GAAI,GAAMiM,GAAKngB,G,EAC/DukB,UAAW,SAASrQ,EAAGlU,GAAK,MAAO,CAAC,IAAOgW,GAAI9B,GAAI,GAAMiM,GAAKngB,G,EAC9DwkB,YAAa,SAAStQ,EAAGlU,GAAK,MAAO,CAAC,IAAOgW,GAAI9B,GAAI,GAAMiM,GAAKngB,G,EAChEykB,aAAc,SAASvQ,EAAGlU,GAAK,MAAO,CAAC,IAAOgW,GAAI9B,GAAI,GAAMiM,GAAKngB,G,EACjE0kB,aAAc,SAASxQ,EAAGlU,GAAK,MAAO,CAAC,IAAOgW,GAAI9B,GAAI,GAAMiM,GAAKngB,G,EACjE2kB,IAAK,SAASzQ,EAAGlU,GAAK,MAAO,CAAC,IAAOgW,GAAI9B,GAAI,GAAMiM,GAAKngB,G,EACxD4kB,SAAU,SAAS1Q,GAAK,MAAO,CAAC,IAAO8B,GAAI9B,GAAI,GAAM,E,EACrD2Q,SAAU,SAAS3Q,GAAK,MAAO,CAAC,IAAO8B,GAAI9B,GAAI,GAAM,E,EACrD4Q,QAAS,SAAS5Q,EAAGlU,GAAK,MAAO,CAAC,IAAOgW,GAAI9B,GAAI,GAAM0C,GAAI5W,G,EAC3D+kB,QAAS,SAAS7Q,EAAGlU,GAAK,MAAO,CAAC,IAAOgW,GAAI9B,GAAI,GAAM0C,GAAI5W,G,EAC3DglB,OAAQ,SAAS9Q,EAAGlU,GAAK,MAAO,CAAC,IAAOgW,GAAI9B,GAAI,IAAM0C,GAAI5W,G,EAC1DilB,OAAQ,SAAS/Q,EAAGlU,GAAK,MAAO,CAAC,IAAOgW,GAAI9B,GAAI,IAAM0C,GAAI5W,G,EAC1DklB,YAAa,SAAShR,GAAK,MAAO,CAAC,IAAO8B,GAAI9B,GAAI,IAAM,E,EACxDiR,oBAAqB,SAASjR,GAAK,MAAO,CAAC,IAAO8B,GAAI9B,GAAI,IAAM,E,EAChEkR,aAAc,SAASlR,EAAG0M,GAA4C,YAAvB,IAALA,IAAkBA,GAAI,GAAa,CAAC,IAAO5K,GAAI9B,GAAI,IAAM0M,EAAI,IAAM,E,EAC7GyE,YAAa,SAASnR,GAAK,MAAO,CAAC,IAAO8B,GAAI9B,GAAI,IAAM,E,EACxDoR,KAAM,SAASpR,EAAG0M,GAA4C,YAAvB,IAALA,IAAkBA,GAAI,GAAa,CAAC,IAAO5K,GAAI9B,GAAI0M,EAAI,IAAO,IAAM,E,EACtG2E,KAAM,SAASrR,EAAGlU,GAAyC,YAApB,IAALA,IAAkBA,EAAI,GAAU,CAAC,IAAOgW,GAAI9B,GAAI,IAAM0C,GAAI5W,G,EAC5FwlB,KAAM,SAAStR,GAAK,MAAO,CAAC,IAAO8B,GAAI9B,GAAI,IAAM,E,GAEnD,SAASuR,GAAmB7S,EAAGgO,EAAG1M,EAAGlJ,GACnC,YAAgB,IAAL4V,EAAyB,CAAChK,GAAIhE,GAAIgE,GAAIgK,GAAIhK,GAAI1C,GAAI0C,GAAI5L,MAC7D4H,GAAKuB,SAASvB,IAAMA,EAAI,GAAK5S,EAAI,QAAQsO,GAAKsE,GAE3C,EADPA,EAAIuB,SAASvB,KACC,GAAM,GAAKA,GAAM,EAAK,GAAKA,GAAM,EAAK,GAAS,GAAJA,G,CAE3D,SAAS8S,GAAS71B,GAEhB,OADAiwB,GAAOjwB,GACA8C,KAAKU,MAAU,IAAJxD,EAAW,K,CAE/B,IAAI81B,GAAY,CACdC,IAAK,SAAS3b,GAAK,MAAO,CAAC,IAAMoT,GAAKpT,G,EACtC4b,aAAc,SAAS7lB,EAAGwiB,GAAK,YAAmB,IAALA,EAAmB,CAAC,IAAMtB,GAAKlhB,GAAImhB,GAAKnhB,IAAM,CAAC,IAAM4W,GAAI4L,GAAI5L,GAAI5W,G,EAC9G8lB,WAAY,SAAS9lB,GAAK,MAAO,CAAC,IAAM4W,GAAI5W,G,EAC5C+lB,KAAM,WAAa,MAAO,CAAC,I,EAC3BC,MAAO,WAAa,MAAO,CAAC,I,EAC5Bpb,MAAO,WAAa,MAAO,CAAC,I,EAC5Bqb,SAAU,WAAa,MAAO,CAAC,I,EAC/BC,KAAM,WAAa,MAAO,CAAC,I,EAC3BC,OAAQ,WAAa,MAAO,CAAC,I,EAC7BC,YAAa,WAAa,MAAO,CAAC,IAAM,IAAMr2B,KAAK0mB,MAAO,EAAM,EAAM,I,EACtE4P,oBAAqB,SAASrmB,EAAGgN,GAAK,YAAmB,IAALA,EAClD,CAAC,IAAM,IAAMjd,KAAK0mB,MAAO,EAAM,EAAMG,GAAI5W,GAAI,KAAQ,CAAC,IAAM,IAAMjQ,KAAK0mB,MAAO,EAAM,EAAMG,GAAI5W,GAAI4W,GAAI5J,GAAI,I,EAC5GsZ,YAAa,SAASrc,GAAK,MAAO,CAAC,IAAM,IAAMla,KAAK0mB,MAAO,EAAM,EAAMkH,GAAQ1T,GAAIA,EAAE6U,YAAa7U,EAAE+U,YAAa/U,EAAEiV,WAAY,I,EAC/HqH,eAAgB,SAASvmB,EAAGwiB,GAAK,YAAmB,IAALA,EAC7C,CAAC,IAAM,IAAMzyB,KAAK0mB,MAAO,EAAM,EAAMyK,GAAKlhB,GAAImhB,GAAKnhB,GAAI,KAAQ,CAAC,IAAM,IAAMjQ,KAAK0mB,MAAO,EAAM,EAAMG,GAAI4L,GAAI5L,GAAI5W,GAAI,I,EACtHwmB,gBAAiB,SAAS32B,GAAK,OAAO81B,GAAUY,eAAejuB,KAAKvI,KAAM8lB,GAAK2K,MAAMe,GAAI1xB,I,EACzF42B,mBAAoB,SAASzmB,EAAGwiB,GAAK,YAAmB,IAALA,EACjD,CAAC,IAAM,IAAMzyB,KAAK0mB,MAAO,EAAM,EAAMyK,GAAKlhB,GAAImhB,GAAKnhB,GAAI,KAAQ,CAAC,IAAM,IAAMjQ,KAAK0mB,MAAO,EAAM,EAAMG,GAAI4L,GAAI5L,GAAI5W,GAAI,I,EACtH0mB,oBAAqB,SAAS72B,GAAK,OAAO81B,GAAUc,mBAAmBnuB,KAAKvI,KAAM8lB,GAAK2K,MAAMe,IAAK1xB,EAAI,EAAI,GAAK,EAAGA,I,EAClH82B,qBAAsB,SAAS3mB,GAAK,MAAO,CAAC,IAAM,IAAMjQ,KAAK0mB,MAAO,EAAM,EAAM,EAAMG,GAAI5W,GAAI,I,EAC9F4mB,sBAAuB,SAAS/2B,GAAK,OAAO81B,GAAUgB,qBAAqBruB,KAAKvI,KAAcF,EAAIA,EAAI,EAAhB,G,EACtFg3B,aAAc,SAASjU,EAAGgO,EAAG1M,EAAGlJ,GAAK,OAAO4V,GAAKzM,SAASyM,GACxD,CAAC,IAAMY,GAAIxW,GAAIjb,KAAK0mB,MAAO,EAAM,EAAMG,GAAIhE,GAAIgE,GAAIgK,IAAI9nB,OAAO2oB,GAAKvN,GAAI,CAAC,MACxE,CAAC,IAAM,IAAMnkB,KAAK0mB,MAAO,EAAM,EAAMG,GAAIhE,IAAI9Z,OAAO2oB,GAAKb,GAAI,CAAC,K,EAChEkG,cAAe,SAASlU,EAAGgO,EAAG1M,EAAGlJ,GAAK,OAAO4V,GAAKzM,SAASyM,GACzD+E,GAAUkB,aAAavuB,KAAKvI,KAAM6iB,EAAGgO,EAAGiB,GAAO3N,GAAIlJ,GAAK2a,GAAUkB,aAAavuB,KAAKvI,KAAM6iB,EAAGiP,GAAOjB,G,EACtGmG,eAAgB,SAASnU,EAAGgO,EAAG1M,EAAGlJ,GAAK,OAAO4V,GAAKzM,SAASyM,GAC1D+E,GAAUkB,aAAavuB,KAAKvI,KAAM6iB,EAAGgO,EAAGkB,GAAQ5N,GAAIlJ,GAAK2a,GAAUkB,aAAavuB,KAAKvI,KAAM6iB,EAAGkP,GAAQlB,G,EACxGoG,eAAgB,SAASpU,EAAGgO,EAAG1M,GAAK,OAAOtB,GAAKuB,SAASvB,GACvD,CAAC,IAAM4O,GAAItN,GAAInkB,KAAK0mB,MAAO,EAAM,GAAM3d,OAAOwoB,GAAON,GAAKpO,IAAKmP,GAAMnB,GAAI,CAAC,MAC1E+E,GAAUqB,eAAe1uB,KAAKvI,KAAM,MAAQ6iB,EAAGgO,E,EACjDqG,gBAAiB,SAASrU,EAAGgO,EAAG1M,GAAK,GAAItB,GAAKuB,SAASvB,GAAI,OAAO+S,GAAUsB,gBAAgB3uB,KAAKvI,KAAM,MAAQ6iB,EAAGgO,GACpG,IAAZ,IAAI9K,EAAI,GAAalc,EAAI,EAAGA,EAAIgnB,EAAEtuB,OAAQsH,IAAK,CAC7C,GAAIgnB,EAAEhnB,IAAK,KAASgnB,EAAEhnB,GAAK,IAAM,MAAM6G,WAAW,iBAAmBmgB,EAAEhnB,IACvEkc,EAAEjc,KAAKlH,KAAKmE,MAAa,IAAP8pB,EAAEhnB,GAAW,I,CACjC,OAAO+rB,GAAUqB,eAAe1uB,KAAKvI,KAAM6iB,EAAGkD,EAAG5B,E,EACnDgT,eAAgB,SAAStU,EAAGgO,EAAG1M,GAAK,OAAOtB,GAAKuB,SAASvB,GACvD,CAAC,IAAM4O,GAAItN,GAAInkB,KAAK0mB,MAAO,EAAM,GAAM3d,OAAOwoB,GAAON,GAAKpO,IAAKoP,GAAOpB,GAAI,CAAC,MAC3E+E,GAAUuB,eAAe5uB,KAAKvI,KAAM,MAAQ6iB,EAAGgO,E,EACjDuG,gBAAiB,SAASvU,EAAGgO,EAAG1M,GAAK,GAAItB,GAAKuB,SAASvB,GAAI,OAAO+S,GAAUwB,gBAAgB7uB,KAAKvI,KAAM,MAAQ6iB,EAAGgO,GACpG,IAAZ,IAAI9K,EAAI,GAAalc,EAAI,EAAGA,EAAIgnB,EAAEtuB,OAAQsH,IAAK,CAC7C,IAAI/J,GAAK+wB,EAAEhnB,GAAK,GAAK,EACrB,GAAI/J,GAAI,GAAMA,EAAI,EAAG,MAAM4Q,WAAW,iBAAmBmgB,EAAEhnB,IAC3Dkc,EAAEjc,KAAKgc,GAAK2K,OAAOI,EAAEhnB,GAAK,GAAK,G,CACjC,OAAO+rB,GAAUuB,eAAe5uB,KAAKvI,KAAM6iB,EAAGkD,EAAG5B,E,EACnDkT,KAAM,SAASC,GAA4C,YAArB,IAANA,IAAmBA,EAAK,GAAU,CAAC,IAAM,IAAMt3B,KAAK0mB,MAAO,EAAM4Q,EAAW,GAANA,EAAU,EAAI,EAAI,EAAG,I,EAC3HC,KAAM,SAASnnB,GAEb,IAFoB,IAAIhQ,OAAoB,IAAPgQ,EAAqB,CAAC,GAAM,EAAG,IAAM,GAAKA,aAAezG,MAAQyG,EAAMxG,UACxGua,EAAI,EAAOtB,EAAI,CAAC,IAAM,GAAM7iB,KAAK0mB,MAAO,GAAM,IACzC7c,EAAI,EAAGA,EAAIzJ,EAAImC,OAAQsH,IAAK,CAAE,IAAI/J,EAAI+mB,GAAIzmB,EAAIyJ,IAAKgZ,EAAE/Y,KAAKhK,GAAIqkB,GAAKrkB,C,CAC3B,OAAjDqkB,GAAK,IAAKtB,EAAE/Y,KAAKqa,EAAI,IAAMA,EAAI,GAAItB,EAAE/Y,KAAK,KAAc+Y,C,EAC1D2U,KAAM,SAASpnB,GAAO,IAAIhQ,OAAoB,IAAPgQ,EAAqB,CAAC,EAAG,EAAG,IAAM,GAAKA,aAAezG,MAAQyG,EAAMxG,UACrG6tB,EAAqB,KAAdz3B,KAAK0mB,MAAgB,EAAI1mB,KAAK0mB,MACrC+Q,EAAO,IAAItJ,GAAO,6BAA+BsJ,GAErD,IADA,IAAI5U,EAAI,CAAC,IAAM,GAAM,GAAK4U,EAAM,IACvB5tB,EAAI,EAAGA,EAAIzJ,EAAImC,OAAQsH,IAAKgZ,EAAE/Y,KAAK+c,GAAIzmB,EAAIyJ,KAAoB,OAAdgZ,EAAE/Y,KAAK,KAAc+Y,C,EACjF6U,WAAY,SAASznB,EAAG8a,GACtB,IAAIlI,EAAI,CAAC,IAAM,EAAM,GAAM,GAAM,EAAMgE,GAAI5W,GAAK,IAChD8a,OAAgB,IAALA,EAAmB,GAAK,GAAKA,EACxC,IAAK,IAAIlhB,EAAI,EAAGA,EAAIkhB,EAAExoB,OAAQsH,IAAKgZ,EAAE/Y,KAAK+c,GAAIkE,EAAEuG,WAAWznB,KAC7C,OAAdgZ,EAAE/Y,KAAK,KAAc+Y,C,EACvB8U,eAAgB,SAAS1nB,GAAK,OAAO2lB,GAAU2B,KAAKhvB,KAAKvI,KAAM,CAAC,GAAM,EAAG,EAAG6mB,GAAI5W,I,EAChF2nB,gBAAiB,SAAS93B,GAAK,OAAO81B,GAAU+B,eAAepvB,KAAKvI,KAAM8lB,GAAK0K,KAAKgB,GAAI1xB,I,EACxF+3B,mBAAoB,SAAShV,EAAGgO,EAAG1M,EAAGlJ,GAAyC,OAApC4H,EAAI6S,GAAmB7S,EAAGgO,EAAG1M,EAAGlJ,GAAW2a,GAAU2B,KAAKhvB,KAAKvI,KAAM,CAAC,GAAM,EAAG,EAAG6iB,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,I,EACjJiV,oBAAqB,SAASh4B,GAAK,OAAO81B,GAAUiC,mBAAmBtvB,KAAKvI,KAAM21B,GAAS71B,EAAI,G,EAC/Fi4B,qBAAsB,SAAS9nB,GAAK,OAAO2lB,GAAU2B,KAAKhvB,KAAKvI,KAAM,CAAC,GAAM,EAAG,EAAG6mB,GAAI5W,I,EACtF+nB,sBAAuB,SAASl4B,GAAK,OAAO81B,GAAUmC,qBAAqBxvB,KAAKvI,KAAcF,EAAIA,EAAI,EAAhB,G,EACtFm4B,eAAgB,SAAS9T,EAAGlU,EAAGnQ,GAAK,OAAO81B,GAAU2B,KAAKhvB,KAAKvI,KAAM,CAAC,GAAM,GAAO,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,IAAIimB,GAAI9B,IAAK,GAAO2B,GAAKoK,YAAYjgB,GAAI4W,GAAI/mB,I,EAC/Ko4B,gBAAiB,SAAS/T,EAAGlU,EAAGnQ,GAAK,GAAIA,GAAI,KAASA,EAAI,IAAM,MAAM4Q,WAAW,iBAAmB5Q,GAClG,OAAO81B,GAAUqC,eAAe1vB,KAAKvI,KAAMmkB,EAAGlU,EAAGrN,KAAKmE,MAAU,IAAJjH,EAAU,I,EACxEq4B,eAAgB,SAASloB,GAAK,OAAO2lB,GAAU4B,KAAKjvB,KAAKvI,KAAM,CAAC,EAAG,EAAG,EAAG6mB,GAAI5W,I,EAC7EmoB,gBAAiB,SAASt4B,GAAK,OAAO81B,GAAUuC,eAAe5vB,KAAKvI,KAAM8lB,GAAK0K,KAAKgB,GAAI1xB,I,EACxFu4B,mBAAoB,SAASxV,EAAGgO,EAAG1M,EAAGlJ,GAAyC,OAApC4H,EAAI6S,GAAmB7S,EAAGgO,EAAG1M,EAAGlJ,GAAW2a,GAAU4B,KAAKjvB,KAAKvI,KAAM,CAAC,EAAG,EAAG,EAAG6iB,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,I,EAC9IyV,oBAAqB,SAASx4B,GAAK,OAAO81B,GAAUyC,mBAAmB9vB,KAAKvI,KAAM21B,GAAS71B,EAAI,G,EAC/Fy4B,qBAAsB,SAAStoB,GAAK,OAAO2lB,GAAU4B,KAAKjvB,KAAKvI,KAAM,CAAC,EAAG,EAAG,EAAG6mB,GAAI5W,I,EACnFuoB,sBAAuB,SAAS14B,GAAK,OAAO81B,GAAU2C,qBAAqBhwB,KAAKvI,KAAcF,EAAIA,EAAI,EAAhB,G,EACtF24B,eAAgB,SAAStU,EAAGlU,EAAGnQ,GAAK,OAAO81B,GAAU4B,KAAKjvB,KAAKvI,KAAM,CAAC,EAAGimB,GAAI9B,GAAI,GAAO2B,GAAKoK,YAAYjgB,GAAI4W,GAAI/mB,I,EACjH44B,gBAAiB,SAASvU,EAAGlU,EAAGnQ,GAAK,GAAIA,GAAI,KAASA,EAAI,IAAM,MAAM4Q,WAAW,iBAAmB5Q,GAClG,OAAO81B,GAAU6C,eAAelwB,KAAKvI,KAAMmkB,EAAGlU,EAAGrN,KAAKmE,MAAU,IAAJjH,EAAU,I,EACxEktB,MAAO,WAAa,MAAO,CAAC,I,GAE9B4I,GAAU+C,cAAgB/C,GAAUuB,eACpCvB,GAAUgD,eAAiBhD,GAAUwB,gBACrCxB,GAAUiD,kBAAoBjD,GAAUgB,qBACxChB,GAAUkD,mBAAqBlD,GAAUiB,sBACzCjB,GAAUmD,kBAAoBnD,GAAUmC,qBACxCnC,GAAUoD,mBAAqBpD,GAAUoC,sBACzCpC,GAAUqD,kBAAoBrD,GAAU2C,qBACxC3C,GAAUsD,mBAAqBtD,GAAU4C,sBACzC,IAAIW,GAAa,CACfC,KAAM,SAASjV,EAAG7V,EAAGmkB,GAAK,YAAmB,IAALA,EACtC,CAACL,GAAUO,QAAQxO,EAAGiN,GAAK9iB,IAAK8jB,GAAUQ,QAAQzO,EAAGgN,GAAK7iB,KAAO,CAAC8jB,GAAUO,QAAQxO,EAAG7V,GAAI8jB,GAAUQ,QAAQzO,EAAGsO,G,EAClH4G,KAAM,SAASlV,EAAGrkB,GAAK,OAAOq5B,GAAWG,IAAInV,EAAG2B,GAAK2K,MAAM3wB,G,EAC3Dw5B,IAAK,SAASnV,EAAG7V,EAAGmkB,GAAK,YAAmB,IAALA,EACrC,CAACL,GAAUS,OAAO1O,EAAGiN,GAAK9iB,IAAK8jB,GAAUU,OAAO3O,EAAGgN,GAAK7iB,KAAO,CAAC8jB,GAAUS,OAAO1O,EAAG7V,GAAI8jB,GAAUU,OAAO3O,EAAGsO,G,EAC9G8G,QAAS,SAASpV,EAAGrkB,GAAK,OAAOq5B,GAAWK,OAAOrV,EAAG2B,GAAK2K,MAAM3wB,G,EACjE05B,OAAQ,SAASrV,EAAG7V,EAAGmkB,GAAK,YAAmB,IAALA,EACxC,CAACL,GAAUW,UAAU5O,EAAGiN,GAAK9iB,IAAK8jB,GAAUY,UAAU7O,EAAGgN,GAAK7iB,KAAO,CAAC8jB,GAAUW,UAAU5O,EAAG7V,GAAI8jB,GAAUY,UAAU7O,EAAGsO,G,EAC1HgH,MAAO,SAAStV,EAAGrkB,GAAK,OAAOq5B,GAAWO,KAAKvV,EAAG2B,GAAK2K,MAAM3wB,G,EAC7D45B,KAAM,SAASvV,EAAG7V,EAAGmkB,GAAK,YAAmB,IAALA,EACtC,CAACL,GAAUa,QAAQ9O,EAAGiN,GAAK9iB,IAAK8jB,GAAUc,QAAQ/O,EAAGgN,GAAK7iB,KAAO,CAAC8jB,GAAUa,QAAQ9O,EAAG7V,GAAI8jB,GAAUc,QAAQ/O,EAAGsO,G,EAClHkH,gBAAiB,SAASxV,EAAGrkB,GAAK,OAAOq5B,GAAWS,eAAezV,EAAG2B,GAAK2K,MAAM3wB,G,EACjF85B,eAAgB,SAASzV,EAAG7V,EAAGmkB,GAAK,YAAmB,IAALA,EAChD,CAACL,GAAUe,cAAchP,EAAGiN,GAAK9iB,IAAK8jB,GAAUgB,cAAcjP,EAAGgN,GAAK7iB,KAAO,CAAC8jB,GAAUe,cAAchP,EAAG7V,GAAI8jB,GAAUgB,cAAcjP,EAAGsO,G,EAC1IoH,MAAO,SAAS1V,EAAGrkB,GAAK,OAAOq5B,GAAW5mB,KAAK4R,EAAG2B,GAAK2K,MAAM3wB,G,EAC7DyS,KAAM,SAAS4R,EAAG7V,EAAGmkB,GAAK,YAAmB,IAALA,EACtC,CAACL,GAAUiB,QAAQlP,EAAGiN,GAAK9iB,IAAK8jB,GAAUkB,QAAQnP,EAAGgN,GAAK7iB,KAAO,CAAC8jB,GAAUiB,QAAQlP,EAAG7V,GAAI8jB,GAAUkB,QAAQnP,EAAGsO,G,EAClHqH,QAAS,SAAS3V,EAAGrkB,GAAK,OAAOq5B,GAAWpe,OAAOoJ,EAAG2B,GAAK2K,MAAM3wB,G,EACjEib,OAAQ,SAASoJ,EAAG7V,EAAGmkB,GAAK,YAAmB,IAALA,EACxC,CAACL,GAAUmB,UAAUpP,EAAGiN,GAAK9iB,IAAK8jB,GAAUoB,UAAUrP,EAAGgN,GAAK7iB,KAAO,CAAC8jB,GAAUmB,UAAUpP,EAAG7V,GAAI8jB,GAAUoB,UAAUrP,EAAGsO,G,EAC1HsH,SAAU,SAAS5V,EAAGrkB,GAAK,OAAOq5B,GAAWa,QAAQ7V,EAAG2B,GAAK2K,OAAO3wB,EAAI,GAAK,G,EAC7Ek6B,QAAS,SAAS7V,EAAG7V,EAAGmkB,GAAK,YAAmB,IAALA,EACzC,CAACL,GAAUqB,WAAWtP,EAAGiN,GAAK9iB,IAAK8jB,GAAUsB,WAAWvP,EAAGgN,GAAK7iB,KAAO,CAAC8jB,GAAUqB,WAAWtP,EAAG7V,GAAI8jB,GAAUsB,WAAWvP,EAAGsO,G,EAC9HwH,KAAM,SAAS9V,EAAGrkB,GAAK,OAAOq5B,GAAWe,IAAI/V,EAAG2B,GAAK2K,OAAO3wB,EAAI,GAAK,G,EACrEo6B,IAAK,SAAS/V,EAAG7V,EAAGmkB,GAAK,YAAmB,IAALA,EACrC,CAACL,GAAUuB,OAAOxP,EAAGiN,GAAK9iB,IAAK8jB,GAAUwB,OAAOzP,EAAGgN,GAAK7iB,KAAO,CAAC8jB,GAAUuB,OAAOxP,EAAG7V,GAAI8jB,GAAUwB,OAAOzP,EAAGsO,G,EAC9G0H,YAAa,SAAShW,EAAGrkB,GAAK,OAAOq5B,GAAWiB,WAAWjW,EAAG2B,GAAK2K,MAAM3wB,G,EACzEs6B,WAAY,SAASjW,EAAG7V,EAAGmkB,GAAK,YAAmB,IAALA,EAC5C,CAACL,GAAUyB,cAAc1P,EAAGiN,GAAK9iB,IAAK8jB,GAAU0B,cAAc3P,EAAGgN,GAAK7iB,KAAO,CAAC8jB,GAAUyB,cAAc1P,EAAG7V,GAAI8jB,GAAU0B,cAAc3P,EAAGsO,G,EAC1I4H,KAAM,SAASlW,EAAG7V,EAAGmkB,GAAK,YAAmB,IAALA,EACtC,CAACL,GAAU4C,QAAQ7Q,EAAGiN,GAAK9iB,IAAK8jB,GAAU2C,QAAQ5Q,EAAGgN,GAAK7iB,KAAO,CAAC8jB,GAAU4C,QAAQ7Q,EAAG7V,GAAI8jB,GAAU2C,QAAQ5Q,EAAGsO,G,EAClH6H,IAAK,SAASnW,EAAG7V,EAAGmkB,GAAK,YAAmB,IAALA,EACrC,CAACL,GAAU8C,OAAO/Q,EAAGiN,GAAK9iB,IAAK8jB,GAAU6C,OAAO9Q,EAAGgN,GAAK7iB,KAAO,CAAC8jB,GAAU8C,OAAO/Q,EAAG7V,GAAI8jB,GAAU6C,OAAO9Q,EAAGsO,G,EAC9G8H,kBAAmB,SAASpW,EAAG7V,EAAGmkB,GAAK,OAAO0G,GAAWmB,IAAInW,EAAG,EAAG,GAAGpb,OAAOowB,GAAW5mB,KAAK4R,EAAG7V,EAAGmkB,G,EACnG+H,mBAAoB,SAASrW,EAAGrkB,GAAK,OAAOq5B,GAAWoB,kBAAkBpW,EAAG0C,GAAI/mB,EAAIA,EAAI,GAAI8C,KAAKmE,MAAMjH,EAAK,EAAK,K,EACjH26B,cAAe,SAAStW,EAAG7V,EAAGmkB,GAAK,OAAO0G,GAAWmB,IAAInW,EAAG,EAAG,GAAGpb,OAAOowB,GAAW5mB,KAAK4R,EAAG7V,EAAGmkB,G,EAC/FiI,eAAgB,SAASvW,EAAGrkB,GAAK,OAAOq5B,GAAWmB,IAAInW,EAAG,EAAG,GAAGpb,OAAOowB,GAAWU,MAAM1V,GAAIrkB,EAAI,EAAI,GAAK,G,EACzG66B,gBAAiB,SAASxW,EAAG7V,GAAK,OAAO6qB,GAAWmB,IAAInW,EAAG,EAAG,GAAGpb,OAAO,CAACqpB,GAAUiB,QAAQlP,EAAG7V,I,EAC9FssB,iBAAkB,SAASzW,EAAGrkB,GAAK,OAAOq5B,GAAWmB,IAAInW,EAAG,EAAG,GAAGpb,OAAO,CAACqpB,GAAUiB,QAAQlP,EAAWrkB,EAAIA,EAAI,EAAhB,K,EAC/F+6B,UAAW,SAAS1W,EAAGlU,EAAG3B,EAAGmkB,GAAK,OAAO0G,GAAWwB,gBAAgBxW,EAAGlU,GAAGlH,OAAOowB,GAAWsB,cAActW,EAAG7V,EAAGmkB,G,EAChHqI,WAAY,SAAS3W,EAAGrkB,GAAK,OAAOq5B,GAAWyB,iBAAiBzW,EAAGrkB,GAAGiJ,OAAOowB,GAAWuB,eAAevW,EAAGrkB,G,EAC1Gi7B,WAAY,SAAS5W,EAAGtB,GAAK,OAAOsW,GAAW2B,WAAW3W,EAAG2B,GAAKxU,MAAMuR,G,EACxEmY,uBAAwB,SAAS7W,EAAGlU,GAAK,OAAOkpB,GAAWmB,IAAInW,EAAG,EAAG,GAAGpb,OAAO,CAACqpB,GAAUiB,QAAQlP,EAAGlU,I,EACrGgrB,oBAAqB,SAAS9W,EAAGlU,GAAK,OAAOkpB,GAAWmB,IAAInW,EAAG,EAAG,GAAGpb,OAAO,CAACqpB,GAAUiB,QAAQlP,EAAGlU,I,EAClGirB,gBAAiB,SAAS/W,EAAGlU,EAAGgN,GAAK,YAAmB,IAALA,EACjDkc,GAAW6B,uBAAuB7W,EAAGlU,GAAKkpB,GAAW8B,oBAAoB9W,EAAGlU,GAAGlH,OAAOowB,GAAW6B,uBAAuB7W,EAAGlH,G,EAC7Hke,wBAAyB,SAAShX,EAAG7V,EAAGmkB,GAAK,OAAO0G,GAAWmB,IAAInW,EAAG,EAAG,GAAGpb,OAAOowB,GAAW5mB,KAAK4R,EAAG7V,EAAGmkB,G,EACzG2I,yBAA0B,SAASjX,EAAGrkB,GAAK,OAAOq5B,GAAWgC,wBAAwBhX,EAAG0C,GAAI/mB,EAAIA,EAAI,GAAI8C,KAAKmE,MAAMjH,EAAK,EAAK,K,EAC7Hu7B,QAAS,SAASlX,GAAK,OAAOgV,GAAWmB,IAAInW,EAAG,IAAM,I,EACtDmX,MAAO,SAASnX,GAAK,MAAO,CAAEiO,GAAUmD,KAAKpR,GAAG,GAAOiO,GAAUqD,KAAKtR,G,EACtEoX,MAAO,SAASpX,GAAK,MAAO,CAAEiO,GAAUmD,KAAKpR,GAAG,GAAOiO,GAAUoD,KAAKrR,G,EACtEqX,MAAO,SAASrX,GAAK,MAAO,CAAEiO,GAAUmD,KAAKpR,GAAG,GAAQiO,GAAUqD,KAAKtR,G,EACvEsX,MAAO,SAAStX,GAAK,MAAO,CAAEiO,GAAUmD,KAAKpR,GAAG,GAAQiO,GAAUoD,KAAKrR,G,GAErEuX,GAAa,CACfC,eAAgB,SAAS1rB,EAAG3B,EAAGmkB,GAAK,MAAO,CAACmD,GAAUgB,qBAAqBruB,KAAKvI,KAAMiQ,GAAI2lB,GAAUc,mBAAmBnuB,KAAKvI,KAAMsO,EAAGmkB,G,EACrImJ,gBAAiB,SAAS97B,GAAK,MAAO,CAAC81B,GAAUiB,sBAAsBtuB,KAAKvI,KAAMF,GAAI81B,GAAUe,oBAAoBpuB,KAAKvI,KAAMF,G,EAC/H+7B,gBAAiB,SAAS/7B,GAAK,MAAO,CAAC81B,GAAUoC,sBAAsBzvB,KAAKvI,KAAMF,GAAI81B,GAAUkC,oBAAoBvvB,KAAKvI,KAAMF,G,EAC/Hg8B,gBAAiB,SAASh8B,GAAK,MAAO,CAAC81B,GAAU4C,sBAAsBjwB,KAAKvI,KAAMF,GAAI81B,GAAU0C,oBAAoB/vB,KAAKvI,KAAMF,G,EAC/Hi8B,gBAAiB,SAASlZ,GAAK,OAAO6Y,GAAWE,gBAAgBrzB,KAAKvI,KAAM8lB,GAAKxU,MAAMuR,G,EACvFmZ,gBAAiB,SAASnZ,GAAK,OAAO6Y,GAAWG,gBAAgBtzB,KAAKvI,KAAM8lB,GAAKxU,MAAMuR,G,EACvFoZ,gBAAiB,SAASpZ,GAAK,OAAO6Y,GAAWI,gBAAgBvzB,KAAKvI,KAAM8lB,GAAKxU,MAAMuR,G,EACvFqZ,cAAe,SAAS/X,EAAGtB,GAAK,IAAI8C,EAAM,GAAI,GAAgB,IAAZ9C,EAAEtgB,OAAc,MAAMmO,WAAW,qBAAuBmS,EAAEtgB,QAC1G,IAAK,IAAIsH,EAAI,EAAGA,EAAI,GAAIA,IAAK8b,EAAI7b,KAAK8rB,GAAUqC,eAAe1vB,KAAKvI,KAAMmkB,EAAGta,EAAGgZ,EAAEhZ,KAAM,OAAO8b,C,EACjGwW,eAAgB,SAAShY,EAAGtB,GAAK,IAAI8C,EAAM,GAAI,GAAgB,IAAZ9C,EAAEtgB,OAAc,MAAMmO,WAAW,qBAAuBmS,EAAEtgB,QAC3G,IAAK,IAAIsH,EAAI,EAAGA,EAAI,GAAIA,IAAK8b,EAAI7b,KAAK8rB,GAAUsC,gBAAgB3vB,KAAKvI,KAAMmkB,EAAGta,EAAGgZ,EAAEhZ,KAAM,OAAO8b,C,EAClGyW,cAAe,SAASjY,EAAGtB,GAAK,IAAI8C,EAAM,GAAI,GAAgB,IAAZ9C,EAAEtgB,OAAc,MAAMmO,WAAW,qBAAuBmS,EAAEtgB,QAC1G,IAAK,IAAIsH,EAAI,EAAGA,EAAI,GAAIA,IAAK8b,EAAI7b,KAAK8rB,GAAU6C,eAAelwB,KAAKvI,KAAMmkB,EAAGta,EAAGgZ,EAAEhZ,KAAM,OAAO8b,C,EACjG0W,eAAgB,SAASlY,EAAGtB,GAAK,IAAI8C,EAAM,GAAI,GAAgB,IAAZ9C,EAAEtgB,OAAc,MAAMmO,WAAW,qBAAuBmS,EAAEtgB,QAC3G,IAAK,IAAIsH,EAAI,EAAGA,EAAI,GAAIA,IAAK8b,EAAI7b,KAAK8rB,GAAU8C,gBAAgBnwB,KAAKvI,KAAMmkB,EAAGta,EAAGgZ,EAAEhZ,KAAM,OAAO8b,C,GAEpG,SAAS2W,GAAKC,EAAIC,GAChB,IAAI/T,EAAO,IAAI3C,GAGf,OAFA2C,EAAK8T,GAAKxL,GAAIwL,GACd9T,EAAK+T,QAAkB,IAANA,EAAoB,GAAKnL,GAAKmL,GACxC/T,C,CAET,IAAIgU,GAAa,CACfC,IAAK,SAAStsB,GACZ,GAAIA,aAAe0V,GAAM,OAAO,IAAIA,GAAK1V,GACzC,IAAIhQ,EAAMgQ,aAAezG,MAAQyG,EAAMxG,UACnC2yB,EAAKxL,GAAI3wB,EAAI,IACbo8B,EAAK,GAGT,OAFkB,GAAdp8B,EAAImC,OAAai6B,EAAKG,GAAIv8B,EAAI,IACzBA,EAAImC,OAAS,IAAGi6B,EAAKG,GAAIhzB,MAAMpJ,UAAU2M,MAAM3E,KAAKnI,EAAK,KAC3Dk8B,GAAKC,EAAIC,E,EAElBI,aAAc,SAASJ,GACrB,GAAIA,GAAMpY,SAASoY,GAAK,CACtB,GAAIA,EAAK,GAAKA,EAAK,MAAQ,MAAM9rB,WAAW,iCAAmC8rB,GAC/EA,EAAKztB,OAAO8tB,aAAaL,GAAM,GAAKztB,OAAO8tB,aAAkB,IAALL,E,MAIxD,GAAiB,IADjBA,EAAK,GAAKA,GACHj6B,OAAai6B,EAAK,YACpB,GAAiB,GAAbA,EAAGj6B,OAAai6B,EAAK,KAASA,OAClC,GAAIA,EAAGj6B,OAAS,EAAG,MAAMmO,WAAW,+BAAiCosB,GAAQN,IAEpF,OAAOF,GAAK,EAAGE,E,EAEjBO,QAAS,SAASP,GAAM,OAAOF,GAAK,EAAGzP,GAAIyB,IAAI0O,OAAOR,G,EACtDS,aAAc,SAAST,GAAM,OAAOF,GAAK,EAAGzP,GAAIyB,IAAI0O,OAAOR,G,EAC3DU,WAAY,SAASV,GAAM,OAAOF,GAAK,EAAGzP,GAAIyB,IAAI0O,OAAOR,G,EACzDW,aAAc,SAASX,GAAM,OAAOF,GAAK,EAAGzP,GAAIyB,IAAI0O,OAAOR,G,EAC3DY,SAAU,SAASZ,GAAM,OAAOF,GAAK,EAAGzP,GAAIyB,IAAI0O,OAAOR,G,EACvDa,UAAW,SAASb,GAAM,OAAOF,GAAK,EAAGzP,GAAIyB,IAAI0O,OAAOR,G,EACxDc,YAAa,SAASd,GAAM,OAAOF,GAAK,EAAGzP,GAAIyB,IAAI0O,OAAOR,G,EAC1De,YAAa,SAASf,GAAM,OAAOF,GAAK,EAAGzP,GAAIyB,IAAI0O,OAAOR,G,EAC1DgB,WAAY,SAAShB,GAAM,OAAOF,GAAK,EAAGzP,GAAIyB,IAAI0O,OAAOR,G,EACzDiB,iBAAkB,SAASjB,GACzB,GAAIA,GAAMpY,SAASoY,GACjBtY,EAAiBsY,GACjBA,EAAKztB,OAAO8tB,aAAaL,QAIzB,GAAiB,IADjBA,EAAK,GAAKA,GACHj6B,OAAai6B,EAAK,UACpB,GAAIA,EAAGj6B,OAAS,GAAKi6B,EAAGlL,WAAW,GAAK,GAAI,MAAM5gB,WAAW,8BAAgCosB,GAAQN,IAE5G,OAAOF,GAAK,GAAIE,E,EAElBkB,YAAa,SAASlB,GACpB,GAAIA,GAAMpY,SAASoY,GAAK,CACtB,GAAIA,EAAK,GAAKA,EAAK,IAAK,MAAM9rB,WAAW,6BAA+B8rB,GACxEA,EAAKztB,OAAO8tB,aAAaL,E,MAIzB,GAAiB,IADjBA,EAAK,GAAKA,GACHj6B,OAAai6B,EAAK,UACpB,GAAIA,EAAGj6B,OAAS,GAAKi6B,EAAGlL,WAAW,GAAK,IAAK,MAAM5gB,WAAW,2BAA6BosB,GAAQN,IAE1G,OAAOF,GAAK,GAAIE,E,EAElBmB,cAAe,SAASnB,GACtB,GAAe,IAAXG,GAAIH,GAAW,MAAM9rB,WAAW,kBAAoBosB,GAAQH,GAAIH,KACpE,OAAOF,GAAK,G,EAEdsB,SAAU,SAASpB,GACjB,GAAwB,IAAnB,GAAKA,GAAIj6B,OAAa,OAAO+5B,GAAK,GAAIE,GAC3C,GAAIA,GAAMpY,SAASoY,IAAOA,EAAK,GAAKA,GAAM,SACxC,OAAOF,GAAK,GAAIvtB,OAAO8tB,aAAaL,GAAM,IAAMztB,OAAO8tB,aAAaL,GAAO,EAAK,KAAQztB,OAAO8tB,aAAkB,IAALL,IAE9G,MAAM9rB,WAAW,eAAiBosB,GAAQH,GAAIH,I,EAEhDqB,OAAQ,SAASC,GAAO,OAAOrB,GAAWmB,SAASh7B,KAAKU,MAAM,IAAaw6B,G,EAC3EC,SAAU,SAASvB,GACjB,GAAIA,aAAczP,GAAO,OAAOuP,GAAK,GAAIvtB,OAAO8tB,aAAaL,EAAG7O,MAAQ5e,OAAO8tB,aAAaL,EAAGpP,QAAUre,OAAO8tB,aAAaL,EAAGtP,QAAUne,OAAO8tB,aAAaL,EAAGrP,OAASpe,OAAO8tB,aAAaL,EAAIhP,QAAU,EAAK,KAEjN,GAAgB,IADR,GAAKgP,GACPj6B,OACJ,OAAO+5B,GAAK,GAAIE,GAElB,IAAIp8B,EAAMo8B,aAAc7yB,MAAQ6yB,EAAK7yB,MAAMpJ,UAAU2M,MAAM3E,KAAKqB,WAEhE,OADAxJ,EAAIyc,OAAO,EAAG,EAAG,IACV4f,GAAWsB,SAAS,IAAIhR,GAAM3sB,G,EAEvC49B,iBAAkB,SAASnb,EAAGgO,EAAG1M,EAAGlJ,GAClC,IAAIgjB,EAAIzB,EAAI0B,EAAIC,EACZ7vB,GAAK,GAAKuU,GAAIub,MAAK,8BACvB,GAAI9vB,EAAG,CAGL,GAFA2vB,EAAK7Z,SAAS9V,EAAE,IAChBkuB,EAAKpY,SAAS9V,EAAE,IACZ2vB,EAAK,GAAKA,EAAK,KAASzB,EAAK,KAAOA,EAAMA,EAAK,GAAK,CAEtD,IADA0B,EAAK1B,EAAIA,EAAK,EACT0B,IAAO,EAAGA,EAAIA,IAAO,EAAG1B,IAG7B,OAFA0B,EAAKrN,GAAKzM,SAASyM,GAAKA,EAAI,GAC5BsN,EAAKha,GAAKC,SAASD,GAAKA,EAAI,EACrBmY,GAAK,GAAIvtB,OAAO8tB,aAAaoB,GAAMlvB,OAAO8tB,aAAaL,GAAMztB,OAAO8tB,aAAaqB,GAAMnvB,OAAO8tB,aAAasB,G,CAE/G,GAAwB,IAAnB,GAAKtb,GAAItgB,OAAa,OAAO+5B,GAAK,GAAIzZ,E,MAE7C,GAAIA,GAAKuB,SAASvB,IAAMgO,GAAKzM,SAASyM,GAAI,CAC7C,GAAIhO,EAAI,GAAKA,EAAI,KAASgO,EAAI,KAAOA,EAAKA,EAAI,GAAK,CAIjD,IAHAoN,EAAKpb,EACL2Z,EAAK,EACL0B,EAAKrN,EACAqN,IAAO,EAAGA,EAAIA,IAAO,EAAG1B,IAG7B,OAFA0B,EAAK/Z,GAAKC,SAASD,GAAKA,EAAI,GAC5Bga,EAAKljB,GAAKmJ,SAASnJ,GAAKA,EAAI,EACrBqhB,GAAK,GAAIvtB,OAAO8tB,aAAaoB,GAAMlvB,OAAO8tB,aAAaL,GAAMztB,OAAO8tB,aAAaqB,GAAMnvB,OAAO8tB,aAAasB,G,CAE/G,GAAwB,IAAnB,GAAKtb,GAAItgB,OAAa,OAAO+5B,GAAK,GAAIzZ,GAChDA,EAAIA,EAAI,IAAMgO,C,MAEX,GAAwB,IAAnB,GAAKhO,GAAItgB,OAAa,OAAO+5B,GAAK,GAAIzZ,GAChD,MAAMnS,WAAW,uBAAyBosB,GAAQH,GAAI,GAAK9Z,I,EAE7Dwb,gBAAiB,SAAS7B,GAExB,IAAIluB,GADJkuB,EAAK,GAAKA,GACC4B,MAAK,6DAChB,GAAI9vB,EAAG,CACL,IAAIgwB,EAAK,CACPC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGxe,EAAG,EAAGye,EAAG,EAAGC,EAAG,EAAGC,EAAG,EAAGC,EAAG,GACrEC,EAAE,GAAIC,EAAG,GAAIC,EAAG,GAAI,KAAM,GAAI,KAAM,GAAI,KAAM,GAAI,KAAM,GAAI,KAAM,IAClE7wB,EAAE,GAAG8wB,eACHC,EAAK,CAAE,GAAI,EAAGC,IAAK,EAAGC,MAAO,EAAGC,IAAK,EAAGC,EAAG,EAAGC,IAAK,EAAGC,MAAO,EAAGC,KAAM,GAAGtxB,EAAE,GAAG8wB,oBACjE,IAANd,QAAkC,IAANe,IACjCA,IAAIf,GAAM,IACdA,GAAM,KACI,GAAMA,EAAK,EAAG9B,EAAKztB,OAAO8tB,aAAa,IAAMyB,GAAMvvB,OAAO8tB,aAAawC,GACxEf,GAAM,GAAKA,GAAM,IAAG9B,EAAKztB,OAAO8tB,aAAayB,GAAMvvB,OAAO8tB,aAAawC,I,CAGpF,GAAiB,GAAb7C,EAAGj6B,QAAei6B,EAAGlL,WAAW,IAAM,IAAMkL,EAAGlL,WAAW,IAAM,GAAKkL,EAAGlL,WAAW,IAAM,KAAOkL,EAAGlL,WAAW,IAAM,KAAM,OAAOgL,GAAK,GAAIE,GAC9I,MAAM9rB,WAAW,0BAA4BosB,GAAQN,G,EAEvDqD,aAAc,SAASrD,GAAM,OAAOF,GAAK,IAAKK,GAAIH,G,GAGhDsD,GAAW,GACf,SAASC,GAAch1B,EAAM0I,GAC3BqS,GAAK/a,GAAQ,WAAa,OAAO,IAAI+a,GAAKrS,EAAK1J,MAAM/J,KAAM4J,W,EAC3Dk2B,GAAS/0B,GAAQ,WAAa,OAAO/K,KAAK6lB,KAAKpS,EAAK1J,MAAM/J,KAAM4J,W,EAElE,SAASo2B,GAAej1B,EAAM0I,GAC5BqS,GAAK/a,GAAQ,WAAa,OAAO0I,EAAK1J,MAAM/J,KAAM4J,U,EAClDk2B,GAAS/0B,GAAQ,WAAa,OAAO/K,KAAK6lB,KAAKpS,EAAK1J,MAAM/J,KAAM4J,W,EAElE,SAASq2B,GAAel1B,EAAM0I,GAC5BqS,GAAK/a,GAAQ,WACX,IAAIlB,EACA+mB,EAAI,GACJ/N,EAAIpP,EAAK1J,MAAM/J,KAAM4J,WACzB,IAAKC,EAAI,EAAGA,EAAIgZ,EAAEtgB,OAAQsH,IAAK+mB,EAAE9mB,KAAK,IAAIgc,GAAKjD,EAAEhZ,KACjD,OAAO+mB,C,EAETkP,GAAS/0B,GAAQ,WAGf,IAFA,IAAI8X,EAAIpP,EAAK1J,MAAM/J,KAAM4J,WACrBgnB,EAAI5wB,KACC6J,EAAI,EAAGA,EAAIgZ,EAAEtgB,OAAQsH,IAAK+mB,EAAIA,EAAE/K,KAAKhD,EAAEhZ,IAChD,OAAO+mB,C,EAGX,SAASsP,GAAen1B,EAAM0I,GAC5BqS,GAAK/a,GAAQ,WACX,OAAO,IAAI+a,GAAKrS,EAAK1J,MAAM/J,UAAyB,IAAZA,KAAKimB,IAAqBrc,UAAY,CAAC5J,KAAKimB,KAAKld,OAAOY,MAAMpJ,UAAU2M,MAAM3E,KAAKqB,a,EAE7Hk2B,GAAS/0B,GAAQ,WACf,QAA2B,IAAhB/K,KAAKkmB,QAAwB,CACtC,IAAIjD,EAAM,IAAI6C,GAAKrS,EAAK1J,MAAM/J,KAAM,CAACA,KAAKkmB,SAASnd,OAAOY,MAAMpJ,UAAU2M,MAAM3E,KAAKqB,cAErF,OADAqZ,EAAIc,KAAOd,EAAI,GACRjjB,KAAK6lB,KAAK5C,E,CAEnB,OAAOjjB,KAAK6lB,KAAKpS,EAAK1J,MAAM/J,UAAyB,IAAZA,KAAKimB,IAAqBrc,UAAY,CAAC5J,KAAKimB,KAAKld,OAAOY,MAAMpJ,UAAU2M,MAAM3E,KAAKqB,a,EAGhI,SAASu2B,GAAcp1B,EAAM0I,GAC3BqS,GAAK/a,GAAQ,WACX,OAAO,IAAI+a,GAAKrS,EAAK1J,MAAM/J,UAAyB,IAAZA,KAAKimB,IAAqBrc,UAAY,CAAC5J,KAAKimB,KAAKld,OAAOY,MAAMpJ,UAAU2M,MAAM3E,KAAKqB,a,EAE7Hk2B,GAAS/0B,GAAQ,WACf,QAA2B,IAAhB/K,KAAKkmB,QAAwB,CACtC,IAAIka,EACA12B,EAAOC,MAAMpJ,UAAU2M,MAAM3E,KAAKqB,WAClCF,EAAKnH,OAASkR,EAAKlR,OAAQmH,EAAO,CAAC1J,KAAKkmB,SAASnd,OAAOW,IAE1D02B,EAAOhQ,GAAK1mB,EAAK,IACjBA,EAAK,GAAK1J,KAAKkmB,SAEjB,IAAIjD,EAAM,IAAI6C,GAAKrS,EAAK1J,MAAM/J,KAAM0J,IAEpC,OADAuZ,EAAIc,KAAOqc,EACJpgC,KAAK6lB,KAAK5C,E,CAEnB,OAAOjjB,KAAK6lB,KAAKpS,EAAK1J,MAAM/J,UAAyB,IAAZA,KAAKimB,IAAqBrc,UAAY,CAAC5J,KAAKimB,KAAKld,OAAOY,MAAMpJ,UAAU2M,MAAM3E,KAAKqB,a,EAGhI,SAASy2B,GAAet1B,EAAM0I,GAC5BqS,GAAK/a,GAAQ,WACX,IAAIlB,EACA+mB,EAAI,GACJ/N,EAAIpP,EAAK1J,MAAM/J,UAAyB,IAAZA,KAAKimB,IAAqBrc,UAAY,CAAC5J,KAAKimB,KAAKld,OAAOY,MAAMpJ,UAAU2M,MAAM3E,KAAKqB,aACnH,IAAKC,EAAI,EAAGA,EAAIgZ,EAAEtgB,OAAQsH,IAAK+mB,EAAE9mB,KAAK,IAAIgc,GAAKjD,EAAEhZ,KACjD,OAAO+mB,C,EAETkP,GAAS/0B,GAAQ,WACf,IAAIlB,EACAgZ,EACA+N,EACJ,QAA2B,IAAhB5wB,KAAKkmB,QAAwB,CACtC,IAAIka,EACA12B,EAAOC,MAAMpJ,UAAU2M,MAAM3E,KAAKqB,WAQtC,IAPIF,EAAKnH,OAASkR,EAAKlR,OAAQmH,EAAO,CAAC1J,KAAKkmB,SAASnd,OAAOW,IAE1D02B,EAAOhQ,GAAK1mB,EAAK,IACjBA,EAAK,GAAK1J,KAAKkmB,SAEjBrD,EAAIpP,EAAK1J,MAAM/J,KAAM0J,GACrBknB,EAAI5wB,KACC6J,EAAI,EAAGA,EAAIgZ,EAAEtgB,OAAQsH,IAAK,CAC7B,IAAIoZ,EAAM6C,GAAKjD,EAAEhZ,IACjBoZ,EAAIc,KAAOqc,EACXxP,EAAIA,EAAE/K,KAAK5C,E,CAEb,OAAO2N,C,CAIT,IAFA/N,EAAIpP,EAAK1J,MAAM/J,UAAyB,IAAZA,KAAKimB,IAAqBrc,UAAY,CAAC5J,KAAKimB,KAAKld,OAAOY,MAAMpJ,UAAU2M,MAAM3E,KAAKqB,aAC/GgnB,EAAI5wB,KACC6J,EAAI,EAAGA,EAAIgZ,EAAEtgB,OAAQsH,IAAK+mB,EAAIA,EAAE/K,KAAKhD,EAAEhZ,IAC5C,OAAO+mB,C,EAWX,SAAS0P,GAAiBb,GACxB5f,EAAKigB,IAAU,SAAS7vB,GAAKwvB,EAAEl/B,UAAU0P,GAAK6vB,GAAS7vB,E,IARzD4P,EAAK+V,IAAW,SAAS3lB,GAAK8vB,GAAc9vB,EAAG2lB,GAAU3lB,G,IACzD4P,EAAK4c,IAAY,SAASxsB,GAAK+vB,GAAe/vB,EAAGwsB,GAAWxsB,G,IAC5D4P,EAAK6b,IAAY,SAASzrB,GAAKgwB,GAAehwB,EAAGyrB,GAAWzrB,G,IAC5D4P,EAAKqS,IAAY,SAASjiB,GAAKiwB,GAAejwB,EAAGiiB,GAAWjiB,G,IAC5D4P,EAAKuS,IAAW,SAASniB,GAAKkwB,GAAclwB,EAAGmiB,GAAUniB,G,IACzD4P,EAAKsZ,IAAY,SAASlpB,GAAKowB,GAAepwB,EAAGkpB,GAAWlpB,G,IAK5DqwB,GAAiB5c,GAEjB,IAspBI6c,GAtpBAC,GAAc,CAAE3d,EAAE,GAAIgO,EAAE,GAAI1M,EAAE,GAAIlJ,EAAE,GAAI3S,EAAE,GAAIsV,EAAE,GAAIohB,EAAE,GAAIE,EAAE,GAAIL,EAAE,GAAIE,EAAE,GAAIE,EAAE,GAAI7e,EAAE,IACxF,IAAKnD,EAAI,EAAGA,EAAI,GAAIA,IAAKujB,GAAYvjB,GAAKA,EA0D1C,SAASwjB,GAAelE,EAAIC,GAAM,OAAa,KAAND,QAA2B,IAANC,GAAyC,IAApBA,EAAGlL,WAAW,IAAkC,KAApBkL,EAAGlL,WAAW,E,CAC7H,SAASoP,GAAiBnE,EAAIC,GAAM,OAAOiE,GAAelE,EAAIC,IAA2B,GAApBA,EAAGlL,WAAW,E,CACnF,SAASqP,GAAc9d,EAAGgO,GACxB,GAAIhO,GAAK,GAAKA,GAAK,KAAQgO,GAAK,GAAKA,GAAK,IAAM,CAC9C,IAAI1M,EAAQ,GAAJtB,EACJ5H,EAAI4H,GAAK,EACb,OAAIsB,EAAI,GAAKA,EAAI,GAAKlJ,EAAI,GAAGkJ,EAAI,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAAKA,EAAI,GAAK,CAAC,MAAO,KAAM,IAAK,GAAI,IAAK,KAAM,OAAOlJ,GAEnH4V,EAAI,GAAW1M,EAAI,IACXA,EAAI,CACd,GAAI,IAAK,OAAQ,YAAa,MAAO,UAAW,OAAQ,MAAO,IAAK,KAAM,KAAM,OAChF,OAAQ,QAAS,SAAU,MAAO,SAAU,MAAO,OAAQ,IAAK,QAAS,MAAO,OAChF,SAAU,QAAS,QAAS,SAAU,QAAS,UAAW,OAAQ,MAAO,MAAO,OAAQ,QAAS,MAAM0M,IAL7F,G,CAOd,MAAO,G,CAuGT,SAAS+P,GAAK9gC,GAEZ,IADA,IAAI+iB,EAAI,GACChZ,EAAI,EAAGA,EAAI/J,EAAEyC,OAAQsH,IAC5BgZ,EAAEhZ,GAAK/J,EAAEwxB,WAAWznB,GAEtB,OAAOgZ,C,CAET,SAASge,GAAK/gC,GAEZ,IADA,IAAI+iB,EAAI,GACChZ,EAAI,EAAGA,EAAI/J,EAAEyC,OAAQsH,IAC5BgZ,GAAK9T,OAAO8tB,aAAa/8B,EAAE+J,IAE7B,OAAOgZ,C,CAET,SAAS8Z,GAAI78B,GACX,OAAOA,aAAa6J,MAAQk3B,GAAK/gC,QAAiB,IAALA,EAAmB,GAAK,GAAKA,C,CAE5E,SAASghC,GAAKhhC,GAEZ,IADA,IAAImQ,EAAI,EACCpG,EAAI,EAAGA,EAAI/J,EAAEyC,OAAQsH,IAAKoG,GAAKA,GAAK,GAAKnQ,EAAEwxB,WAAWznB,GAC/D,OAAOoG,C,CAGT,SAAS8wB,GAAMjhC,GAAK,OAAQA,EAAI,GAAK,IAAM,IAAMA,EAAE4G,SAAS,G,CAC5D,SAASs6B,GAAKlhC,GAEZ,IADA,IAAI+iB,EAAI,GACChZ,EAAI,EAAGA,EAAI/J,EAAEyC,OAAQsH,IAC5BgZ,EAAEhZ,GAAKk3B,GAAMjhC,EAAE+J,IAEjB,OAAOgZ,EAAEkL,KAAK,I,CAEhB,SAASkT,GAAQlW,GAEf,IADA,IAAIpF,EAAM,GACD9b,EAAI,EAAGA,EAAIkhB,EAAExoB,OAAQsH,IAChB,MAARkhB,EAAElhB,GAAY8b,GAAO,MACR,MAARoF,EAAElhB,GAAY8b,GAAO,MACb,MAARoF,EAAElhB,GAAY8b,GAAO,MACrBoF,EAAEuG,WAAWznB,GAAK,GAAI8b,GAAO,MAAQob,GAAMhW,EAAEuG,WAAWznB,IAC5D8b,GAAOoF,EAAElhB,GAEhB,OAAO8b,C,CAET,SAASub,GAAQ1E,GACf,OAAOA,EAAGj6B,OAAS,KAAOy+B,GAAKJ,GAAKpE,IAAO,E,CAE7C,SAASM,GAAQN,GACf,OAAOA,EAAGj6B,OAAS,KAAO0+B,GAAQpU,GAAIyB,IAAI6S,SAAS3E,IAAO,E,CAgM5D,SAAS4E,KACP,IAAIv3B,EAEJ,IADA7J,KAAKqhC,IAAM,GACNx3B,EAAI,EAAGA,EAAI,GAAIA,IAAK7J,KAAKqhC,IAAIx3B,GAAK,E,CAEzC,SAASy3B,GAASC,EAAKC,GACrB,IAAI3e,OAAkB,IAAP0e,EAAqB,KAAOR,GAAMQ,GAC7C1Q,OAAkB,IAAP2Q,EAAqB,KAAOT,GAAMS,GAC7Crd,EAAI,CACN,OAAQ,yBACR,OAAQ,oBACR,OAAQ,sBACR,OAAQ,wBACR,OAAQ,qBACR,OAAQ,sBACR,OAAQ,QACRtB,EAAI,GAAKgO,GACX,MAAO,OAAShO,EAAI,IAAMgO,GAAK1M,EAAI,KAAOA,EAAI,G,CAEhD,SAASsd,GAAUF,EAAKC,GAGtB,MAAO,cAFe,IAAPD,EAAqB,KAAOR,GAAMQ,IAE5B,UADC,IAAPC,EAAqB,KAAOT,GAAMS,G,CAGnD,SAASE,GAAWze,GAClB,IAAKA,EAAI1gB,QAAU0gB,EAAI,GAAK,IAAM,OAAOA,EACzC,GAAc,KAAVA,EAAI,GAA6B,OAAfjjB,KAAK2hC,SAAiB1e,EAC5C,IAEI8H,EAFAhE,EAAc,GAAT9D,EAAI,GACT2e,EAAK3e,EAAI,IAAM,EAEnB,GAAU,IAAN2e,EACF3e,EAAI4e,IAAM7hC,KAAKqhC,IAAIta,GAAI+a,GACvB7e,EAAI8e,IAAM/hC,KAAKqhC,IAAIta,GAAIib,GACnBnV,GAAI/G,KAAKmc,aAAahf,EAAIif,MAAMrV,GAAI/G,KAAKmc,YAAYhf,EAAI,GAAIA,EAAI4e,IAAK5e,EAAI8e,WAE3E,GAAU,IAANH,EACP,OAAQ3e,EAAI,IACV,KAAK,EAAGjjB,KAAKqhC,IAAIta,GAAI+a,GAAK7e,EAAI,GAAI,MAClC,KAAK,GAAIjjB,KAAKqhC,IAAIta,GAAIib,GAAK/e,EAAI,GAAI,MACnC,KAAK,GAAIjjB,KAAKqhC,IAAIta,GAAIob,GAAKlf,EAAI,GAAIjjB,KAAKqhC,IAAIta,GAAIqb,GAAK,IAAK,MAC1D,KAAK,GAAIpiC,KAAKqhC,IAAIta,GAAIsb,GAAKpf,EAAI,GAAIjjB,KAAKqhC,IAAIta,GAAIqb,GAAK,IAAK,MAC1D,KAAK,IAAKpiC,KAAKqhC,IAAIta,GAAIub,GAAKrf,EAAI,GAAIjjB,KAAKqhC,IAAIta,GAAIqb,GAAK,IAAK,MAC3D,KAAK,IAAKpiC,KAAKqhC,IAAIta,GAAIwb,GAAKtf,EAAI,GAAIjjB,KAAKqhC,IAAIta,GAAIqb,GAAK,IAAK,MAC3D,KAAK,EAAG,KAAK,GAAI,KAAK,GAAI,KAAK,GACN,KAAnBpiC,KAAKqhC,IAAIta,GAAIqb,KACfnf,EAAIuf,IAAMxiC,KAAKqhC,IAAIta,GAAIwb,GACvBtf,EAAIwf,IAAMziC,KAAKqhC,IAAIta,GAAIub,GACvBrf,EAAIif,MAAMZ,GAASthC,KAAKqhC,IAAIta,GAAIwb,GAAIviC,KAAKqhC,IAAIta,GAAIub,MAE5B,KAAnBtiC,KAAKqhC,IAAIta,GAAIqb,KACfnf,EAAIyf,IAAM1iC,KAAKqhC,IAAIta,GAAIwb,GACvBtf,EAAI0f,IAAM3iC,KAAKqhC,IAAIta,GAAIob,GACvBlf,EAAIif,MAAMT,GAAUzhC,KAAKqhC,IAAIta,GAAIsb,GAAIriC,KAAKqhC,IAAIta,GAAIob,WAKjDlf,EAAI2f,gBACG,KAAV3f,EAAI,GACQ,GAAVA,EAAI,IACN8H,EAAI,CAAE,EAAG,gBAAiB,EAAG,iBAAkB,EAAG,qBAAsB,EAAG,wBAAyB9H,EAAI,MACjGA,EAAIif,MAAMnX,GAEA,GAAV9H,EAAI,KACX8H,EAAI,CAAE,EAAG,cAAe,EAAG,oBAAqB,EAAG,8BAA+B,EAAG,+BAAgC9H,EAAI,MAClHA,EAAIif,MAAMnX,GAGF,KAAV9H,EAAI,GACG,GAAVA,EAAI,GACQ,GAAVA,EAAI,GAASA,EAAIif,MAAM,qBACR,GAAVjf,EAAI,IACXA,EAAIif,MAAM,sBAGK,GAAVjf,EAAI,IACX8H,EAAI,CACF,EAAG,2BAA4B,EAAG,mBAAoB,EAAG,iCAAkC,EAAG,yBAC9F,EAAG,mCAAoC,EAAG,mCAC1C,EAAG,oBAAqB,EAAG,8BAA+B,EAAG,+BAC7D9H,EAAI,MACCA,EAAIif,MAAMnX,GAEA,GAAV9H,EAAI,KACG,GAAVA,EAAI,IAAWA,EAAIif,MAAM,iBAAkBliC,KAAK2hC,SAAU3hC,KAAK6iC,IAAM,KACtD,GAAV5f,EAAI,IAAWA,EAAIif,MAAM,iBAAkBliC,KAAK2hC,SAAU3hC,KAAK6iC,IAAM,KAC3D,GAAV5f,EAAI,KAAWA,EAAIif,MAAM,iBAAkBliC,KAAK2hC,SAAU3hC,KAAK6iC,IAAM,MAG/D,IAAV5f,EAAI,GACY,KAAT,IAATA,EAAI,KAAgC,IAAVA,EAAI,KACnB,GAAVA,EAAI,IAAqB,GAAVA,EAAI,IAAqB,KAAVA,EAAI,IAAwB,GAAVA,EAAI,IACtDA,EAAIif,MAAM,gBAAiBliC,KAAK2hC,SAAU3hC,KAAK6iC,IAAM,KAEpC,GAAV5f,EAAI,IAAqB,GAAVA,EAAI,IAAqB,GAAVA,EAAI,GAASA,EAAIif,MAAM,oBAC3C,GAAVjf,EAAI,IAAqB,GAAVA,EAAI,IAAqB,GAAVA,EAAI,GAASA,EAAIif,MAAM,oBAC3C,GAAVjf,EAAI,IAAqB,GAAVA,EAAI,IAAqB,GAAVA,EAAI,GAASA,EAAIif,MAAM,uBAC3C,GAAVjf,EAAI,IAAWA,EAAI,GAAK,IAAMA,EAAI,IAAM,IAAQA,EAAI,IAAM,GAAMA,EAAIif,MAAM,mBAC7Ejf,EAAIif,MAAM,iBAGD,IAAVjf,EAAI,IACG,IAAVA,EAAI,IAAwB,IAAVA,EAAI,KACV,IAAVA,EAAI,KACQ,GAAVA,EAAI,GACQ,KAAVA,EAAI,IAAwB,GAAVA,EAAI,IAAqB,IAAVA,EAAI,IACvCA,EAAIif,MAAM,YAAaliC,KAAK2hC,SAAU3hC,KAAK6iC,IAAM,KAEhC,GAAV5f,EAAI,GAASA,EAAIif,MAAM,oBACb,GAAVjf,EAAI,GAASA,EAAIif,MAAM,oBACb,GAAVjf,EAAI,GAASA,EAAIif,MAAM,uBAC3Bjf,EAAIif,MAAM,gBAEW,KAAT,IAATjf,EAAI,KAAgC,IAAVA,EAAI,GAAYA,EAAIif,MAAM,uBAClC,KAAT,IAATjf,EAAI,KAAsBA,EAAI,IAAM,IAAQA,EAAI,IAAM,GAAMA,EAAIif,MAAM,mBAC3Ejf,EAAIif,MAAM,iBAEH,IAAVjf,EAAI,IAAYA,EAAIif,MAAM,kBAIpC,OAAOjf,C,CAET,SAAS6f,KACP,IAAI9jB,EAAO,IAAI0E,EAMf,OALA1E,EAAK2iB,OAASP,GACdpiB,EAAK+jB,MAAQrB,GACb1iB,EAAK2E,SAAW,SAASV,GAAOjjB,KAAK4jB,MAAM5jB,KAAK+iC,MAAM9f,G,EACtDjE,EAAK2iB,SACL3iB,EAAKJ,UACEI,C,CAKT,SAASgF,KACP,IAAIhF,EAAOhf,gBAAgBgkB,GAAMhkB,KAAOgf,EAAO,IAAIgF,GAGnD,OAFAhF,EAAKgO,QACDpjB,UAAUrH,QAAQyhB,GAAIzjB,UAAU0jB,MAAMla,MAAMiV,EAAMpV,WAC/CoV,C,CA8GT,SAASgkB,KACP,IAAKzC,IAAyB,oBAAXpjB,OAAwB,CACzC,IAAI8lB,EAAe9lB,OAAO8lB,cAAgB9lB,OAAO+lB,mBACjD,GAAID,EAAc,EAChB1C,GAAM,IAAI0C,KACE1C,GAAI4C,aAAY5C,GAAI4C,WAAa5C,GAAI6C,gBACjD,IAAIC,EAAwB,WAC1B,GAAiB,WAAb9C,GAAIhxB,MAAoB,CAC1BgxB,GAAI+C,SACJ,IAAIC,EAAMhD,GAAIiD,mBACVC,EAAOlD,GAAI4C,aACf,IAAMM,EAAKA,KAAKl3B,MAAQ,CAAiB,CAAZ,MAAOS,GAAK,CACzCy2B,EAAKA,KAAKC,gBAAgB,EAAGnD,GAAIoD,YAAa,KAC9CJ,EAAIjd,QAAQmd,GACZA,EAAKnd,QAAQia,GAAIqD,aACZL,EAAI1oB,QAAO0oB,EAAI1oB,MAAQ0oB,EAAIvd,QAC3Bud,EAAIpN,OAAMoN,EAAIpN,KAAOoN,EAAIpd,SAC9Bod,EAAI1oB,MAAM,IAAM0oB,EAAIpN,KAAK,I,KAEC,oBAAZ3O,WACdA,SAASnX,oBAAoB,aAAcgzB,GAC3C7b,SAASnX,oBAAoB,WAAYgzB,GACzC7b,SAASnX,oBAAoB,YAAagzB,GAC1C7b,SAASnX,oBAAoB,UAAWgzB,G,EAGrB,oBAAZ7b,WACTA,SAAStX,iBAAiB,aAAcmzB,GACxC7b,SAAStX,iBAAiB,WAAYmzB,GACtC7b,SAAStX,iBAAiB,YAAamzB,GACvC7b,SAAStX,iBAAiB,UAAWmzB,IAEvCA,G,GArrBNvd,GAAKvlB,UAAUsjC,WAAa,WAC1B,GAAe,IAAX7jC,KAAKu8B,IAAgC,GAAlBv8B,KAAKw8B,GAAGj6B,QAAevC,KAAKw8B,GAAGlL,WAAW,GAAK,GAAI,OAAOtxB,KAAKw8B,GAAGlL,WAAW,GACpG,IAAInN,EAAInkB,KAAK,GACb,YAAgB,IAALmkB,GAAoBA,EAAI,KAAQA,EAAI,SAA/C,EACW,GAAJA,C,EAET2B,GAAKvlB,UAAUujC,WAAa,SAAShkC,GAEnC,QAAgB,KADhBA,EAAI0gC,GAAY1gC,IACa,OAAOE,KACpC,GAAe,IAAXA,KAAKu8B,GAAYv8B,KAAKw8B,GAAKztB,OAAO8tB,aAAa/8B,OAC9C,CACH,IAAIqkB,EAAInkB,KAAK,QACG,IAALmkB,GAAoBA,GAAK,KAAQA,GAAK,MAAMnkB,KAAK,GAAU,IAALmkB,EAAarkB,E,CAEhF,OAAOE,I,EAET8lB,GAAKvlB,UAAUwjC,QAAU,WACvB,IAAI5f,EAAInkB,KAAK,GACb,UAAgB,IAALmkB,GAAoBA,EAAI,KAAQA,EAAI,KAC/C,OAAOnkB,KAAK,E,EAEd8lB,GAAKvlB,UAAUyjC,QAAU,SAASlkC,GAChC,IAAIqkB,EAAInkB,KAAK,GACb,YAAgB,IAALmkB,GAAoBA,EAAI,KAAQA,EAAI,UAE/B,KADhBrkB,EAAIgmB,GAAKmI,UAAUnuB,MACUE,KAAK,GAAKF,GAFqBE,I,EAK9D8lB,GAAKvlB,UAAU0jC,YAAc,WAC3B,IAAI9f,EAAInkB,KAAK,GACb,UAAgB,IAALmkB,GAAoBA,EAAI,KAAQA,EAAI,KAC/C,OAAOnkB,KAAK,E,EAEd8lB,GAAKvlB,UAAU2jC,YAAc,SAASpkC,GACpC,IAAIqkB,EAAInkB,KAAK,GACb,YAAgB,IAALmkB,GAAoBA,EAAI,KAAQA,EAAI,MAC/CrkB,EAAIskB,SAAStkB,KACJ,GAAKA,EAAI,MAAKE,KAAK,GAAKF,GAF2BE,I,EAK9D8lB,GAAKvlB,UAAU4jC,WAAa,WAC1B,GAAe,KAAXnkC,KAAK,GAAY,OAAOA,KAAK,E,EAEnC8lB,GAAKvlB,UAAU6jC,WAAa,SAAStkC,GAKnC,OAJe,KAAXE,KAAK,IAAcA,KAAKuC,OAAS,IACnCzC,EAAIskB,SAAStkB,KACJ,GAAKA,EAAI,MAAKE,KAAK,GAAKF,GAE5BE,I,EAET8lB,GAAKvlB,UAAU8jC,QAAU,WACvB,QAAsB,IAAXrkC,KAAKw8B,GAAmB,OAAOx8B,KAAKw8B,GAAG91B,U,EAEpDof,GAAKvlB,UAAU+jC,QAAU,SAAS9H,GAEhC,OADAx8B,KAAKw8B,GAAKG,GAAIH,GACPx8B,I,EAkBT8lB,GAAKvlB,UAAUgkC,QAAU,WACvB,QAAsB,IAAXvkC,KAAKw8B,GACd,OAAIkE,GAAiB1gC,KAAKu8B,GAAIv8B,KAAKw8B,IAAYmE,GAAc3gC,KAAKw8B,GAAGlL,WAAW,GAAItxB,KAAKw8B,GAAGlL,WAAW,IAC3FzE,GAAIyB,IAAI6S,SAASnhC,KAAKw8B,IAEpC,GAAIx8B,KAAKwkC,aAAc,CAErB,IADA,IAAIzZ,EAAI,GACClhB,EAAI,EAAGA,EAAI7J,KAAKuC,OAAS,EAAGsH,IAAKkhB,EAAEjhB,KAAKiF,OAAO8tB,aAAa78B,KAAK6J,KAC1E,OAAOkhB,EAAEgD,KAAK,G,GAGlBjI,GAAKvlB,UAAUkkC,QAAU,SAASjI,GAEhC,OADAx8B,KAAKw8B,GAAK3P,GAAIyB,IAAI0O,OAAOR,GAClBx8B,I,EAET8lB,GAAKvlB,UAAUmkC,SAAW,WACxB,GAAe,IAAX1kC,KAAKu8B,SAAgC,IAAXv8B,KAAKw8B,GACjC,OAA+B,MAAxBx8B,KAAKw8B,GAAGlL,WAAW,GAAqC,IAAxBtxB,KAAKw8B,GAAGlL,WAAW,GAAWtxB,KAAKw8B,GAAGlL,WAAW,E,EAG5FxL,GAAKvlB,UAAUokC,OAAS,WACtB,IAAIC,EAAK5kC,KAAK0kC,WACd,GAAIE,EAAI,OAAO,IAAWA,C,EAE5B9e,GAAKvlB,UAAUskC,iBAAmB,WAChC,GAAe,IAAX7kC,KAAKu8B,SAAgC,IAAXv8B,KAAKw8B,GAChC,MAAO,CAACx8B,KAAKw8B,GAAGlL,WAAW,GAAI,GAAKtxB,KAAKw8B,GAAGlL,WAAW,G,EAG5DxL,GAAKvlB,UAAUukC,gBAAkB,WAC/B,GAAe,IAAX9kC,KAAKu8B,SAAgC,IAAXv8B,KAAKw8B,GAAmB,CACpD,IAAI8B,EAAKt+B,KAAKw8B,GAAGlL,WAAW,GACxB+N,EAAKr/B,KAAKw8B,GAAGlL,WAAW,GAE5B,GADS,IAALgN,IAAWA,GAAU,KACrBA,IAAM,GAAMA,GAAM,GAAKe,GAAM,GAAKA,GAAM,EAC1C,MAAO,CAACf,EACN,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAAM,KAAM,KAAM,KAAM,MAAMe,EAAKf,EAAK,GAAKA,EAAK,KACxHe,E,GAMVvZ,GAAKvlB,UAAUwkC,SAAW,WACxB,IAAI5gB,EAAInkB,KAAK,GACb,aAAgB,IAALmkB,GAAoBA,EAAI,KAAQA,EAAI,MACxCnkB,KAAK,GAAK,C,EAEnB8lB,GAAKvlB,UAAUykC,UAAY,WACzB,IAAI7gB,EAAInkB,KAAK,GACb,aAAgB,IAALmkB,GAAoBA,EAAI,KAAQA,EAAI,OAC3CA,EAAI,KACU,GAAXnkB,KAAK,G,EAEd8lB,GAAKvlB,UAAU0kC,QAAU,WACvB,OAAkB,KAAXjlC,KAAK,E,EAEd8lB,GAAKvlB,UAAUqiC,YAAc,WAC3B,OAAkB,KAAX5iC,KAAK,IAAuC,KAAzBA,KAAKA,KAAKuC,OAAS,E,EAE/CujB,GAAKvlB,UAAUikC,WAAa,WAC1B,OAAOxkC,KAAK4iC,eAA4B,GAAX5iC,KAAK,IAAsB,IAAXA,KAAK,IAAyB,IAAXA,KAAK,IAAyB,GAAXA,KAAK,E,EAE1F8lB,GAAKvlB,UAAU2kC,MAAQ,WACrB,OAAOllC,KAAKu8B,IAAM,GAAKv8B,KAAKu8B,IAAM,G,EAEpCzW,GAAKvlB,UAAU4kC,MAAQ,WACrB,OAAkB,IAAXnlC,KAAKu8B,E,EAEdzW,GAAKvlB,UAAU6kC,QAAU,WACvB,OAAkB,IAAXplC,KAAKu8B,E,EAEdzW,GAAKvlB,UAAU8kC,gBAAkB,WAC/B,OAAkB,IAAXrlC,KAAKu8B,E,EAEdzW,GAAKvlB,UAAU+kC,eAAiB,WAC9B,OAAkB,IAAXtlC,KAAKu8B,E,EAEdzW,GAAKvlB,UAAUglC,UAAY,WACzB,OAAOvlC,KAAKo+B,MAAM,CAAC,IAAM,IAAM,CAAC,EAAG,GAAI,EAAM,CAAC,EAAG,GAAI,K,EAEvDtY,GAAKvlB,UAAUilC,UAAY,WACzB,OAAOxlC,KAAKo+B,MAAM,CAAC,IAAM,GAAM,CAAC,EAAG,GAAI,GAAM,GAAM,GAAM,EAAG,IAAM,EAAG,GAAM,K,EAE7EtY,GAAKvlB,UAAUklC,UAAY,WACzB,OAAOzlC,KAAKo+B,MAAM,CAAC,IAAM,GAAM,CAAC,GAAM,KAAO,GAAM,EAAG,EAAG,IAAM,EAAG,K,EAEpEtY,GAAKvlB,UAAU69B,MAAQ,SAASvb,GAC9B,IAAIhZ,EAAGyE,EACP,IAAKzE,EAAI,EAAGA,EAAIgZ,EAAEtgB,OAAQsH,IAExB,QAAgB,KADhByE,EAAIuU,EAAEhZ,GAAG,KAEP,GAAI7J,KAAK6J,IAAMgZ,EAAEhZ,GAAI,OAAO,OAG5B,IAAK7J,KAAK6J,GAAKyE,KAAOuU,EAAEhZ,GAAG,GAAKyE,GAAI,OAAO,EAG/C,OAAO,C,EAmDTwX,GAAKvlB,UAAU2hC,MAAQ,SAASnX,GAE9B,OADA/qB,KAAK0lC,IAAM1lC,KAAK0lC,IAAM1lC,KAAK0lC,IAAM,KAAO3a,EAAIA,EACrC/qB,I,EAET8lB,GAAKvlB,UAAUmG,SAAW,WACxB,OAAO1G,KAAK0lC,IAAM1lC,KAAK2lC,OAAS,KAAO3lC,KAAK0lC,IAAM,IAAM1lC,KAAK2lC,M,EAE/D7f,GAAKvlB,UAAUolC,KAAO,WACpB,IAAI5a,EACA6a,EACJ,IAAK5lC,KAAKuC,OAAQ,CAChB,QAAsB,IAAXvC,KAAKu8B,GAAmB,CAEjC,GADAxR,EAAI,KAAOgW,GAAM/gC,KAAKu8B,IAAM,OACb,GAAXv8B,KAAKu8B,GAASxR,GAAK,oBAAsB+V,GAAK9gC,KAAKw8B,SAClD,GAAIx8B,KAAKu8B,GAAK,GAAKv8B,KAAKu8B,GAAK,GAAIxR,GAAK,CAAC,GAAI,OAAQ,YAAa,gBAAiB,kBAAmB,QAAS,SAAU,YAAa,eAAgB,eAAe/qB,KAAKu8B,IAAMO,GAAQ98B,KAAKw8B,SAC3L,GAAe,IAAXx8B,KAAKu8B,GAAUxR,GAAK,iBAAmBmW,GAAQlhC,KAAKw8B,SACxD,GAAe,IAAXx8B,KAAKu8B,GAAUxR,GAAK,YAAcmW,GAAQlhC,KAAKw8B,SACnD,GAAe,IAAXx8B,KAAKu8B,GAAUxR,GAAK,eAAiBmW,GAAQlhC,KAAKw8B,SACtD,GAAe,IAAXx8B,KAAKu8B,GAEZxR,GAAK,UADKnoB,KAAKU,MAAsB,IAAhBtD,KAAK2kC,UAAkB,IACrB,YAEpB,GAAe,IAAX3kC,KAAKu8B,GAAUxR,GAAK,iBAAmB+C,GAAU8S,GAAK5gC,KAAKw8B,UAC/D,GAAe,IAAXx8B,KAAKu8B,GAAU,CACtB,IAAIthB,EAAI,GAAKjb,KAAKw8B,GAAGlL,WAAW,GAChCvG,GAAK,mBAAqB/qB,KAAKw8B,GAAGlL,WAAW,GAAK,IAAMrW,EACxD8P,GAAK,IAAM/qB,KAAKw8B,GAAGlL,WAAW,GAAK,IAAMtxB,KAAKw8B,GAAGlL,WAAW,E,MAEzD,GAAe,IAAXtxB,KAAKu8B,GAAU,CACtBxR,GAAK,kBACL,IAAI8a,EAAK7lC,KAAK8kC,kBACVe,GACF9a,GAAK8a,EAAG,GACJA,EAAG,KAAI9a,GAAK,SAEbA,GAAI,S,MAEN,GAAe,KAAX/qB,KAAKu8B,GAAW,CACvB,GAA6B,IAAzBv8B,KAAKw8B,GAAGlL,WAAW,IACQ,KAAzBtxB,KAAKw8B,GAAGlL,WAAW,GAOrB,OANAvG,GAAK,OAASgW,GAAM/gC,KAAKw8B,GAAGlL,WAAW,IAAM,IAI7CvG,IAHA6a,EAAK,CAAE,EAAG,UAAW,EAAG,QAAS,EAAG,iBAAkB,EAAG,cAAe,EAAG,kBACzE,EAAG,mBAAoB,GAAI,mBAAoB,GAAI,cAAe,GAAI,gBACtE,IAAK,uBAAwB5lC,KAAKw8B,GAAGlL,WAAW,KACxC,IAAMsU,EAAK,GACrB7a,GAAK,KACwB,GAAzB/qB,KAAKw8B,GAAGlL,WAAW,GACdvG,EAAI/qB,KAAKw8B,GAAGsJ,OAAO,EAAG,GAAK,IAAM9E,GAAKJ,GAAK5gC,KAAKw8B,GAAGsJ,OAAO,KAEtC,GAAzB9lC,KAAKw8B,GAAGlL,WAAW,GACdvG,EAAI/qB,KAAKukC,UAEXxZ,EAAIiW,GAAKJ,GAAK5gC,KAAKw8B,GAAGsJ,OAAO,KAGxC/a,GAAK,qBAAuBmW,GAAQlhC,KAAKw8B,G,MAEtCzR,GAAK,MAAQmW,GAAQlhC,KAAKw8B,IAC/B,OAAOzR,C,CAET,MAAO,O,CAGT,GADAA,EAAIiW,GAAKhhC,MACLA,KAAK,GAAK,IAAM,OAAO+qB,EAiB3B,GAhBA6a,EAAK,CACH,IAAK,iBACL,IAAK,gBACL,IAAK,cACL,IAAK,YACL,IAAK,YACL,IAAK,eACL,IAAK,eACL,IAAK,YACL,IAAK,QACL,IAAK,WACL,IAAK,OACL,IAAK,YACL,IAAK,iBACL,IAAK,SACL5lC,KAAK,IACC,OAAO+qB,EAAI,OAAS6a,EAC5B,GAAI5lC,KAAKwkC,aAGP,OAFAoB,EAAK3E,GAAQjhC,KAAKukC,cACVqB,EAAK,IAAMA,GACZ7a,EAAI,UAAYgW,GAAM/gC,KAAK,IAAM,IAAM4lC,EAEhD,IAAIzhB,EAAInkB,KAAK,IAAM,EAEnB,OADA4lC,EAAK,CAAC,EAAG,WAAY,GAAI,aAAc,GAAI,iBAAkB,GAAI,qBAAsB,GAAI,eAAezhB,IAC3F4G,EAAI,OAAS6a,EACnB,GAALzhB,EAAe4G,EAAI,QAAU/qB,KAAK,GAAK,UAAY,YAC9C,IAALmkB,EAAgB4G,GACpB6a,EAAK,CACH,EAAG,kBACH,EAAG,uBACH,EAAG,wBACH,EAAG,sBACH,EAAG,sBACH,EAAG,iBACH,EAAG,qBACH,EAAG,cACH,GAAI,UACJ,GAAI,4BACJ,GAAI,uBACJ,GAAI,uBACJ,GAAI,mCACJ,GAAI,mCACJ,GAAI,mCACJ,GAAI,mCACJ,GAAI,UACJ,GAAI,kBACJ,GAAI,uBACJ,GAAI,wBACJ,GAAI,sBACJ,GAAI,sBACJ,GAAI,iBACJ,GAAI,qBACJ,GAAI,cACJ,GAAI,UACJ,GAAI,4BACJ,GAAI,uBACJ,GAAI,uBACJ,GAAI,mCACJ,GAAI,mCACJ,GAAI,mCACJ,GAAI,mCACJ,GAAI,eACJ,GAAI,aACJ,GAAI,YACJ,GAAI,aACJ,GAAI,SACJ,GAAI,SACJ,GAAI,kBACJ,GAAI,mBACJ,GAAI,eACJ,GAAI,cACJ,GAAI,aACJ,GAAI,aACJ,GAAI,eACJ,GAAI,gBACJ,GAAI,gBACJ,GAAI,sBACJ,GAAI,+BACJ,GAAI,+BACJ,GAAI,+BACJ,GAAI,+BACJ,GAAI,qBACJ,GAAI,kCACJ,GAAI,kBACJ,GAAI,kBACJ,GAAI,kBACJ,GAAI,kBACJ,GAAI,kBACJ,GAAI,iBACJ,GAAI,iBACJ,GAAI,sCACJ,GAAI,sCACJ,IAAK,kCACL,IAAK,kCACL,IAAK,gBACL,IAAK,wBACL,IAAK,uBACL,IAAK,gBACL,IAAK,gBACL,IAAK,eACL,IAAK,eACL,IAAK,gBACL5lC,KAAK,IACHA,KAAK,IAAM,IAAMA,KAAK,IAAM,KAAI4lC,GAAM5lC,KAAK,GAAK,GAAK,OAAS,OAC7D4lC,IAAIA,EAAK,aACP7a,EAAI,OAAS6a,E,EAEtB9f,GAAKvlB,UAAU6lB,OAAS,SAAS9lB,GAAqD,OAA9CN,KAAKguB,MAAMlkB,KAAKxJ,EAAI0d,MAAQ1d,EAAI0d,MAAQ1d,GAAaN,I,EAC7F8lB,GAAKvlB,UAAUwlC,SAAW,SAASzlC,GACjC,QAAkB,IAAPA,EAAoBN,KAAKguB,MAAQ,OACvC,CACC1tB,EAAI0d,QAAO1d,EAAMA,EAAI0d,OACzB,IAAInU,EAAI7J,KAAKguB,MAAM1F,QAAQhoB,GACvBuJ,GAAI,GAAI7J,KAAKguB,MAAMnR,OAAOhT,EAAG,E,CAEnC,OAAO7J,I,EAET8lB,GAAKvlB,UAAU8lB,SAAW,SAAS/lB,GAC7BA,EAAI0d,QAAO1d,EAAMA,EAAI0d,OACzB,IAAK,IAAInU,EAAI,EAAGA,EAAI7J,KAAKguB,MAAMzrB,OAAQsH,IAAK,GAAI7J,KAAKguB,MAAMnkB,IAAMvJ,EAAK,OAAO,EAC7E,OAAO,C,EAGTusB,GAAI/G,KAAOA,GACXlG,EAAGrf,UAAUulB,KAAOA,GAsIpB+G,GAAIiW,QAAUA,GACdljB,EAAGrf,UAAUuiC,QAAUA,GAQvB9e,GAAIiD,SAAW,SAAS7W,GACtB,IAAIyS,EAAIzS,aAAezG,MAAQyG,EAAMxG,UACrC,GAAIiZ,EAAE,IAAMuB,SAASvB,EAAE,KAAOA,EAAE,GAAK,GAAKA,EAAE,GAAK,GAAI,MAAMnS,WAAW,6BAA+BmS,EAAE,IACvG,GAAIA,EAAE,IAAMuB,SAASvB,EAAE,KAAOA,EAAE,GAAK,GAAKA,EAAE,GAAKA,EAAE,GAAK,GAAI,MAAMnS,WAAW,wBAA0BmS,EAAE,G,EAE3GmB,GAAIzjB,UAAUysB,MAAQ,WAAa,IAAK,IAAI/c,EAAI,EAAGA,EAAI,GAAIA,IAAKjQ,KAAKiQ,GAAK,CAAE+1B,KAAM,EAAGC,OAAQh2B,E,EAC7F+T,GAAIzjB,UAAU0jB,MAAQ,SAAS3V,EAAG2B,GAEhC,IAAIgN,EADJ+G,GAAIiD,SAAS3Y,EAAG2B,GAEhB,IAAIi2B,EAAO53B,EAAI2B,EACf,IAAIjQ,KAAKsO,GAAG23B,QAAU33B,GAAKtO,KAAKsO,GAAG03B,MAAQ/1B,KACtCA,GAAMjQ,KAAKsO,GAAG03B,MAAnB,CAmBA,IAlBIhmC,KAAKsO,GAAG03B,KAENE,GADJjpB,EAAI3O,EAAItO,KAAKsO,GAAG03B,QACFE,EAAOjpB,GAEdjd,KAAKsO,GAAG23B,QAAU33B,EAAI,GAC7B2O,EAAI3O,EAAI,EAEJ43B,GADJjpB,GAAQjd,KAAKid,GAAG+oB,QACFE,EAAOjpB,GACrBjd,KAAKsO,EAAI,GAAK,CAAE03B,KAAM,EAAGC,OAAQ33B,EAAI,IAE9BtO,KAAKsO,GAAG23B,QAAU33B,IACzB2O,EAAIjd,KAAKsO,GAAG23B,OAERC,GADJjpB,GAAQjd,KAAKid,GAAG+oB,QACFE,EAAOjpB,GACrBjd,KAAKA,KAAKsO,GAAG23B,QAAQD,KAAO13B,EAAItO,KAAKsO,GAAG23B,OAAS,GAEnDjmC,KAAKsO,GAAG23B,OAAS33B,EACjBtO,KAAKsO,GAAG03B,KAAO/1B,EACVgN,EAAI3O,EAAI,EAAG2O,GAAK3O,EAAI2B,EAAGgN,IACtBjd,KAAKid,GAAG+oB,MAAQE,EAAOjpB,EAAIjd,KAAKid,GAAG+oB,OAAME,EAAOjpB,EAAIjd,KAAKid,GAAG+oB,MAChEhmC,KAAKid,GAAK,CAAE+oB,KAAM,EAAGC,OAAQ33B,GAE/B,KAAO2O,GAAKipB,EAAMjpB,IAAKjd,KAAKid,GAAK,CAAE+oB,KAAM,EAAGC,OAAQhpB,EAvB3B,C,EAyB3B+G,GAAIzjB,UAAU6U,OAAS,SAAS6N,GAC9B,IAAIkB,EAAIlB,EAAI4gB,aACZ,IAAK7jC,KAAKmkB,KAAOnkB,KAAKA,KAAKmkB,GAAG8hB,QAAQD,KAAM,OAAO/iB,EACnD,IAEIpZ,EAAGmT,EAAGC,EAFN3O,EAAItO,KAAKmkB,GAAG8hB,OACZh2B,EAAIjQ,KAAKsO,GAAG03B,KAEhB,QAAuB,IAAZ/iB,EAAIc,KAAqB,CAElC,IADA9G,EAAI,IACCpT,EAAIyE,EAAI,EAAGzE,GAAKyE,EAAI2B,EAAGpG,IAC1B,GAAK7J,KAAK6J,GAAGs8B,OAKX,IADIlpB,EAAIjd,KAAK6J,GAAGs8B,MAAM5jC,SAAU4hB,EAAIta,EAAGoT,EAAIjd,KAAK6J,GAAGs8B,MAAM5jC,QACpDya,EAAI,EAAGA,EAAIhd,KAAK6J,GAAGs8B,MAAM5jC,OAAQya,IACpC,GAAIhd,KAAK6J,GAAGs8B,MAAMnpB,IAAMiG,EAAIc,KAAM,CAAEI,EAAIta,EAAGoT,GAAI,EAAI,K,OALjDA,EAAI,IAAKkH,EAAIta,EAAGoT,EAAI,GAS5BgG,EAAI6gB,WAAW3f,GACflB,EAAIc,UAAOtW,C,CAEb,OAAI0W,GAAK7V,IACL2U,EAAI8hB,YACD/kC,KAAKmkB,GAAGgiB,QAAOnmC,KAAKmkB,GAAGgiB,MAAQ,IACpCjnB,EAAMlf,KAAKmkB,GAAGgiB,MAAOljB,EAAI8gB,YAElB9gB,EAAI+hB,aACPhlC,KAAKmkB,GAAGgiB,OAAOxmB,EAAK3f,KAAKmkB,GAAGgiB,MAAOljB,EAAI8gB,YAN1B9gB,C,EAUrB4J,GAAI7I,IAAMA,GAEV6I,GAAIyB,IAAM,GACVzB,GAAIyB,IAAIzV,IAAM6E,EACdmP,GAAIyB,IAAI8X,SAAWzoB,EACnBkP,GAAIyB,IAAIjJ,YAAc,SAASta,EAAM6V,GACnC,IAAInM,EAAO,IAAIiP,EAGf,OAFA9C,EAAOwC,SAAS3O,GAChBA,EAAKiM,MAAQE,EAAOF,MAAM3V,GACnB0J,C,EAEToY,GAAIyB,IAAI/I,WAAa,SAASxa,EAAM6V,GAClC,IAAInM,EAAO,IAAIiP,EAGf,OAFA9C,EAAO0C,QAAQ7O,GACfA,EAAKiM,MAAQE,EAAOF,MAAM3V,GACnB0J,C,EAEToY,GAAIyB,IAAIG,gBAAkB,SAAS1jB,EAAM6V,GAEvC,IADA,IAAI9gB,EAAI8gB,EAAOF,MAAM3V,GACZlB,EAAI,EAAGA,EAAIiY,GAASZ,MAAM3e,OAAQsH,IAAK,GAAIiY,GAASZ,MAAMrX,GAAGkB,MAAQjL,EAAEiL,KAAM,OAAO,EAO7F,OANAjL,EAAE8gB,OAASA,EACXkB,GAASZ,MAAMpX,KAAKhK,GAChBmhB,IACFK,IACIL,EAAK1C,OAAQ0C,EAAKvB,UAAWuB,EAAKrC,aAEjC,C,EAETiO,GAAIyB,IAAIC,eAAiB,SAASxjB,EAAM6V,GAEtC,IADA,IAAI9gB,EAAI8gB,EAAOF,MAAM3V,GACZlB,EAAI,EAAGA,EAAIiY,GAASX,KAAK5e,OAAQsH,IAAK,GAAIiY,GAASX,KAAKtX,GAAGkB,MAAQjL,EAAEiL,KAAM,OAAO,EAO3F,OANAjL,EAAE8gB,OAASA,EACXkB,GAASX,KAAKrX,KAAKhK,GACfmhB,IACFK,IACIL,EAAK1C,OAAQ0C,EAAKvB,UAAWuB,EAAKrC,aAEjC,C,EAuCTiO,GAAIyB,IAAI+X,gBAAkB/F,GAC1BzT,GAAIyB,IAAIgY,gBAAkB,WAAkC,OAArBtD,KAA4BzC,E,EACnE,IAAIgG,GAAO,oEACX1Z,GAAIyB,IAAIkY,WAAa,SAAS7Z,GAC5B,IACI8Z,EAAMC,EAAMC,EACNC,EAAMC,EAAMC,EAFlBpa,EAAS,GAGT7iB,EAAI,EAER,IADA8iB,EAAQA,EAAMoa,QAAO,mBAAqB,IACnCl9B,EAAI8iB,EAAMpqB,QAKfkkC,EAJOF,GAAKje,QAAQqE,EAAMqa,OAAOn9B,OAIjB,GAHhB+8B,EAAOL,GAAKje,QAAQqE,EAAMqa,OAAOn9B,QAGH,EAC9B68B,GAAgB,GAAPE,IAAc,GAHvBC,EAAON,GAAKje,QAAQqE,EAAMqa,OAAOn9B,QAGI,EACrC88B,GAAgB,EAAPE,IAAa,GAHtBC,EAAOP,GAAKje,QAAQqE,EAAMqa,OAAOn9B,OAIjC6iB,GAAkB3d,OAAO8tB,aAAa4J,GAC1B,IAARI,IACFna,GAAkB3d,OAAO8tB,aAAa6J,IAE5B,IAARI,IACFpa,GAAkB3d,OAAO8tB,aAAa8J,IAG1C,OAAOja,C,EAETG,GAAIyB,IAAI2Y,SAAW,SAAS10B,GAC1B,IAAgB20B,EAAIC,EAAIC,EAAIC,EAAIC,EAAMz9B,EAAI,EAAG09B,EAAK,EAAGC,EAAM,GAAIpnC,EAAM,GACrE,IAAKmS,EAAM,OAAOA,EAClB,GAKE20B,GADAI,EAHK/0B,EAAK+e,WAAWznB,MAGR,GAFR0I,EAAK+e,WAAWznB,MAEG,EADnB0I,EAAK+e,WAAWznB,OAER,GAAK,GAClBs9B,EAAKG,GAAQ,GAAK,GAClBF,EAAKE,GAAQ,EAAI,GACjBD,EAAY,GAAPC,EACLlnC,EAAImnC,KAAQhB,GAAKS,OAAOE,GAAMX,GAAKS,OAAOG,GAAMZ,GAAKS,OAAOI,GAAMb,GAAKS,OAAOK,SACxEx9B,EAAI0I,EAAKhQ,QACjBilC,EAAMpnC,EAAI2tB,KAAK,IACf,IAAI0Z,EAAIl1B,EAAKhQ,OAAS,EACtB,OAAQklC,EAAID,EAAIt6B,MAAM,EAAGu6B,EAAI,GAAK,MAAMv6B,MAAMu6B,GAAKD,C,EAErD3a,GAAIyB,IAAI6S,SAAW,SAAS5uB,GAC1BA,OAAsB,IAARA,EAAsB,GAAK,GAAKA,EAC9C,IACI1I,EAAGoG,EAAG3B,EADNqX,EAAM,GAEV,IAAK9b,EAAI,EAAGA,EAAI0I,EAAKhQ,OAAQsH,IAAK,CAEhC,IADAoG,EAAIsC,EAAK+e,WAAWznB,IACZ,IAAM,OAAO0I,EACrB,GAAItC,EAAI,IAAM0V,GAAOpT,EAAK1I,QACrB,GAAkB,MAAT,IAAJoG,GAAmB,CAEtB,GADLA,GAAS,GAAJA,IAAa,IAClBpG,GAAc0I,EAAKhQ,OAAQ,OAAOgQ,EAElC,GAAkB,MAAT,KADTjE,EAAIiE,EAAK+e,WAAWznB,KACI,OAAO0I,EAC/BtC,GAAU,GAAJ3B,EACNqX,GAAO5W,OAAO8tB,aAAa5sB,E,MAExB,GAAkB,MAAT,IAAJA,GAAmB,CAEtB,GADLA,GAAS,GAAJA,IAAa,KAClBpG,GAAc0I,EAAKhQ,OAAQ,OAAOgQ,EAElC,GAAkB,MAAT,KADTjE,EAAIiE,EAAK+e,WAAWznB,KACI,OAAO0I,EAE1B,GADLtC,IAAU,GAAJ3B,IAAa,IACnBzE,GAAc0I,EAAKhQ,OAAQ,OAAOgQ,EAElC,GAAkB,MAAT,KADTjE,EAAIiE,EAAK+e,WAAWznB,KACI,OAAO0I,EAC/BtC,GAAU,GAAJ3B,EACNqX,GAAO5W,OAAO8tB,aAAa5sB,E,MAExB,GAAkB,MAAT,IAAJA,GAAmB,CAEtB,GADLA,GAAS,EAAJA,IAAa,KAClBpG,GAAc0I,EAAKhQ,OAAQ,OAAOgQ,EAElC,GAAkB,MAAT,KADTjE,EAAIiE,EAAK+e,WAAWznB,KACI,OAAO0I,EAE1B,GADLtC,IAAU,GAAJ3B,IAAa,KACnBzE,GAAc0I,EAAKhQ,OAAQ,OAAOgQ,EAElC,GAAkB,MAAT,KADTjE,EAAIiE,EAAK+e,WAAWznB,KACI,OAAO0I,EAE1B,GADLtC,IAAU,GAAJ3B,IAAa,IACnBzE,GAAc0I,EAAKhQ,OAAQ,OAAOgQ,EAElC,GAAkB,MAAT,KADTjE,EAAIiE,EAAK+e,WAAWznB,KACI,OAAO0I,EAE/B,IADAtC,GAAU,GAAJ3B,GACE,QAAU,OAAOiE,EACzBtC,GAAK,MACL0V,GAAO5W,OAAO8tB,aAAa,OAAU5sB,GAAK,KAC1C0V,GAAO5W,OAAO8tB,aAAa,OAAc,KAAJ5sB,G,EAGzC,OAAO0V,C,EAETkH,GAAIyB,IAAI0O,OAAS,SAASzqB,GACxBA,OAAsB,IAARA,EAAsB,GAAK,GAAKA,EAC9C,IACI1I,EAAGoG,EADH0V,EAAM,GAEV,IAAK9b,EAAI,EAAGA,EAAI0I,EAAKhQ,OAAQsH,KAC3BoG,EAAIsC,EAAK+e,WAAWznB,IACZ,IAAM8b,GAAOpT,EAAK1I,GACjBoG,EAAI,MACX0V,GAAO5W,OAAO8tB,aAAa,KAAQ5sB,GAAK,IACxC0V,GAAO5W,OAAO8tB,aAAa,KAAY,GAAJ5sB,KAE5BA,EAAI,OACX0V,GAAO5W,OAAO8tB,aAAa,KAAQ5sB,GAAK,KACxC0V,GAAO5W,OAAO8tB,aAAa,KAAQ5sB,GAAM,EAAK,KAC9C0V,GAAO5W,OAAO8tB,aAAa,KAAY,GAAJ5sB,MAInC0V,GAAO5W,OAAO8tB,aAAa,KAAQ5sB,GAAK,KACxC0V,GAAO5W,OAAO8tB,aAAa,KAAQ5sB,GAAM,GAAM,KAC/C0V,GAAO5W,OAAO8tB,aAAa,KAAQ5sB,GAAM,EAAK,KAC9C0V,GAAO5W,OAAO8tB,aAAa,KAAY,GAAJ5sB,KAGvC,OAAO0V,C,EAIT,IAAI+hB,GAAO,GACPC,GAAa,GACbC,GAAY,GAEZh7B,GAAUsQ,EAAOtQ,QAgBrB,SAASi7B,GAAa98B,EAAMkG,EAAS62B,GACnC9nC,KAAK+K,KAAOA,EACZ/K,KAAKiR,QAAUA,EACfjR,KAAK8nC,KAAOA,C,CAGd,SAASC,GAAoBtzB,EAAM5I,GACjC7L,KAAKgoC,SAAU,EACfhoC,KAAKioC,cAAe,EACpBjoC,KAAKkoC,YAAa,EAClBloC,KAAKmoC,cAAgBt8B,EACrB7L,KAAKooC,kBAAmB,EACxBpoC,KAAKqoC,WAAa,EAClBroC,KAAKsoC,KAAO,GACZtoC,KAAKyU,KAAOA,EACZzU,KAAKuoC,aAAc,EACnBvoC,KAAKwoC,WAAa38B,EAClB7L,KAAK6L,OAASA,EACd7L,KAAKyoC,UAAY/qB,IACjB1d,KAAKoO,KAAO,a,CAGd,SAASs6B,GAAiBj0B,EAAMlC,GAC9BvS,KAAKgoC,SAAU,EACfhoC,KAAKioC,cAAe,EACpBjoC,KAAKkoC,YAAa,EAClBloC,KAAKmoC,cAAgB1zB,EACrBzU,KAAKuS,KAAOA,EACZvS,KAAKooC,kBAAmB,EACxBpoC,KAAKqoC,WAAa,EAClBroC,KAAKsoC,KAAO,GACZtoC,KAAK2oC,aAAejrB,IACpB1d,KAAKuoC,aAAc,EACnBvoC,KAAKwoC,WAAa/zB,EAClBzU,KAAK6L,OAAS4I,EACdzU,KAAKyoC,UAAYzoC,KAAK2oC,aACtB3oC,KAAKoO,KAAO,a,CAGd,SAASw6B,GAAa5tB,EAAG6H,GACnB7H,IACEA,EAAEkR,eAAelR,EAAEkR,cAAc,IAAI6b,GAAoB/sB,EAAGA,IAC5D6H,EAAEqJ,eAAerJ,EAAEqJ,cAAc,IAAI6b,GAAoB/sB,EAAG6H,I,CAIpE,SAASgmB,GAAUhmB,EAAG7H,GACpB,IAAIgE,EAAOhf,KACP8oC,GAAQ,EACRC,EAAS,KACTC,EAAS,KACbhpC,KAAKoO,KAAO,QACZpO,KAAK4hB,GAAK5G,EAAE4G,GACZ5hB,KAAK+K,KAAOiQ,EAAEjQ,KACd/K,KAAK6hB,aAAe7G,EAAEiuB,IACtBjpC,KAAKoK,QAAU4Q,EAAE+F,IACjB9U,OAAOqE,eAAetQ,KAAM,QAAS,CAAEwQ,IAAK,WAAa,OAAOwK,EAAEwL,UAAY,YAAc,c,EAAmBjW,YAAY,IAC3HtE,OAAOqE,eAAetQ,KAAM,aAAc,CAAEwQ,IAAK,WAC/C,OAAOs4B,EAAQ9tB,EAAEkuB,MAAQ,OAAS,UAAY,Q,EAC7C34B,YAAY,IACftE,OAAOqE,eAAetQ,KAAM,gBAAiB,CAC3CwQ,IAAK,WAAa,OAAOw4B,C,EACzBv4B,IAAK,SAASlE,GACRuR,EAAMvR,IACRy8B,EAASz8B,EACJu8B,GAAO9pB,EAAKzJ,OAAO+K,KAAKzC,EAAMA,IAEhCmrB,EAAS,I,EAEhBz4B,YAAY,IAEdtE,OAAOqE,eAAetQ,KAAM,gBAAiB,CAC3CwQ,IAAK,WAAa,OAAOu4B,C,EACzBt4B,IAAK,SAASlE,GACMw8B,EAAdjrB,EAAMvR,GAAiBA,EACb,I,EAEhBgE,YAAY,IAEdvQ,KAAKuV,KAAO,WACV,OAAO,IAAI3I,IAAQ,SAASC,EAASC,GAC/Bg8B,EAAOj8B,EAAQmS,GAEjBhE,EAAEzF,OAAO+K,MAAK,WACPwoB,IACHA,GAAQ,EACRF,GAAa5pB,EAAM6D,IAErBhW,EAAQmS,E,IACP,WACDlS,EAAO,IAAI+6B,GAAa,qBAAsB,wBAAyB,I,QAK/E7nC,KAAK8gB,MAAQ,WACX,OAAO,IAAIlU,IAAQ,SAASC,GACtBi8B,IACFA,GAAQ,EACR9tB,EAAE8F,QACF8nB,GAAa5pB,EAAM6D,IAErBhW,EAAQmS,E,KAGZ/S,OAAOk9B,OAAOnpC,K,CAGhB,SAASopC,GAAOhqB,GAEd,IADA,IAAIvV,EAAGoT,EACAmC,EAAE7c,QAAQ,CACf,IAAKsH,EAAI,EAAGA,EAAIuV,EAAE7c,UAAiB6c,EAAEvV,IAAMua,SAAShF,EAAEvV,KAAOuV,EAAEvV,IAAM,KAAQuV,EAAEvV,IAAM,KAAgB,KAARuV,EAAEvV,IAArEA,KAE1B,GADAuV,EAAEvC,OAAO,EAAGhT,IACPuV,EAAE7c,OAAQ,OACf,GAAY,KAAR6c,EAAE,GAAY,CAChB,IAAKvV,EAAI,EAAGA,EAAIuV,EAAE7c,QAAyB,KAAR6c,EAAEvV,GAAXA,KAC1B,GAAIA,GAAKuV,EAAE7c,OAAQ,OACnB,OAAO6c,EAAEvC,OAAO,EAAGhT,EAAI,E,CAIvB,IADAoT,EAAIosB,GAASjqB,EAAE,IAAM,GACbA,EAAE7c,OAAQ,OAClB,IAAKsH,EAAI,EAAGA,EAAIoT,KAAYmC,EAAEvV,IAAMua,SAAShF,EAAEvV,KAAOuV,EAAEvV,GAAK,GAAKuV,EAAEvV,IAAM,KAAvDA,KACnB,GAAIA,GAAKoT,EAAG,OAAOmC,EAAEvC,OAAO,EAAGhT,GAC1BuV,EAAEvC,OAAO,EAAGhT,E,EAKvB,SAASy/B,GAAY1nB,EAAI7W,EAAMk+B,EAAKloB,GAClC,IAAI/B,EAAOhf,KACXA,KAAK4hB,GAAKA,EACV5hB,KAAK+K,KAAOA,EACZ/K,KAAKipC,IAAMA,EACXjpC,KAAK+gB,IAAMA,EACX/gB,KAAKwmB,WAAY,EACjBxmB,KAAKupC,MAAQ,GACbvpC,KAAKwpC,QAAU,GACfxpC,KAAKkpC,WAAQz7B,EACbzN,KAAKypC,MAAQ,GACbzpC,KAAKsrB,OAAS,SAASrI,GACrB,IAAI3U,EAEJ,IADA0Q,EAAKyqB,MAAQzqB,EAAKyqB,MAAM1gC,OAAOka,EAAI/V,SAC9BoB,EAAI86B,GAAOpqB,EAAKyqB,OAAQn7B,EAAGA,EAAI86B,GAAOpqB,EAAKyqB,OAC9C,IAAK5/B,EAAI,EAAGA,EAAImV,EAAKuqB,MAAMhnC,OAAQsH,IAC7BmV,EAAKuqB,MAAM1/B,GAAG,GAAGoiB,gBAA0B,KAAR3d,EAAE,IAAc0Q,EAAKuqB,MAAM1/B,GAAG,KACnEmV,EAAKuqB,MAAM1/B,GAAG,GAAGoiB,cAAc,IAAIyc,GAAiB1pB,EAAM,IAAI0qB,WAAWp7B,I,EA+DnF,SAAS+6B,GAASvpC,GAChB,OAAIA,GAAK,KAAQA,GAAK,KAAQA,GAAK,KAAQA,GAAK,KAAa,KAALA,EAAkB,EACtEA,GAAK,KAAQA,GAAK,KAAa,KAALA,GAAkB,KAALA,EAAkB,EACtD,C,CAlOc,mBAAZ8M,MACTA,GAAU,SAAS+8B,GACjB3pC,KAAK2pC,SAAWA,C,GAEVppC,UAAU+f,KAAO,SAASzT,EAASC,GAClB,mBAAZD,IACTA,EAAUgR,GAEU,mBAAX/Q,IACTA,EAAS+Q,GAEX7d,KAAK2pC,SAAS98B,EAASC,E,GA2J3Bw8B,GAAY/oC,UAAUgV,KAAO,WAC3B,IAAIyJ,EAAOhf,KACX,OAAO,IAAI4M,IAAQ,SAASC,EAASC,GACnC,IAAIjD,EACAmV,EAAKkqB,QAAUlqB,EAAKwH,UAAW3Z,KAEjCmS,EAAKwqB,QAAQ1/B,KAAK,CAAC+C,EAASC,IACD,GAAvBkS,EAAKwqB,QAAQjnC,QACfsqB,KAAMtH,WAAWvG,EAAKjU,MAAM0V,IAAG,WAC7B,IAAK5W,EAAI,EAAGA,EAAImV,EAAKwqB,QAAQjnC,OAAQsH,IAAKmV,EAAKwqB,QAAQ3/B,GAAG,KAC1DmV,EAAKwqB,QAAU,E,IACdhpB,KAAI,WAGL,IAFAxB,EAAKkqB,MAAQlpC,KACbgf,EAAKkqB,MAAM5iB,QAAQtH,EAAKsM,QACnBzhB,EAAI,EAAGA,EAAImV,EAAKwqB,QAAQjnC,OAAQsH,IAAKmV,EAAKwqB,QAAQ3/B,GAAG,KAC1DmV,EAAKwqB,QAAU,E,SAMzBF,GAAY/oC,UAAUugB,MAAQ,WAC5B,IAAIjX,EACJ,GAAI7J,KAAKkpC,MAAO,CACd,IAAKr/B,EAAI,EAAGA,EAAI7J,KAAKupC,MAAMhnC,OAAQsH,IAAK,GAAgC,QAA5B7J,KAAKupC,MAAM1/B,GAAG+/B,WAAsB,OAChF5pC,KAAKkpC,MAAMpoB,QACX9gB,KAAKkpC,WAAQz7B,C,GAGjB67B,GAAY/oC,UAAUgmB,WAAa,WACjCvmB,KAAKwmB,WAAY,EACbxmB,KAAKkpC,QACPlpC,KAAKkpC,MAAMpoB,QACX9gB,KAAKkpC,WAAQz7B,E,EAGjB67B,GAAY/oC,UAAUspC,UAAY,WAChC,IACIhgC,EAAGmR,EADHgE,EAAOhf,KAEP6iB,EAAI,GAER,IADA7iB,KAAKwmB,WAAY,EACZ3c,EAAI,EAAGA,EAAI69B,GAAKnlC,OAAQsH,IAEP,WADpBmR,EAAI0sB,GAAK79B,GAAGqL,OAAO1E,IAAIxQ,KAAK4hB,KACtBgoB,WAAwBhB,GAAa5tB,EAAG0sB,GAAK79B,IAC9CgZ,EAAE/Y,KAAK,CAACkR,EAAG0sB,GAAK79B,KAEnBgZ,EAAEtgB,QACJsqB,KAAMrH,cAAcxG,EAAKjU,MAAM0V,IAAG,WAChC,IAAK5W,EAAI,EAAGA,EAAIgZ,EAAEtgB,OAAQsH,IAAKgZ,EAAEhZ,GAAG,GAAGiX,O,IACtCN,KAAI,WAGL,IAFAxB,EAAKkqB,MAAQlpC,KACbgf,EAAKkqB,MAAM5iB,QAAQtH,EAAKsM,QACnBzhB,EAAI,EAAGA,EAAIgZ,EAAEtgB,OAAQsH,IAAK++B,GAAa/lB,EAAEhZ,GAAG,GAAIgZ,EAAEhZ,GAAG,G,KAWhE,IAAIigC,GAAO,6CAEX,SAASC,GAAU3pC,EAAKygB,GACtB,IAAIhX,EAAGoT,EACHgG,EACA1Q,EAAO,GACX,IAAK1I,EAAI,EAAGA,EAAIzJ,EAAImC,OAAQsH,IAC1B,GAAIzJ,EAAIyJ,IAAMua,SAAShkB,EAAIyJ,KAAOzJ,EAAIyJ,GAAK,GAAKzJ,EAAIyJ,GAAK,IAAK,MAAMkE,UAAU+7B,GAAO1pC,EAAIyJ,GAAK,0BAGhG,IADAoT,EAAI,EACCpT,EAAI,EAAGA,EAAIzJ,EAAImC,OAAQsH,IAC1B,GAAKoT,EAoBA,CACH,GAAI7c,EAAIyJ,GAAK,IAAM,MAAMkE,UAAU+7B,GAAO,mCAAqCjgC,EAAI,KAAOzJ,EAAIyJ,GAAK,MACnGoZ,EAAInZ,KAAK1J,EAAIyJ,IACboT,G,KAvBM,CACN,GAAI7c,EAAIyJ,GAAK,IAAM,MAAMkE,UAAU+7B,GAAO,0CAA4CjgC,EAAI,KAAOzJ,EAAIyJ,GAAK,MAC1G,GAAc,KAAVzJ,EAAIyJ,GAAY,MAAMkE,UAAU+7B,GAAO,uDAAyDjgC,EAAI,KAAOzJ,EAAIyJ,GAAK,MAGxH,GAFAoZ,EAAM,CAAC7iB,EAAIyJ,IACX0I,EAAKzI,KAAKmZ,GACI,KAAV7iB,EAAIyJ,GAAY,CAClB,IAAKgX,EAAO,MAAM,IAAIgnB,GAAa,qBAAsBiC,GAAO,mDAAqDjgC,EAAI,KAAOzJ,EAAIyJ,GAAK,KAAM,IAE/I,IADAoT,GAAI,EACGpT,EAAIzJ,EAAImC,OAAQsH,IAErB,GADAoZ,EAAInZ,KAAK1J,EAAIyJ,IACC,KAAVzJ,EAAIyJ,GAAY,CAClBoT,EAAI,EACJ,K,OAKJA,EAAIosB,GAASjpC,EAAIyJ,G,CASvB,GAAIoT,EAAG,MAAMlP,UAAU+7B,GAAO,yBAC9B,MAAO,CAACv3B,E,CAGV,SAASy3B,GAAWnnB,EAAG7H,GACrB,IAAIgE,EAAOhf,KACP8oC,GAAQ,EACRC,EAAS,KACb/oC,KAAKoO,KAAO,SACZpO,KAAK4hB,GAAK5G,EAAE4G,GACZ5hB,KAAK+K,KAAOiQ,EAAEjQ,KACd/K,KAAK6hB,aAAe7G,EAAEiuB,IACtBjpC,KAAKoK,QAAU4Q,EAAE+F,IACjB9U,OAAOqE,eAAetQ,KAAM,QAAS,CAAEwQ,IAAK,WAAa,OAAOwK,EAAEwL,UAAY,YAAc,c,EAAmBjW,YAAY,IAC3HtE,OAAOqE,eAAetQ,KAAM,aAAc,CAAEwQ,IAAK,WAC/C,OAAOs4B,EAAQ9tB,EAAEkuB,MAAQ,OAAS,UAAY,Q,EAC7C34B,YAAY,IACftE,OAAOqE,eAAetQ,KAAM,gBAAiB,CAC3CwQ,IAAK,WAAa,OAAOu4B,C,EACzBt4B,IAAK,SAASlE,GACMw8B,EAAdjrB,EAAMvR,GAAiBA,EACb,I,EAEhBgE,YAAY,IAEdvQ,KAAKuV,KAAO,WACV,OAAO,IAAI3I,IAAQ,SAASC,EAASC,GAC/Bg8B,EAAOj8B,EAAQmS,GAEjBhE,EAAEzF,OAAO+K,MAAK,WACPwoB,IACHA,GAAQ,EACRF,GAAa5pB,EAAM6D,IAErBhW,EAAQmS,E,IACP,WACDlS,EAAO,IAAI+6B,GAAa,qBAAsB,wBAAyB,I,QAK/E7nC,KAAK8gB,MAAQ,WACX,OAAO,IAAIlU,IAAQ,SAASC,GACtBi8B,IACFA,GAAQ,EACR9pB,EAAKirB,QACLjvB,EAAE8F,QACF8nB,GAAa5pB,EAAM6D,IAErBhW,EAAQmS,E,KAGZhf,KAAKiqC,MAAQ,WAAW,EAExBjqC,KAAK6lB,KAAO,SAAStT,EAAM23B,GAEzB,GADAH,GAAUx3B,EAAMsQ,EAAEsnB,eACbnvB,EAAEwL,UAAW,MAAM,IAAIqhB,GAAa,oBAAqB,wBAAyB,IACvF,GAAIiB,EAAO,CACT,IAAIjwB,EAAM6E,IACNwsB,EAAYrxB,EAAKxQ,YAAW,WAAa2S,EAAEkuB,MAAMrjB,KAAKtT,E,GAAU23B,EAAYrxB,GAC3EmC,EAAEkuB,MAAMrjB,KAAKtT,E,MAEfvS,KAAKuV,OAAO+K,MAAK,WAAatB,EAAK6G,KAAKtT,EAAM23B,E,GAAersB,E,EAEpE5R,OAAOk9B,OAAOnpC,K,CAGhB,SAASoqC,GAAaxoB,EAAI7W,EAAMk+B,EAAKloB,GACnC/gB,KAAK4hB,GAAKA,EACV5hB,KAAK+K,KAAOA,EACZ/K,KAAKipC,IAAMA,EACXjpC,KAAK+gB,IAAMA,EACX/gB,KAAKwmB,WAAY,EACjBxmB,KAAKupC,MAAQ,GACbvpC,KAAKwpC,QAAU,GACfxpC,KAAKkpC,WAAQz7B,C,CAyDf,SAAS48B,GAAS93B,GAChBvS,KAAKsqC,IAAM,SAAS1oB,GAClB,OAAOrP,EAAKuN,eAAe8B,IAAOrP,EAAKqP,GAAI4E,S,EAE7CxmB,KAAK2R,KAAO,WACV,IACE,IAAIrD,EAAI,IAAIi8B,IACZ,IAAK,IAAI3oB,KAAMrP,EAAUvS,KAAKsqC,IAAI1oB,IAAKtT,EAAEmC,IAAImR,EAAI5hB,KAAKwQ,IAAIoR,IAC1D,OAAOtT,EAAEqD,MACC,CAAV,MAAOrJ,GAAG,C,EAEdtI,KAAKmV,OAAS,WACZ,IACE,IAAI7G,EAAI,IAAIi8B,IACZ,IAAK,IAAI3oB,KAAMrP,EAAUvS,KAAKsqC,IAAI1oB,IAAKtT,EAAEmC,IAAImR,EAAI5hB,KAAKwQ,IAAIoR,IAC1D,OAAOtT,EAAE6G,QACC,CAAV,MAAO7M,GAAG,C,EAEdtI,KAAKwqC,QAAU,WACb,IACE,IAAIl8B,EAAI,IAAIi8B,IACZ,IAAK,IAAI3oB,KAAMrP,EAAUvS,KAAKsqC,IAAI1oB,IAAKtT,EAAEmC,IAAImR,EAAI5hB,KAAKwQ,IAAIoR,IAC1D,OAAOtT,EAAEk8B,SACC,CAAV,MAAOliC,GAAG,C,EAEdtI,KAAKyX,QAAU,SAASrP,EAAK4W,GAE3B,IAAK,IAAI4C,UADU,IAAR5C,IAAqBA,EAAOhf,MACxBuS,EAAUvS,KAAKsqC,IAAI1oB,IAAKxZ,EAAIG,KAAKyW,EAAMhf,KAAKwQ,IAAIoR,GAAKA,EAAI5hB,K,EAE1EiM,OAAOqE,eAAetQ,KAAM,OAAQ,CAClCwQ,IAAK,WACH,IAAItH,EAAM,EACV,IAAK,IAAI0Y,KAAMrP,EAAUvS,KAAKsqC,IAAI1oB,IAAK1Y,IACvC,OAAOA,C,EAETqH,YAAY,G,CAIhB,SAASk6B,GAAa5e,EAAS6e,GAC7B1qC,KAAKwQ,IAAM,SAASoR,GAClB,GAAIgmB,GAAU9nB,eAAe8B,IAAOgmB,GAAUhmB,GAAI4E,UAKhD,OAJKkkB,EAAQ9oB,KACX8oB,EAAQ9oB,GAAM,IAAIinB,GAAUhd,EAAS+b,GAAUhmB,IAC/CgmB,GAAUhmB,GAAI2nB,MAAMz/B,KAAK,CAAC4gC,EAAQ9oB,GAAKiK,EAAQse,gBAE1CO,EAAQ9oB,E,EAGnB3V,OAAOk9B,OAAOnpC,K,CAKhB,SAAS2qC,GAAc9e,EAAS+e,GAC9B5qC,KAAKwQ,IAAM,SAASoR,GAClB,GAAI+lB,GAAW7nB,eAAe8B,IAAO+lB,GAAW/lB,GAAI4E,UAKlD,OAJKokB,EAAShpB,KACZgpB,EAAShpB,GAAM,IAAIooB,GAAWne,EAAS8b,GAAW/lB,IAClD+lB,GAAW/lB,GAAI2nB,MAAMz/B,KAAK,CAAC8gC,EAAShpB,GAAKiK,EAAQse,gBAE5CS,EAAShpB,E,EAGpB3V,OAAOk9B,OAAOnpC,K,CAKhB,SAAS6qC,GAAU/qC,GACjB,IAAI+J,EAAGoT,EAAGjC,EAAG6H,EACb,IAAKhZ,EAAI,EAAGA,EAAI/J,EAAEoV,OAAOiQ,MAAM5iB,OAAQsH,IACrCmR,EAAIlb,EAAEoV,OAAOiQ,MAAMtb,GACd+9B,GAAU9nB,eAAe9E,EAAE4G,MAAKgmB,GAAU5sB,EAAE4G,IAAM,IAAI0nB,GAAYtuB,EAAE4G,GAAI5G,EAAEjQ,KAAMiQ,EAAE6G,aAAc7G,EAAE5Q,UACvGw9B,GAAU5sB,EAAE4G,IAAIioB,YAElB,IAAKhgC,EAAI,EAAGA,EAAI/J,EAAEkhB,QAAQmE,MAAM5iB,OAAQsH,IACtCmR,EAAIlb,EAAEkhB,QAAQmE,MAAMtb,GACf89B,GAAW7nB,eAAe9E,EAAE4G,MAAK+lB,GAAW3sB,EAAE4G,IAAM,IAAIwoB,GAAapvB,EAAE4G,GAAI5G,EAAEjQ,KAAMiQ,EAAE6G,aAAc7G,EAAE5Q,UAC1Gu9B,GAAW3sB,EAAE4G,IAAIioB,YAEnB,IAAKhgC,EAAI,EAAGA,EAAI/J,EAAEoV,OAAOiN,QAAQ5f,OAAQsH,IAEvC,GADAmR,EAAIlb,EAAEoV,OAAOiN,QAAQtY,GACjB+9B,GAAU9nB,eAAe9E,EAAE4G,IAAK,CAElC,IADAiB,EAAI,GACC5F,EAAI,EAAGA,EAAIyqB,GAAKnlC,OAAQ0a,IAAK4F,EAAE/Y,KAAK,CAAC49B,GAAKzqB,GAAG/H,OAAO1E,IAAIwK,EAAE4G,IAAK8lB,GAAKzqB,KAEzE,IADA2qB,GAAU5sB,EAAE4G,IAAI2E,aACXtJ,EAAI,EAAGA,EAAI4F,EAAEtgB,OAAQ0a,IAAK2rB,GAAa/lB,EAAE5F,GAAG,GAAI4F,EAAE5F,GAAG,G,CAG9D,IAAKpT,EAAI,EAAGA,EAAI/J,EAAEkhB,QAAQmB,QAAQ5f,OAAQsH,IAExC,GADAmR,EAAIlb,EAAEkhB,QAAQmB,QAAQtY,GAClB89B,GAAW7nB,eAAe9E,EAAE4G,IAAK,CAEnC,IADAiB,EAAI,GACC5F,EAAI,EAAGA,EAAIyqB,GAAKnlC,OAAQ0a,IAAK4F,EAAE/Y,KAAK,CAAC49B,GAAKzqB,GAAG+D,QAAQxQ,IAAIwK,EAAE4G,IAAK8lB,GAAKzqB,KAE1E,IADA0qB,GAAW3sB,EAAE4G,IAAI2E,aACZtJ,EAAI,EAAGA,EAAI4F,EAAEtgB,OAAQ0a,IAAK2rB,GAAa/lB,EAAE5F,GAAG,GAAI4F,EAAE5F,GAAG,G,EAKhE,SAAS6tB,GAAWjqB,GAClB,IAaIhX,EACAmR,EAdA0vB,EAAU,GACVE,EAAW,GACXG,EAAiB,KACjB/rB,EAAOhf,KACXA,KAAKmqC,aAAetpB,EACpB7gB,KAAKkV,OAAS,IAAIu1B,GAAazrB,EAAM0rB,GACrC1qC,KAAKghB,QAAU,IAAI2pB,GAAc3rB,EAAM4rB,GACvC3+B,OAAOqE,eAAetQ,KAAM,gBAAiB,CAC3CwQ,IAAK,WAAa,OAAOu6B,C,EACzBt6B,IAAK,SAASmN,GAAKmtB,EAAiBjtB,EAAMF,GAAKA,EAAI,I,EACnDrN,YAAY,IAEdtE,OAAOk9B,OAAOnpC,MAGd,IAAI2gB,EAAOM,EAAKP,MAChB,IAAK7W,EAAI,EAAGA,EAAI8W,EAAKzL,OAAO3S,OAAQsH,IAClCmR,EAAI2F,EAAKzL,OAAOrL,GACX+9B,GAAU9nB,eAAe9E,EAAE4G,MAAKgmB,GAAU5sB,EAAE4G,IAAM,IAAI0nB,GAAYtuB,EAAE4G,GAAI5G,EAAEjQ,KAAMiQ,EAAE6G,aAAc7G,EAAE5Q,UAEzG,IAAKP,EAAI,EAAGA,EAAI8W,EAAKK,QAAQze,OAAQsH,IACnCmR,EAAI2F,EAAKK,QAAQnX,GACZ89B,GAAW7nB,eAAe9E,EAAE4G,MAAK+lB,GAAW3sB,EAAE4G,IAAM,IAAIwoB,GAAapvB,EAAE4G,GAAI5G,EAAEjQ,KAAMiQ,EAAE6G,aAAc7G,EAAE5Q,UAEvGs9B,GAAKnlC,QAAQsqB,KAAMpH,SAASolB,IACjCnD,GAAK59B,KAAK9J,K,CAmBZ,OAzMAoqC,GAAa7pC,UAAUgV,KAAO,WAC5B,IAAIyJ,EAAOhf,KACX,OAAO,IAAI4M,IAAQ,SAASC,EAASC,GACnC,IAAIjD,EACAmV,EAAKkqB,QAAUlqB,EAAKwH,UAAW3Z,KAEjCmS,EAAKwqB,QAAQ1/B,KAAK,CAAC+C,EAASC,IACD,GAAvBkS,EAAKwqB,QAAQjnC,QACfsqB,KAAMxH,YAAYrG,EAAKjU,MAAM0V,IAAG,WAC9B,IAAK5W,EAAI,EAAGA,EAAImV,EAAKwqB,QAAQjnC,OAAQsH,IAAKmV,EAAKwqB,QAAQ3/B,GAAG,KAC1DmV,EAAKwqB,QAAU,E,IACdhpB,KAAI,WAEL,IADAxB,EAAKkqB,MAAQlpC,KACR6J,EAAI,EAAGA,EAAImV,EAAKwqB,QAAQjnC,OAAQsH,IAAKmV,EAAKwqB,QAAQ3/B,GAAG,KAC1DmV,EAAKwqB,QAAU,E,SAMzBY,GAAa7pC,UAAUugB,MAAQ,WAC7B,IAAIjX,EACJ,GAAI7J,KAAKkpC,MAAO,CACd,IAAKr/B,EAAI,EAAGA,EAAI7J,KAAKupC,MAAMhnC,OAAQsH,IAAK,GAAgC,QAA5B7J,KAAKupC,MAAM1/B,GAAG+/B,WAAsB,OAChF5pC,KAAKkpC,MAAMpoB,QACX9gB,KAAKkpC,WAAQz7B,C,GAGjB28B,GAAa7pC,UAAUgmB,WAAa,WAClCvmB,KAAKwmB,WAAY,EACbxmB,KAAKkpC,QACPlpC,KAAKkpC,MAAMpoB,QACX9gB,KAAKkpC,WAAQz7B,E,EAGjB28B,GAAa7pC,UAAUspC,UAAY,WACjC,IACIhgC,EAAGmR,EADHgE,EAAOhf,KAEP6iB,EAAI,GAER,IADA7iB,KAAKwmB,WAAY,EACZ3c,EAAI,EAAGA,EAAI69B,GAAKnlC,OAAQsH,IAEP,WADpBmR,EAAI0sB,GAAK79B,GAAGmX,QAAQxQ,IAAIxQ,KAAK4hB,KACvBgoB,WAAwBhB,GAAa5tB,EAAG0sB,GAAK79B,IAC9CgZ,EAAE/Y,KAAK,CAACkR,EAAG0sB,GAAK79B,KAEnBgZ,EAAEtgB,QACJsqB,KAAMvH,eAAetG,EAAKjU,MAAM0V,IAAG,WACjC,IAAK5W,EAAI,EAAGA,EAAIgZ,EAAEtgB,OAAQsH,IAAKgZ,EAAEhZ,GAAG,GAAGiX,O,IACtCN,KAAI,WAEL,IADAxB,EAAKkqB,MAAQlpC,KACR6J,EAAI,EAAGA,EAAIgZ,EAAEtgB,OAAQsH,IAAK++B,GAAa/lB,EAAEhZ,GAAG,GAAIgZ,EAAEhZ,GAAG,G,KAwDhE4gC,GAAalqC,UAAY,IAAI8pC,GAASzC,IACtC6C,GAAalqC,UAAU4R,YAAcs4B,GAcrCE,GAAcpqC,UAAY,IAAI8pC,GAAS1C,IACvCgD,GAAcpqC,UAAU4R,YAAcw4B,GA+DtC9d,GAAIxE,kBAAoB,SAASO,GAC/B,OAAO,IAAIhc,IAAQ,SAASC,EAASC,GACnC+f,GAAIA,IAAIjE,GAAKnI,IAAG,WAAW,IACxBD,KAAI,WACL,IAAIK,KAAW+H,IAAOA,EAAI/H,OAC1B,GAAIA,IAAU7gB,KAAK2gB,OAAOE,MAAO/T,EAAO,IAAI+6B,GAAa,gBAAiB,uBAAwB,SAC7F,CACH,IAAImD,EAAM,IAAIF,GAAWjqB,GACzBhU,EAAQm+B,E,SAKS,oBAAd5iB,WAA8BA,UAAUC,oBAAmBD,UAAUC,kBAAoBwE,GAAIxE,mBACxGwE,GAAI/L,MAAQ,WAAiBS,GAAQhC,QAAQgC,GAAQhC,Q,EAE9CsN,E,CAn8GYoe,G,SCAjBC,EAQK,SAASre,GAGhB,GAAKA,IAEAA,EAAIse,QAAOte,EAAIse,MAAQ,KAExBte,EAAIse,MAAMC,MAAd,CAEA,IA64BI7K,EA74BAljB,EAAW,QAm5BXguB,EAAS,GACTC,EAAU,GACV/pB,EAAU,CAEdA,MAAgB,SAASxW,GAEvB,OADKA,IAAMA,EAAO,kBACX,CACLqD,KAAM,YACNrD,KAAMA,EACN8W,aAAc,UACdzX,QAASiT,E,EAIbkE,SAAmB,SAAS9M,EAAM1J,GAOhC,IAAIogC,EANJI,IAEKhL,QAKe,IAATx1B,GAEJsgC,EADLtgC,EAAO,GAAKA,KACOsgC,EAAOtgC,GAAQ,IAAIygC,GACtCL,EAAQE,EAAOtgC,KAGfogC,EAAQ,IAAIK,EACZF,EAAQxhC,KAAKqhC,IAEfA,EAAMM,gBAAgBlL,GACtB9rB,EAAKi3B,KAAO,SAASC,GACfA,IAASA,EAAKz6B,mBAAmB+xB,cAAgB0I,EAAKz6B,mBAAmBgyB,qBAC3EiI,EAAMM,gBAAgBE,EAAKz6B,QAASy6B,E,EAGxCl3B,EAAKm3B,SAAW,SAAS37B,EAAG8a,EAAG9N,GAAKkuB,EAAMU,YAAY5uB,EAAGhN,EAAG8P,EAAOgL,G,EACnEtW,EAAKq3B,SAAW,SAAS77B,EAAGgN,GAAK,OAAW8C,EAAJ9C,EAAWkuB,EAAMY,QAAQ97B,EAAI,IAAck7B,EAAM7Y,QAAQriB,G,EACjGwE,EAAKiM,MAAQa,EAAQb,MAAM3V,GAC3B0J,EAAKkP,SAAW,SAASV,GAAOkoB,EAAMtlB,KAAK5C,E,EAC3CxO,EAAKmK,WAvBHnK,EAAKkK,OAAO,6B,GA0BhBkO,EAAIse,MAAMC,KAAO,SAASrgC,GACxB,OAAO8hB,EAAIyB,IAAIjJ,YAAYta,EAAMwW,E,EAGnCsL,EAAIse,MAAMC,KAAK9/B,SAAW,SAASP,GACjC,QAAOwgC,KAAW1e,EAAIyB,IAAIG,gBAAgB1jB,EAAMwW,E,EAGlDsL,EAAIse,MAAMC,KAAKhhC,QAAU,WAAa,OAAOiT,C,CAz8BzB,CAItB,SAASmuB,EAAkB5iB,GAg3BzB,IAAI,IAAI3L,KA/2BRjd,KAAKgsC,UAAYhsC,KAAKisC,GAEtB,CACEC,GAAG,qBACHC,WAAW,CACTC,UAAY,CAACh+B,KAAK/B,OAAQE,MAAM,GAAK8/B,SAAS,gBAC9CC,UAAY,CAACl+B,KAAK/B,OAAQE,MAAM,GAAK8/B,SAAS,gBAC9CE,QAAY,CAACn+B,KAAK/B,OAAQE,MAAM,EAAG8/B,SAAS,cAC5CG,MAAY,CAACp+B,KAAK/B,OAAQE,MAAM,GAChCkgC,IAAY,CAACr+B,KAAKW,OAAQxC,MAAM,KAAM8/B,SAAS,eAC/CK,KAAY,CAACt+B,KAAK/B,OAAQE,MAAM,GAEhCogC,OAAY,CAACv+B,KAAK/B,OAAQE,MAAM,GAChCqgC,OAAY,CAACx+B,KAAK/B,OAAQE,MAAM,IAChCsgC,UAAY,CAACz+B,KAAK/B,OAAQE,MAAM,IAIlC+lB,QAAQ,GACRyZ,QAAQ,GACRe,SAAS,CAEP,CAAC,CAACh+B,EAAE,OAAOiX,EAAE,GAAG9K,EAAE,GAAIwsB,EAAE,IAAM,CAAC34B,EAAE,WAAWiX,EAAE,EAAE9K,EAAE,GAAI8P,EAAE,GAAI6F,EAAE,EAAE/N,EAAE,IAAK5F,GAAE,MACzE,CAAC,CAACnO,EAAE,WAAWiX,EAAE,GAAI9K,EAAE,GAAIwsB,EAAE,IAAM,CAAC34B,EAAE,WAAWiX,EAAE,EAAE7L,EAAE,EAAEe,EAAE,GAAI8P,EAAE,GAAI6F,EAAE,EAAE3T,GAAE,EAAG4F,EAAE,MAChF,CAAC,CAAC/T,EAAE,OAAOmM,EAAE,GAAIwsB,EAAE,IAAM,CAAC34B,EAAE,WAAWiX,EAAE,EAAEnI,EAAE,EAAE3C,EAAE,GAAI8P,EAAE,GAAI6F,EAAE,EAAE3T,GAAE,IACjE,CAAC,CAACnO,EAAE,OAAOmM,EAAE,GAAI8K,EAAE,IAAM,CAACjX,EAAE,WAAWiX,EAAE,EAAE7L,EAAE,EAAE0D,EAAE,EAAE3C,EAAE,GAAI2V,EAAE,EAAE3T,GAAE,EAAG4F,EAAE,IAAKkI,EAAE,KAC3E,CAAC,CAACjc,EAAE,OAAOiX,EAAE,IAAK9K,EAAE,IAAM,CAACnM,EAAE,OAAOiX,EAAE,EAAE7L,EAAE,EAAE0D,EAAE,EAAE3C,EAAE,EAAE8P,EAAE,EAAE6F,EAAE,EAAE3T,GAAE,KAC9D,CAAC,CAACnO,EAAE,OAAOiX,EAAE,IAAK9K,EAAE,IAAM,CAACnM,EAAE,OAAOiX,EAAE,EAAE7L,EAAE,EAAE0D,EAAE,EAAE3C,EAAE,GAAI8P,EAAE,EAAE6F,EAAE,EAAE3T,GAAE,KAChE,CAAC,CAACnO,EAAE,WAAWiX,EAAE,IAAK9K,EAAE,GAAI,CAACnM,EAAE,OAAOiX,EAAE,EAAEnI,EAAE,GAAI3C,EAAE,EAAE8P,EAAE,EAAE0c,EAAE,EAAE7W,EAAE,IAC9D,CAAC,CAAC9hB,EAAE,WAAWiX,EAAE,IAAK9K,EAAE,KAAM,CAACnM,EAAE,SAASiX,EAAE,EAAEnI,EAAE,GAAI3C,EAAE,IAAI8P,EAAE,GAAI0c,EAAE,EAAE7W,EAAE,IAEtE,CAAC,CAAC9hB,EAAE,OAAOmM,EAAE,GAAIwsB,EAAE,IAAM,CAAC34B,EAAE,OAAOiX,EAAE,EAAE7L,EAAE,GAAGe,EAAE,IAAK2V,EAAE,IACrD,CAAC,CAAC9hB,EAAE,OAAOmM,EAAE,GAAIwsB,EAAE,IAAM,CAAC34B,EAAE,OAAOiX,EAAE,GAAG7L,EAAE,EAAEe,EAAE,GAAI8P,EAAE,GAAI6F,EAAE,IAC1D,CAAC,CAAC9hB,EAAE,OAAOiX,EAAE,GAAI9K,EAAE,GAAIwsB,EAAE,IAAM,CAAC34B,EAAE,OAAOiX,EAAE,GAAG7L,EAAE,EAAEe,EAAE,GAAI8P,EAAE,GAAI6F,EAAE,IAChE,CAAC,CAAC9hB,EAAE,OAAOiX,EAAE,GAAI9K,EAAE,GAAIwsB,EAAE,IAAM,CAAC34B,EAAE,WAAWiX,EAAE,GAAG7L,EAAE,EAAE0D,EAAE,EAAEmN,EAAE,GAAI6F,EAAE,IAClE,CAAC,CAAC9hB,EAAE,OAAOiX,EAAE,GAAI9K,EAAE,GAAIwsB,EAAE,IAAM,CAAC34B,EAAE,OAAOiX,EAAE,EAAE7L,EAAE,EAAEe,EAAE,IAAK2V,EAAE,IAC1D,CAAC,CAAC9hB,EAAE,OAAOiX,EAAE,GAAI9K,EAAE,GAAIwsB,EAAE,IAAM,CAAC34B,EAAE,OAAOiX,EAAE,EAAE7L,EAAE,GAAGe,EAAE,IAAK2V,EAAE,IAC3D,CAAC,CAAC9hB,EAAE,OAAOiX,EAAE,GAAI9K,EAAE,EAAEwsB,EAAE,GAAI,CAAC34B,EAAE,OAAOiX,EAAE,GAAG7L,EAAE,IAAIe,EAAE,EAAEwsB,EAAE,EAAE7W,EAAE,IAC1D,CAAC,CAAC9hB,EAAE,WAAWiX,EAAE,GAAI9K,EAAE,GAAIwsB,EAAE,IAAM,CAAC34B,EAAE,OAAOiX,EAAE,EAAE7L,EAAE,IAAIe,EAAE,GAAI8P,EAAE,GAAI0c,EAAE,GAAI7W,EAAE,IAE3E,CAAC,CAAC9hB,EAAE,QAAQiX,EAAE,IAAKgF,EAAE,IAAM,CAACjc,EAAE,QAAQiX,EAAE,IAAK7L,EAAE,EAAE0D,EAAE,EAAEmN,EAAE,KACvD,CAAC,CAACjc,EAAE,QAAQiX,EAAE,GAAIgF,EAAE,GAAI,CAACjc,EAAE,OAAOiX,EAAE,GAAG7L,EAAE,EAAE0D,EAAE,EAAEmN,EAAE,GAAI6F,EAAE,EAAE1L,EAAE,KAAMuiB,EAAE,KAAMxsB,EAAE,MAAQ,CAACnM,EAAE,QAAQiX,EAAE,GAAI7L,EAAE,EAAE0D,EAAE,EAAEsH,EAAE,EAAE6F,EAAE,IAClH,CAAC,CAACjc,EAAE,QAAQiX,EAAE,GAAI9K,EAAE,GAAI8P,EAAE,IAAM,CAACjc,EAAE,QAAQiX,EAAE,IAAK7L,EAAE,EAAE0D,EAAE,EAAEmN,EAAE,KAC5D,CAAC,CAACjc,EAAE,QAAQiX,EAAE,GAAIlD,EAAE,IAAKkI,EAAE,IAAM,CAACjc,EAAE,QAAQiX,EAAE,GAAI7L,EAAE,EAAE0D,EAAE,EAAEiF,EAAE,IAAKkI,EAAE,KACnE,CAAC,CAACjc,EAAE,OAAOiX,EAAE,GAAIlD,EAAE,IAAK5H,EAAE,IAAK8P,EAAE,GAAI,CAACjc,EAAE,OAAOiX,EAAE,EAAE7L,EAAE,EAAE0D,EAAE,EAAEiF,EAAE,IAAK5H,EAAE,IAAK8P,EAAE,EAAE6F,EAAE,IAC/E,CAAC,CAAC9hB,EAAE,WAAWiX,EAAE,GAAIlD,EAAE,IAAK5H,EAAE,IAAK8P,EAAE,IAAM,CAACjc,EAAE,SAASiX,EAAE,EAAE7L,EAAE,EAAE0D,EAAE,EAAE3C,EAAE,IAAK8P,EAAE,IAAI6F,EAAE,IAClF,CAAC,CAAC9hB,EAAE,SAASiX,EAAE,GAAIlD,EAAE,IAAK5H,EAAE,GAAI8P,EAAE,IAAM,CAACjc,EAAE,SAASiX,EAAE,EAAE9K,EAAE,IAAK8P,EAAE,EAAE6F,EAAE,IACrE,CAAC,CAAC9hB,EAAE,SAASiX,EAAE,GAAIlD,EAAE,IAAK5H,EAAE,GAAI8P,EAAE,IAAM,CAACjc,EAAE,SAASiX,EAAE,EAAElD,EAAE,GAAI5H,EAAE,GAAI8P,EAAE,EAAE6F,EAAE,IAE1E,CAAC,CAAC9hB,EAAE,OAAOiX,EAAE,GAAI9K,EAAE,GAAI2C,EAAE,GAAI,CAAC9O,EAAE,WAAWiX,EAAE,EAAE7L,EAAE,EAAE0D,GAAE,EAAG3C,EAAE,EAAE8P,EAAE,GAAI6F,EAAE,IACpE,CAAC,CAAC9hB,EAAE,OAAOiX,EAAE,GAAI9K,EAAE,GAAI2C,EAAE,GAAI,CAAC9O,EAAE,WAAWiX,EAAE,GAAG7L,EAAE,EAAEe,EAAE,GAAI8P,EAAE,GAAI6F,EAAE,EAAEhT,GAAE,IACtE,CAAC,CAAC9O,EAAE,WAAWiX,EAAE,GAAI9K,EAAE,EAAE2C,EAAE,GAAI,CAAC9O,EAAE,WAAWiX,EAAE,EAAEnI,GAAE,EAAG3C,EAAE,GAAI8P,EAAE,GAAI6F,EAAE,EAAE1W,EAAE,IACxE,CAAC,CAACpL,EAAE,OAAOiX,EAAE,GAAI9K,EAAE,EAAE2C,GAAE,GAAK,CAAC9O,EAAE,WAAWiX,EAAE,GAAGnI,EAAE,EAAE3C,EAAE,GAAI8P,EAAE,GAAI6F,EAAE,EAAE1W,EAAE,IACrE,CAAC,CAACpL,EAAE,OAAOiX,EAAE,GAAI9K,EAAE,GAAIwsB,EAAE,KAAM,CAAC34B,EAAE,OAAOiX,EAAE,EAAE6K,EAAE,IAC/C,CAAC,CAAC9hB,EAAE,WAAWiX,EAAE,GAAI9K,EAAE,EAAE2C,EAAE,GAAI,CAAC9O,EAAE,SAASiX,EAAE,EAAEnI,GAAE,EAAG3C,EAAE,EAAE8P,EAAE,GAAI6F,EAAE,IAChE,CAAC,CAAC9hB,EAAE,WAAWiX,EAAE,IAAK9K,EAAE,EAAE2C,EAAE,GAAI,CAAC9O,EAAE,SAASiX,EAAE,EAAEnI,GAAE,EAAG3C,EAAE,GAAI8P,EAAE,GAAI6F,EAAE,IACnE,CAAC,CAAC9hB,EAAE,OAAOiX,EAAE,GAAI7L,EAAE,IAAI2I,EAAE,KAAMqC,EAAE,GAAIjK,EAAE,IAAM,CAACnM,EAAE,OAAOiX,EAAE,GAAG7L,EAAE,EAAE0D,EAAE,EAAE3C,EAAE,EAAE8P,EAAE,GAAI6F,EAAE,IAEhF,CAAC,CAAC9hB,EAAE,OAAOmM,EAAE,IAAM,CAACnM,EAAE,OAAOiX,EAAE,EAAE7L,EAAE,EAAEe,EAAE,EAAE8P,EAAE,EAAE6F,EAAE,IAC/C,CAAC,CAAC9hB,EAAE,OAAOmM,EAAE,IAAM,CAACnM,EAAE,OAAOiX,EAAE,EAAE7L,EAAE,EAAEe,EAAE,EAAE8P,EAAE,EAAE6F,EAAE,IAC/C,CAAC,CAAC9hB,EAAE,QAAQmM,EAAE,GAAI8K,EAAE,GAAIgF,EAAE,IAAM,CAACjc,EAAE,WAAWiX,EAAE,IAAI9K,EAAE,IAAK8P,EAAE,GAAI6F,EAAE,EAAE1L,EAAE,EAAEuiB,EAAE,MAC3E,CAAC,CAAC34B,EAAE,OAAOmM,EAAE,IAAM,CAACnM,EAAE,OAAOiX,EAAE,EAAE7L,EAAE,EAAEe,EAAE,EAAE8P,EAAE,EAAE6F,EAAE,IAC/C,CAAC,CAAC9hB,EAAE,WAAWiX,EAAE,GAAI7L,EAAE,EAAEe,EAAE,GAAI,CAACnM,EAAE,WAAWiX,EAAE,GAAG7L,EAAE,IAAIe,EAAE,IAAK8P,EAAE,GAAI6F,EAAE,IACvE,CAAC,CAAC9hB,EAAE,WAAWiX,EAAE,GAAI7L,EAAE,EAAEe,EAAE,GAAI,CAACnM,EAAE,WAAWiX,EAAE,GAAG7L,EAAE,IAAIe,EAAE,IAAK8P,EAAE,GAAI6F,EAAE,IACvE,CAAC,CAAC9hB,EAAE,WAAWmM,EAAE,IAAM,CAACnM,EAAE,SAASiX,EAAE,GAAI7L,EAAE,GAAI0D,EAAE,EAAE3C,EAAE,GAAI8P,EAAE,GAAG6F,EAAE,IAChE,CAAC,CAAC9hB,EAAE,WAAWmM,EAAE,IAAM,CAACnM,EAAE,SAASiX,EAAE,GAAI7L,EAAE,GAAI0D,EAAE,EAAE3C,EAAE,GAAI8P,EAAE,GAAG6F,EAAE,IAEhE,CAAC,CAAC9hB,EAAE,WAAWiX,EAAE,GAAIlD,EAAE,GAAI5H,EAAE,IAAK,CAACnM,EAAE,OAAOiX,EAAE,EAAE9K,EAAE,GAAG8P,EAAE,GAAI6F,EAAE,IAC7D,CAAC,CAAC9hB,EAAE,WAAWiX,EAAE,GAAIlD,EAAE,GAAI5H,EAAE,IAAK,CAACnM,EAAE,OAAOiX,EAAE,EAAE9K,EAAE,GAAG8P,EAAE,GAAI6F,EAAE,IAC7D,CAAC,CAAC9hB,EAAE,WAAWiX,EAAE,GAAIlD,EAAE,GAAI5H,EAAE,IAAK,CAACnM,EAAE,OAAOiX,EAAE,EAAE7L,EAAE,GAAIe,EAAE,GAAG8P,EAAE,GAAI6F,EAAE,IACnE,CAAC,CAAC9hB,EAAE,WAAWiX,EAAE,GAAIlD,EAAE,GAAI5H,EAAE,IAAK,CAACnM,EAAE,OAAOiX,EAAE,EAAE7L,EAAE,GAAIe,EAAE,GAAG8P,EAAE,GAAI6F,EAAE,IACnE,CAAC,CAAC9hB,EAAE,OAAOiX,EAAE,GAAIlD,EAAE,GAAI5H,EAAE,IAAK,CAACnM,EAAE,OAAOiX,EAAE,EAAEnI,EAAE,IAAI3C,EAAE,IAAK8P,EAAE,IAAI6F,EAAE,IACjE,CAAC,CAAC9hB,EAAE,OAAOiX,EAAE,GAAI9K,EAAE,GAAIwsB,EAAE,IAAM,CAAC34B,EAAE,SAASiX,EAAE,EAAE7L,EAAE,EAAEe,EAAE,EAAE8P,EAAE,GAAI6F,EAAE,IAC/D,CAAC,CAAC9hB,EAAE,OAAOiX,EAAE,GAAI9K,EAAE,GAAIwsB,EAAE,IAAM,CAAC34B,EAAE,OAAOiX,EAAE,EAAE7L,EAAE,EAAE0D,EAAE,EAAE3C,EAAE,EAAEwsB,EAAE,EAAE7W,EAAE,IAC/D,CAAC,CAAC9hB,EAAE,WAAWiX,EAAE,GAAIb,EAAE,IAAKjK,EAAE,GAAIwsB,EAAE,GAAIvtB,EAAE,IAAM,CAACpL,EAAE,KAAKiX,EAAE,EAAE7L,EAAE,IAAIe,EAAE,IAAKwsB,EAAE,IAAK7W,EAAE,IAElF,CAAC,CAAC9hB,EAAE,WAAWiX,EAAE,GAAIlD,EAAE,IAAKkI,EAAE,IAAM,CAACjc,EAAE,WAAWiX,EAAE,GAAI7L,EAAE,EAAE0D,EAAE,EAAE3C,EAAE,EAAE8P,EAAE,IACtE,CAAC,CAACjc,EAAE,WAAWiX,EAAE,GAAInI,GAAE,EAAGiF,EAAE,IAAKkI,EAAE,IAAM,CAACjc,EAAE,WAAWiX,EAAE,GAAI7L,EAAE,EAAE0D,EAAE,EAAE3C,EAAE,EAAE8P,EAAE,IAC3E,CAAC,CAACjc,EAAE,WAAWiX,EAAE,GAAIlD,EAAE,IAAKkI,EAAE,GAAI,CAACjc,EAAE,WAAWiX,EAAE,GAAI7L,EAAE,EAAE0D,EAAE,EAAEiF,EAAE,EAAE5H,EAAE,EAAE8P,EAAE,IACxE,CAAC,CAACjc,EAAE,WAAWiX,EAAE,GAAIlD,EAAE,IAAKkI,EAAE,GAAI,CAACjc,EAAE,WAAWiX,EAAE,GAAInI,EAAE,EAAEiF,EAAE,IAAK5H,EAAE,EAAE8P,EAAE,IACvE,CAAC,CAACjc,EAAE,WAAWiX,EAAE,GAAIlD,EAAE,IAAKkI,EAAE,GAAI,CAACjc,EAAE,OAAOiX,EAAE,EAAE7L,EAAE,EAAE0D,EAAE,EAAE3C,EAAE,EAAE8P,EAAE,EAAE6F,EAAE,IAClE,CAAC,CAAC9hB,EAAE,OAAOiX,EAAE,GAAIlD,EAAE,IAAKkI,EAAE,IAAM,CAACjc,EAAE,OAAOiX,EAAE,EAAE7L,EAAE,EAAE0D,EAAE,EAAE3C,EAAE,IAAK8P,EAAE,GAAI6F,EAAE,IACrE,CAAC,CAAC9hB,EAAE,WAAWiX,EAAE,GAAIlD,EAAE,IAAKkI,EAAE,IAAM,CAACjc,EAAE,OAAOiX,EAAE,EAAEnI,EAAE,GAAI3C,EAAE,GAAI8P,EAAE,GAAI6F,EAAE,IACtE,CAAC,CAAC9hB,EAAE,SAASiX,EAAE,IAAKlD,EAAE,IAAK5H,EAAE,GAAIwsB,EAAE,GAAIvtB,EAAE,GAAIgL,EAAE,KAAO,CAACpW,EAAE,SAASiX,EAAE,EAAEnI,EAAE,GAAI3C,EAAE,GAAIwsB,EAAE,GAAG5kB,EAAE,IAAK+N,EAAE,EAAE1L,EAAE,KAAO,CAACpW,EAAE,SAASiX,EAAE,IAAK7L,EAAE,EAAE0D,EAAE,EAAEiF,EAAE,IAAK5H,EAAE,IAAKwsB,EAAE,IAAKviB,EAAE,KAAO,CAAC0L,EAAE,EAAE9hB,EAAE,SAASiX,EAAE,EAAEnI,GAAE,GAAKiF,EAAE,IAAKqC,EAAE,IAAKjK,EAAE,IAAKwsB,EAAE,KAEtN,CAAC,CAAC34B,EAAE,SAASiX,EAAE,GAAIlD,EAAE,IAAK5H,EAAE,EAAE8P,EAAE,GAAI0c,EAAE,KAAO,CAAC34B,EAAE,OAAOiX,EAAE,EAAE9K,EAAE,GAAI8P,EAAE,EAAE6F,EAAE,IACvE,CAAC,CAAC9hB,EAAE,SAASiX,EAAE,GAAIlD,EAAE,IAAK5H,EAAE,EAAE8P,EAAE,GAAI0c,EAAE,KAAO,CAAC34B,EAAE,OAAOiX,EAAE,EAAE9K,EAAE,GAAI8P,EAAE,EAAE6F,EAAE,IACvE,CAAC,CAAC9hB,EAAE,SAASiX,EAAE,GAAIlD,EAAE,IAAK5H,EAAE,EAAE8P,EAAE,GAAI0c,EAAE,KAAO,CAAC34B,EAAE,OAAOiX,EAAE,EAAE9K,EAAE,GAAI8P,EAAE,EAAE6F,EAAE,IACvE,CAAC,CAAC9hB,EAAE,SAASiX,EAAE,IAAKlD,EAAE,IAAKkI,EAAE,GAAI,CAACjc,EAAE,OAAOiX,EAAE,EAAE9K,EAAE,GAAI2V,EAAE,IACvD,CAAC,CAAC9hB,EAAE,SAASiX,EAAE,GAAIlD,EAAE,IAAK5H,EAAE,EAAE8P,EAAE,GAAI0c,EAAE,KAAO,CAAC34B,EAAE,OAAOiX,EAAE,EAAE9K,EAAE,GAAI8P,EAAE,EAAE6F,EAAE,IACvE,CAAC,CAAC9hB,EAAE,SAASiX,EAAE,GAAIlD,EAAE,IAAK5H,EAAE,EAAE8P,EAAE,GAAI0c,EAAE,KAAO,CAAC34B,EAAE,OAAOiX,EAAE,EAAEnI,EAAE,GAAI3C,EAAE,GAAI8P,EAAE,EAAE6F,EAAE,IAC7E,CAAC,CAAC9hB,EAAE,SAASiX,EAAE,GAAIlD,EAAE,IAAK5H,EAAE,GAAI8P,EAAE,GAAI0c,EAAE,KAAO,CAAC34B,EAAE,OAAOiX,EAAE,EAAE9K,EAAE,GAAI8P,EAAE,EAAE6F,EAAE,IACzE,CAAC,CAAC9hB,EAAE,SAASiX,EAAE,GAAIlD,EAAE,IAAK5H,EAAE,EAAE8P,EAAE,GAAI0c,EAAE,KAAO,CAAC34B,EAAE,OAAOiX,EAAE,EAAE9K,EAAE,GAAI8P,EAAE,EAAE6F,EAAE,IAEvE,CAAC,CAAC9hB,EAAE,SAASiX,EAAE,GAAIlD,EAAE,IAAK5H,EAAE,EAAE8P,EAAE,IAAM,CAACjc,EAAE,OAAOiX,EAAE,EAAE9K,EAAE,EAAE2V,EAAE,IAC1D,CAAC,CAAC9hB,EAAE,SAASiX,EAAE,GAAIlD,EAAE,IAAK5H,EAAE,EAAE8P,EAAE,IAAM,CAACjc,EAAE,OAAOiX,EAAE,EAAE9K,EAAE,EAAE2V,EAAE,IAC1D,CAAC,CAAC9hB,EAAE,SAASiX,EAAE,GAAIlD,EAAE,IAAK5H,EAAE,EAAE8P,EAAE,IAAM,CAACjc,EAAE,OAAOiX,EAAE,EAAE9K,EAAE,EAAE2V,EAAE,IAC1D,CAAC,CAAC9hB,EAAE,SAASiX,EAAE,GAAIlD,EAAE,IAAK5H,EAAE,EAAE8P,EAAE,IAAM,CAACjc,EAAE,OAAOiX,EAAE,EAAE9K,EAAE,EAAE2V,EAAE,IAC1D,CAAC,CAAC9hB,EAAE,OAAOiX,EAAE,GAAIlD,EAAE,IAAK5H,EAAE,GAAI8P,EAAE,IAAM,CAACjc,EAAE,SAASiX,EAAE,EAAE7L,EAAE,EAAEe,EAAE,GAAI8P,EAAE,GAAI6F,EAAE,IACxE,CAAC,CAAC9hB,EAAE,OAAOiX,EAAE,GAAIlD,EAAE,IAAK5H,EAAE,GAAI8P,EAAE,IAAM,CAACjc,EAAE,WAAWiX,EAAE,EAAEnI,EAAE,GAAI3C,EAAE,GAAI8P,EAAE,GAAI6F,EAAE,IAC5E,CAAC,CAAC9hB,EAAE,OAAOiX,EAAE,GAAIlD,EAAE,IAAK5H,EAAE,GAAI8P,EAAE,IAAM,CAACjc,EAAE,SAASiX,EAAE,EAAEnI,EAAE,GAAI3C,EAAE,EAAE8P,EAAE,GAAI6F,EAAE,IACxE,CAAC,CAAC9hB,EAAE,SAASiX,EAAE,GAAIlD,EAAE,IAAK5H,EAAE,GAAI8P,EAAE,IAAM,CAACjc,EAAE,SAASiX,EAAE,EAAE9K,EAAE,GAAI8P,EAAE,IAAI6F,EAAE,IAEtE,CAAC,CAAC9hB,EAAE,OAAO+T,EAAE,IAAK5H,EAAE,GAAI,CAACnM,EAAE,OAAOiX,EAAE,EAAE7L,EAAE,EAAEe,EAAE,IAAK2V,EAAE,IACnD,CAAC,CAAC9hB,EAAE,OAAOiX,EAAE,GAAIlD,EAAE,IAAK5H,EAAE,GAAI8P,EAAE,IAAM,CAACjc,EAAE,OAAOiX,EAAE,EAAE7L,EAAE,EAAE0D,EAAE,GAAI3C,EAAE,GAAI2V,EAAE,IACtE,CAAC,CAAC9hB,EAAE,OAAOiX,EAAE,GAAIlD,EAAE,IAAK5H,EAAE,GAAI8P,EAAE,IAAM,CAACjc,EAAE,OAAOiX,EAAE,EAAE7L,EAAE,EAAEe,EAAE,EAAE8P,EAAE,EAAE6F,EAAE,IAClE,CAAC,CAAC9hB,EAAE,OAAOiX,EAAE,GAAIlD,EAAE,IAAK5H,EAAE,GAAI8P,EAAE,IAAM,CAACjc,EAAE,OAAOiX,EAAE,EAAE7L,EAAE,EAAEe,EAAE,GAAI8P,EAAE,GAAI6F,EAAE,IACtE,CAAC,CAAC9hB,EAAE,OAAO+T,EAAE,IAAK5H,EAAE,GAAI8P,EAAE,IAAM,CAACjc,EAAE,WAAWiX,EAAE,EAAE7L,EAAE,EAAEe,EAAE,GAAI2V,EAAE,IAC9D,CAAC,CAAC9hB,EAAE,OAAOiX,EAAE,GAAIlD,EAAE,IAAK5H,EAAE,EAAE8P,EAAE,IAAM,CAACjc,EAAE,WAAWiX,EAAE,EAAE7L,EAAE,EAAE0D,EAAE,EAAE3C,EAAE,GAAI2V,EAAE,IACtE,CAAC,CAAC9hB,EAAE,OAAOiX,EAAE,GAAIlD,EAAE,IAAK5H,EAAE,GAAI8P,EAAE,IAAM,CAACjc,EAAE,OAAOiX,EAAE,KAAM7L,EAAE,EAAE0D,EAAE,EAAE3C,EAAE,GAAI8P,EAAE,KAAM6F,EAAE,IAChF,CAAC,CAAC9hB,EAAE,OAAOiX,EAAE,GAAIlD,EAAE,IAAK5H,EAAE,GAAI,CAACnM,EAAE,OAAOiX,EAAE,EAAE7L,EAAE,EAAE0D,EAAE,EAAE3C,EAAE,IAAK2V,EAAE,IAE7D,CAAC,CAAC9hB,EAAE,SAASiX,EAAE,GAAI9K,EAAE,EAAE8P,EAAE,IAAM,CAACjc,EAAE,SAASiX,EAAE,EAAEnI,EAAE,GAAI3C,EAAE,EAAE8P,EAAE,GAAI6F,EAAE,IACjE,CAAC,CAAC9hB,EAAE,WAAWiX,EAAE,GAAI9K,EAAE,EAAE8P,EAAE,IAAM,CAACjc,EAAE,SAASiX,EAAE,EAAEnI,EAAE,GAAImN,EAAE,GAAI6F,EAAE,IAC/D,CAAC,CAAC9hB,EAAE,WAAWiX,EAAE,GAAIlD,EAAE,IAAK5H,EAAE,EAAE8P,EAAE,IAAM,CAACjc,EAAE,OAAOiX,EAAE,EAAE7L,EAAE,EAAE0W,EAAE,IAC5D,CAAC,CAAC9hB,EAAE,WAAWiX,EAAE,GAAIlD,EAAE,IAAK5H,EAAE,EAAE8P,EAAE,IAAM,CAACjc,EAAE,OAAOiX,EAAE,GAAG7L,EAAE,EAAE0D,EAAE,EAAE3C,EAAE,IAAK8P,EAAE,GAAI6F,EAAE,IAC9E,CAAC,CAAC9hB,EAAE,WAAWiX,EAAE,GAAI9K,EAAE,EAAE8P,EAAE,IAAM,CAACjc,EAAE,OAAOiX,EAAE,GAAG7L,EAAE,GAAG2I,EAAE,GAAI5H,EAAE,IAAK8P,EAAE,GAAI6F,EAAE,IAC1E,CAAC,CAAC9hB,EAAE,OAAOiX,EAAE,GAAIlD,EAAE,IAAK5H,EAAE,EAAE8P,EAAE,IAAM,CAACjc,EAAE,OAAOiX,EAAE,EAAEnI,EAAE,EAAE3C,EAAE,EAAE8P,EAAE,GAAI6F,EAAE,IAClE,CAAC,CAAC9hB,EAAE,WAAWiX,EAAE,GAAIlD,EAAE,IAAK5H,EAAE,GAAI8P,EAAE,GAAI0c,EAAE,IAAM,CAAC34B,EAAE,WAAWiX,EAAE,GAAI7L,EAAE,IAAKe,EAAE,GAAI4H,EAAE,GAAIkI,EAAE,GAAI0c,EAAE,KAC/F,CAAC,CAAC34B,EAAE,WAAWiX,EAAE,GAAIlD,EAAE,IAAK5H,EAAE,GAAI8P,EAAE,IAAM,CAACjc,EAAE,SAASiX,EAAE,EAAE7L,EAAE,GAAIe,EAAE,GAAI8P,EAAE,GAAI6F,EAAE,IAE9E,CAAC,CAAC9hB,EAAE,WAAWiX,EAAE,GAAIlD,EAAE,IAAK5H,EAAE,GAAI8P,EAAE,GAAI0c,EAAE,IAAM,CAAC34B,EAAE,SAASiX,EAAE,EAAE7L,EAAE,EAAE0D,EAAE,EAAEiF,EAAE,IAAK5H,EAAE,GAAI8P,EAAE,EAAE6F,EAAE,GAAI,CAAC9hB,EAAE,WAAWiX,EAAE,IAAK7L,EAAE,GAAI2I,EAAE,GAAIqC,EAAE,EAAEjK,EAAE,GAAI8P,EAAE,GAAI0c,EAAE,GAAI5W,EAAE,EAAE1M,EAAE,IAC5J,CAAC,CAACrV,EAAE,OAAOiX,EAAE,GAAIlD,EAAE,IAAK5H,EAAE,EAAE8P,EAAE,GAAI0c,EAAE,IAAM,CAAC34B,EAAE,OAAOiX,EAAE,EAAEnI,EAAE,EAAE3C,EAAE,GAAI8P,EAAE,EAAE6F,EAAE,IACxE,CAAC,CAAC9hB,EAAE,SAASiX,EAAE,GAAIlD,EAAE,IAAK5H,EAAE,GAAI8P,EAAE,GAAI0c,EAAE,IAAM,CAAC34B,EAAE,SAASiX,EAAE,EAAEnI,EAAE,EAAEiF,EAAE,IAAK5H,EAAE,GAAI2V,EAAE,IACjF,CAAC,CAAC9hB,EAAE,WAAWiX,EAAE,GAAIlD,EAAE,IAAK5H,EAAE,EAAE8P,EAAE,GAAI0c,EAAE,IAAM,CAAC34B,EAAE,SAASiX,EAAE,EAAEnI,EAAE,EAAE3C,EAAE,GAAI8P,EAAE,GAAI6F,EAAE,EAAE1W,EAAE,EAAE2I,EAAE,MACxF,CAAC,CAAC/T,EAAE,OAAOiX,EAAE,GAAIlD,EAAE,IAAK5H,EAAE,EAAE8P,EAAE,GAAI0c,EAAE,IAAM,CAAC34B,EAAE,OAAOiX,EAAE,GAAI7L,EAAE,MAAM0D,EAAE,EAAE3C,EAAE,EAAE8P,EAAE,GAAG6F,EAAE,IACjF,CAAC,CAAC9hB,EAAE,WAAWiX,EAAE,GAAIlD,EAAE,IAAK5H,EAAE,GAAI8P,EAAE,GAAI0c,EAAE,IAAM,CAAC34B,EAAE,OAAOiX,EAAE,GAAG7L,EAAE,EAAE0D,EAAE,EAAE3C,EAAE,GAAI8P,EAAE,IAAI6F,EAAE,IACrF,CAAC,CAAC9hB,EAAE,OAAOiX,EAAE,GAAIlD,EAAE,IAAK5H,EAAE,EAAE8P,EAAE,GAAI0c,EAAE,IAAM,CAAC34B,EAAE,WAAWiX,EAAE,GAAG7L,EAAE,EAAEe,EAAE,IAAK8P,EAAE,GAAI6F,EAAE,IAChF,CAAC,CAAC9hB,EAAE,WAAWiX,EAAE,GAAIlD,EAAE,IAAK5H,EAAE,GAAGwsB,EAAE,IAAM,CAAC34B,EAAE,WAAWiX,EAAE,EAAE9K,EAAE,EAAE8P,EAAE,EAAE6F,EAAE,IAErE,CAAC,CAAC9hB,EAAE,WAAWiX,EAAE,GAAI9K,EAAE,EAAE8P,EAAE,GAAI0c,EAAE,IAAM,CAAC34B,EAAE,SAASiX,EAAE,EAAE7L,EAAE,EAAE0D,EAAE,EAAEiF,EAAE,EAAE5H,EAAE,EAAE8P,EAAE,EAAE0c,EAAE,GAAI7W,EAAE,IACnF,CAAC,CAAC9hB,EAAE,WAAWiX,EAAE,GAAI9K,EAAE,EAAE8P,EAAE,GAAI7Q,EAAE,GAAI2I,EAAE,GAAI7H,EAAE,KAAKoE,EAAE,IAAM,CAACtQ,EAAE,WAAWiX,EAAE,GAAIlD,EAAE,GAAI5H,EAAE,GAAI8P,EAAE,EAAE7Q,EAAE,IAAIc,EAAE,KAAKoE,EAAE,KAC7G,CAAC,CAACtQ,EAAE,OAAOiX,EAAE,GAAI9K,EAAE,EAAE8P,EAAE,IAAM,CAACjc,EAAE,SAASiX,EAAE,GAAG7L,EAAE,GAAGe,EAAE,GAAI8P,EAAE,GAAI6F,EAAE,IACjE,CAAC,CAAC9hB,EAAE,WAAWiX,EAAE,GAAIlD,EAAE,IAAK5H,EAAE,EAAE8P,EAAE,GAAI0c,EAAE,IAAM,CAAC34B,EAAE,SAASiX,EAAE,EAAE7L,EAAE,GAAIe,EAAE,EAAE8P,EAAE,EAAE6F,EAAE,IAC9E,CAAC,CAAC9hB,EAAE,WAAWiX,EAAE,GAAI9K,EAAE,EAAE8P,EAAE,IAAM,CAACjc,EAAE,OAAOiX,EAAE,GAAG7L,EAAE,EAAEe,EAAE,GAAI8P,EAAE,IAAK6F,EAAE,IACnE,CAAC,CAAC9hB,EAAE,OAAOiX,EAAE,GAAIlD,EAAE,GAAI5H,EAAE,IAAK8P,EAAE,IAAM,CAACjc,EAAE,OAAOiX,EAAE,EAAE7L,EAAE,EAAE0D,EAAE,EAAE3C,EAAE,IAAK8P,EAAE,GAAI6F,EAAE,IAC3E,CAAC,CAAC9hB,EAAE,OAAO+T,EAAE,GAAI5H,EAAE,IAAK8P,EAAE,GAAIhF,EAAE,IAAM,CAACjX,EAAE,OAAOiX,EAAE,EAAE7L,EAAE,EAAE0D,EAAE,EAAE3C,EAAE,IAAK8P,EAAE,GAAI6F,EAAE,IAC3E,CAAC,CAAC9hB,EAAE,SAASiX,EAAE,GAAIlD,EAAE,GAAI5H,EAAE,GAAI8P,EAAE,IAAM,CAACjc,EAAE,SAASiX,EAAE,EAAEnI,EAAE,EAAE3C,EAAE,GAAI8P,EAAE,GAAI6F,EAAE,IAEzE,CAAC,CAAC9hB,EAAE,WAAWiX,EAAE,GAAI9K,EAAE,GAAIwsB,EAAE,IAAM,CAAC34B,EAAE,WAAWiX,EAAE,GAAG7L,EAAE,EAAEe,EAAE,IAAK2V,EAAE,IACnE,CAAC,CAAC9hB,EAAE,SAASiX,EAAE,GAAI9K,EAAE,GAAIwsB,EAAE,IAAM,CAAC34B,EAAE,SAASiX,EAAE,EAAE7L,EAAE,EAAEe,EAAE,IAAK2V,EAAE,IAC9D,CAAC,CAAC9hB,EAAE,WAAWmM,EAAE,GAAIwsB,EAAE,IAAM,CAAC34B,EAAE,SAASiX,EAAE,EAAE7L,EAAE,EAAEe,EAAE,GAAIwsB,EAAE,GAAI7W,EAAE,IAC/D,CAAC,CAAC9hB,EAAE,WAAWmM,EAAE,GAAIwsB,EAAE,IAAM,CAAC34B,EAAE,SAASiX,EAAE,EAAE7L,EAAE,EAAEe,EAAE,EAAEwsB,EAAE,EAAE7W,EAAE,IAC3D,CAAC,CAAC9hB,EAAE,WAAWiX,EAAE,GAAI9K,EAAE,GAAIwsB,EAAE,IAAM,CAAC34B,EAAE,SAASiX,EAAE,GAAG7L,EAAE,GAAGe,EAAE,GAAIwsB,EAAE,GAAI7W,EAAE,IACvE,CAAC,CAAC9hB,EAAE,OAAOiX,EAAE,IAAKlD,EAAE,IAAK5H,EAAE,IAAK8P,EAAE,IAAM,CAACjc,EAAE,SAASiX,EAAE,EAAE7L,EAAE,EAAEe,EAAE,IAAK8P,EAAE,GAAG6F,EAAE,IAC1E,CAAC,CAAC9hB,EAAE,OAAOiX,EAAE,GAAIlD,EAAE,IAAK5H,EAAE,IAAK,CAACnM,EAAE,SAASiX,EAAE,EAAE7L,EAAE,EAAE0D,EAAE,EAAEmN,EAAE,GAAI6F,EAAE,IAC/D,CAAC,CAAC9hB,EAAE,SAASiX,EAAE,GAAIlD,EAAE,IAAK5H,EAAE,GAAI8P,EAAE,IAAM,CAACjc,EAAE,SAASiX,EAAE,EAAE9K,EAAE,GAAI8P,EAAE,IAAI6F,EAAE,IAEtE,CAAC,CAAC9hB,EAAE,OAAOiX,EAAE,GAAI9K,EAAE,GAAIwsB,EAAE,IAAM,CAAC34B,EAAE,OAAOiX,EAAE,EAAE7L,EAAE,EAAEe,EAAE,GAAIwsB,EAAE,GAAI7W,EAAE,IAC/D,CAAC,CAAC9hB,EAAE,OAAOiX,EAAE,GAAI9K,EAAE,GAAIwsB,EAAE,IAAM,CAAC34B,EAAE,OAAOiX,EAAE,GAAG7L,EAAE,EAAEe,EAAE,IAAK2V,EAAE,IAC3D,CAAC,CAAC9hB,EAAE,OAAOiX,EAAE,GAAI9K,EAAE,IAAKwsB,EAAE,KAAO,CAAC34B,EAAE,SAASiX,EAAE,GAAG7L,EAAE,IAAIe,EAAE,GAAIwsB,EAAE,GAAI7W,EAAE,IACtE,CAAC,CAAC9hB,EAAE,OAAOiX,EAAE,GAAI9K,EAAE,IAAKwsB,EAAE,KAAO,CAAC34B,EAAE,SAASiX,EAAE,GAAG7L,EAAE,EAAEutB,EAAE,IAAK7W,EAAE,IAC/D,CAAC,CAAC9hB,EAAE,WAAWiX,EAAE,GAAI7L,EAAE,GAAIe,EAAE,GAAIwsB,EAAE,GAAIzsB,EAAE,KAAO,CAAClM,EAAE,KAAKiX,EAAE,EAAE6K,EAAE,EAAE3V,EAAE,GAAIwsB,EAAE,KACxE,CAAC,CAAC34B,EAAE,OAAOiX,EAAE,GAAI9K,EAAE,GAAIwsB,EAAE,GAAIzsB,EAAE,IAAM,CAAClM,EAAE,SAASiX,EAAE,GAAG7L,EAAE,EAAEe,EAAE,KAAMwsB,EAAE,KAAM7W,EAAE,IAC5E,CAAC,CAAC9hB,EAAE,SAASmM,EAAE,IAAKwsB,EAAE,IAAKzsB,EAAE,IAAM,CAAClM,EAAE,SAASiX,EAAE,EAAE7L,EAAE,EAAEe,EAAE,KAAMwsB,EAAE,KAAM7W,EAAE,IACzE,CAAC,CAAC9hB,EAAE,KAAKiX,EAAE,GAAIlD,EAAE,EAAEkI,EAAE,EAAE9P,EAAE,IAAKwsB,EAAE,EAAEvtB,EAAE,KAEpC,CAAC,CAACpL,EAAE,OAAOoL,EAAE,KAAKe,EAAE,EAAEwsB,EAAE,EAAEzsB,EAAE,GAAI+K,EAAE,GAAIb,EAAE,GAAI9F,EAAE,IAAM,CAACwR,EAAE,EAAE9hB,EAAE,OAAOiX,EAAE,EAAE7L,EAAE,EAAEe,EAAE,EAAEwsB,EAAE,EAAE1c,EAAE,GAAI,CAAC6F,EAAE,EAAE9hB,EAAE,KAAKiX,EAAE,GAAI7L,EAAE,EAAE2I,EAAE,GAAIqC,EAAE,EAAEjK,EAAE,GAAIwsB,EAAE,GAAI5W,EAAE,EAAE1M,EAAE,IAC1I,CAAC,CAACrV,EAAE,KAAKiX,EAAE,GAAIlD,EAAE,IAAKqC,EAAE,IAAKjK,EAAE,IAAKwsB,EAAE,MACtC,CAAC,CAAC34B,EAAE,KAAKiX,EAAE,GAAIlD,EAAE,EAAE5H,EAAE,EAAEf,EAAE,MACzB,CAAC,CAACpL,EAAE,OAAOiX,EAAE,GAAIlD,EAAE,GAAI5H,EAAE,EAAE8P,EAAE,IAAM,CAACjc,EAAE,OAAOiX,EAAE,EAAE7L,EAAE,EAAE0D,EAAE,IAAI3C,EAAE,EAAE8P,EAAE,EAAE0c,EAAE,GAAI7W,EAAE,GAAI,CAACA,EAAE,EAAE9hB,EAAE,OAAOiX,EAAE,EAAE7L,EAAE,EAAE0D,EAAE,EAAEiF,EAAE,GAAIqC,EAAE,EAAEjK,EAAE,GAAI8P,EAAE,EAAE0c,EAAE,GAAI5W,EAAE,EAAE1M,EAAE,IACzI,CAAC,CAACrV,EAAE,SAASiX,EAAE,GAAI7L,EAAE,IAAKe,EAAE,GAAG8P,EAAE,GAAI,CAACjc,EAAE,SAASiX,EAAE,GAAG7L,EAAE,EAAE0D,EAAE,EAAE3C,EAAE,EAAE8P,EAAE,EAAE0c,EAAE,GAAG7W,EAAE,IAC7E,CAAC,CAAC9hB,EAAE,KAAKiX,EAAE,GAAI7L,EAAE,GAAI2I,EAAE,EAAE5H,EAAE,GAAG8P,EAAE,EAAE0c,EAAE,IAAM,CAAC34B,EAAE,SAASiX,EAAE,EAAE7L,EAAE,EAAE0D,EAAE,GAAG3C,EAAE,EAAE8P,EAAE,EAAE0c,EAAE,GAAG7W,EAAE,IAClF,CAAC,CAAC9hB,EAAE,OAAOoL,EAAE,EAAE0D,EAAE,KAAKiF,EAAE,GAAI5H,EAAE,EAAEwsB,EAAE,IAAK1c,EAAE,GAAI,CAAC6F,EAAE,EAAE9hB,EAAE,KAAKiX,EAAE,EAAE7L,EAAE,GAAIe,EAAE,EAAE8P,EAAE,EAAE0c,EAAE,IAC7E,CAAC,CAAC34B,EAAE,OAAOmM,EAAE,GAAIwsB,EAAE,GAAIzsB,EAAE,GAAId,EAAE,IAAI6L,EAAE,GAAI,CAACjX,EAAE,KAAKiX,EAAE,GAAG7L,EAAE,EAAEe,EAAE,EAAEwsB,EAAE,EAAE7W,EAAE,KAEtEmc,SAAS,CAEP,CAAC,CAACj+B,EAAE,WAAWiX,EAAE,GAAG9K,EAAE,KAAwB,CAAC,CAACnM,EAAE,WAAWiX,EAAE,GAAG9K,EAAE,KACpE,CAAC,CAACnM,EAAE,WAAWiX,EAAE,GAAG9K,EAAE,KAAwB,CAAC,CAACnM,EAAE,WAAWiX,EAAE,GAAG9K,EAAE,KACpE,CAAC,CAACnM,EAAE,WAAWiX,EAAE,GAAG9K,EAAE,KAAwB,CAAC,CAACnM,EAAE,WAAWiX,EAAE,GAAG9K,EAAE,KACpE,CAAC,CAACnM,EAAE,WAAWiX,EAAE,GAAG9K,EAAE,KAAwB,CAAC,CAACnM,EAAE,WAAWiX,EAAE,GAAG9K,EAAE,KAEpE,CAAC,CAACnM,EAAE,OAAOiX,EAAE,GAAG9K,EAAE,GAAGwsB,EAAE,KAAuB,CAAC,CAAC34B,EAAE,WAAWiX,EAAE,GAAG9K,EAAE,GAAGwsB,EAAE,KACzE,CAAC,CAAC34B,EAAE,SAASiX,EAAE,GAAG9K,EAAE,GAAGwsB,EAAE,KAAqB,CAAC,CAAC34B,EAAE,SAASiX,EAAE,GAAG9K,EAAE,GAAGwsB,EAAE,KACvE,CAAC,CAAC34B,EAAE,OAAOiX,EAAE,GAAG9K,EAAE,GAAGwsB,EAAE,KAAuB,CAAC,CAAC34B,EAAE,OAAOiX,EAAE,GAAG9K,EAAE,GAAGwsB,EAAE,KACrE,CAAC,CAAC34B,EAAE,SAASiX,EAAE,GAAG9K,EAAE,EAAEwsB,EAAE,IAAsB,CAAC,CAAC34B,EAAE,WAAWiX,EAAE,GAAG9K,EAAE,GAAGwsB,EAAE,KAEzE,CAAC,CAAC34B,EAAE,OAAOiX,EAAE,GAAIlD,EAAE,IAAKkI,EAAE,IAAoB,CAAC,CAACjc,EAAE,OAAOiX,EAAE,GAAI9K,EAAE,IAAK8P,EAAE,KACxE,CAAC,CAACjc,EAAE,SAASiX,EAAE,GAAGgF,EAAE,IAA0B,CAAC,CAACjc,EAAE,WAAWiX,EAAE,GAAGlD,EAAE,IAAIkI,EAAE,IAC1E,CAAC,CAACjc,EAAE,SAASiX,EAAE,GAAGlD,EAAE,IAAIkI,EAAE,IAAoB,CAAC,CAACjc,EAAE,SAASiX,EAAE,GAAIlD,EAAE,IAAKkI,EAAE,IAC1E,CAAC,CAACjc,EAAE,SAASiX,EAAE,GAAIlD,EAAE,IAAKkI,EAAE,IAAkB,CAAC,CAACjc,EAAE,SAASiX,EAAE,GAAGlD,EAAE,IAAIkI,EAAE,IAExE,CAAC,CAACjc,EAAE,WAAWiX,EAAE,GAAG9K,EAAE,KAAwB,CAAC,CAACnM,EAAE,SAASiX,EAAE,GAAG9K,EAAE,KAClE,CAAC,CAACnM,EAAE,SAASiX,EAAE,GAAG9K,EAAE,KAA0B,CAAC,CAACnM,EAAE,WAAWiX,EAAE,GAAG9K,EAAE,KACpE,CAAC,CAACnM,EAAE,WAAWiX,EAAE,GAAG9K,EAAE,MAAwB,CAAC,CAACnM,EAAE,SAASiX,EAAE,GAAG9K,EAAE,IAClE,CAAC,CAACnM,EAAE,SAASiX,EAAE,GAAG9K,EAAE,IAA0B,CAAC,CAACnM,EAAE,OAAOiX,EAAE,GAAG9K,EAAE,KAEhE,CAAC,CAACnM,EAAE,WAAWiX,EAAE,GAAG9K,EAAE,KAAwB,CAAC,CAACnM,EAAE,WAAWiX,EAAE,GAAG9K,EAAE,KACpE,CAAC,CAACnM,EAAE,WAAWiX,EAAE,GAAG9K,EAAE,KAAwB,CAAC,CAACnM,EAAE,WAAWiX,EAAE,GAAG9K,EAAE,KACpE,CAAC,CAACnM,EAAE,SAASiX,EAAE,GAAG9K,EAAE,KAA0B,CAAC,CAACnM,EAAE,SAASiX,EAAE,GAAG9K,EAAE,KAClE,CAAC,CAACnM,EAAE,SAASiX,EAAE,GAAG9K,EAAE,GAAG8P,EAAE,KAAqB,CAAC,CAACjc,EAAE,WAAWiX,EAAE,GAAG9K,EAAE,GAAG8P,EAAE,KAEzE,CAAC,CAACjc,EAAE,WAAWiX,EAAE,GAAGlD,EAAE,IAAIkI,EAAE,IAAkB,CAAC,CAACjc,EAAE,WAAWiX,EAAE,GAAGlD,EAAE,IAAIkI,EAAE,IAC1E,CAAC,CAACjc,EAAE,WAAWiX,EAAE,GAAGlD,EAAE,IAAIkI,EAAE,IAAkB,CAAC,CAACjc,EAAE,WAAWiX,EAAE,GAAGlD,EAAE,IAAIkI,EAAE,IAC1E,CAAC,CAACjc,EAAE,WAAWiX,EAAE,GAAGlD,EAAE,IAAIkI,EAAE,IAAkB,CAAC,CAACjc,EAAE,WAAWiX,EAAE,GAAG9K,EAAE,KACpE,CAAC,CAACnM,EAAE,WAAWiX,EAAE,GAAG9K,EAAE,GAAGwsB,EAAE,KAAmB,CAAC,CAAC34B,EAAE,WAAWiX,EAAE,GAAG9K,EAAE,GAAGwsB,EAAE,GAAGviB,EAAE,IAAKlK,EAAE,KAErF,CAAC,CAAClM,EAAE,WAAWiX,EAAE,GAAGlD,EAAE,IAAIkI,EAAE,IAAkB,CAAC,CAACjc,EAAE,WAAWiX,EAAE,GAAGlD,EAAE,IAAIkI,EAAE,IAC1E,CAAC,CAACjc,EAAE,WAAWiX,EAAE,GAAGlD,EAAE,IAAIkI,EAAE,IAAkB,CAAC,CAACjc,EAAE,WAAWiX,EAAE,GAAGlD,EAAE,IAAIkI,EAAE,IAC1E,CAAC,CAACjc,EAAE,WAAWiX,EAAE,GAAGlD,EAAE,IAAIkI,EAAE,IAAkB,CAAC,CAACjc,EAAE,OAAOiX,EAAE,GAAGlD,EAAE,IAAIkI,EAAE,IACtE,CAAC,CAACjc,EAAE,WAAWiX,EAAE,GAAGlD,EAAE,IAAIkI,EAAE,IAAkB,CAAC,CAACjc,EAAE,WAAWiX,EAAE,GAAGlD,EAAE,IAAI5H,EAAE,KAE1E,CAAC,CAACnM,EAAE,SAASiX,EAAE,GAAGlD,EAAE,IAAI5H,EAAE,GAAG8P,EAAE,KAAe,CAAC,CAACjc,EAAE,SAASiX,EAAE,GAAGlD,EAAE,IAAI5H,EAAE,GAAG8P,EAAE,KAC7E,CAAC,CAACjc,EAAE,SAASiX,EAAE,GAAGlD,EAAE,IAAI5H,EAAE,GAAG8P,EAAE,KAAe,CAAC,CAACjc,EAAE,SAASiX,EAAE,GAAIlD,EAAE,IAAI5H,EAAE,IAAK8P,EAAE,IAChF,CAAC,CAACjc,EAAE,SAASiX,EAAE,GAAGlD,EAAE,IAAIkI,EAAE,IAAoB,CAAC,CAACjc,EAAE,SAASiX,EAAE,GAAGgF,EAAE,KAClE,CAAC,CAACjc,EAAE,SAASiX,EAAE,GAAGgF,EAAE,KAA0B,CAAC,CAACjc,EAAE,SAASiX,EAAE,GAAGgF,EAAE,KAElE,CAAC,CAACjc,EAAE,SAASiX,EAAE,GAAGlD,EAAE,IAAI5H,EAAE,IAAoB,CAAC,CAACnM,EAAE,SAASiX,EAAE,GAAGlD,EAAE,IAAI5H,EAAE,IACxE,CAAC,CAACnM,EAAE,SAASiX,EAAE,GAAGlD,EAAE,IAAI5H,EAAE,IAAoB,CAAC,CAACnM,EAAE,SAASiX,EAAE,GAAGlD,EAAE,IAAI5H,EAAE,IACxE,CAAC,CAACnM,EAAE,SAASiX,EAAE,GAAGlD,EAAE,IAAI5H,EAAE,IAAoB,CAAC,CAACnM,EAAE,SAASiX,EAAE,GAAGlD,EAAE,IAAI5H,EAAE,IACxE,CAAC,CAACnM,EAAE,SAASiX,EAAE,GAAGlD,EAAE,IAAI5H,EAAE,IAAoB,CAAC,CAACnM,EAAE,SAASiX,EAAE,GAAGlD,EAAE,IAAI5H,EAAE,IAExE,CAAC,CAACnM,EAAE,OAAOiX,EAAE,GAAGlD,EAAE,IAAI5H,EAAE,IAAsB,CAAC,CAACnM,EAAE,OAAOiX,EAAE,GAAGlD,EAAE,IAAI5H,EAAE,IACtE,CAAC,CAACnM,EAAE,OAAOiX,EAAE,GAAGlD,EAAE,IAAI5H,EAAE,IAAsB,CAAC,CAACnM,EAAE,OAAOiX,EAAE,GAAGlD,EAAE,IAAI5H,EAAE,IACtE,CAAC,CAACnM,EAAE,OAAOiX,EAAE,GAAGlD,EAAE,IAAI5H,EAAE,IAAsB,CAAC,CAACnM,EAAE,OAAOiX,EAAE,GAAGlD,EAAE,IAAI5H,EAAE,IACtE,CAAC,CAACnM,EAAE,OAAOiX,EAAE,GAAGlD,EAAE,IAAI5H,EAAE,IAAsB,CAAC,CAACnM,EAAE,OAAOiX,EAAE,GAAGlD,EAAE,IAAI5H,EAAE,IAEtE,CAAC,CAACnM,EAAE,SAASiX,EAAE,GAAGgF,EAAE,KAA0B,CAAC,CAACjc,EAAE,WAAWiX,EAAE,GAAGgF,EAAE,KACpE,CAAC,CAACjc,EAAE,WAAWiX,EAAE,GAAGgF,EAAE,KAAwB,CAAC,CAACjc,EAAE,WAAWiX,EAAE,GAAGgF,EAAE,KACpE,CAAC,CAACjc,EAAE,WAAWiX,EAAE,GAAG9K,EAAE,KAAwB,CAAC,CAACnM,EAAE,OAAOiX,EAAE,GAAGlD,EAAE,IAAI5H,EAAE,KACtE,CAAC,CAACnM,EAAE,WAAWiX,EAAE,GAAG9K,EAAE,KAAwB,CAAC,CAACnM,EAAE,WAAWiX,EAAE,GAAG9K,EAAE,KAEpE,CAAC,CAACnM,EAAE,WAAWiX,EAAE,GAAG9K,EAAE,KAAwB,CAAC,CAACnM,EAAE,WAAWiX,EAAE,GAAG9K,EAAE,KACpE,CAAC,CAACnM,EAAE,SAASiX,EAAE,GAAG9K,EAAE,KAA0B,CAAC,CAACnM,EAAE,WAAWiX,EAAE,GAAGlD,EAAE,IAAI5H,EAAE,KAC1E,CAAC,CAACnM,EAAE,WAAWiX,EAAE,GAAGlD,EAAE,IAAI5H,EAAE,KAAkB,CAAC,CAACnM,EAAE,WAAWiX,EAAE,GAAG9K,EAAE,KACpE,CAAC,CAACnM,EAAE,WAAWiX,EAAE,GAAG9K,EAAE,KAAwB,CAAC,CAACnM,EAAE,WAAWiX,EAAE,GAAG9K,EAAE,KAEpE,CAAC,CAACnM,EAAE,WAAWiX,EAAE,GAAG9K,EAAE,KAAwB,CAAC,CAACnM,EAAE,WAAWiX,EAAE,GAAG9K,EAAE,KACpE,CAAC,CAACnM,EAAE,SAASiX,EAAE,GAAG9K,EAAE,KAA0B,CAAC,CAACnM,EAAE,WAAWiX,EAAE,GAAIlD,EAAE,IAAK5H,EAAE,KAC5E,CAAC,CAACnM,EAAE,WAAWiX,EAAE,GAAG9K,EAAE,KAAwB,CAAC,CAACnM,EAAE,WAAWiX,EAAE,GAAGlD,EAAE,GAAG5H,EAAE,KACzE,CAAC,CAACnM,EAAE,WAAWiX,EAAE,GAAG9K,EAAE,KAAwB,CAAC,CAACnM,EAAE,SAASiX,EAAE,GAAG9K,EAAE,KAElE,CAAC,CAACnM,EAAE,WAAWiX,EAAE,GAAG9K,EAAE,EAAEwsB,EAAE,IAAoB,CAAC,CAAC34B,EAAE,WAAWiX,EAAE,GAAG9K,EAAE,KACpE,CAAC,CAACnM,EAAE,WAAWiX,EAAE,GAAG9K,EAAE,GAAGwsB,EAAE,KAAmB,CAAC,CAAC34B,EAAE,WAAWiX,EAAE,GAAG9K,EAAE,GAAGwsB,EAAE,KACzE,CAAC,CAAC34B,EAAE,SAASiX,EAAE,GAAG9K,EAAE,GAAGwsB,EAAE,KAAqB,CAAC,CAAC34B,EAAE,SAASiX,EAAE,GAAGlD,EAAE,IAAI5H,EAAE,IACxE,CAAC,CAACnM,EAAE,WAAWiX,EAAE,GAAGlD,EAAE,IAAI5H,EAAE,KAAkB,CAAC,CAACnM,EAAE,WAAWiX,EAAE,GAAG9K,EAAE,IAEpE,CAAC,CAACnM,EAAE,WAAWiX,EAAE,GAAG9K,EAAE,GAAGwsB,EAAE,KAAmB,CAAC,CAAC34B,EAAE,OAAOiX,EAAE,GAAG9K,EAAE,GAAGwsB,EAAE,KACrE,CAAC,CAAC34B,EAAE,SAASiX,EAAE,GAAG9K,EAAE,GAAGwsB,EAAE,GAAGzsB,EAAE,OAAgB,CAAC,CAAClM,EAAE,OAAOiX,EAAE,GAAG9K,EAAE,IAAIwsB,EAAE,MACtE,CAAC,CAAC34B,EAAE,WAAWiX,EAAE,GAAI9K,EAAE,GAAIwsB,EAAE,GAAIzsB,EAAE,MAAW,CAAC,CAAClM,EAAE,WAAWiX,EAAE,GAAI9K,EAAE,GAAIwsB,EAAE,GAAIzsB,EAAE,MACjF,CAAC,CAAClM,EAAE,SAASiX,EAAE,GAAG9K,EAAE,GAAGwsB,EAAE,KAAqB,CAAC,CAAC34B,EAAE,KAAKiX,EAAE,GAAIlD,EAAE,EAAEkI,EAAE,EAAE9P,EAAE,IAAKwsB,EAAE,EAAEvtB,EAAE,KAElF,CAAC,CAACpL,EAAE,WAAWiX,EAAE,GAAI9K,EAAE,IAAKf,EAAE,EAAE0D,EAAE,KAAK6pB,EAAE,KAAMzsB,EAAE,MACjD,CAAC,CAAClM,EAAE,KAAKiX,EAAE,GAAI7L,EAAE,GAAIe,EAAE,IAAK4H,EAAE,IAAKqC,EAAE,IAAKuiB,EAAE,MAC5C,CAAC,CAAC34B,EAAE,KAAKiX,EAAE,GAAIlD,EAAE,EAAE5H,EAAE,EAAEf,EAAE,MACzB,CAAC,CAACpL,EAAE,OAAOiX,EAAE,GAAIlD,EAAE,GAAI5H,EAAE,EAAEf,EAAE,EAAE0D,EAAE,OACjC,CAAC,CAAC9O,EAAE,WAAWmM,EAAE,GAAIf,EAAE,EAAE0D,EAAE,IAAImN,EAAE,IACjC,CAAC,CAACjc,EAAE,KAAKiX,EAAE,GAAI9K,EAAE,EAAEf,EAAE,EAAE0D,EAAE,GAAGmN,EAAE,IAC9B,CAAC,CAACjc,EAAE,KAAKiX,EAAE,GAAIlD,EAAE,GAAI5H,EAAE,GAAGf,EAAE,EAAE0D,EAAE,KAChC,CAAC,CAAC9O,EAAE,KAAKiX,EAAE,GAAI7L,EAAE,IAAKe,EAAE,GAAIwsB,EAAE,MAEhCuF,SAAS,CACL,CAAC,CAACl+B,EAAE,WAAWoL,EAAE,EAAE0D,EAAE,GAAGmI,EAAE,EAAE9K,EAAE,IAAKiK,EAAE,IAAKlK,EAAE,GAAIoE,EAAE,IAAM,CAACtQ,EAAE,KAAK8hB,EAAE,EAAE1W,EAAE,EAAE6L,EAAE,GAAG0hB,EAAE,IAAKviB,EAAE,EAAElK,EAAE,IAC1F,CAAC,CAAClM,EAAE,WAAWoL,EAAE,EAAE0D,EAAE,GAAGmI,EAAE,EAAE9K,EAAE,IAAKiK,EAAE,IAAKlK,EAAE,GAAIoE,EAAE,IAAM,CAACtQ,EAAE,KAAK8hB,EAAE,EAAE1W,EAAE,EAAE6L,EAAE,GAAG0hB,EAAE,IAAKviB,EAAE,EAAElK,EAAE,IAC1F,CAAC,CAAClM,EAAE,KAAK8O,EAAE,IAAI5C,EAAE,EAAEd,EAAE,EAAEutB,EAAE,IAAKviB,EAAE,IAChC,CAAC,CAACpW,EAAE,WAAWiX,EAAE,GAAInI,EAAE,IAAI3C,EAAE,IAAKf,EAAE,EAAEgL,EAAE,IAAKlK,EAAE,GAAIoE,EAAE,IAAM,CAACtQ,EAAE,KAAKiX,EAAE,GAAI7L,EAAE,EAAE0D,EAAE,GAAGsH,EAAE,IAAKuiB,EAAE,IAAKzsB,EAAE,GAAI,CAAC4V,EAAE,EAAE9hB,EAAE,SAASiX,EAAE,EAAE7L,EAAE,EAAE0D,EAAE,IAAI6pB,EAAE,IAAK5W,EAAE,EAAE1M,EAAE,IACjJ,CAAC,CAACrV,EAAE,SAAS8O,EAAE,KAAKmI,EAAE,IAAK7L,EAAE,EAAEutB,EAAE,IAAKviB,EAAE,KAAMjK,EAAE,KAAO,CAAC2V,EAAE,EAAE9hB,EAAE,KAAKoL,EAAE,EAAE0D,EAAE,GAAGsH,EAAE,KAAMjK,EAAE,GAAI8P,EAAE,EAAE0c,EAAE,GAAI1hB,EAAE,IACtG,CAAC,CAACjX,EAAE,WAAW8O,EAAE,IAAImI,EAAE,EAAE9K,EAAE,IAAKf,EAAE,EAAEutB,EAAE,KAAO,CAAC34B,EAAE,KAAK8hB,EAAE,EAAE1W,EAAE,EAAE0D,EAAE,IAAImI,EAAE,GAAG0hB,EAAE,IAAKxsB,EAAE,MACjF,CAAC,CAACnM,EAAE,WAAW8O,EAAE,IAAImI,EAAE,GAAI9K,EAAE,IAAKiK,EAAE,IAAKlK,EAAE,GAAId,EAAE,EAAEutB,EAAE,KAAO,CAAC7W,EAAE,EAAE9hB,EAAE,KAAKiX,EAAE,EAAE7L,EAAE,GAAIgL,EAAE,KAAMjK,EAAE,KAAMwsB,EAAE,OACpG,CAAC,CAAC34B,EAAE,KAAK8O,EAAE,IAAImI,EAAE,IAAK0hB,EAAE,IAAKvtB,EAAE,IAC/B,CAAC,CAACpL,EAAE,WAAW8O,EAAE,IAAImI,EAAE,GAAI9K,EAAE,IAAKiK,EAAE,IAAKlK,EAAE,GAAId,EAAE,EAAEutB,EAAE,KAAO,CAAC7W,EAAE,EAAE9hB,EAAE,KAAKiX,EAAE,EAAE7L,EAAE,GAAIgL,EAAE,KAAMjK,EAAE,KAAMwsB,EAAE,OACpG,CAAC,CAAC34B,EAAE,KAAKiX,EAAE,IAAKnI,EAAE,IAAI6pB,EAAE,IAAKvtB,EAAE,EAAEgL,EAAE,KAAMjK,EAAE,MAC3C,CAAC,CAACnM,EAAE,WAAW8O,EAAE,IAAImI,EAAE,GAAI9K,EAAE,IAAKiK,EAAE,IAAKlK,EAAE,GAAId,EAAE,EAAEutB,EAAE,KAAO,CAAC7W,EAAE,EAAE9hB,EAAE,KAAKiX,EAAE,EAAE7L,EAAE,GAAIgL,EAAE,KAAMjK,EAAE,KAAMwsB,EAAE,OACpG,CAAC,CAAC34B,EAAE,KAAKiX,EAAE,IAAKnI,EAAE,IAAI1D,EAAE,EAAEe,EAAE,GAAIwsB,EAAE,IAAM,CAAC34B,EAAE,KAAKiX,EAAE,GAAI7L,EAAE,EAAEiK,EAAE,EAAEvG,EAAE,IAAIsH,EAAE,KAAMjK,EAAE,MAC9E,CAAC,CAACnM,EAAE,WAAW8O,EAAE,IAAImI,EAAE,GAAI9K,EAAE,IAAKiK,EAAE,IAAKlK,EAAE,GAAId,EAAE,EAAEutB,EAAE,KAAO,CAAC7W,EAAE,EAAE9hB,EAAE,KAAKiX,EAAE,EAAE7L,EAAE,GAAIgL,EAAE,KAAMjK,EAAE,KAAMwsB,EAAE,OACpG,CAAC,CAAC34B,EAAE,WAAW8O,EAAE,IAAImI,EAAE,GAAI9K,EAAE,IAAKiK,EAAE,IAAKlK,EAAE,GAAId,EAAE,EAAEutB,EAAE,KAAO,CAAC7W,EAAE,EAAE9hB,EAAE,KAAKiX,EAAE,EAAE7L,EAAE,GAAIgL,EAAE,KAAMjK,EAAE,KAAMwsB,EAAE,OACpG,CAAC,CAAC34B,EAAE,KAAKiX,EAAE,GAAInI,EAAE,KAAK3C,EAAE,GAAIwsB,EAAE,GAAIviB,EAAE,IAAKhL,EAAE,GAAI,CAACpL,EAAE,KAAKoL,EAAE,EAAE6L,EAAE,EAAE9K,EAAE,GAAIwsB,EAAE,GAAIzsB,EAAE,IAAI4C,EAAE,MACnF,CAAC,CAAC9O,EAAE,WAAW8O,EAAE,IAAImI,EAAE,GAAI9K,EAAE,IAAKiK,EAAE,IAAKlK,EAAE,GAAId,EAAE,EAAEutB,EAAE,KAAO,CAAC7W,EAAE,EAAE9hB,EAAE,KAAKiX,EAAE,EAAE7L,EAAE,GAAIgL,EAAE,KAAMjK,EAAE,KAAMwsB,EAAE,OACpG,CAAC,CAAC34B,EAAE,KAAK8O,EAAE,IAAImI,EAAE,IAAK9K,EAAE,GAAIwsB,EAAE,GAAIviB,EAAE,EAAEhL,EAAE,GAAI,CAACpL,EAAE,KAAKiX,EAAE,GAAI7L,EAAE,EAAEutB,EAAE,IAAK7pB,EAAE,MACvE,CAAC,CAAC9O,EAAE,KAAKiX,EAAE,GAAInI,EAAE,IAAI3C,EAAE,GAAIwsB,EAAE,GAAIviB,EAAE,IAAKhL,EAAE,GAAI,CAACpL,EAAE,SAASoL,EAAE,EAAE6L,EAAE,EAAE9K,EAAE,GAAIwsB,EAAE,GAAIzsB,EAAE,GAAI4C,EAAE,IAAIgT,EAAE,IAC5F,CAAC,CAAC9hB,EAAE,OAAO8O,EAAE,KAAKmI,EAAE,IAAK9K,EAAE,GAAIwsB,EAAE,GAAIviB,EAAE,EAAEhL,EAAE,GAAI,CAACpL,EAAE,WAAW8hB,EAAE,EAAE1W,EAAE,KAAK6L,EAAE,IAAI9K,EAAE,GAAIwsB,EAAE,GAAGviB,EAAE,GAAI,CAAC0L,EAAE,EAAE9hB,EAAE,KAAKiX,EAAE,IAAI7L,EAAE,KAAMe,EAAE,KAAMwsB,EAAE,OACnI,KACA,CAAC,CAAC34B,EAAE,KAAKiX,EAAE,GAAGnI,EAAE,KAAK3C,EAAE,GAAIwsB,EAAE,GAAIviB,EAAE,IAAKhL,EAAE,GAAI,CAACpL,EAAE,KAAKoL,EAAE,EAAE6L,EAAE,EAAE9K,EAAE,GAAIwsB,EAAE,GAAIzsB,EAAE,IAAI4C,EAAE,MAClF,KACA,CAAC,CAAC9O,EAAE,KAAKiX,EAAE,GAAInI,EAAE,IAAI3C,EAAE,IAAKwsB,EAAE,IAAKviB,EAAE,IAAKhL,EAAE,GAAI,CAACpL,EAAE,KAAKoL,EAAE,EAAE6L,EAAE,EAAE9K,EAAE,GAAIwsB,EAAE,GAAI7pB,EAAE,IAAIiF,EAAE,KAAMqC,EAAE,MAC5F,CAAC,CAACpW,EAAE,WAAW8O,EAAE,IAAImI,EAAE,GAAI9K,EAAE,GAAIf,EAAE,EAAEutB,EAAE,IAAM,CAAC7W,EAAE,EAAE9hB,EAAE,KAAKiX,EAAE,EAAE7L,EAAE,EAAE0D,EAAE,IAAIiF,EAAE,KAAMqC,EAAE,IAAKjK,EAAE,GAAI8P,EAAE,EAAE0c,EAAE,GAAItjB,EAAE,GAAI,CAACyM,EAAE,GAAG9hB,EAAE,OAAOiX,EAAE,GAAI7L,EAAE,EAAE0D,EAAE,GAAG3C,EAAE,GAAIwsB,EAAE,GAAI5W,EAAE,EAAE1M,EAAE,IAC5J,CAAC,CAACrV,EAAE,KAAK8O,EAAE,IAAImI,EAAE,IAAK9K,EAAE,GAAIwsB,EAAE,GAAIviB,EAAE,EAAEhL,EAAE,GAAI,CAACpL,EAAE,KAAKiX,EAAE,GAAI7L,EAAE,EAAEutB,EAAE,IAAK7pB,EAAE,MACvE,KAAK,KAAK,KAAK,KAAK,KACpB,KAAK,KAAK,KAAK,KAAK,KACpB,KAAK,KAAK,KAAK,KAAK,KACpB,KAAK,KAAK,KAAK,KAAK,KACpB,CAAC,CAAC9O,EAAE,OAAO8O,EAAE,KAAKmI,EAAE,GAAI9K,EAAE,IAAKf,EAAE,EAAEutB,EAAE,KAAO,CAAC34B,EAAE,SAAS8hB,EAAE,EAAE1W,EAAE,EAAE0D,EAAE,KAAKmI,EAAE,EAAE9K,EAAE,GAAI8P,EAAE,EAAE0c,EAAE,KACvF,CAAC,CAAC34B,EAAE,OAAO8O,EAAE,KAAKmI,EAAE,GAAI9K,EAAE,IAAKf,EAAE,EAAEutB,EAAE,KAAO,CAAC34B,EAAE,SAAS8hB,EAAE,EAAE1W,EAAE,EAAE0D,EAAE,KAAKmI,EAAE,EAAE9K,EAAE,GAAI8P,EAAE,EAAE0c,EAAE,MAE3FwF,SAAS,CACP,CAAC,CAACn+B,EAAE,WAAWoL,EAAE,EAAE0D,EAAE,IAAImI,EAAE,EAAE9K,EAAE,IAAKiK,EAAE,IAAKlK,EAAE,KAC7C,CAAC,CAAClM,EAAE,WAAWoL,EAAE,EAAE0D,EAAE,IAAImI,EAAE,GAAI9K,EAAE,GAAID,EAAE,GAAIkK,EAAE,IAAKuiB,EAAE,MACpD,CAAC,CAAC34B,EAAE,KAAK8O,EAAE,IAAImI,EAAE,GAAI9K,EAAE,IAAKD,EAAE,EAAEd,EAAE,EAAEutB,EAAE,MACtC,CAAC,CAAC34B,EAAE,KAAK8O,EAAE,GAAG3C,EAAE,IAAKf,EAAE,IACvB,CAAC,CAACpL,EAAE,KAAK8O,EAAE,IAAImI,EAAE,GAAI9K,EAAE,IAAKf,EAAE,EAAEutB,EAAE,IAAKviB,EAAE,MACzC,CAAC,CAACpW,EAAE,KAAK8O,EAAE,GAAGmI,EAAE,GAAI9K,EAAE,IAAKD,EAAE,GAAId,EAAE,EAAEgL,EAAE,MACvC,CAAC,CAACpW,EAAE,WAAW8O,EAAE,IAAImI,EAAE,GAAI9K,EAAE,GAAIiK,EAAE,IAAKlK,EAAE,GAAId,EAAE,IAChD,CAAC,CAACpL,EAAE,KAAK8O,EAAE,IAAImI,EAAE,GAAI0hB,EAAE,IAAKvtB,EAAE,IAC9B,CAAC,CAACpL,EAAE,WAAW8O,EAAE,IAAImI,EAAE,GAAI9K,EAAE,GAAIiK,EAAE,IAAKlK,EAAE,GAAId,EAAE,IAChD,CAAC,CAACpL,EAAE,KAAK8O,EAAE,IAAImI,EAAE,GAAI9K,EAAE,IAAKwsB,EAAE,IAAKvtB,EAAE,IACrC,CAAC,CAACpL,EAAE,WAAW8O,EAAE,IAAImI,EAAE,GAAI9K,EAAE,GAAIiK,EAAE,IAAKlK,EAAE,GAAId,EAAE,IAChD,CAAC,CAACpL,EAAE,KAAK8O,EAAE,IAAImI,EAAE,GAAI9K,EAAE,GAAIwsB,EAAE,GAAIviB,EAAE,IAAKhL,EAAE,IAC1C,CAAC,CAACpL,EAAE,WAAW8O,EAAE,IAAImI,EAAE,GAAI9K,EAAE,GAAIiK,EAAE,IAAKlK,EAAE,GAAId,EAAE,IAChD,CAAC,CAACpL,EAAE,WAAW8O,EAAE,IAAImI,EAAE,GAAI9K,EAAE,GAAIiK,EAAE,IAAKlK,EAAE,GAAId,EAAE,IAChD,CAAC,CAACpL,EAAE,KAAK8O,EAAE,IAAImI,EAAE,GAAI9K,EAAE,GAAIwsB,EAAE,GAAIviB,EAAE,IAAKhL,EAAE,EAAEc,EAAE,KAC9C,CAAC,CAAClM,EAAE,WAAW8O,EAAE,IAAImI,EAAE,GAAI9K,EAAE,GAAIiK,EAAE,IAAKlK,EAAE,GAAId,EAAE,IAChD,CAAC,CAACpL,EAAE,KAAK8O,EAAE,IAAImI,EAAE,GAAI9K,EAAE,GAAIwsB,EAAE,IAAKviB,EAAE,IAAKhL,EAAE,EAAEc,EAAE,KAC/C,CAAC,CAAClM,EAAE,KAAK8O,EAAE,IAAImI,EAAE,GAAI9K,EAAE,GAAIwsB,EAAE,IAAKviB,EAAE,IAAKhL,EAAE,EAAEc,EAAE,KAC/C,CAAC,CAAClM,EAAE,KAAK8O,EAAE,IAAImI,EAAE,GAAI9K,EAAE,GAAID,EAAE,GAAId,EAAE,EAAEutB,EAAE,KACvC,CAAC,CAAC34B,EAAE,KAAK8O,EAAE,IAAImI,EAAE,GAAI9K,EAAE,IAAKD,EAAE,GAAId,EAAE,IACpC,CAAC,CAACpL,EAAE,KAAK8O,EAAE,IAAImI,EAAE,GAAI9K,EAAE,IAAKD,EAAE,GAAId,EAAE,IACpC,CAAC,CAACpL,EAAE,OAAO8O,EAAE,IAAImI,EAAE,GAAI9K,EAAE,IAAKf,EAAE,IAChC,CAAC,CAACpL,EAAE,KAAK8O,EAAE,IAAImI,EAAE,GAAI9K,EAAE,GAAIwsB,EAAE,IAAKviB,EAAE,IAAKhL,EAAE,EAAEc,EAAE,KAC/C,CAAC,CAAClM,EAAE,KAAK8O,EAAE,GAAGmI,EAAE,GAAI9K,EAAE,GAAID,EAAE,GAAId,EAAE,IAClC,CAAC,CAACpL,EAAE,KAAK8O,EAAE,IAAImI,EAAE,GAAI9K,EAAE,IAAKD,EAAE,GAAId,EAAE,IACpC,CAAC,CAACpL,EAAE,OAAO8O,EAAE,IAAI3C,EAAE,IAAKf,EAAE,IAC1B,CAAC,CAACpL,EAAE,OAAO8O,EAAE,IAAI3C,EAAE,IAAKf,EAAE,IAC1B,CAAC,CAACpL,EAAE,OAAO8O,EAAE,IAAI1D,EAAE,IACnB,CAAC,CAACpL,EAAE,OAAO8O,EAAE,IAAI3C,EAAE,IAAKf,EAAE,IAC1B,CAAC,CAACpL,EAAE,OAAO8O,EAAE,IAAI3C,EAAE,IAAKf,EAAE,IAC1B,CAAC,CAACpL,EAAE,SAAS8O,EAAE,IAAImI,EAAE,GAAG9K,EAAE,IAAID,EAAE,GAAGd,EAAE,IACrC,CAAC,CAACpL,EAAE,SAAS8O,EAAE,IAAImI,EAAE,GAAG9K,EAAE,IAAID,EAAE,GAAGd,EAAE,IACrC,CAAC,CAACpL,EAAE,OAAO8O,EAAE,IAAImI,EAAE,GAAG9K,EAAE,IAAIf,EAAE,IAC9B,CAAC,CAACpL,EAAE,OAAO8O,EAAE,IAAImI,EAAE,GAAG9K,EAAE,IAAIf,EAAE,IAC9B,CAAC,CAACpL,EAAE,KAAK8O,EAAE,IAAImI,EAAE,GAAIlD,EAAE,IAAK3I,EAAE,IAC9B,CAAC,CAACpL,EAAE,KAAK8O,EAAE,IAAImI,EAAE,GAAIlD,EAAE,IAAK3I,EAAE,IAC9B,CAAC,CAACpL,EAAE,WAAW8O,EAAE,KAAKmI,EAAE,GAAI/K,EAAE,GAAId,EAAE,EAAEgL,EAAE,MACxC,CAAC,CAACpW,EAAE,WAAW8O,EAAE,KAAKmI,EAAE,GAAI/K,EAAE,GAAId,EAAE,EAAEgL,EAAE,MACxC,CAAC,CAACpW,EAAE,KAAK8O,EAAE,IAAImI,EAAE,GAAIlD,EAAE,IAAK3I,EAAE,EAAEutB,EAAE,MAClC,CAAC,CAAC34B,EAAE,KAAK8O,EAAE,IAAImI,EAAE,GAAIlD,EAAE,IAAK3I,EAAE,EAAEgL,EAAE,IAAKuiB,EAAE,MACzC,CAAC,CAAC34B,EAAE,KAAK8O,EAAE,IAAImI,EAAE,GAAI7L,EAAE,IACvB,CAAC,CAACpL,EAAE,OAAO8O,EAAE,IAAI1D,EAAE,IACnB,CAAC,CAACpL,EAAE,OAAO8O,EAAE,IAAI1D,EAAE,IACnB,CAAC,CAACpL,EAAE,KAAK8O,EAAE,IAAImI,EAAE,GAAI7L,EAAE,IACvB,CAAC,CAACpL,EAAE,KAAK8O,EAAE,IAAImI,EAAE,GAAI7L,EAAE,EAAEgL,EAAE,GAAIuiB,EAAE,IAAKzsB,EAAE,KACxC,CAAC,CAAClM,EAAE,OAAOoL,EAAE,EAAE0D,EAAE,KAAKmI,EAAE,GAAI0hB,EAAE,MAC9B,CAAC,CAAC34B,EAAE,OAAOoL,EAAE,EAAE0D,EAAE,KAAKmI,EAAE,GAAI9K,EAAE,GAAIwsB,EAAE,MAItClb,MAAM,WAEJvsB,KAAKktC,GAAG,GAAIltC,KAAKmtC,IAAI,GAAIntC,KAAKotC,GAAG,GAAIptC,KAAKqtC,KAAK,GAAIrtC,KAAKstC,OAAO,GAAIttC,KAAKutC,OAAO,GAC/EvtC,KAAK8Y,QAAQ,GAAI9Y,KAAKwtC,QAAQ,GAAIxtC,KAAKytC,OAAO,GAC9CztC,KAAK0tC,cAAc,EAAG1tC,KAAK2tC,cAAc,EAAG3tC,KAAK4tC,QAAQ,GAAI5tC,KAAK6tC,QAAQ,GAAI7tC,KAAK8tC,YAAY,GAC/F9tC,KAAK+tC,QAAQ,EAAG/tC,KAAKguC,SAAS,EAAGhuC,KAAKiuC,QAAQ,EAAGjuC,KAAKkuC,aAAa,IACnE,IAAI,IAAIrkC,EAAE,EAAEA,EAAE,KAAKA,EACjB7J,KAAKktC,GAAGrjC,GAAG,EAAG7J,KAAKmtC,IAAItjC,GAAG,iBAC1B7J,KAAKqtC,KAAKxjC,GAAG,EAAG7J,KAAKutC,OAAO1jC,GAAG,IAC/B7J,KAAK4tC,QAAQ/jC,GAAG,EAAG7J,KAAK6tC,QAAQhkC,GAAG,EACnC7J,KAAK8tC,YAAYjkC,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAC3C7J,KAAKytC,OAAO5jC,GAAG,EAEjB7J,KAAKytC,OAAO,GAAG,EAEfztC,KAAKmuC,QAAQ,GACbnuC,KAAKouC,OAAO,EAEZ3iB,YACE,WACE,KAAKzrB,KAAKouC,QAAQ,EAAE,CAClBpuC,KAAKouC,OAAO,EACZ,IAAI,IAAIvkC,EAAE7J,KAAKwtC,QAAQjrC,OAAO,EAAEsH,GAAG,IAAIA,EAAE,CACvC,IAAIwkC,EAAGruC,KAAKwtC,QAAQ3jC,GACjB7J,KAAKsuC,KAAK3K,YAAY0K,EAAG/lC,IAC1BtI,KAAKuuC,WAAWF,GAChBruC,KAAKwtC,QAAQ3wB,OAAOhT,EAAE,G,CAGtB,CAEN,GAAG7J,KAAKiuC,SAAWjuC,KAAKwuC,KAAKC,GAAGlsC,OAAO,EAErC,IADA,IAAI+F,EAAEtI,KAAKwuC,KAAKC,GAAGzuC,KAAK0uC,WAClB1uC,KAAKsuC,KAAK3K,YAAY3jC,KAAKmuC,QAAQnuC,KAAK2uC,UAQ5C,GAPW,OAARrmC,EAAEgG,EAAE,IACLtO,KAAKwuC,KAAKI,MAAMtmC,EAAEgG,EAAE,GACpBtO,KAAK6uC,UAAU,IAAK7uC,KAAKwuC,KAAKI,MAAM5uC,KAAKwuC,KAAKM,UAG9C9uC,KAAK6lB,KAAKvd,EAAEgG,EAAEtO,KAAK2uC,YACnB3uC,KAAK0uC,UACJ1uC,KAAK0uC,WAAW1uC,KAAKwuC,KAAKC,GAAGlsC,OAAM,CACpC,IAAGvC,KAAK0sC,KAIJ,CACF1sC,KAAKguC,SAAShuC,KAAK+tC,QACnB/tC,KAAKiuC,QAAQ,EACb,K,CANA3lC,EAAEtI,KAAKwuC,KAAKC,GAAGzuC,KAAK0uC,UAAU,GAC9B1uC,KAAKguC,SAAS1lC,EAAE4R,C,MASlB5R,EAAEtI,KAAKwuC,KAAKC,GAAGzuC,KAAK0uC,WACpB1uC,KAAK2uC,WAAWrmC,EAAE4R,EAAEla,KAAKguC,UAAUhuC,KAAK6uC,UACxC7uC,KAAKguC,SAAS1lC,EAAE4R,CAIvB,EAACzK,KAAKzP,MAAM,IAMfA,KAAK+uC,QAAQ,C,EAEfC,aAAa,SAASjpB,GACdtY,MAAHsY,IACD/lB,KAAKosC,UAAUrmB,GACd/lB,KAAK2lB,MACN3lB,KAAK2lB,IAAI8d,KAAKl3B,MAAMvM,KAAKosC,U,EAE7B6C,aAAa,SAASlpB,GACdtY,MAAHsY,IACD/lB,KAAKssC,UAAUvmB,GACjB,IAAI0hB,EAAEzX,WAAWhwB,KAAKssC,WACnBtsC,KAAKkvC,MAAM5iC,MAAMm7B,KAClBznC,KAAKkvC,IAAIzL,KAAKl3B,MAAQ,EAAFk7B,E,EAExB0H,QAAQ,SAASvxB,GACf5d,KAAK0sC,KAAK9uB,C,EAEZwxB,UAAU,SAASrpB,GACjB/lB,KAAK4sC,OAAO7mB,C,EAEdiH,MAAM,WACJ,IAAI,IAAInjB,EAAE,EAAEA,EAAE,KAAKA,EACjB7J,KAAKqvC,WAAWxlC,EAAE,GAClB7J,KAAKsvC,aAAazlC,EAAE,KACpB7J,KAAKuvC,cAAc1lC,EAAE,GACrB7J,KAAKwvC,SAAS3lC,EAAE,KAChB7J,KAAKyvC,OAAO5lC,EAAE,IACd7J,KAAKo1B,oBAAoBvrB,GACzB7J,KAAKm1B,YAAYtrB,GACjB7J,KAAKytC,OAAO5jC,GAAG,EACf7J,KAAK4tC,QAAQ/jC,GAAG,EAChB7J,KAAK6tC,QAAQhkC,GAAG,EAChB7J,KAAK8tC,YAAYjkC,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAE7C7J,KAAK0tC,cAAc,EACnB1tC,KAAK2tC,cAAc,EACnB3tC,KAAKytC,OAAO,GAAG,C,EAEjBiC,WAAW,SAAStwB,GAClB,IAAIvV,EAGJ,IAFM4D,MAAH2R,IACDpf,KAAKusC,QAAQntB,GACXvV,EAAE,EAAEA,EAAE,MAAMA,EACd7J,KAAK6rC,UAAU,EAAEhiC,EAAE7J,KAAK+sC,SAASljC,IACnC,IAAIA,EAAE,EAAEA,EAAE7J,KAAKitC,SAAS1qC,SAASsH,EAC/B7J,KAAK6rC,UAAU,EAAEhiC,EAAE,GAAG7J,KAAKitC,SAASpjC,IACtC,GAAG7J,KAAKusC,QAAQ,CACd,IAAI1iC,EAAE,EAAEA,EAAE7J,KAAK8sC,SAASvqC,SAASsH,EAC/B7J,KAAK6rC,UAAU,EAAEhiC,EAAE7J,KAAK8sC,SAASjjC,IACnC,IAAIA,EAAE,EAAEA,EAAE7J,KAAK+rC,QAAQxpC,SAASsH,EAC3B7J,KAAKgtC,SAASnjC,IACf7J,KAAK6rC,UAAU,EAAEhiC,EAAE,GAAG7J,KAAKgtC,SAASnjC,G,GAI5CgiC,UAAU,SAASv9B,EAAE2B,EAAE+K,GACrB,IAAI20B,EAAK,CAAC/e,EAAE,EAAE9hB,EAAE,OAAOoL,EAAE,EAAE0D,EAAE,EAAEmI,EAAE,GAAIlD,EAAE,EAAEqC,EAAE,IAAKjK,EAAE,IAAK8P,EAAE,EAAE0c,EAAE,IAAKzsB,EAAE,EAAEoE,EAAE,EAAEnC,EAAE,GAC5E,SAAS2yB,EAAQ50B,GACf,IAAI/K,EAAE,EAAEA,EAAE+K,EAAEzY,SAAS0N,EACnB,IAAIgN,KAAK0yB,EACH30B,EAAE/K,GAAG6P,eAAe7C,SAAuB,IAAVjC,EAAE/K,GAAGgN,KACxCjC,EAAE/K,GAAGgN,GAAG0yB,EAAK1yB,IAGnB,OAAOjC,C,CAEN1M,GAAK2B,GAAG,IAAMA,GAAG,KAClBjQ,KAAK+rC,QAAQ97B,EAAE,IAAM2/B,EAAQ50B,IACzB,GAAH1M,GAAQ2B,GAAG,GAAKA,GAAG,MACpBjQ,KAAKsyB,QAAQriB,GAAK2/B,EAAQ50B,G,EAE9BuzB,WAAW,SAASF,GAClB,IAAI,IAAIpxB,EAAEoxB,EAAGwB,EAAEttC,OAAO,EAAE0a,GAAG,IAAIA,EAAE,CAU/B,GATGoxB,EAAGwB,EAAE5yB,GAAG6yB,UACTzB,EAAGwB,EAAE5yB,GAAG6yB,UAAUC,sBAAsB,GAGxC1B,EAAGwB,EAAE5yB,GAAG+yB,aAAaD,sBAAsB,GAE7C1B,EAAGzd,EAAE3T,GAAGwmB,KAAKsM,sBAAsB,GAEnC1B,EAAGwB,EAAE5yB,GAAGkZ,OACLkY,EAAGwB,EAAE5yB,GAAGgzB,OACT,IACEjwC,KAAKkwC,MAAM7B,EAAGtnB,IAAIR,WAAW8nB,EAAGwB,EAAE5yB,GAAGgzB,OAC3B,CAAV,MAAO9rB,GAAG,CAEdkqB,EAAGzd,EAAE3T,GAAGwmB,KAAKl3B,MAAQ,C,GAGzB4jC,aAAa,SAASppB,EAAG9W,GACvBjQ,KAAKwtC,QAAQ3b,MAAK,SAASue,EAAGC,GAC5B,OAAGD,EAAGxyB,GAAGyyB,EAAGzyB,EAAUwyB,EAAGxyB,EAAEyyB,EAAGzyB,EAC3BwyB,EAAG9nC,GAAG+nC,EAAG/nC,EAAU+nC,EAAG/nC,EAAE8nC,EAAG9nC,EACvB+nC,EAAGn2B,EAAEk2B,EAAGl2B,C,IAEjB,IAAI,IAAIrQ,EAAE7J,KAAKwtC,QAAQjrC,OAAO,EAAEsH,GAAG,IAAIA,EAAE,CACvC,IAAIwkC,EAAGruC,KAAKwtC,QAAQ3jC,IACjB7J,KAAKsuC,KAAK3K,YAAY0K,EAAG/lC,GAAKuB,GAAI7J,KAAK4sC,OAAO,KAC/C5sC,KAAKuuC,WAAWF,GAChBruC,KAAKwtC,QAAQ3wB,OAAOhT,EAAE,G,GAI5BymC,MAAM,SAASp2B,EAAE6M,EAAG9W,EAAE8V,EAAE/K,GACtB,IAAI2K,EAAI4qB,EAAGC,EACPX,EAAE,GAAGjf,EAAE,GAAG6f,EAAG,GAAGC,EAAG,GAAGjJ,EAAE,GACxB7pB,EAAE,IAAIhb,KAAKytB,IAAI,GAAGpgB,EAAE,GAAKjQ,KAAK0tC,cAAgB1tC,KAAK4tC,QAAQ7mB,IAAO/mB,KAAK2tC,cAAgB3tC,KAAK6tC,QAAQ9mB,GAAI,KAAO/mB,KAAK8tC,YAAY/mB,GAAI9W,EAAE,MAAM,IAChJjQ,KAAKmwC,aAAappB,EAAG9W,GACrB,IAAI,IAAIpG,EAAE,EAAEA,EAAEmR,EAAEzY,SAASsH,EAAE,CAEzB,IAAI8mC,EAAGz2B,GADPs2B,EAAGx1B,EAAEnR,IACOgZ,EAAE2tB,EAAGtrB,EACR,GAANsrB,EAAG5f,GACJjL,EAAI3lB,KAAK4wC,MAAM7pB,GAAKwpB,EAAGxqB,EAAEA,EAAE,MAAO2qB,EAAG7mC,GAAG+T,EAAE4yB,EAAGt2B,EAAEs2B,EAAG5yB,GAC5C4yB,EAAG5f,EAAE,IACXjL,EAAIiL,EAAE4f,EAAG5f,EAAE,IAAI6S,KAAM8M,EAAG,EAAGG,EAAG7mC,GAAG6mC,EAAGF,EAAG5f,EAAE,IAAI4f,EAAGt2B,EAAEs2B,EAAG5yB,GAC/CiyB,EAAEW,EAAG5f,EAAE,GAAGkf,WAChBnqB,EAAIkqB,EAAEW,EAAG5f,EAAE,GAAGkf,UAAWS,EAAGG,EAAGF,EAAG5f,EAAE,GAAI8f,EAAG7mC,GAAG6mC,EAAGF,EAAG5f,EAAE,GAAG4f,EAAGt2B,EAAEs2B,EAAG5yB,IAEjE+H,EAAIkqB,EAAEW,EAAG5f,EAAE,GAAGof,aAAcO,EAAGG,EAAGF,EAAG5f,EAAE,GAAG,IAAK8f,EAAG7mC,GAAG6mC,EAAGF,EAAG5f,EAAE,GAAG4f,EAAGt2B,EAAEs2B,EAAG5yB,GAErE,MADE4yB,EAAG1hC,EAAE,IAEV+gC,EAAEhmC,GAAG7J,KAAKsuC,KAAKuC,qBACfhB,EAAEhmC,GAAGinC,OAAO9wC,KAAK+wC,SAASP,EAAG1hC,GAC7B+gC,EAAEhmC,GAAG6iC,MAAK,EACVmD,EAAEhmC,GAAGmmC,aAAazjC,MAAMmkC,EAAG7mC,GAAG,IACrB,GAAN2mC,EAAGx1B,GACJhb,KAAKgxC,gBAAgBnB,EAAEhmC,GAAGmmC,aAAaU,EAAG7mC,GAAG,IAAI2mC,EAAGx1B,EAAEd,EAAEs2B,EAAGpxB,GACzDywB,EAAEhmC,GAAGomC,SACPjwC,KAAKkwC,MAAMnpB,GAAIT,QAAQupB,EAAEhmC,GAAGomC,QAC5BJ,EAAEhmC,GAAGomC,OAAO1jC,MAAMvM,KAAKqtC,KAAKtmB,MAI9B8oB,EAAEhmC,GAAG7J,KAAKsuC,KAAK9K,mBACfqM,EAAEhmC,GAAGimC,UAAUvjC,MAAMmkC,EAAG7mC,GACf,GAAN2mC,EAAGx1B,GACJhb,KAAKgxC,gBAAgBnB,EAAEhmC,GAAGimC,UAAUY,EAAG7mC,GAAG2mC,EAAGx1B,EAAEd,EAAEs2B,EAAGpxB,GAC1C,KAAToxB,EAAG1hC,EAAE,GACN+gC,EAAEhmC,GAAGonC,gBAAgBjxC,KAAKkxC,KAAKV,EAAG1hC,IAElC+gC,EAAEhmC,GAAGuE,KAAKoiC,EAAG1hC,EACX+gC,EAAEhmC,GAAGomC,SACPjwC,KAAKkwC,MAAMnpB,GAAIT,QAAQupB,EAAEhmC,GAAGomC,QAC5BJ,EAAEhmC,GAAGomC,OAAO1jC,MAAMvM,KAAKqtC,KAAKtmB,KAIhC6J,EAAE/mB,GAAG7J,KAAKsuC,KAAKnL,aACfsE,EAAE59B,GAAG2mC,EAAG/I,EACRoI,EAAEhmC,GAAGyc,QAAQsK,EAAE/mB,IAAK+mB,EAAE/mB,GAAGyc,QAAQX,GACjC8qB,EAAG5mC,GAAG0mC,EAAGC,EAAGzqB,EACTyqB,EAAGvzB,IACJwzB,EAAG5mC,IAAIjH,KAAKytB,IAAI,GAAGpgB,EAAE,IAAI,GAAGugC,EAAGvzB,IAC9BuzB,EAAG3tB,GACJ+N,EAAE/mB,GAAG45B,KAAKl3B,MAAM,EAChBqkB,EAAE/mB,GAAG45B,KAAK0N,eAAe,EAAEj3B,GAC3B0W,EAAE/mB,GAAG45B,KAAK2N,wBAAwBX,EAAG5mC,GAAGqQ,EAAEs2B,EAAG3tB,IAG7C+N,EAAE/mB,GAAG45B,KAAK0N,eAAeV,EAAG5mC,GAAGqQ,GACjCla,KAAKgxC,gBAAgBpgB,EAAE/mB,GAAG45B,KAAK+M,EAAGzlB,EAAE0lB,EAAG5mC,GAAG8mC,EAAGH,EAAGv1B,GAChD40B,EAAEhmC,GAAGgR,MAAMX,GACRla,KAAKytC,OAAO1mB,KAEb8oB,EAAEhmC,GAAGwnC,QAAU,SAASxuB,EAAGgO,GAAK,OAAO,WAAiBA,GAAGhO,EAAE0D,WAAWsK,E,EAAzD,CAAkE7wB,KAAKkwC,MAAMnpB,GAAK8oB,EAAEhmC,GAAGomC,QACtGJ,EAAEhmC,GAAGssB,KAAKjc,EAAEc,EAAE,GAAGC,EAAEjb,KAAKkuC,c,CAGxBluC,KAAKytC,OAAO1mB,IACd/mB,KAAKwtC,QAAQ1jC,KAAK,CAACoQ,EAAEA,EAAE5R,EAAE,MAAMye,GAAGA,EAAG9W,EAAEA,EAAE4/B,EAAEA,EAAEjf,EAAEA,EAAE0gB,GAAGp3B,EAAEs2B,EAAG3tB,EAAEkD,EAAE0qB,EAAGhJ,EAAEA,EAAE7pB,EAAE,G,EAE1EozB,gBAAgB,SAASh2B,EAAE+K,EAAE7L,EAAEe,GACvB,GAAHA,EACDD,EAAE0oB,gBAAgB3d,EAAE7L,EAAEe,GAEtBD,EAAEm2B,eAAeprB,EAAE7L,E,EAEvBq3B,aAAa,SAASlD,EAAGn0B,GACvB,GAAU,GAAPm0B,EAAGtnB,GACJ,IAAI,IAAI9J,EAAEoxB,EAAGzd,EAAEruB,OAAO,EAAE0a,GAAG,IAAIA,EAC7BoxB,EAAGzd,EAAE3T,GAAGwmB,KAAKsM,sBAAsB71B,GAChCA,GAAGm0B,EAAGiD,GACPjD,EAAGzd,EAAE3T,GAAGwmB,KAAK0N,eAAe9C,EAAGtoB,EAAE9I,GAAG/C,GAC9BA,EAAEm0B,EAAGiD,IACXjD,EAAGzd,EAAE3T,GAAGwmB,KAAK0N,eAAe9C,EAAGtoB,EAAE9I,IAAI/C,EAAEm0B,EAAGn0B,IAAIm0B,EAAGiD,GAAGjD,EAAGn0B,GAAGA,GAC5Dla,KAAKgxC,gBAAgB3C,EAAGzd,EAAE3T,GAAGwmB,KAAK,EAAEvpB,EAAEm0B,EAAG5G,EAAExqB,IAG/CoxB,EAAG/lC,EAAE4R,EAAEm0B,EAAG5G,EAAE,GAAGznC,KAAKkuC,aACpBG,EAAGzwB,EAAE,C,EAEP2xB,cAAc,SAASxoB,EAAGhB,EAAE7L,GAC1Bla,KAAKkwC,MAAMnpB,GAAI0c,KAAK0N,eAAiB,IAAFprB,EAAM,IAAI/lB,KAAKwxC,QAAQt3B,G,EAE5Ds1B,SAAS,SAASzoB,EAAGhB,EAAE7L,GACrBla,KAAKmtC,IAAIpmB,GAAI,EAAEhB,EAAEA,EAAG,MACpB/lB,KAAK4wC,MAAM7pB,GAAI0c,KAAK0N,eAAenxC,KAAKmtC,IAAIpmB,GAAI/mB,KAAKotC,GAAGrmB,GAAI/mB,KAAKwxC,QAAQt3B,G,EAE3Eu1B,OAAO,SAAS1oB,EAAGhB,EAAE7L,GAChBla,KAAKyxC,MAAM1qB,IACZ/mB,KAAKyxC,MAAM1qB,GAAImT,IAAIiX,gBAAgBprB,EAAE,IAAI,GAAG/lB,KAAKwxC,QAAQt3B,G,EAE7Dw3B,cAAc,SAAS3qB,EAAGhB,EAAE7L,GAC1Bla,KAAKotC,GAAGrmB,GAAIhB,EAAEA,EAAG,MACjB/lB,KAAK4wC,MAAM7pB,GAAI0c,KAAK0N,eAAenxC,KAAKmtC,IAAIpmB,GAAI/mB,KAAKotC,GAAGrmB,GAAI/mB,KAAKwxC,QAAQt3B,G,EAE3Ey3B,WAAW,SAAS5qB,EAAGhB,EAAE7L,GAGvB,GAFAla,KAAK8Y,QAAQiO,GAAIhB,EACjB7L,EAAEla,KAAKwxC,QAAQt3B,GACZ6L,EAAE,GACH,IAAI,IAAIlc,EAAE7J,KAAKwtC,QAAQjrC,OAAO,EAAEsH,GAAG,IAAIA,EAAE,CACvC,IAAIwkC,EAAGruC,KAAKwtC,QAAQ3jC,GACjBqQ,GAAGm0B,EAAGn0B,GAAKm0B,EAAGtnB,IAAIA,GAAY,GAANsnB,EAAGzwB,GAC5B5d,KAAKuxC,aAAalD,EAAGn0B,E,GAI7Bib,YAAY,SAASpO,GACnB,IAAI,IAAIld,EAAE7J,KAAKwtC,QAAQjrC,OAAO,EAAEsH,GAAG,IAAIA,EAAE,CACvC,IAAIwkC,EAAGruC,KAAKwtC,QAAQ3jC,GACjBwkC,EAAGtnB,IAAIA,IACR/mB,KAAKuuC,WAAWF,GAChBruC,KAAKwtC,QAAQ3wB,OAAOhT,EAAE,G,GAI5BurB,oBAAoB,SAASrO,GAC3B/mB,KAAKqtC,KAAKtmB,GAAI,EAAG/mB,KAAKotC,GAAGrmB,GAAI,EAC7B/mB,KAAKstC,OAAOvmB,GAAI,MAAQ/mB,KAAK8Y,QAAQiO,GAAI,EACtC/mB,KAAK4wC,MAAM7pB,KACZ/mB,KAAK4wC,MAAM7pB,GAAI0c,KAAKl3B,MAAMvM,KAAKmtC,IAAIpmB,GAAI/mB,KAAKotC,GAAGrmB,GAC/C/mB,KAAKkwC,MAAMnpB,GAAI0c,KAAKl3B,MAAM,E,EAG9B+iC,aAAa,SAASvoB,EAAGhB,GACvB/lB,KAAKutC,OAAOxmB,GAAIhB,C,EAElBspB,WAAW,SAAStoB,EAAGhB,GAClB/lB,KAAKwsC,OACNv9B,QAAQoQ,IAAI,MAAM0H,EAAG,KAAKhB,GAC5B/lB,KAAKktC,GAAGnmB,GAAIhB,C,EAEd6rB,QAAQ,SAAS7qB,EAAGhB,EAAE7L,GACpBA,EAAEla,KAAKwxC,QAAQt3B,GACf,IAAI23B,EAAmB,IAAhB7xC,KAAKutC,OAAOxmB,GAAQ,IAC3B/mB,KAAKqtC,KAAKtmB,IAAKhB,EAAE,MAAM8rB,EAAG,KAC1B,IAAI,IAAIhoC,EAAE7J,KAAKwtC,QAAQjrC,OAAO,EAAEsH,GAAG,IAAIA,EAAE,CACvC,IAAIwkC,EAAGruC,KAAKwtC,QAAQ3jC,GACpB,GAAGwkC,EAAGtnB,IAAIA,EACR,IAAI,IAAI9J,EAAEoxB,EAAGwB,EAAEttC,OAAO,EAAE0a,GAAG,IAAIA,EAC1BoxB,EAAGwB,EAAE5yB,GAAG6yB,WACLzB,EAAGwB,EAAE5yB,GAAGgzB,QAAQ5B,EAAGwB,EAAE5yB,GAAGgzB,OAAOkB,eAAenxC,KAAKqtC,KAAKtmB,GAAI7M,E,GAK1E8L,OAAO,SAASe,EAAG9W,EAAE8V,EAAE7L,GACf,GAAH6L,GAIH7L,EAAEla,KAAKwxC,QAAQt3B,GACZla,KAAKytC,OAAO1mB,GACV9W,GAAG,IAAIA,GAAG,IACXjQ,KAAKswC,MAAMp2B,EAAE6M,EAAG9W,EAAE8V,EAAE/lB,KAAK+rC,QAAQ97B,EAAE,KAGvCjQ,KAAKswC,MAAMp2B,EAAE6M,EAAG9W,EAAE8V,EAAE/lB,KAAKsyB,QAAQtyB,KAAKktC,GAAGnmB,MATvC/mB,KAAKmmB,QAAQY,EAAG9W,EAAEiK,E,EAWtBiM,QAAQ,SAASY,EAAG9W,EAAEiK,GACpB,IAAGla,KAAKytC,OAAO1mB,GAAf,CAEA7M,EAAEla,KAAKwxC,QAAQt3B,GACf,IAAI,IAAIrQ,EAAE7J,KAAKwtC,QAAQjrC,OAAO,EAAEsH,GAAG,IAAIA,EAAE,CACvC,IAAIwkC,EAAGruC,KAAKwtC,QAAQ3jC,GACjBqQ,GAAGm0B,EAAGn0B,GAAKm0B,EAAGtnB,IAAIA,GAAMsnB,EAAGp+B,GAAGA,GAAW,GAANo+B,EAAGzwB,IACvCywB,EAAGzwB,EAAE,EACF5d,KAAK8Y,QAAQiO,GAAI,IAClB/mB,KAAKuxC,aAAalD,EAAGn0B,G,CAPzB,C,EAWJs3B,QAAQ,SAASt3B,GAUf,OATMzM,MAAHyM,GAAcA,GAAG,GAClBA,EAAE,EACCla,KAAKsuC,OACNp0B,EAAEla,KAAKsuC,KAAK3K,cAGX3jC,KAAK2sC,SACNzyB,EAAI,KAAFA,EAAOla,KAAK8xC,QAEX53B,C,EAET63B,UAAU,SAASpF,GACjB3sC,KAAK2sC,OAAOA,C,EAEd9mB,KAAK,SAAS5C,EAAI/I,GAChB,IAAI6M,EAAU,GAAP9D,EAAI,GACP+uB,GAAW,GAAP/uB,EAAI,GACZ,KAAG+uB,EAAI,KAAMA,GAAK,KAKlB,OAH4B,aAAzBhyC,KAAKiyC,aAAa1iC,OACnBvP,KAAKiyC,aAAa3O,SAEb0O,GACP,KAAK,IACH,OAAO/uB,EAAI,IACX,KAAK,EAAIjjB,KAAKuvC,cAAcxoB,EAAG9D,EAAI,GAAG/I,GAAI,MAC1C,KAAK,EAAIla,KAAKwvC,SAASzoB,EAAG9D,EAAI,GAAG/I,GAAI,MACrC,KAAK,GAAIla,KAAKyvC,OAAO1oB,EAAG9D,EAAI,GAAG/I,GAAI,MACnC,KAAK,GAAIla,KAAK0xC,cAAc3qB,EAAG9D,EAAI,GAAG/I,GAAI,MAC1C,KAAK,GAAIla,KAAK2xC,WAAW5qB,EAAG9D,EAAI,GAAG/I,GAAI,MACvC,KAAK,GAAK,KAAK,GAAIla,KAAKstC,OAAOvmB,GAAI,MAAQ,MAC3C,KAAK,IAAK/mB,KAAKstC,OAAOvmB,GAAqB,MAAjB/mB,KAAMstC,OAAOvmB,GAAY9D,EAAI,GAAI,MAC3D,KAAK,IAAKjjB,KAAKstC,OAAOvmB,GAAqB,IAAjB/mB,KAAMstC,OAAOvmB,GAAW9D,EAAI,IAAI,EAAI,MAC9D,KAAK,EACH,OAAQjjB,KAAKstC,OAAOvmB,IAClB,KAAK,EACH/mB,KAAKutC,OAAOxmB,IAAK9D,EAAI,IAAI,IAAoB,IAAhBjjB,KAAKutC,OAAOxmB,IACzC,MACF,KAAK,EACH/mB,KAAK6tC,QAAQ9mB,IAAK9D,EAAI,IAAI,IAAIjjB,KAAM6tC,QAAQ9mB,GAAI,KAAQ,KAAM,KAC9D,MACF,KAAK,EACH/mB,KAAK4tC,QAAQ7mB,GAAI9D,EAAI,GAAG,GAG5B,MACF,KAAK,GACH,OAAQjjB,KAAKstC,OAAOvmB,IAClB,KAAK,EACH/mB,KAAKutC,OAAOxmB,GAAqB,MAAjB/mB,KAAMutC,OAAOxmB,GAAY9D,EAAI,GAC7C,MACF,KAAK,EACHjjB,KAAK6tC,QAAQ9mB,IAAK/mB,KAAO6tC,QAAQ9mB,GAAI,KAAQ,MAAQ9D,EAAI,IAAI,KAIjE,MACF,KAAK,IACL,KAAK,IACL,KAAK,IAAK,KAAK,IAAK,KAAK,IAAK,KAAK,IACjCjjB,KAAKm1B,YAAYpO,GACjB,MACF,KAAK,IAAK/mB,KAAKo1B,oBAAoBrO,GAEnC,MACF,KAAK,IAAM/mB,KAAKqvC,WAAWtoB,EAAG9D,EAAI,IAAK,MACvC,KAAK,IAAMjjB,KAAK4xC,QAAQ7qB,EAAI9D,EAAI,IAAIA,EAAI,IAAI,GAAI/I,GAAI,MACpD,KAAK,IAAMla,KAAKgmB,OAAOe,EAAG9D,EAAI,GAAGA,EAAI,GAAG/I,GAAI,MAC5C,KAAK,IAAMla,KAAKmmB,QAAQY,EAAG9D,EAAI,GAAG/I,GAAI,MACtC,KAAK,IACH,GAAc,KAAV+I,EAAI,GAAY,CAClBjjB,KAAKgtB,QACL,K,CAEF,GAAW,KAAR/J,EAAI,IAAWjjB,KAAKwsC,MAErB,IADA,IAAI0F,EAAG,GACCC,EAAG,EAAEA,EAAGlvB,EAAI1gB,SAAS4vC,EAC3BD,EAAGpoC,KAAKmZ,EAAIkvB,GAAIzrC,SAAS,KAE7B,GAAY,KAARuc,EAAI,KACM,KAARA,EAAI,IAAoB,GAARA,EAAI,KACV,GAARA,EAAI,IAASA,EAAI1gB,QAAU,IAC7BvC,KAAK2tC,eAAwB,IAAP1qB,EAAI,GAAUA,EAAI,GAAK,MAAQ,MAE3C,GAARA,EAAI,IAASA,EAAI1gB,QAAU,IAC7BvC,KAAK0tC,cAAgBzqB,EAAI,GAAG,KAGpB,IAARA,EAAI,IAAoB,IAARA,EAAI,IAAoB,IAARA,EAAI,IAAmB,IAARA,EAAI,IACrD,GAAmB,KAAP,IAAPA,EAAI,KAA8B,IAAZA,EAAI1gB,OAAY,CACzC,IAAI4hB,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,IAAW,GAAPlB,EAAI,IACtC,IAARA,EAAI,GACNjjB,KAAKytC,OAAOtpB,GAAGlB,EAAI,GAEZA,EAAI,IAAM,IAAQA,EAAI,IAAM,KACnCjjB,KAAK8tC,YAAY3pB,GAAGlB,EAAI,GAAG,KAASA,EAAI,GAAG,IAAQ,I,MAGtC,GAARA,EAAI,KACC,GAARA,EAAI,IAAqB,IAAZA,EAAI1gB,OACnBvC,KAAK2tC,eAAwB,KAAP1qB,EAAI,GAAmB,IAAPA,EAAI,GAAmB,GAARA,EAAI,IAAWA,EAAI,IAAM,MAAS,IAExE,GAARA,EAAI,IAAqB,IAAZA,EAAI1gB,SACxBvC,KAAK0tC,cAAgBzqB,EAAI,GAAG,K,EAQxCmvB,YAAY,SAAStjC,GAGnB,IAFA,IAAIujC,EAAK,IAAIC,aAAaxjC,EAAEvM,QACxBgwC,EAAK,IAAID,aAAaxjC,EAAEvM,QACpBsH,EAAE,EAAEA,EAAEiF,EAAEvM,SAASsH,EACvBwoC,EAAKxoC,GAAGiF,EAAEjF,GACZ,OAAO7J,KAAKsuC,KAAKkE,mBAAmBD,EAAKF,E,EAE3C/L,gBAAgB,WACd,OAAOtmC,KAAKsuC,I,EAEd7C,gBAAgB,SAAS6C,EAAK3C,GAC5B3rC,KAAKiyC,aAAajyC,KAAKsuC,KAAKA,EAC5BtuC,KAAK2rC,KAAKA,EACNA,IACF3rC,KAAK2rC,KAAK2C,EAAK1K,aACjB5jC,KAAK8xC,OAAyB,KAAlBl5B,YAAYC,MAAW7Y,KAAKsuC,KAAK3K,YAC7C3jC,KAAK2lB,IAAI3lB,KAAKsuC,KAAKnL,aACnBnjC,KAAKyyC,KAAKzyC,KAAKsuC,KAAKoE,2BACpB,IAAIC,EAA0B,GAArB3yC,KAAKsuC,KAAKsE,WAAc,EACjC5yC,KAAK6yC,QAAQ7yC,KAAKsuC,KAAKwE,aAAa,EAAEH,EAAK3yC,KAAKsuC,KAAKsE,YACrD5yC,KAAK+wC,SAAS,GACd/wC,KAAK+wC,SAASgC,GAAG/yC,KAAKsuC,KAAKwE,aAAa,EAAEH,EAAK3yC,KAAKsuC,KAAKsE,YACzD5yC,KAAK+wC,SAASX,GAAGpwC,KAAKsuC,KAAKwE,aAAa,EAAEH,EAAK3yC,KAAKsuC,KAAKsE,YAKzD,IAJA,IAAII,EAAGhzC,KAAK6yC,QAAQI,eAAe,GAC/BC,EAAGlzC,KAAK6yC,QAAQI,eAAe,GAC/BE,EAAGnzC,KAAK+wC,SAASgC,GAAGE,eAAe,GACnCG,EAAGpzC,KAAK+wC,SAASX,GAAG6C,eAAe,GAC/BppC,EAAE,EAAEA,EAAE8oC,IAAO9oC,EAChBA,EAAE8oC,EAAK/vC,KAAKQ,WACb4vC,EAAGnpC,GAAGjH,KAAKywC,KAAI,EAAGxpC,EAAE8oC,IAAO/vC,KAAKQ,SAAS,IAAI,GAC7C8vC,EAAGrpC,GAAGjH,KAAKywC,KAAI,EAAGxpC,EAAE8oC,IAAO/vC,KAAKQ,SAAS,IAAI,IAE/C+vC,EAAGtpC,GAAiB,EAAdjH,KAAKQ,SAAW,EAExB,IAAI,IAAIkwC,EAAG,EAAEA,EAAG,KAAKA,EAAG,CACtB,IAAIC,EAAiB,GAAd3wC,KAAKQ,SAAY,EACpBowC,EAAiB,GAAd5wC,KAAKQ,SAAY,EACxB,IAAIyG,EAAE,EAAEA,EAAE8oC,IAAO9oC,EAAE,CACjB,IAAI2yB,EAAG55B,KAAKwC,IAAIyE,EAAG8oC,EAAM,EAAE/vC,KAAKkE,GAAG,IAAIysC,GAAI3wC,KAAKwC,IAAIyE,EAAG8oC,EAAM,EAAE/vC,KAAKkE,GAAG,IAAI0sC,GAC3EJ,EAAGvpC,IAAI2yB,EAAG,C,EAoBd,IAjBGx8B,KAAK6sC,YACN7sC,KAAKyzC,KAAKzzC,KAAKsuC,KAAKoF,kBACpB1zC,KAAKyzC,KAAK3C,OAAO9wC,KAAK6yC,QACtB7yC,KAAKkvC,IAAIlvC,KAAKsuC,KAAKnL,aACnBnjC,KAAKkvC,IAAIzL,KAAKl3B,MAAMvM,KAAKssC,UACzBtsC,KAAK2lB,IAAIW,QAAQtmB,KAAKyzC,MACtBzzC,KAAKyzC,KAAKntB,QAAQtmB,KAAKkvC,KACvBlvC,KAAKkvC,IAAI5oB,QAAQtmB,KAAKyyC,OAExBzyC,KAAKgvC,eACLhvC,KAAK2lB,IAAIW,QAAQtmB,KAAKyyC,MACtBzyC,KAAKyyC,KAAKnsB,QAAQtmB,KAAK2rC,MACvB3rC,KAAK4wC,MAAM,GAAI5wC,KAAKkwC,MAAM,GAAIlwC,KAAKyxC,MAAM,GACzCzxC,KAAKkxC,KAAK,CAACyC,MAAQ3zC,KAAKoyC,YAAY,UACpCpyC,KAAK4zC,IAAI5zC,KAAKsuC,KAAK9K,mBACnBxjC,KAAK4zC,IAAI9D,UAAUvjC,MAAM,EACzBvM,KAAK4zC,IAAI/4B,MAAM,GACXhR,EAAE,EAAEA,EAAE,KAAKA,EACb7J,KAAK4wC,MAAM/mC,GAAG7J,KAAKsuC,KAAKnL,aACrBnjC,KAAKsuC,KAAKuF,oBACX7zC,KAAKyxC,MAAM5nC,GAAG7J,KAAKsuC,KAAKuF,qBACxB7zC,KAAK4wC,MAAM/mC,GAAGyc,QAAQtmB,KAAKyxC,MAAM5nC,IACjC7J,KAAKyxC,MAAM5nC,GAAGyc,QAAQtmB,KAAK2lB,OAG3B3lB,KAAKyxC,MAAM5nC,GAAG,KACd7J,KAAK4wC,MAAM/mC,GAAGyc,QAAQtmB,KAAK2lB,MAE7B3lB,KAAKkwC,MAAMrmC,GAAG7J,KAAKsuC,KAAKnL,aACxBnjC,KAAK4zC,IAAIttB,QAAQtmB,KAAKkwC,MAAMrmC,IAC5B7J,KAAKktC,GAAGrjC,GAAG,EACX7J,KAAKo1B,oBAAoBvrB,GAE3B7J,KAAKivC,eACLjvC,KAAKgtB,O,GAMIhtB,KAAKisC,GAAGE,WACnBnsC,KAAKid,GAAGjd,KAAKisC,GAAGE,WAAWlvB,GAAG1Q,MAChCvM,KAAK0vC,WAAW,GACb9mB,IACiBnb,MAAfmb,EAAIikB,YACL7sC,KAAK6sC,UAAUjkB,EAAIikB,WACLp/B,MAAbmb,EAAI2jB,SACLvsC,KAAK0vC,WAAW9mB,EAAI2jB,SACP9+B,MAAZmb,EAAIgkB,QACL5sC,KAAKovC,UAAUxmB,EAAIgkB,SAEvB5sC,KAAKusB,O,CAGL,SAASxM,EAAOzf,EAAKoR,EAAKsO,GACxB,QAAkB,IAAPtO,EAAoB,OAAOqO,EAAOzf,EAAK,GAAI,IACtD,GAAIA,aAAe2L,OAAQ,CACzB,IAAK,IAAIpC,EAAI,EAAGA,EAAI6H,EAAInP,OAAQsH,IAAK,GAAI6H,EAAI7H,KAAOvJ,EAAK,OAAO0f,EAAInW,GACpE,IAAIgG,EAGJ,IAAI,IAAIoN,KAFkBpN,EAAtBvP,aAAeqJ,MAAa,GAAe,GAC/C+H,EAAI5H,KAAKxJ,GAAM0f,EAAIlW,KAAK+F,GACXvP,EAASA,EAAIwf,eAAe7C,KAAIpN,EAAIoN,GAAK8C,EAAOzf,EAAI2c,GAAIvL,EAAKsO,IAC1E,OAAOnQ,C,CAET,OAAOvP,C,CAIT,SAASirC,IAEP,OADKhL,IAAKA,EAAM1T,EAAIyB,IAAIgY,qBACf/F,C,OCn5BbuT,ECdAC,EACAC,E,KADAD,EAiDA,SAAsBE,GACpB,IAAIC,EAcArqC,EAbAsqC,EAAOC,GAAQH,GACfI,EAAWF,EAAK,GAChBG,EAAkBH,EAAK,GAEvB/zC,EAAM,IAAIm0C,GAVhB,SAAsBN,EAAKI,EAAUC,GACnC,OAAuC,GAA9BD,EAAWC,GAAuB,EAAKA,C,CAS9BE,CAAYP,EAAKI,EAAUC,IAEzCG,EAAU,EAGVvrC,EAAMorC,EAAkB,EACxBD,EAAW,EACXA,EAGJ,IAAKxqC,EAAI,EAAGA,EAAIX,EAAKW,GAAK,EACxBqqC,EACEQ,GAAWT,EAAI3iB,WAAWznB,KAAO,GAChC6qC,GAAUT,EAAI3iB,WAAWznB,EAAI,KAAO,GACpC6qC,GAAUT,EAAI3iB,WAAWznB,EAAI,KAAO,EACrC6qC,GAAUT,EAAI3iB,WAAWznB,EAAI,IAC/BzJ,EAAIq0C,KAAaP,GAAQ,GAAM,IAC/B9zC,EAAIq0C,KAAaP,GAAQ,EAAK,IAC9B9zC,EAAIq0C,KAAmB,IAANP,EAGK,IAApBI,IACFJ,EACEQ,GAAWT,EAAI3iB,WAAWznB,KAAO,EAChC6qC,GAAUT,EAAI3iB,WAAWznB,EAAI,KAAO,EACvCzJ,EAAIq0C,KAAmB,IAANP,GAGK,IAApBI,IACFJ,EACEQ,GAAWT,EAAI3iB,WAAWznB,KAAO,GAChC6qC,GAAUT,EAAI3iB,WAAWznB,EAAI,KAAO,EACpC6qC,GAAUT,EAAI3iB,WAAWznB,EAAI,KAAO,EACvCzJ,EAAIq0C,KAAaP,GAAQ,EAAK,IAC9B9zC,EAAIq0C,KAAmB,IAANP,GAGnB,OAAO9zC,C,EA3FT4zC,EAkHA,SAAwBW,GAQtB,IAPA,IAAIT,EACAhrC,EAAMyrC,EAAMpyC,OACZqyC,EAAa1rC,EAAM,EACnB2rC,EAAQ,GACRC,EAAiB,MAGZjrC,EAAI,EAAGkrC,EAAO7rC,EAAM0rC,EAAY/qC,EAAIkrC,EAAMlrC,GAAKirC,EACtDD,EAAM/qC,KAAKkrC,GAAYL,EAAO9qC,EAAGA,EAAKirC,EAAkBC,EAAOA,EAAQlrC,EAAIirC,IAI1D,IAAfF,GACFV,EAAMS,EAAMzrC,EAAM,GAClB2rC,EAAM/qC,KACJmrC,GAAOf,GAAO,GACde,GAAOf,GAAQ,EAAK,IACpB,OAEsB,IAAfU,IACTV,GAAOS,EAAMzrC,EAAM,IAAM,GAAKyrC,EAAMzrC,EAAM,GAC1C2rC,EAAM/qC,KACJmrC,GAAOf,GAAO,IACde,GAAOf,GAAQ,EAAK,IACpBe,GAAOf,GAAQ,EAAK,IACpB,MAIJ,OAAOW,EAAM9mB,KAAK,G;0FAzIpB,IALA,ICLAmnB,EAiCAC,ED5BIF,GAAS,GACTP,GAAY,GACZH,GAA4B,oBAAf7K,WAA6BA,WAAa//B,MAEvDyrC,GAAO,mEACFC,GAAI,EAAGC,GAAMF,GAAK7yC,OAAQ8yC,GAAIC,KAAOD,GAC5CJ,GAAOI,IAAKD,GAAKC,IACjBX,GAAUU,GAAK9jB,WAAW+jB,KAAMA,GAQlC,SAASjB,GAASH,GAChB,IAAI/qC,EAAM+qC,EAAI1xC,OAEd,GAAI2G,EAAM,EAAI,EACZ,MAAM,IAAIjB,MAAM,kDAKlB,IAAIosC,EAAWJ,EAAI3rB,QAAQ,KAO3B,OANiB,IAAb+rB,IAAiBA,EAAWnrC,GAMzB,CAACmrC,EAJcA,IAAanrC,EAC/B,EACA,EAAKmrC,EAAW,E,CAsEtB,SAASW,GAAaL,EAAO95B,EAAOC,GAGlC,IAFA,IAAIo5B,EARoBqB,EASpB7oB,EAAS,GACJ7iB,EAAIgR,EAAOhR,EAAIiR,EAAKjR,GAAK,EAChCqqC,GACGS,EAAO9qC,IAAM,GAAM,WACnB8qC,EAAO9qC,EAAI,IAAM,EAAK,QACP,IAAf8qC,EAAM9qC,EAAI,IACb6iB,EAAO5iB,KAdFmrC,IADiBM,EAeMrB,IAdT,GAAK,IACxBe,GAAOM,GAAO,GAAK,IACnBN,GAAOM,GAAO,EAAI,IAClBN,GAAa,GAANM,IAaT,OAAO7oB,EAAOqB,KAAK,G,CAjGrB2mB,GAAU,IAAIpjB,WAAW,IAAM,GAC/BojB,GAAU,IAAIpjB,WAAW,IAAM,GClB/B4jB,EAAe,SAAUpE,EAAQ0E,EAAQC,EAAMC,EAAMC,GACnD,IAAIrtC,EAAGgG,EACHsnC,EAAiB,EAAVD,EAAeD,EAAO,EAC7BG,GAAQ,GAAKD,GAAQ,EACrBE,EAAQD,GAAQ,EAChBE,GAAQ,EACRlsC,EAAI4rC,EAAQE,EAAS,EAAK,EAC1B16B,EAAIw6B,GAAO,EAAK,EAChB1qB,EAAI+lB,EAAO0E,EAAS3rC,GAOxB,IALAA,GAAKoR,EAEL3S,EAAIyiB,GAAM,IAAOgrB,GAAU,EAC3BhrB,KAAQgrB,EACRA,GAASH,EACFG,EAAQ,EAAGztC,EAAS,IAALA,EAAYwoC,EAAO0E,EAAS3rC,GAAIA,GAAKoR,EAAG86B,GAAS,GAKvE,IAHAznC,EAAIhG,GAAM,IAAOytC,GAAU,EAC3BztC,KAAQytC,EACRA,GAASL,EACFK,EAAQ,EAAGznC,EAAS,IAALA,EAAYwiC,EAAO0E,EAAS3rC,GAAIA,GAAKoR,EAAG86B,GAAS,GAEvE,GAAU,IAANztC,EACFA,EAAI,EAAIwtC,MACH,IAAIxtC,IAAMutC,EACf,OAAOvnC,EAAI0nC,IAAsBn/B,KAAdkU,GAAI,EAAK,GAE5Bzc,GAAQ1L,KAAKytB,IAAI,EAAGqlB,GACpBptC,GAAQwtC,C,CAEV,OAAQ/qB,GAAI,EAAK,GAAKzc,EAAI1L,KAAKytB,IAAI,EAAG/nB,EAAIotC,E,EAG5CP,EAAgB,SAAUrE,EAAQvkC,EAAOipC,EAAQC,EAAMC,EAAMC,GAC3D,IAAIrtC,EAAGgG,EAAG6V,EACNyxB,EAAiB,EAAVD,EAAeD,EAAO,EAC7BG,GAAQ,GAAKD,GAAQ,EACrBE,EAAQD,GAAQ,EAChBI,EAAe,KAATP,EAAc9yC,KAAKytB,IAAI,GAAG,IAAOztB,KAAKytB,IAAI,GAAG,IAAO,EAC1DxmB,EAAI4rC,EAAO,EAAKE,EAAS,EACzB16B,EAAIw6B,EAAO,GAAI,EACf1qB,EAAIxe,EAAQ,GAAgB,IAAVA,GAAe,EAAIA,EAAQ,EAAK,EAAI,EAmC1D,IAjCAA,EAAQ3J,KAAKC,IAAI0J,GAEbD,MAAMC,IAAUA,IAAUsK,KAC5BvI,EAAIhC,MAAMC,GAAS,EAAI,EACvBjE,EAAIutC,IAEJvtC,EAAI1F,KAAKmE,MAAMnE,KAAKyc,IAAI9S,GAAS3J,KAAKszC,KAClC3pC,GAAS4X,EAAIvhB,KAAKytB,IAAI,GAAI/nB,IAAM,IAClCA,IACA6b,GAAK,IAGL5X,GADEjE,EAAIwtC,GAAS,EACNG,EAAK9xB,EAEL8xB,EAAKrzC,KAAKytB,IAAI,EAAG,EAAIylB,IAEpB3xB,GAAK,IACf7b,IACA6b,GAAK,GAGH7b,EAAIwtC,GAASD,GACfvnC,EAAI,EACJhG,EAAIutC,GACKvtC,EAAIwtC,GAAS,GACtBxnC,GAAK/B,EAAS4X,EAAK,GAAKvhB,KAAKytB,IAAI,EAAGqlB,GACpCptC,GAAQwtC,IAERxnC,EAAI/B,EAAQ3J,KAAKytB,IAAI,EAAGylB,EAAQ,GAAKlzC,KAAKytB,IAAI,EAAGqlB,GACjDptC,EAAI,IAIDotC,GAAQ,EAAG5E,EAAO0E,EAAS3rC,GAAS,IAAJyE,EAAUzE,GAAKoR,EAAG3M,GAAK,IAAKonC,GAAQ,GAI3E,IAFAptC,EAAIA,GAAMotC,EAAQpnC,EAClBsnC,GAAQF,EACDE,EAAO,EAAG9E,EAAO0E,EAAS3rC,GAAS,IAAJvB,EAAUuB,GAAKoR,EAAG3S,GAAK,IAAKstC,GAAQ,GAE1E9E,EAAO0E,EAAS3rC,EAAIoR,IAAU,IAAJ8P,C,EFvE5B,MAAMorB,GACe,mBAAXC,QAAkD,mBAAlBA,OAAY,IAChDA,OAAY,IAAE,8BACd,KAENtC,EAAiBuC,GAIjB,MAAMC,GAAe,WAwDrB,SAASC,GAAch0C,GACrB,GAAIA,EAAS+zC,GACX,MAAM,IAAI5lC,WAAW,cAAgBnO,EAAS,kCAGhD,MAAMi0C,EAAM,IAAI9M,WAAWnnC,GAE3B,OADA0J,OAAOwqC,eAAeD,EAAKH,GAAO91C,WAC3Bi2C,C,CAaT,SAASH,GAAQjmC,EAAKsmC,EAAkBn0C,GAEtC,GAAmB,iBAAR6N,EAAkB,CAC3B,GAAgC,iBAArBsmC,EACT,MAAM,IAAI3oC,UACR,sEAGJ,OAAO4oC,GAAYvmC,E,CAErB,OAAOwmC,GAAKxmC,EAAKsmC,EAAkBn0C,E,CAKrC,SAASq0C,GAAMrqC,EAAOmqC,EAAkBn0C,GACtC,GAAqB,iBAAVgK,EACT,OAqHJ,SAAqBsqC,EAAQC,GACH,iBAAbA,GAAsC,KAAbA,IAClCA,EAAW,QAGb,IAAKT,GAAOU,WAAWD,GACrB,MAAM,IAAI/oC,UAAU,qBAAuB+oC,GAG7C,MAAMv0C,EAAwC,EAA/By0C,GAAWH,EAAQC,GAClC,IAAIN,EAAMD,GAAah0C,GAEvB,MAAM00C,EAAST,EAAIU,MAAML,EAAQC,GAE7BG,IAAW10C,IAIbi0C,EAAMA,EAAItpC,MAAM,EAAG+pC,IAGrB,OAAOT,C,CA1IEW,CAAW5qC,EAAOmqC,GAG3B,GAAIU,YAAYC,OAAO9qC,GACrB,OAkJJ,SAAwB+qC,GACtB,GAAIC,GAAWD,EAAW5N,YAAa,CACrC,MAAMzlC,EAAO,IAAIylC,WAAW4N,GAC5B,OAAOE,GAAgBvzC,EAAK6sC,OAAQ7sC,EAAKwzC,WAAYxzC,EAAKyzC,W,CAE5D,OAAOC,GAAcL,E,CAvJZM,CAAcrrC,GAGvB,GAAa,MAATA,EACF,MAAM,IAAIwB,UACR,yHACiDxB,GAIrD,GAAIgrC,GAAWhrC,EAAO6qC,cACjB7qC,GAASgrC,GAAWhrC,EAAMukC,OAAQsG,aACrC,OAAOI,GAAgBjrC,EAAOmqC,EAAkBn0C,GAGlD,GAAiC,oBAAtBs1C,oBACNN,GAAWhrC,EAAOsrC,oBAClBtrC,GAASgrC,GAAWhrC,EAAMukC,OAAQ+G,oBACrC,OAAOL,GAAgBjrC,EAAOmqC,EAAkBn0C,GAGlD,GAAqB,iBAAVgK,EACT,MAAM,IAAIwB,UACR,yEAIJ,MAAM+pC,EAAUvrC,EAAMurC,SAAWvrC,EAAMurC,UACvC,GAAe,MAAXA,GAAmBA,IAAYvrC,EACjC,OAAO8pC,GAAO0B,KAAKD,EAASpB,EAAkBn0C,GAGhD,MAAMsuB,EAkJR,SAAqBvwB,GACnB,GAAI+1C,GAAO2B,SAAS13C,GAAM,CACxB,MAAM4I,EAA4B,EAAtB+uC,GAAQ33C,EAAIiC,QAClBi0C,EAAMD,GAAartC,GAEzB,OAAmB,IAAfstC,EAAIj0C,QAIRjC,EAAI2D,KAAKuyC,EAAK,EAAG,EAAGttC,GAHXstC,C,CAOX,QAAmB/oC,IAAfnN,EAAIiC,OACN,MAA0B,iBAAfjC,EAAIiC,QAAuB21C,GAAY53C,EAAIiC,QAC7Cg0C,GAAa,GAEfoB,GAAcr3C,GAGvB,GAAiB,WAAbA,EAAI8N,MAAqBzE,MAAMwuC,QAAQ73C,EAAIiS,MAC7C,OAAOolC,GAAcr3C,EAAIiS,K,CAvKjB6lC,CAAW7rC,GACrB,GAAIskB,EAAG,OAAOA,EAEd,GAAsB,oBAAXulB,QAAgD,MAAtBA,OAAOiC,aACH,mBAA9B9rC,EAAM6pC,OAAOiC,aACtB,OAAOhC,GAAO0B,KAAKxrC,EAAM6pC,OAAOiC,aAAa,UAAW3B,EAAkBn0C,GAG5E,MAAM,IAAIwL,UACR,yHACiDxB,E,CAqBrD,SAAS+rC,GAAYC,GACnB,GAAoB,iBAATA,EACT,MAAM,IAAIxqC,UAAU,0CACf,GAAIwqC,EAAO,EAChB,MAAM,IAAI7nC,WAAW,cAAgB6nC,EAAO,iC,CA4BhD,SAAS5B,GAAa4B,GAEpB,OADAD,GAAWC,GACJhC,GAAagC,EAAO,EAAI,EAAoB,EAAhBN,GAAQM,G,CAwC7C,SAASZ,GAAepuC,GACtB,MAAMhH,EAASgH,EAAMhH,OAAS,EAAI,EAA4B,EAAxB01C,GAAQ1uC,EAAMhH,QAC9Ci0C,EAAMD,GAAah0C,GACzB,IAAK,IAAIsH,EAAI,EAAGA,EAAItH,EAAQsH,GAAK,EAC/B2sC,EAAI3sC,GAAgB,IAAXN,EAAMM,GAEjB,OAAO2sC,C,CAWT,SAASgB,GAAiBjuC,EAAOkuC,EAAYl1C,GAC3C,GAAIk1C,EAAa,GAAKluC,EAAMmuC,WAAaD,EACvC,MAAM,IAAI/mC,WAAW,wCAGvB,GAAInH,EAAMmuC,WAAaD,GAAcl1C,GAAU,GAC7C,MAAM,IAAImO,WAAW,wCAGvB,IAAI8lC,EAYJ,OAVEA,OADiB/oC,IAAfgqC,QAAuChqC,IAAXlL,EACxB,IAAImnC,WAAWngC,QACDkE,IAAXlL,EACH,IAAImnC,WAAWngC,EAAOkuC,GAEtB,IAAI/N,WAAWngC,EAAOkuC,EAAYl1C,GAI1C0J,OAAOwqC,eAAeD,EAAKH,GAAO91C,WAE3Bi2C,C,CA4BT,SAASyB,GAAS11C,GAGhB,GAAIA,GAAU+zC,GACZ,MAAM,IAAI5lC,WAAW,0DACa4lC,GAAa5vC,SAAS,IAAM,UAEhE,OAAgB,EAATnE,C,CAuGT,SAASy0C,GAAYH,EAAQC,GAC3B,GAAIT,GAAO2B,SAASnB,GAClB,OAAOA,EAAOt0C,OAEhB,GAAI60C,YAAYC,OAAOR,IAAWU,GAAWV,EAAQO,aACnD,OAAOP,EAAOa,WAEhB,GAAsB,iBAAXb,EACT,MAAM,IAAI9oC,UACR,kGAC0B8oC,GAI9B,MAAM3tC,EAAM2tC,EAAOt0C,OACbi2C,EAAa5uC,UAAUrH,OAAS,IAAsB,IAAjBqH,UAAU,GACrD,IAAK4uC,GAAqB,IAARtvC,EAAW,OAAO,EAGpC,IAAIuvC,GAAc,EAClB,OACE,OAAQ3B,GACN,IAAK,QACL,IAAK,SACL,IAAK,SACH,OAAO5tC,EACT,IAAK,OACL,IAAK,QACH,OAAOwvC,GAAY7B,GAAQt0C,OAC7B,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,WACH,OAAa,EAAN2G,EACT,IAAK,MACH,OAAOA,IAAQ,EACjB,IAAK,SACH,OAAOyvC,GAAc9B,GAAQt0C,OAC/B,QACE,GAAIk2C,EACF,OAAOD,GAAY,EAAKE,GAAY7B,GAAQt0C,OAE9Cu0C,GAAY,GAAKA,GAAU/sB,cAC3B0uB,GAAc,E,CAMtB,SAASG,GAAc9B,EAAUj8B,EAAOC,GACtC,IAAI29B,GAAc,EAclB,SALchrC,IAAVoN,GAAuBA,EAAQ,KACjCA,EAAQ,GAINA,EAAQ7a,KAAKuC,OACf,MAAO,GAOT,SAJYkL,IAARqN,GAAqBA,EAAM9a,KAAKuC,UAClCuY,EAAM9a,KAAKuC,QAGTuY,GAAO,EACT,MAAO,GAOT,IAHAA,KAAS,KACTD,KAAW,GAGT,MAAO,GAKT,IAFKi8B,IAAUA,EAAW,iBAGhBA,GACN,IAAK,MACH,OAAO+B,GAAS74C,KAAM6a,EAAOC,GAE/B,IAAK,OACL,IAAK,QACH,OAAOg+B,GAAU94C,KAAM6a,EAAOC,GAEhC,IAAK,QACH,OAAOi+B,GAAW/4C,KAAM6a,EAAOC,GAEjC,IAAK,SACL,IAAK,SACH,OAAOk+B,GAAYh5C,KAAM6a,EAAOC,GAElC,IAAK,SACH,OAAOm+B,GAAYj5C,KAAM6a,EAAOC,GAElC,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,WACH,OAAOo+B,GAAal5C,KAAM6a,EAAOC,GAEnC,QACE,GAAI29B,EAAa,MAAM,IAAI1qC,UAAU,qBAAuB+oC,GAC5DA,GAAYA,EAAW,IAAI/sB,cAC3B0uB,GAAc,E,CAatB,SAASU,GAAMtoB,EAAG5gB,EAAG3B,GACnB,MAAMzE,EAAIgnB,EAAE5gB,GACZ4gB,EAAE5gB,GAAK4gB,EAAEviB,GACTuiB,EAAEviB,GAAKzE,C,CA4IT,SAASuvC,GAAsBtI,EAAQ9wB,EAAKy3B,EAAYX,EAAU3rC,GAEhE,GAAsB,IAAlB2lC,EAAOvuC,OAAc,OAAO,EAmBhC,GAhB0B,iBAAfk1C,GACTX,EAAWW,EACXA,EAAa,GACJA,EAAa,WACtBA,EAAa,WACJA,GAAa,aACtBA,GAAa,YAGXS,GADJT,GAAcA,KAGZA,EAAatsC,EAAM,EAAK2lC,EAAOvuC,OAAS,GAItCk1C,EAAa,IAAGA,EAAa3G,EAAOvuC,OAASk1C,GAC7CA,GAAc3G,EAAOvuC,OAAQ,CAC/B,GAAI4I,EAAK,OAAO,EACXssC,EAAa3G,EAAOvuC,OAAS,C,MAC7B,GAAIk1C,EAAa,EAAG,CACzB,IAAItsC,EACC,OAAO,EADHssC,EAAa,C,CAUxB,GALmB,iBAARz3B,IACTA,EAAMq2B,GAAO0B,KAAK/3B,EAAK82B,IAIrBT,GAAO2B,SAASh4B,GAElB,OAAmB,IAAfA,EAAIzd,QACC,EAEF82C,GAAavI,EAAQ9wB,EAAKy3B,EAAYX,EAAU3rC,GAClD,GAAmB,iBAAR6U,EAEhB,OADAA,GAAY,IACgC,mBAAjC0pB,WAAWnpC,UAAU+nB,QAC1Bnd,EACKu+B,WAAWnpC,UAAU+nB,QAAQ/f,KAAKuoC,EAAQ9wB,EAAKy3B,GAE/C/N,WAAWnpC,UAAU+4C,YAAY/wC,KAAKuoC,EAAQ9wB,EAAKy3B,GAGvD4B,GAAavI,EAAQ,CAAC9wB,GAAMy3B,EAAYX,EAAU3rC,GAG3D,MAAM,IAAI4C,UAAU,uC,CAGtB,SAASsrC,GAAcj5C,EAAK4f,EAAKy3B,EAAYX,EAAU3rC,GACrD,IA0BItB,EA1BA0vC,EAAY,EACZC,EAAYp5C,EAAImC,OAChBk3C,EAAYz5B,EAAIzd,OAEpB,QAAiBkL,IAAbqpC,IAEe,UADjBA,EAAW/nC,OAAO+nC,GAAU/sB,gBACY,UAAb+sB,GACV,YAAbA,GAAuC,aAAbA,GAAyB,CACrD,GAAI12C,EAAImC,OAAS,GAAKyd,EAAIzd,OAAS,EACjC,OAAO,EAETg3C,EAAY,EACZC,GAAa,EACbC,GAAa,EACbhC,GAAc,C,CAIlB,SAAShoB,EAAM+mB,EAAK3sC,GAClB,OAAkB,IAAd0vC,EACK/C,EAAI3sC,GAEJ2sC,EAAIkD,aAAa7vC,EAAI0vC,E,CAKhC,GAAIpuC,EAAK,CACP,IAAIwuC,GAAa,EACjB,IAAK9vC,EAAI4tC,EAAY5tC,EAAI2vC,EAAW3vC,IAClC,GAAI4lB,EAAKrvB,EAAKyJ,KAAO4lB,EAAKzP,GAAoB,IAAf25B,EAAoB,EAAI9vC,EAAI8vC,IAEzD,IADmB,IAAfA,IAAmBA,EAAa9vC,GAChCA,EAAI8vC,EAAa,IAAMF,EAAW,OAAOE,EAAaJ,OAEvC,IAAfI,IAAmB9vC,GAAKA,EAAI8vC,GAChCA,GAAa,C,MAKjB,IADIlC,EAAagC,EAAYD,IAAW/B,EAAa+B,EAAYC,GAC5D5vC,EAAI4tC,EAAY5tC,GAAK,EAAGA,IAAK,CAChC,IAAIiiB,GAAQ,EACZ,IAAK,IAAI9O,EAAI,EAAGA,EAAIy8B,EAAWz8B,IAC7B,GAAIyS,EAAKrvB,EAAKyJ,EAAImT,KAAOyS,EAAKzP,EAAKhD,GAAI,CACrC8O,GAAQ,EACR,K,CAGJ,GAAIA,EAAO,OAAOjiB,C,CAItB,OAAO,C,CAeT,SAAS+vC,GAAUpD,EAAKK,EAAQrB,EAAQjzC,GACtCizC,EAASnpC,OAAOmpC,IAAW,EAC3B,MAAMqE,EAAYrD,EAAIj0C,OAASizC,EAC1BjzC,GAGHA,EAAS8J,OAAO9J,IACHs3C,IACXt3C,EAASs3C,GAJXt3C,EAASs3C,EAQX,MAAMC,EAASjD,EAAOt0C,OAKtB,IAAIsH,EACJ,IAJItH,EAASu3C,EAAS,IACpBv3C,EAASu3C,EAAS,GAGfjwC,EAAI,EAAGA,EAAItH,IAAUsH,EAAG,CAC3B,MAAMkwC,EAAS31B,SAASyyB,EAAO/Q,OAAW,EAAJj8B,EAAO,GAAI,IACjD,GAAIquC,GAAY6B,GAAS,OAAOlwC,EAChC2sC,EAAIhB,EAAS3rC,GAAKkwC,C,CAEpB,OAAOlwC,C,CAGT,SAASmwC,GAAWxD,EAAKK,EAAQrB,EAAQjzC,GACvC,OAAO03C,GAAWvB,GAAY7B,EAAQL,EAAIj0C,OAASizC,GAASgB,EAAKhB,EAAQjzC,E,CAG3E,SAAS23C,GAAY1D,EAAKK,EAAQrB,EAAQjzC,GACxC,OAAO03C,GAypCT,SAAuBE,GACrB,MAAMC,EAAY,GAClB,IAAK,IAAIvwC,EAAI,EAAGA,EAAIswC,EAAI53C,SAAUsH,EAEhCuwC,EAAUtwC,KAAyB,IAApBqwC,EAAI7oB,WAAWznB,IAEhC,OAAOuwC,C,CA/pCWC,CAAaxD,GAASL,EAAKhB,EAAQjzC,E,CAGvD,SAAS+3C,GAAa9D,EAAKK,EAAQrB,EAAQjzC,GACzC,OAAO03C,GAAWtB,GAAc9B,GAASL,EAAKhB,EAAQjzC,E,CAGxD,SAASg4C,GAAW/D,EAAKK,EAAQrB,EAAQjzC,GACvC,OAAO03C,GA0pCT,SAAyBE,EAAKK,GAC5B,IAAIr2B,EAAGs2B,EAAIC,EACX,MAAMN,EAAY,GAClB,IAAK,IAAIvwC,EAAI,EAAGA,EAAIswC,EAAI53C,WACjBi4C,GAAS,GAAK,KADa3wC,EAGhCsa,EAAIg2B,EAAI7oB,WAAWznB,GACnB4wC,EAAKt2B,GAAK,EACVu2B,EAAKv2B,EAAI,IACTi2B,EAAUtwC,KAAK4wC,GACfN,EAAUtwC,KAAK2wC,GAGjB,OAAOL,C,CAvqCWO,CAAe9D,EAAQL,EAAIj0C,OAASizC,GAASgB,EAAKhB,EAAQjzC,E,CA+E9E,SAAS02C,GAAazC,EAAK37B,EAAOC,GAChC,OAAc,IAAVD,GAAeC,IAAQ07B,EAAIj0C,OACtByxC,EAAqBwC,GAErBxC,EAAqBwC,EAAItpC,MAAM2N,EAAOC,G,CAIjD,SAASg+B,GAAWtC,EAAK37B,EAAOC,GAC9BA,EAAMlY,KAAKO,IAAIqzC,EAAIj0C,OAAQuY,GAC3B,MAAM8/B,EAAM,GAEZ,IAAI/wC,EAAIgR,EACR,KAAOhR,EAAIiR,GAAK,CACd,MAAM+/B,EAAYrE,EAAI3sC,GACtB,IAAIixC,EAAY,KACZC,EAAmBF,EAAa,IAChC,EACAA,EAAa,IACT,EACAA,EAAa,IACT,EACA,EAEZ,GAAIhxC,EAAIkxC,GAAoBjgC,EAAK,CAC/B,IAAIkgC,EAAYC,EAAWC,EAAYC,EAEvC,OAAQJ,GACN,KAAK,EACCF,EAAY,MACdC,EAAYD,GAEd,MACF,KAAK,EACHG,EAAaxE,EAAI3sC,EAAI,GACO,MAAV,IAAbmxC,KACHG,GAA6B,GAAZN,IAAqB,EAAoB,GAAbG,EACzCG,EAAgB,MAClBL,EAAYK,IAGhB,MACF,KAAK,EACHH,EAAaxE,EAAI3sC,EAAI,GACrBoxC,EAAYzE,EAAI3sC,EAAI,GACQ,MAAV,IAAbmxC,IAAsD,MAAV,IAAZC,KACnCE,GAA6B,GAAZN,IAAoB,IAAoB,GAAbG,IAAsB,EAAmB,GAAZC,EACrEE,EAAgB,OAAUA,EAAgB,OAAUA,EAAgB,SACtEL,EAAYK,IAGhB,MACF,KAAK,EACHH,EAAaxE,EAAI3sC,EAAI,GACrBoxC,EAAYzE,EAAI3sC,EAAI,GACpBqxC,EAAa1E,EAAI3sC,EAAI,GACO,MAAV,IAAbmxC,IAAsD,MAAV,IAAZC,IAAsD,MAAV,IAAbC,KAClEC,GAA6B,GAAZN,IAAoB,IAAqB,GAAbG,IAAsB,IAAmB,GAAZC,IAAqB,EAAoB,GAAbC,EAClGC,EAAgB,OAAUA,EAAgB,UAC5CL,EAAYK,I,CAMJ,OAAdL,GAGFA,EAAY,MACZC,EAAmB,GACVD,EAAY,QAErBA,GAAa,MACbF,EAAI9wC,KAAKgxC,IAAc,GAAK,KAAQ,OACpCA,EAAY,MAAqB,KAAZA,GAGvBF,EAAI9wC,KAAKgxC,GACTjxC,GAAKkxC,C,CAGP,OAQF,SAAgCK,GAC9B,MAAMlyC,EAAMkyC,EAAW74C,OACvB,GAAI2G,GAAOmyC,GACT,OAAOtsC,OAAO8tB,aAAa9yB,MAAMgF,OAAQqsC,GAI3C,IAAIR,EAAM,GACN/wC,EAAI,EACR,KAAOA,EAAIX,GACT0xC,GAAO7rC,OAAO8tB,aAAa9yB,MACzBgF,OACAqsC,EAAWluC,MAAMrD,EAAGA,GAAKwxC,KAG7B,OAAOT,C,CAvBAU,CAAsBV,E,CA19B/BvE,GAAOkF,oBAUP,WAEE,IACE,MAAMn7C,EAAM,IAAIspC,WAAW,GACrB8R,EAAQ,CAAEC,IAAK,WAAc,OAAO,E,GAG1C,OAFAxvC,OAAOwqC,eAAe+E,EAAO9R,WAAWnpC,WACxC0L,OAAOwqC,eAAer2C,EAAKo7C,GACN,KAAdp7C,EAAIq7C,K,CACX,MAAOnzC,GACP,OAAO,C,EAnBkBozC,GAExBrF,GAAOkF,qBAA0C,oBAAZtsC,SACb,mBAAlBA,QAAQ8B,OACjB9B,QAAQ8B,MACN,iJAkBJ9E,OAAOqE,eAAe+lC,GAAO91C,UAAW,SAAU,CAChDgQ,YAAY,EACZC,IAAK,WACH,GAAK6lC,GAAO2B,SAASh4C,MACrB,OAAOA,KAAK8wC,M,IAIhB7kC,OAAOqE,eAAe+lC,GAAO91C,UAAW,SAAU,CAChDgQ,YAAY,EACZC,IAAK,WACH,GAAK6lC,GAAO2B,SAASh4C,MACrB,OAAOA,KAAKy3C,U,IAqChBpB,GAAOsF,SAAW,KA8DlBtF,GAAO0B,KAAO,SAAUxrC,EAAOmqC,EAAkBn0C,GAC/C,OAAOq0C,GAAKrqC,EAAOmqC,EAAkBn0C,E,EAKvC0J,OAAOwqC,eAAeJ,GAAO91C,UAAWmpC,WAAWnpC,WACnD0L,OAAOwqC,eAAeJ,GAAQ3M,YA8B9B2M,GAAOuF,MAAQ,SAAUrD,EAAMn9B,EAAM07B,GACnC,OArBF,SAAgByB,EAAMn9B,EAAM07B,GAE1B,OADAwB,GAAWC,GACPA,GAAQ,EACHhC,GAAagC,QAET9qC,IAAT2N,EAIyB,iBAAb07B,EACVP,GAAagC,GAAMn9B,KAAKA,EAAM07B,GAC9BP,GAAagC,GAAMn9B,KAAKA,GAEvBm7B,GAAagC,E,CAQbsD,CAAMtD,EAAMn9B,EAAM07B,E,EAW3BT,GAAOyF,YAAc,SAAUvD,GAC7B,OAAO5B,GAAY4B,E,EAKrBlC,GAAO0F,gBAAkB,SAAUxD,GACjC,OAAO5B,GAAY4B,E,EA8GrBlC,GAAO2B,SAAW,SAAmBnnB,GACnC,OAAY,MAALA,IAA6B,IAAhBA,EAAEmrB,WACpBnrB,IAAMwlB,GAAO91C,S,EAGjB81C,GAAO4F,QAAU,SAAkBp5B,EAAGgO,GAGpC,GAFI0mB,GAAW10B,EAAG6mB,cAAa7mB,EAAIwzB,GAAO0B,KAAKl1B,EAAGA,EAAE2yB,OAAQ3yB,EAAE60B,aAC1DH,GAAW1mB,EAAG6Y,cAAa7Y,EAAIwlB,GAAO0B,KAAKlnB,EAAGA,EAAE2kB,OAAQ3kB,EAAE6mB,cACzDrB,GAAO2B,SAASn1B,KAAOwzB,GAAO2B,SAASnnB,GAC1C,MAAM,IAAI9iB,UACR,yEAIJ,GAAI8U,IAAMgO,EAAG,OAAO,EAEpB,IAAI/wB,EAAI+iB,EAAEtgB,OACNxC,EAAI8wB,EAAEtuB,OAEV,IAAK,IAAIsH,EAAI,EAAGX,EAAMtG,KAAKO,IAAIrD,EAAGC,GAAI8J,EAAIX,IAAOW,EAC/C,GAAIgZ,EAAEhZ,KAAOgnB,EAAEhnB,GAAI,CACjB/J,EAAI+iB,EAAEhZ,GACN9J,EAAI8wB,EAAEhnB,GACN,K,CAIJ,OAAI/J,EAAIC,GAAU,EACdA,EAAID,EAAU,EACX,C,EAGTu2C,GAAOU,WAAa,SAAqBD,GACvC,OAAQ/nC,OAAO+nC,GAAU/sB,eACvB,IAAK,MACL,IAAK,OACL,IAAK,QACL,IAAK,QACL,IAAK,SACL,IAAK,SACL,IAAK,SACL,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,WACH,OAAO,EACT,QACE,OAAO,E,EAIbssB,GAAOttC,OAAS,SAAiBoI,EAAM5O,GACrC,IAAKoH,MAAMwuC,QAAQhnC,GACjB,MAAM,IAAIpD,UAAU,+CAGtB,GAAoB,IAAhBoD,EAAK5O,OACP,OAAO8zC,GAAOuF,MAAM,GAGtB,IAAI/xC,EACJ,QAAe4D,IAAXlL,EAEF,IADAA,EAAS,EACJsH,EAAI,EAAGA,EAAIsH,EAAK5O,SAAUsH,EAC7BtH,GAAU4O,EAAKtH,GAAGtH,OAItB,MAAMuuC,EAASuF,GAAOyF,YAAYv5C,GAClC,IAAI25C,EAAM,EACV,IAAKryC,EAAI,EAAGA,EAAIsH,EAAK5O,SAAUsH,EAAG,CAChC,IAAI2sC,EAAMrlC,EAAKtH,GACf,GAAI0tC,GAAWf,EAAK9M,YACdwS,EAAM1F,EAAIj0C,OAASuuC,EAAOvuC,QACvB8zC,GAAO2B,SAASxB,KAAMA,EAAMH,GAAO0B,KAAKvB,IAC7CA,EAAIvyC,KAAK6sC,EAAQoL,IAEjBxS,WAAWnpC,UAAUkQ,IAAIlI,KACvBuoC,EACA0F,EACA0F,OAGC,KAAK7F,GAAO2B,SAASxB,GAC1B,MAAM,IAAIzoC,UAAU,+CAEpByoC,EAAIvyC,KAAK6sC,EAAQoL,EAAI,CAEvBA,GAAO1F,EAAIj0C,M,CAEb,OAAOuuC,C,EAkDTuF,GAAOqB,WAAaV,GA8EpBX,GAAO91C,UAAUy7C,WAAY,EAQ7B3F,GAAO91C,UAAU47C,OAAS,WACxB,MAAMjzC,EAAMlJ,KAAKuC,OACjB,GAAI2G,EAAM,GAAM,EACd,MAAM,IAAIwH,WAAW,6CAEvB,IAAK,IAAI7G,EAAI,EAAGA,EAAIX,EAAKW,GAAK,EAC5BsvC,GAAKn5C,KAAM6J,EAAGA,EAAI,GAEpB,OAAO7J,I,EAGTq2C,GAAO91C,UAAU67C,OAAS,WACxB,MAAMlzC,EAAMlJ,KAAKuC,OACjB,GAAI2G,EAAM,GAAM,EACd,MAAM,IAAIwH,WAAW,6CAEvB,IAAK,IAAI7G,EAAI,EAAGA,EAAIX,EAAKW,GAAK,EAC5BsvC,GAAKn5C,KAAM6J,EAAGA,EAAI,GAClBsvC,GAAKn5C,KAAM6J,EAAI,EAAGA,EAAI,GAExB,OAAO7J,I,EAGTq2C,GAAO91C,UAAU87C,OAAS,WACxB,MAAMnzC,EAAMlJ,KAAKuC,OACjB,GAAI2G,EAAM,GAAM,EACd,MAAM,IAAIwH,WAAW,6CAEvB,IAAK,IAAI7G,EAAI,EAAGA,EAAIX,EAAKW,GAAK,EAC5BsvC,GAAKn5C,KAAM6J,EAAGA,EAAI,GAClBsvC,GAAKn5C,KAAM6J,EAAI,EAAGA,EAAI,GACtBsvC,GAAKn5C,KAAM6J,EAAI,EAAGA,EAAI,GACtBsvC,GAAKn5C,KAAM6J,EAAI,EAAGA,EAAI,GAExB,OAAO7J,I,EAGTq2C,GAAO91C,UAAUmG,SAAW,WAC1B,MAAMnE,EAASvC,KAAKuC,OACpB,OAAe,IAAXA,EAAqB,GACA,IAArBqH,UAAUrH,OAAqBu2C,GAAU94C,KAAM,EAAGuC,GAC/Cq2C,GAAa7uC,MAAM/J,KAAM4J,U,EAGlCysC,GAAO91C,UAAU+7C,eAAiBjG,GAAO91C,UAAUmG,SAEnD2vC,GAAO91C,UAAUg8C,OAAS,SAAiB1rB,GACzC,IAAKwlB,GAAO2B,SAASnnB,GAAI,MAAM,IAAI9iB,UAAU,6BAC7C,OAAI/N,OAAS6wB,GACsB,IAA5BwlB,GAAO4F,QAAQj8C,KAAM6wB,E,EAG9BwlB,GAAO91C,UAAUi8C,QAAU,WACzB,IAAIrC,EAAM,GAIV,OAFAA,EAAMn6C,KAAK0G,SAAS,MAAO,EAxlBD,IAwlBSqgC,QAAO,UAAY,OAAO0V,OACzDz8C,KAAKuC,OAzlBiB,KAylBH43C,GAAO,SACvB,WAAaA,EAAM,G,EAExBhE,KACFE,GAAO91C,UAAU41C,IAAuBE,GAAO91C,UAAUi8C,SAG3DnG,GAAO91C,UAAU07C,QAAU,SAAkBpwC,EAAQgP,EAAOC,EAAK4hC,EAAWC,GAI1E,GAHIpF,GAAW1rC,EAAQ69B,cACrB79B,EAASwqC,GAAO0B,KAAKlsC,EAAQA,EAAO2pC,OAAQ3pC,EAAO6rC,cAEhDrB,GAAO2B,SAASnsC,GACnB,MAAM,IAAIkC,UACR,wFAC2BlC,GAiB/B,QAbc4B,IAAVoN,IACFA,EAAQ,QAEEpN,IAARqN,IACFA,EAAMjP,EAASA,EAAOtJ,OAAS,QAEfkL,IAAdivC,IACFA,EAAY,QAEEjvC,IAAZkvC,IACFA,EAAU38C,KAAKuC,QAGbsY,EAAQ,GAAKC,EAAMjP,EAAOtJ,QAAUm6C,EAAY,GAAKC,EAAU38C,KAAKuC,OACtE,MAAM,IAAImO,WAAW,sBAGvB,GAAIgsC,GAAaC,GAAW9hC,GAASC,EACnC,OAAO,EAET,GAAI4hC,GAAaC,EACf,OAAO,EAET,GAAI9hC,GAASC,EACX,OAAO,EAQT,GAAI9a,OAAS6L,EAAQ,OAAO,EAE5B,IAAI/L,GAJJ68C,KAAa,IADbD,KAAe,GAMX38C,GAPJ+a,KAAS,IADTD,KAAW,GASX,MAAM3R,EAAMtG,KAAKO,IAAIrD,EAAGC,GAElB68C,EAAW58C,KAAKkN,MAAMwvC,EAAWC,GACjCE,EAAahxC,EAAOqB,MAAM2N,EAAOC,GAEvC,IAAK,IAAIjR,EAAI,EAAGA,EAAIX,IAAOW,EACzB,GAAI+yC,EAAS/yC,KAAOgzC,EAAWhzC,GAAI,CACjC/J,EAAI88C,EAAS/yC,GACb9J,EAAI88C,EAAWhzC,GACf,K,CAIJ,OAAI/J,EAAIC,GAAU,EACdA,EAAID,EAAU,EACX,C,EA4HTu2C,GAAO91C,UAAUu8C,SAAW,SAAmB98B,EAAKy3B,EAAYX,GAC9D,OAAmD,IAA5C92C,KAAKsoB,QAAQtI,EAAKy3B,EAAYX,E,EAGvCT,GAAO91C,UAAU+nB,QAAU,SAAkBtI,EAAKy3B,EAAYX,GAC5D,OAAOsC,GAAqBp5C,KAAMggB,EAAKy3B,EAAYX,GAAU,E,EAG/DT,GAAO91C,UAAU+4C,YAAc,SAAsBt5B,EAAKy3B,EAAYX,GACpE,OAAOsC,GAAqBp5C,KAAMggB,EAAKy3B,EAAYX,GAAU,E,EA6C/DT,GAAO91C,UAAU22C,MAAQ,SAAgBL,EAAQrB,EAAQjzC,EAAQu0C,GAE/D,QAAerpC,IAAX+nC,EACFsB,EAAW,OACXv0C,EAASvC,KAAKuC,OACdizC,EAAS,OAEJ,QAAe/nC,IAAXlL,GAA0C,iBAAXizC,EACxCsB,EAAWtB,EACXjzC,EAASvC,KAAKuC,OACdizC,EAAS,MAEJ,KAAIuH,SAASvH,GAUlB,MAAM,IAAIvtC,MACR,2EAVFutC,KAAoB,EAChBuH,SAASx6C,IACXA,KAAoB,OACHkL,IAAbqpC,IAAwBA,EAAW,UAEvCA,EAAWv0C,EACXA,OAASkL,EAKV,CAGH,MAAMosC,EAAY75C,KAAKuC,OAASizC,EAGhC,SAFe/nC,IAAXlL,GAAwBA,EAASs3C,KAAWt3C,EAASs3C,GAErDhD,EAAQt0C,OAAS,IAAMA,EAAS,GAAKizC,EAAS,IAAOA,EAASx1C,KAAKuC,OACrE,MAAM,IAAImO,WAAW,0CAGlBomC,IAAUA,EAAW,QAE1B,IAAI2B,GAAc,EAClB,OACE,OAAQ3B,GACN,IAAK,MACH,OAAO8C,GAAS55C,KAAM62C,EAAQrB,EAAQjzC,GAExC,IAAK,OACL,IAAK,QACH,OAAOy3C,GAAUh6C,KAAM62C,EAAQrB,EAAQjzC,GAEzC,IAAK,QACL,IAAK,SACL,IAAK,SACH,OAAO23C,GAAWl6C,KAAM62C,EAAQrB,EAAQjzC,GAE1C,IAAK,SAEH,OAAO+3C,GAAYt6C,KAAM62C,EAAQrB,EAAQjzC,GAE3C,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,WACH,OAAOg4C,GAAUv6C,KAAM62C,EAAQrB,EAAQjzC,GAEzC,QACE,GAAIk2C,EAAa,MAAM,IAAI1qC,UAAU,qBAAuB+oC,GAC5DA,GAAY,GAAKA,GAAU/sB,cAC3B0uB,GAAc,E,EAKtBpC,GAAO91C,UAAUy8C,OAAS,WACxB,MAAO,CACL5uC,KAAM,SACNmE,KAAM5I,MAAMpJ,UAAU2M,MAAM3E,KAAKvI,KAAKi9C,MAAQj9C,KAAM,G,EA2FxD,MAAMq7C,GAAuB,KAoB7B,SAAStC,GAAYvC,EAAK37B,EAAOC,GAC/B,IAAIjL,EAAM,GACViL,EAAMlY,KAAKO,IAAIqzC,EAAIj0C,OAAQuY,GAE3B,IAAK,IAAIjR,EAAIgR,EAAOhR,EAAIiR,IAAOjR,EAC7BgG,GAAOd,OAAO8tB,aAAsB,IAAT2Z,EAAI3sC,IAEjC,OAAOgG,C,CAGT,SAASmpC,GAAaxC,EAAK37B,EAAOC,GAChC,IAAIjL,EAAM,GACViL,EAAMlY,KAAKO,IAAIqzC,EAAIj0C,OAAQuY,GAE3B,IAAK,IAAIjR,EAAIgR,EAAOhR,EAAIiR,IAAOjR,EAC7BgG,GAAOd,OAAO8tB,aAAa2Z,EAAI3sC,IAEjC,OAAOgG,C,CAGT,SAASgpC,GAAUrC,EAAK37B,EAAOC,GAC7B,MAAM5R,EAAMstC,EAAIj0C,SAEXsY,GAASA,EAAQ,KAAGA,EAAQ,KAC5BC,GAAOA,EAAM,GAAKA,EAAM5R,KAAK4R,EAAM5R,GAExC,IAAIyc,EAAM,GACV,IAAK,IAAI9b,EAAIgR,EAAOhR,EAAIiR,IAAOjR,EAC7B8b,GAAOu3B,GAAoB1G,EAAI3sC,IAEjC,OAAO8b,C,CAGT,SAASuzB,GAAc1C,EAAK37B,EAAOC,GACjC,MAAMqiC,EAAQ3G,EAAItpC,MAAM2N,EAAOC,GAC/B,IAAI8/B,EAAM,GAEV,IAAK,IAAI/wC,EAAI,EAAGA,EAAIszC,EAAM56C,OAAS,EAAGsH,GAAK,EACzC+wC,GAAO7rC,OAAO8tB,aAAasgB,EAAMtzC,GAAqB,IAAfszC,EAAMtzC,EAAI,IAEnD,OAAO+wC,C,CAkCT,SAASwC,GAAa5H,EAAQ6H,EAAK96C,GACjC,GAAIizC,EAAU,GAAO,GAAKA,EAAS,EAAG,MAAM,IAAI9kC,WAAW,sBAC3D,GAAI8kC,EAAS6H,EAAM96C,EAAQ,MAAM,IAAImO,WAAW,wC,CA0QlD,SAAS4sC,GAAU9G,EAAKjqC,EAAOipC,EAAQ6H,EAAK36C,EAAKS,GAC/C,IAAKkzC,GAAO2B,SAASxB,GAAM,MAAM,IAAIzoC,UAAU,+CAC/C,GAAIxB,EAAQ7J,GAAO6J,EAAQpJ,EAAK,MAAM,IAAIuN,WAAW,qCACrD,GAAI8kC,EAAS6H,EAAM7G,EAAIj0C,OAAQ,MAAM,IAAImO,WAAW,qB,CAgGtD,SAAS6sC,GAAgB/G,EAAKjqC,EAAOipC,EAAQryC,EAAKT,GAChD86C,GAAWjxC,EAAOpJ,EAAKT,EAAK8zC,EAAKhB,EAAQ,GAEzC,IAAIkF,EAAKruC,OAAOE,EAAQkxC,OAAO,aAC/BjH,EAAIhB,KAAYkF,EAChBA,IAAW,EACXlE,EAAIhB,KAAYkF,EAChBA,IAAW,EACXlE,EAAIhB,KAAYkF,EAChBA,IAAW,EACXlE,EAAIhB,KAAYkF,EAChB,IAAID,EAAKpuC,OAAOE,GAASkxC,OAAO,IAAMA,OAAO,aAQ7C,OAPAjH,EAAIhB,KAAYiF,EAChBA,IAAW,EACXjE,EAAIhB,KAAYiF,EAChBA,IAAW,EACXjE,EAAIhB,KAAYiF,EAChBA,IAAW,EACXjE,EAAIhB,KAAYiF,EACTjF,C,CAGT,SAASkI,GAAgBlH,EAAKjqC,EAAOipC,EAAQryC,EAAKT,GAChD86C,GAAWjxC,EAAOpJ,EAAKT,EAAK8zC,EAAKhB,EAAQ,GAEzC,IAAIkF,EAAKruC,OAAOE,EAAQkxC,OAAO,aAC/BjH,EAAIhB,EAAS,GAAKkF,EAClBA,IAAW,EACXlE,EAAIhB,EAAS,GAAKkF,EAClBA,IAAW,EACXlE,EAAIhB,EAAS,GAAKkF,EAClBA,IAAW,EACXlE,EAAIhB,EAAS,GAAKkF,EAClB,IAAID,EAAKpuC,OAAOE,GAASkxC,OAAO,IAAMA,OAAO,aAQ7C,OAPAjH,EAAIhB,EAAS,GAAKiF,EAClBA,IAAW,EACXjE,EAAIhB,EAAS,GAAKiF,EAClBA,IAAW,EACXjE,EAAIhB,EAAS,GAAKiF,EAClBA,IAAW,EACXjE,EAAIhB,GAAUiF,EACPjF,EAAS,C,CAmHlB,SAASmI,GAAcnH,EAAKjqC,EAAOipC,EAAQ6H,EAAK36C,EAAKS,GACnD,GAAIqyC,EAAS6H,EAAM7G,EAAIj0C,OAAQ,MAAM,IAAImO,WAAW,sBACpD,GAAI8kC,EAAS,EAAG,MAAM,IAAI9kC,WAAW,qB,CAGvC,SAASktC,GAAYpH,EAAKjqC,EAAOipC,EAAQqI,EAAcC,GAOrD,OANAvxC,GAASA,EACTipC,KAAoB,EACfsI,GACHH,GAAanH,EAAKjqC,EAAOipC,EAAQ,GAEnCL,EAAcqB,EAAKjqC,EAAOipC,EAAQqI,EAAc,GAAI,GAC7CrI,EAAS,C,CAWlB,SAASuI,GAAavH,EAAKjqC,EAAOipC,EAAQqI,EAAcC,GAOtD,OANAvxC,GAASA,EACTipC,KAAoB,EACfsI,GACHH,GAAanH,EAAKjqC,EAAOipC,EAAQ,GAEnCL,EAAcqB,EAAKjqC,EAAOipC,EAAQqI,EAAc,GAAI,GAC7CrI,EAAS,C,CAxkBlBa,GAAO91C,UAAU2M,MAAQ,SAAgB2N,EAAOC,GAC9C,MAAM5R,EAAMlJ,KAAKuC,QACjBsY,IAAUA,GAGE,GACVA,GAAS3R,GACG,IAAG2R,EAAQ,GACdA,EAAQ3R,IACjB2R,EAAQ3R,IANV4R,OAAcrN,IAARqN,EAAoB5R,IAAQ4R,GASxB,GACRA,GAAO5R,GACG,IAAG4R,EAAM,GACVA,EAAM5R,IACf4R,EAAM5R,GAGJ4R,EAAMD,IAAOC,EAAMD,GAEvB,MAAMmjC,EAASh+C,KAAKi+C,SAASpjC,EAAOC,GAIpC,OAFA7O,OAAOwqC,eAAeuH,EAAQ3H,GAAO91C,WAE9By9C,C,EAWT3H,GAAO91C,UAAU29C,WACjB7H,GAAO91C,UAAU49C,WAAa,SAAqB3I,EAAQkC,EAAYoG,GACrEtI,KAAoB,EACpBkC,KAA4B,EACvBoG,GAAUV,GAAY5H,EAAQkC,EAAY13C,KAAKuC,QAEpD,IAAIyd,EAAMhgB,KAAKw1C,GACX4I,EAAM,EACNv0C,EAAI,EACR,OAASA,EAAI6tC,IAAe0G,GAAO,MACjCp+B,GAAOhgB,KAAKw1C,EAAS3rC,GAAKu0C,EAG5B,OAAOp+B,C,EAGTq2B,GAAO91C,UAAU89C,WACjBhI,GAAO91C,UAAU+9C,WAAa,SAAqB9I,EAAQkC,EAAYoG,GACrEtI,KAAoB,EACpBkC,KAA4B,EACvBoG,GACHV,GAAY5H,EAAQkC,EAAY13C,KAAKuC,QAGvC,IAAIyd,EAAMhgB,KAAKw1C,IAAWkC,GACtB0G,EAAM,EACV,KAAO1G,EAAa,IAAM0G,GAAO,MAC/Bp+B,GAAOhgB,KAAKw1C,IAAWkC,GAAc0G,EAGvC,OAAOp+B,C,EAGTq2B,GAAO91C,UAAUg+C,UACjBlI,GAAO91C,UAAUi+C,UAAY,SAAoBhJ,EAAQsI,GAGvD,OAFAtI,KAAoB,EACfsI,GAAUV,GAAY5H,EAAQ,EAAGx1C,KAAKuC,QACpCvC,KAAKw1C,E,EAGda,GAAO91C,UAAUk+C,aACjBpI,GAAO91C,UAAUm+C,aAAe,SAAuBlJ,EAAQsI,GAG7D,OAFAtI,KAAoB,EACfsI,GAAUV,GAAY5H,EAAQ,EAAGx1C,KAAKuC,QACpCvC,KAAKw1C,GAAWx1C,KAAKw1C,EAAS,IAAM,C,EAG7Ca,GAAO91C,UAAUo+C,aACjBtI,GAAO91C,UAAUm5C,aAAe,SAAuBlE,EAAQsI,GAG7D,OAFAtI,KAAoB,EACfsI,GAAUV,GAAY5H,EAAQ,EAAGx1C,KAAKuC,QACpCvC,KAAMw1C,IAAW,EAAKx1C,KAAKw1C,EAAS,E,EAG7Ca,GAAO91C,UAAUq+C,aACjBvI,GAAO91C,UAAUs+C,aAAe,SAAuBrJ,EAAQsI,GAI7D,OAHAtI,KAAoB,EACfsI,GAAUV,GAAY5H,EAAQ,EAAGx1C,KAAKuC,SAEnCvC,KAAMw1C,GACTx1C,KAAKw1C,EAAS,IAAM,EACpBx1C,KAAKw1C,EAAS,IAAM,IACD,SAAnBx1C,KAAKw1C,EAAS,E,EAGrBa,GAAO91C,UAAUu+C,aACjBzI,GAAO91C,UAAUw+C,aAAe,SAAuBvJ,EAAQsI,GAI7D,OAHAtI,KAAoB,EACfsI,GAAUV,GAAY5H,EAAQ,EAAGx1C,KAAKuC,QAEpB,SAAhBvC,KAAMw1C,IACVx1C,KAAMw1C,EAAS,IAAM,GACrBx1C,KAAKw1C,EAAS,IAAM,EACrBx1C,KAAKw1C,EAAS,G,EAGlBa,GAAO91C,UAAUy+C,gBAAkBC,IAAmB,SAA0BzJ,GAE9E0J,GADA1J,KAAoB,EACG,UACvB,MAAM2J,EAAQn/C,KAAKw1C,GACbtP,EAAOlmC,KAAKw1C,EAAS,QACb/nC,IAAV0xC,QAAgC1xC,IAATy4B,GACzBkZ,GAAY5J,EAAQx1C,KAAKuC,OAAS,GAGpC,MAAMm4C,EAAKyE,EACQ,IAAjBn/C,OAAOw1C,GACU,MAAjBx1C,OAAOw1C,GACPx1C,OAAOw1C,GAAU,GAAK,GAElBiF,EAAKz6C,OAAOw1C,GACC,IAAjBx1C,OAAOw1C,GACU,MAAjBx1C,OAAOw1C,GACPtP,EAAO,GAAK,GAEd,OAAOuX,OAAO/C,IAAO+C,OAAOhD,IAAOgD,OAAO,I,IAG5CpH,GAAO91C,UAAU8+C,gBAAkBJ,IAAmB,SAA0BzJ,GAE9E0J,GADA1J,KAAoB,EACG,UACvB,MAAM2J,EAAQn/C,KAAKw1C,GACbtP,EAAOlmC,KAAKw1C,EAAS,QACb/nC,IAAV0xC,QAAgC1xC,IAATy4B,GACzBkZ,GAAY5J,EAAQx1C,KAAKuC,OAAS,GAGpC,MAAMk4C,EAAK0E,EAAQ,GAAK,GACL,MAAjBn/C,OAAOw1C,GACU,IAAjBx1C,OAAOw1C,GACPx1C,OAAOw1C,GAEHkF,EAAK16C,OAAOw1C,GAAU,GAAK,GACd,MAAjBx1C,OAAOw1C,GACU,IAAjBx1C,OAAOw1C,GACPtP,EAEF,OAAQuX,OAAOhD,IAAOgD,OAAO,KAAOA,OAAO/C,E,IAG7CrE,GAAO91C,UAAU++C,UAAY,SAAoB9J,EAAQkC,EAAYoG,GACnEtI,KAAoB,EACpBkC,KAA4B,EACvBoG,GAAUV,GAAY5H,EAAQkC,EAAY13C,KAAKuC,QAEpD,IAAIyd,EAAMhgB,KAAKw1C,GACX4I,EAAM,EACNv0C,EAAI,EACR,OAASA,EAAI6tC,IAAe0G,GAAO,MACjCp+B,GAAOhgB,KAAKw1C,EAAS3rC,GAAKu0C,EAM5B,OAJAA,GAAO,IAEHp+B,GAAOo+B,IAAKp+B,GAAOpd,KAAKytB,IAAI,EAAG,EAAIqnB,IAEhC13B,C,EAGTq2B,GAAO91C,UAAUg/C,UAAY,SAAoB/J,EAAQkC,EAAYoG,GACnEtI,KAAoB,EACpBkC,KAA4B,EACvBoG,GAAUV,GAAY5H,EAAQkC,EAAY13C,KAAKuC,QAEpD,IAAIsH,EAAI6tC,EACJ0G,EAAM,EACNp+B,EAAMhgB,KAAKw1C,IAAW3rC,GAC1B,KAAOA,EAAI,IAAMu0C,GAAO,MACtBp+B,GAAOhgB,KAAKw1C,IAAW3rC,GAAKu0C,EAM9B,OAJAA,GAAO,IAEHp+B,GAAOo+B,IAAKp+B,GAAOpd,KAAKytB,IAAI,EAAG,EAAIqnB,IAEhC13B,C,EAGTq2B,GAAO91C,UAAUi/C,SAAW,SAAmBhK,EAAQsI,GAGrD,OAFAtI,KAAoB,EACfsI,GAAUV,GAAY5H,EAAQ,EAAGx1C,KAAKuC,QACtB,IAAfvC,KAAKw1C,IACyB,GAA3B,IAAOx1C,KAAKw1C,GAAU,GADKx1C,KAAKw1C,E,EAI3Ca,GAAO91C,UAAUk/C,YAAc,SAAsBjK,EAAQsI,GAC3DtI,KAAoB,EACfsI,GAAUV,GAAY5H,EAAQ,EAAGx1C,KAAKuC,QAC3C,MAAMyd,EAAMhgB,KAAKw1C,GAAWx1C,KAAKw1C,EAAS,IAAM,EAChD,OAAc,MAAPx1B,EAAuB,WAANA,EAAmBA,C,EAG7Cq2B,GAAO91C,UAAUm/C,YAAc,SAAsBlK,EAAQsI,GAC3DtI,KAAoB,EACfsI,GAAUV,GAAY5H,EAAQ,EAAGx1C,KAAKuC,QAC3C,MAAMyd,EAAMhgB,KAAKw1C,EAAS,GAAMx1C,KAAKw1C,IAAW,EAChD,OAAc,MAAPx1B,EAAuB,WAANA,EAAmBA,C,EAG7Cq2B,GAAO91C,UAAUo/C,YAAc,SAAsBnK,EAAQsI,GAI3D,OAHAtI,KAAoB,EACfsI,GAAUV,GAAY5H,EAAQ,EAAGx1C,KAAKuC,QAEpCvC,KAAMw1C,GACVx1C,KAAKw1C,EAAS,IAAM,EACpBx1C,KAAKw1C,EAAS,IAAM,GACpBx1C,KAAKw1C,EAAS,IAAM,E,EAGzBa,GAAO91C,UAAUq/C,YAAc,SAAsBpK,EAAQsI,GAI3D,OAHAtI,KAAoB,EACfsI,GAAUV,GAAY5H,EAAQ,EAAGx1C,KAAKuC,QAEpCvC,KAAMw1C,IAAW,GACrBx1C,KAAKw1C,EAAS,IAAM,GACpBx1C,KAAKw1C,EAAS,IAAM,EACpBx1C,KAAKw1C,EAAS,E,EAGnBa,GAAO91C,UAAUs/C,eAAiBZ,IAAmB,SAAyBzJ,GAE5E0J,GADA1J,KAAoB,EACG,UACvB,MAAM2J,EAAQn/C,KAAKw1C,GACbtP,EAAOlmC,KAAKw1C,EAAS,QACb/nC,IAAV0xC,QAAgC1xC,IAATy4B,GACzBkZ,GAAY5J,EAAQx1C,KAAKuC,OAAS,GAGpC,MAAMyd,EAAMhgB,KAAKw1C,EAAS,GACL,IAAnBx1C,KAAKw1C,EAAS,GACK,MAAnBx1C,KAAKw1C,EAAS,IACbtP,GAAQ,IAEX,OAAQuX,OAAOz9B,IAAQy9B,OAAO,KAC5BA,OAAO0B,EACU,IAAjBn/C,OAAOw1C,GACU,MAAjBx1C,OAAOw1C,GACPx1C,OAAOw1C,GAAU,GAAK,G,IAG1Ba,GAAO91C,UAAUu/C,eAAiBb,IAAmB,SAAyBzJ,GAE5E0J,GADA1J,KAAoB,EACG,UACvB,MAAM2J,EAAQn/C,KAAKw1C,GACbtP,EAAOlmC,KAAKw1C,EAAS,QACb/nC,IAAV0xC,QAAgC1xC,IAATy4B,GACzBkZ,GAAY5J,EAAQx1C,KAAKuC,OAAS,GAGpC,MAAMyd,GAAOm/B,GAAS,IACH,MAAjBn/C,OAAOw1C,GACU,IAAjBx1C,OAAOw1C,GACPx1C,OAAOw1C,GAET,OAAQiI,OAAOz9B,IAAQy9B,OAAO,KAC5BA,OAAOz9C,OAAOw1C,GAAU,GAAK,GACZ,MAAjBx1C,OAAOw1C,GACU,IAAjBx1C,OAAOw1C,GACPtP,E,IAGJmQ,GAAO91C,UAAUw/C,YAAc,SAAsBvK,EAAQsI,GAG3D,OAFAtI,KAAoB,EACfsI,GAAUV,GAAY5H,EAAQ,EAAGx1C,KAAKuC,QACpC2yC,EAAal1C,KAAMw1C,GAAQ,EAAM,GAAI,E,EAG9Ca,GAAO91C,UAAUy/C,YAAc,SAAsBxK,EAAQsI,GAG3D,OAFAtI,KAAoB,EACfsI,GAAUV,GAAY5H,EAAQ,EAAGx1C,KAAKuC,QACpC2yC,EAAal1C,KAAMw1C,GAAQ,EAAO,GAAI,E,EAG/Ca,GAAO91C,UAAU0/C,aAAe,SAAuBzK,EAAQsI,GAG7D,OAFAtI,KAAoB,EACfsI,GAAUV,GAAY5H,EAAQ,EAAGx1C,KAAKuC,QACpC2yC,EAAal1C,KAAMw1C,GAAQ,EAAM,GAAI,E,EAG9Ca,GAAO91C,UAAU2/C,aAAe,SAAuB1K,EAAQsI,GAG7D,OAFAtI,KAAoB,EACfsI,GAAUV,GAAY5H,EAAQ,EAAGx1C,KAAKuC,QACpC2yC,EAAal1C,KAAMw1C,GAAQ,EAAO,GAAI,E,EAS/Ca,GAAO91C,UAAU4/C,YACjB9J,GAAO91C,UAAU6/C,YAAc,SAAsB7zC,EAAOipC,EAAQkC,EAAYoG,GAI9E,GAHAvxC,GAASA,EACTipC,KAAoB,EACpBkC,KAA4B,GACvBoG,EAAU,CAEbR,GAASt9C,KAAMuM,EAAOipC,EAAQkC,EADb90C,KAAKytB,IAAI,EAAG,EAAIqnB,GAAc,EACK,E,CAGtD,IAAI0G,EAAM,EACNv0C,EAAI,EAER,IADA7J,KAAKw1C,GAAkB,IAARjpC,IACN1C,EAAI6tC,IAAe0G,GAAO,MACjCp+C,KAAKw1C,EAAS3rC,GAAK0C,EAAS6xC,EAAO,IAGrC,OAAO5I,EAASkC,C,EAGlBrB,GAAO91C,UAAU8/C,YACjBhK,GAAO91C,UAAU+/C,YAAc,SAAsB/zC,EAAOipC,EAAQkC,EAAYoG,GAI9E,GAHAvxC,GAASA,EACTipC,KAAoB,EACpBkC,KAA4B,GACvBoG,EAAU,CAEbR,GAASt9C,KAAMuM,EAAOipC,EAAQkC,EADb90C,KAAKytB,IAAI,EAAG,EAAIqnB,GAAc,EACK,E,CAGtD,IAAI7tC,EAAI6tC,EAAa,EACjB0G,EAAM,EAEV,IADAp+C,KAAKw1C,EAAS3rC,GAAa,IAAR0C,IACV1C,GAAK,IAAMu0C,GAAO,MACzBp+C,KAAKw1C,EAAS3rC,GAAK0C,EAAS6xC,EAAO,IAGrC,OAAO5I,EAASkC,C,EAGlBrB,GAAO91C,UAAUggD,WACjBlK,GAAO91C,UAAUigD,WAAa,SAAqBj0C,EAAOipC,EAAQsI,GAKhE,OAJAvxC,GAASA,EACTipC,KAAoB,EACfsI,GAAUR,GAASt9C,KAAMuM,EAAOipC,EAAQ,EAAG,IAAM,GACtDx1C,KAAKw1C,GAAmB,IAARjpC,EACTipC,EAAS,C,EAGlBa,GAAO91C,UAAUkgD,cACjBpK,GAAO91C,UAAUmgD,cAAgB,SAAwBn0C,EAAOipC,EAAQsI,GAMtE,OALAvxC,GAASA,EACTipC,KAAoB,EACfsI,GAAUR,GAASt9C,KAAMuM,EAAOipC,EAAQ,EAAG,MAAQ,GACxDx1C,KAAKw1C,GAAmB,IAARjpC,EAChBvM,KAAKw1C,EAAS,GAAMjpC,IAAU,EACvBipC,EAAS,C,EAGlBa,GAAO91C,UAAUogD,cACjBtK,GAAO91C,UAAUqgD,cAAgB,SAAwBr0C,EAAOipC,EAAQsI,GAMtE,OALAvxC,GAASA,EACTipC,KAAoB,EACfsI,GAAUR,GAASt9C,KAAMuM,EAAOipC,EAAQ,EAAG,MAAQ,GACxDx1C,KAAKw1C,GAAWjpC,IAAU,EAC1BvM,KAAKw1C,EAAS,GAAc,IAARjpC,EACbipC,EAAS,C,EAGlBa,GAAO91C,UAAUsgD,cACjBxK,GAAO91C,UAAUugD,cAAgB,SAAwBv0C,EAAOipC,EAAQsI,GAQtE,OAPAvxC,GAASA,EACTipC,KAAoB,EACfsI,GAAUR,GAASt9C,KAAMuM,EAAOipC,EAAQ,EAAG,WAAY,GAC5Dx1C,KAAKw1C,EAAS,GAAMjpC,IAAU,GAC9BvM,KAAKw1C,EAAS,GAAMjpC,IAAU,GAC9BvM,KAAKw1C,EAAS,GAAMjpC,IAAU,EAC9BvM,KAAKw1C,GAAmB,IAARjpC,EACTipC,EAAS,C,EAGlBa,GAAO91C,UAAUwgD,cACjB1K,GAAO91C,UAAUygD,cAAgB,SAAwBz0C,EAAOipC,EAAQsI,GAQtE,OAPAvxC,GAASA,EACTipC,KAAoB,EACfsI,GAAUR,GAASt9C,KAAMuM,EAAOipC,EAAQ,EAAG,WAAY,GAC5Dx1C,KAAKw1C,GAAWjpC,IAAU,GAC1BvM,KAAKw1C,EAAS,GAAMjpC,IAAU,GAC9BvM,KAAKw1C,EAAS,GAAMjpC,IAAU,EAC9BvM,KAAKw1C,EAAS,GAAc,IAARjpC,EACbipC,EAAS,C,EA+ClBa,GAAO91C,UAAU0gD,iBAAmBhC,IAAmB,SAA2B1yC,EAAOipC,EAAS,GAChG,OAAO+H,GAAev9C,KAAMuM,EAAOipC,EAAQiI,OAAO,GAAIA,OAAO,sB,IAG/DpH,GAAO91C,UAAU2gD,iBAAmBjC,IAAmB,SAA2B1yC,EAAOipC,EAAS,GAChG,OAAOkI,GAAe19C,KAAMuM,EAAOipC,EAAQiI,OAAO,GAAIA,OAAO,sB,IAG/DpH,GAAO91C,UAAU4gD,WAAa,SAAqB50C,EAAOipC,EAAQkC,EAAYoG,GAG5E,GAFAvxC,GAASA,EACTipC,KAAoB,GACfsI,EAAU,CACb,MAAMr7C,EAAQG,KAAKytB,IAAI,EAAG,EAAKqnB,EAAc,GAE7C4F,GAASt9C,KAAMuM,EAAOipC,EAAQkC,EAAYj1C,EAAQ,GAAIA,E,CAGxD,IAAIoH,EAAI,EACJu0C,EAAM,EACNgD,EAAM,EAEV,IADAphD,KAAKw1C,GAAkB,IAARjpC,IACN1C,EAAI6tC,IAAe0G,GAAO,MAC7B7xC,EAAQ,GAAa,IAAR60C,GAAsC,IAAzBphD,KAAKw1C,EAAS3rC,EAAI,KAC9Cu3C,EAAM,GAERphD,KAAKw1C,EAAS3rC,IAAM0C,EAAS6xC,GAAQ,GAAKgD,EAAM,IAGlD,OAAO5L,EAASkC,C,EAGlBrB,GAAO91C,UAAU8gD,WAAa,SAAqB90C,EAAOipC,EAAQkC,EAAYoG,GAG5E,GAFAvxC,GAASA,EACTipC,KAAoB,GACfsI,EAAU,CACb,MAAMr7C,EAAQG,KAAKytB,IAAI,EAAG,EAAKqnB,EAAc,GAE7C4F,GAASt9C,KAAMuM,EAAOipC,EAAQkC,EAAYj1C,EAAQ,GAAIA,E,CAGxD,IAAIoH,EAAI6tC,EAAa,EACjB0G,EAAM,EACNgD,EAAM,EAEV,IADAphD,KAAKw1C,EAAS3rC,GAAa,IAAR0C,IACV1C,GAAK,IAAMu0C,GAAO,MACrB7xC,EAAQ,GAAa,IAAR60C,GAAsC,IAAzBphD,KAAKw1C,EAAS3rC,EAAI,KAC9Cu3C,EAAM,GAERphD,KAAKw1C,EAAS3rC,IAAM0C,EAAS6xC,GAAQ,GAAKgD,EAAM,IAGlD,OAAO5L,EAASkC,C,EAGlBrB,GAAO91C,UAAU+gD,UAAY,SAAoB/0C,EAAOipC,EAAQsI,GAM9D,OALAvxC,GAASA,EACTipC,KAAoB,EACfsI,GAAUR,GAASt9C,KAAMuM,EAAOipC,EAAQ,EAAG,KAAM,KAClDjpC,EAAQ,IAAGA,EAAQ,IAAOA,EAAQ,GACtCvM,KAAKw1C,GAAmB,IAARjpC,EACTipC,EAAS,C,EAGlBa,GAAO91C,UAAUghD,aAAe,SAAuBh1C,EAAOipC,EAAQsI,GAMpE,OALAvxC,GAASA,EACTipC,KAAoB,EACfsI,GAAUR,GAASt9C,KAAMuM,EAAOipC,EAAQ,EAAG,OAAQ,OACxDx1C,KAAKw1C,GAAmB,IAARjpC,EAChBvM,KAAKw1C,EAAS,GAAMjpC,IAAU,EACvBipC,EAAS,C,EAGlBa,GAAO91C,UAAUihD,aAAe,SAAuBj1C,EAAOipC,EAAQsI,GAMpE,OALAvxC,GAASA,EACTipC,KAAoB,EACfsI,GAAUR,GAASt9C,KAAMuM,EAAOipC,EAAQ,EAAG,OAAQ,OACxDx1C,KAAKw1C,GAAWjpC,IAAU,EAC1BvM,KAAKw1C,EAAS,GAAc,IAARjpC,EACbipC,EAAS,C,EAGlBa,GAAO91C,UAAUkhD,aAAe,SAAuBl1C,EAAOipC,EAAQsI,GAQpE,OAPAvxC,GAASA,EACTipC,KAAoB,EACfsI,GAAUR,GAASt9C,KAAMuM,EAAOipC,EAAQ,EAAG,YAAY,YAC5Dx1C,KAAKw1C,GAAmB,IAARjpC,EAChBvM,KAAKw1C,EAAS,GAAMjpC,IAAU,EAC9BvM,KAAKw1C,EAAS,GAAMjpC,IAAU,GAC9BvM,KAAKw1C,EAAS,GAAMjpC,IAAU,GACvBipC,EAAS,C,EAGlBa,GAAO91C,UAAUmhD,aAAe,SAAuBn1C,EAAOipC,EAAQsI,GASpE,OARAvxC,GAASA,EACTipC,KAAoB,EACfsI,GAAUR,GAASt9C,KAAMuM,EAAOipC,EAAQ,EAAG,YAAY,YACxDjpC,EAAQ,IAAGA,EAAQ,WAAaA,EAAQ,GAC5CvM,KAAKw1C,GAAWjpC,IAAU,GAC1BvM,KAAKw1C,EAAS,GAAMjpC,IAAU,GAC9BvM,KAAKw1C,EAAS,GAAMjpC,IAAU,EAC9BvM,KAAKw1C,EAAS,GAAc,IAARjpC,EACbipC,EAAS,C,EAGlBa,GAAO91C,UAAUohD,gBAAkB1C,IAAmB,SAA0B1yC,EAAOipC,EAAS,GAC9F,OAAO+H,GAAev9C,KAAMuM,EAAOipC,GAASiI,OAAO,sBAAuBA,OAAO,sB,IAGnFpH,GAAO91C,UAAUqhD,gBAAkB3C,IAAmB,SAA0B1yC,EAAOipC,EAAS,GAC9F,OAAOkI,GAAe19C,KAAMuM,EAAOipC,GAASiI,OAAO,sBAAuBA,OAAO,sB,IAkBnFpH,GAAO91C,UAAUshD,aAAe,SAAuBt1C,EAAOipC,EAAQsI,GACpE,OAAOF,GAAW59C,KAAMuM,EAAOipC,GAAQ,EAAMsI,E,EAG/CzH,GAAO91C,UAAUuhD,aAAe,SAAuBv1C,EAAOipC,EAAQsI,GACpE,OAAOF,GAAW59C,KAAMuM,EAAOipC,GAAQ,EAAOsI,E,EAahDzH,GAAO91C,UAAUwhD,cAAgB,SAAwBx1C,EAAOipC,EAAQsI,GACtE,OAAOC,GAAY/9C,KAAMuM,EAAOipC,GAAQ,EAAMsI,E,EAGhDzH,GAAO91C,UAAUyhD,cAAgB,SAAwBz1C,EAAOipC,EAAQsI,GACtE,OAAOC,GAAY/9C,KAAMuM,EAAOipC,GAAQ,EAAOsI,E,EAIjDzH,GAAO91C,UAAU0D,KAAO,SAAe4H,EAAQo2C,EAAapnC,EAAOC,GACjE,IAAKu7B,GAAO2B,SAASnsC,GAAS,MAAM,IAAIkC,UAAU,+BAQlD,GAPK8M,IAAOA,EAAQ,GACfC,GAAe,IAARA,IAAWA,EAAM9a,KAAKuC,QAC9B0/C,GAAep2C,EAAOtJ,SAAQ0/C,EAAcp2C,EAAOtJ,QAClD0/C,IAAaA,EAAc,GAC5BnnC,EAAM,GAAKA,EAAMD,IAAOC,EAAMD,GAG9BC,IAAQD,EAAO,OAAO,EAC1B,GAAsB,IAAlBhP,EAAOtJ,QAAgC,IAAhBvC,KAAKuC,OAAc,OAAO,EAGrD,GAAI0/C,EAAc,EAChB,MAAM,IAAIvxC,WAAW,6BAEvB,GAAImK,EAAQ,GAAKA,GAAS7a,KAAKuC,OAAQ,MAAM,IAAImO,WAAW,sBAC5D,GAAIoK,EAAM,EAAG,MAAM,IAAIpK,WAAW,2BAG9BoK,EAAM9a,KAAKuC,SAAQuY,EAAM9a,KAAKuC,QAC9BsJ,EAAOtJ,OAAS0/C,EAAcnnC,EAAMD,IACtCC,EAAMjP,EAAOtJ,OAAS0/C,EAAcpnC,GAGtC,MAAM3R,EAAM4R,EAAMD,EAalB,OAXI7a,OAAS6L,GAAqD,mBAApC69B,WAAWnpC,UAAU2hD,WAEjDliD,KAAKkiD,WAAWD,EAAapnC,EAAOC,GAEpC4uB,WAAWnpC,UAAUkQ,IAAIlI,KACvBsD,EACA7L,KAAKi+C,SAASpjC,EAAOC,GACrBmnC,GAIG/4C,C,EAOTmtC,GAAO91C,UAAU6a,KAAO,SAAe4E,EAAKnF,EAAOC,EAAKg8B,GAEtD,GAAmB,iBAAR92B,EAAkB,CAS3B,GARqB,iBAAVnF,GACTi8B,EAAWj8B,EACXA,EAAQ,EACRC,EAAM9a,KAAKuC,QACa,iBAARuY,IAChBg8B,EAAWh8B,EACXA,EAAM9a,KAAKuC,aAEIkL,IAAbqpC,GAA8C,iBAAbA,EACnC,MAAM,IAAI/oC,UAAU,6BAEtB,GAAwB,iBAAb+oC,IAA0BT,GAAOU,WAAWD,GACrD,MAAM,IAAI/oC,UAAU,qBAAuB+oC,GAE7C,GAAmB,IAAf92B,EAAIzd,OAAc,CACpB,MAAMulC,EAAO9nB,EAAIsR,WAAW,IACV,SAAdwlB,GAAwBhP,EAAO,KAClB,WAAbgP,KAEF92B,EAAM8nB,E,MAGc,iBAAR9nB,EAChBA,GAAY,IACY,kBAARA,IAChBA,EAAM3T,OAAO2T,IAIf,GAAInF,EAAQ,GAAK7a,KAAKuC,OAASsY,GAAS7a,KAAKuC,OAASuY,EACpD,MAAM,IAAIpK,WAAW,sBAGvB,GAAIoK,GAAOD,EACT,OAAO7a,KAQT,IAAI6J,EACJ,GANAgR,KAAkB,EAClBC,OAAcrN,IAARqN,EAAoB9a,KAAKuC,OAASuY,IAAQ,EAE3CkF,IAAKA,EAAM,GAGG,iBAARA,EACT,IAAKnW,EAAIgR,EAAOhR,EAAIiR,IAAOjR,EACzB7J,KAAK6J,GAAKmW,MAEP,CACL,MAAMm9B,EAAQ9G,GAAO2B,SAASh4B,GAC1BA,EACAq2B,GAAO0B,KAAK/3B,EAAK82B,GACf5tC,EAAMi0C,EAAM56C,OAClB,GAAY,IAAR2G,EACF,MAAM,IAAI6E,UAAU,cAAgBiS,EAClC,qCAEJ,IAAKnW,EAAI,EAAGA,EAAIiR,EAAMD,IAAShR,EAC7B7J,KAAK6J,EAAIgR,GAASsiC,EAAMtzC,EAAIX,E,CAIhC,OAAOlJ,I,EAOT,MAAMmiD,GAAS,GACf,SAASC,GAAGC,EAAKC,EAAYC,GAC3BJ,GAAOE,GAAO,cAAwBE,EACpCpwC,cACEE,QAEApG,OAAOqE,eAAetQ,KAAM,UAAW,CACrCuM,MAAO+1C,EAAWv4C,MAAM/J,KAAM4J,WAC9B44C,UAAU,EACVC,cAAc,IAIhBziD,KAAK+K,KAAO,GAAG/K,KAAK+K,SAASs3C,KAG7BriD,KAAK0iD,aAEE1iD,KAAK+K,I,CAGV+8B,WACF,OAAOua,C,CAGLva,SAAMv7B,GACRN,OAAOqE,eAAetQ,KAAM,OAAQ,CAClCyiD,cAAc,EACdlyC,YAAY,E,MACZhE,EACAi2C,UAAU,G,CAId97C,WACE,MAAO,GAAG1G,KAAK+K,SAASs3C,OAASriD,KAAKiR,S,GAkC5C,SAAS0xC,GAAuB3iC,GAC9B,IAAI46B,EAAM,GACN/wC,EAAImW,EAAIzd,OACZ,MAAMsY,EAAmB,MAAXmF,EAAI,GAAa,EAAI,EACnC,KAAOnW,GAAKgR,EAAQ,EAAGhR,GAAK,EAC1B+wC,EAAM,IAAI56B,EAAI9S,MAAMrD,EAAI,EAAGA,KAAK+wC,IAElC,MAAO,GAAG56B,EAAI9S,MAAM,EAAGrD,KAAK+wC,G,CAa9B,SAAS4C,GAAYjxC,EAAOpJ,EAAKT,EAAK8zC,EAAKhB,EAAQkC,GACjD,GAAInrC,EAAQ7J,GAAO6J,EAAQpJ,EAAK,CAC9B,MAAM8M,EAAmB,iBAAR9M,EAAmB,IAAM,GAC1C,IAAIy/C,EAWJ,MARIA,EAFAlL,EAAa,EACH,IAARv0C,GAAaA,IAAQs6C,OAAO,GACtB,OAAOxtC,YAAYA,QAA2B,GAAlBynC,EAAa,KAASznC,IAElD,SAASA,QAA2B,GAAlBynC,EAAa,GAAS,IAAIznC,iBACtB,GAAlBynC,EAAa,GAAS,IAAIznC,IAGhC,MAAM9M,IAAM8M,YAAYvN,IAAMuN,IAElC,IAAIkyC,GAAOU,iBAAiB,QAASD,EAAOr2C,E,EArBtD,SAAsBiqC,EAAKhB,EAAQkC,GACjCwH,GAAe1J,EAAQ,eACH/nC,IAAhB+oC,EAAIhB,SAAsD/nC,IAA7B+oC,EAAIhB,EAASkC,IAC5C0H,GAAY5J,EAAQgB,EAAIj0C,QAAUm1C,EAAa,G,CAoBjDoL,CAAYtM,EAAKhB,EAAQkC,E,CAG3B,SAASwH,GAAgB3yC,EAAOxB,GAC9B,GAAqB,iBAAVwB,EACT,MAAM,IAAI41C,GAAOY,qBAAqBh4C,EAAM,SAAUwB,E,CAI1D,SAAS6yC,GAAa7yC,EAAOhK,EAAQ6L,GACnC,GAAIxL,KAAKmE,MAAMwF,KAAWA,EAExB,MADA2yC,GAAe3yC,EAAO6B,GAChB,IAAI+zC,GAAOU,iBAAiBz0C,GAAQ,SAAU,aAAc7B,GAGpE,GAAIhK,EAAS,EACX,MAAM,IAAI4/C,GAAOa,yBAGnB,MAAM,IAAIb,GAAOU,iBAAiBz0C,GAAQ,SACR,MAAMA,EAAO,EAAI,YAAY7L,IAC7BgK,E,CAtFpC61C,GAAE,4BACA,SAAUr3C,GACR,OAAIA,EACK,GAAGA,gCAGL,gD,GACN2F,YACL0xC,GAAE,wBACA,SAAUr3C,EAAMksC,GACd,MAAO,QAAQlsC,4DAA+DksC,G,GAC7ElpC,WACLq0C,GAAE,oBACA,SAAUjI,EAAKyI,EAAOj2B,GACpB,IAAI1J,EAAM,iBAAiBk3B,sBACvB8I,EAAWt2B,EAWf,OAVItgB,OAAO62C,UAAUv2B,IAAU/pB,KAAKC,IAAI8pB,GAAS,GAAK,GACpDs2B,EAAWN,GAAsB5zC,OAAO4d,IACd,iBAAVA,IAChBs2B,EAAWl0C,OAAO4d,IACdA,EAAQ8wB,OAAO,IAAMA,OAAO,KAAO9wB,IAAU8wB,OAAO,IAAMA,OAAO,QACnEwF,EAAWN,GAAsBM,IAEnCA,GAAY,KAEdhgC,GAAO,eAAe2/B,eAAmBK,IAClChgC,C,GACNvS,YAiEL,MAAMyyC,GAAiB,oBAgBvB,SAASzK,GAAa7B,EAAQ2D,GAE5B,IAAIM,EADJN,EAAQA,GAAS3jC,IAEjB,MAAMtU,EAASs0C,EAAOt0C,OACtB,IAAI6gD,EAAgB,KACpB,MAAMjG,EAAQ,GAEd,IAAK,IAAItzC,EAAI,EAAGA,EAAItH,IAAUsH,EAAG,CAI/B,GAHAixC,EAAYjE,EAAOvlB,WAAWznB,GAG1BixC,EAAY,OAAUA,EAAY,MAAQ,CAE5C,IAAKsI,EAAe,CAElB,GAAItI,EAAY,MAAQ,EAEjBN,GAAS,IAAK,GAAI2C,EAAMrzC,KAAK,IAAM,IAAM,KAC9C,Q,CACK,GAAID,EAAI,IAAMtH,EAAQ,EAEtBi4C,GAAS,IAAK,GAAI2C,EAAMrzC,KAAK,IAAM,IAAM,KAC9C,Q,CAIFs5C,EAAgBtI,EAEhB,Q,CAIF,GAAIA,EAAY,MAAQ,EACjBN,GAAS,IAAK,GAAI2C,EAAMrzC,KAAK,IAAM,IAAM,KAC9Cs5C,EAAgBtI,EAChB,Q,CAIFA,EAAkE,OAArDsI,EAAgB,OAAU,GAAKtI,EAAY,M,MAC/CsI,IAEJ5I,GAAS,IAAK,GAAI2C,EAAMrzC,KAAK,IAAM,IAAM,KAMhD,GAHAs5C,EAAgB,KAGZtI,EAAY,IAAM,CACpB,IAAKN,GAAS,GAAK,EAAG,MACtB2C,EAAMrzC,KAAKgxC,E,MACN,GAAIA,EAAY,KAAO,CAC5B,IAAKN,GAAS,GAAK,EAAG,MACtB2C,EAAMrzC,KACJgxC,GAAa,EAAM,IACP,GAAZA,EAAmB,I,MAEhB,GAAIA,EAAY,MAAS,CAC9B,IAAKN,GAAS,GAAK,EAAG,MACtB2C,EAAMrzC,KACJgxC,GAAa,GAAM,IACnBA,GAAa,EAAM,GAAO,IACd,GAAZA,EAAmB,I,KAEhB,MAAIA,EAAY,SASrB,MAAM,IAAI7yC,MAAM,sBARhB,IAAKuyC,GAAS,GAAK,EAAG,MACtB2C,EAAMrzC,KACJgxC,GAAa,GAAO,IACpBA,GAAa,GAAM,GAAO,IAC1BA,GAAa,EAAM,GAAO,IACd,GAAZA,EAAmB,IAGgB,C,CAIzC,OAAOqC,C,CA4BT,SAASxE,GAAewB,GACtB,OAAOpG,EAxHT,SAAsBoG,GAMpB,IAFAA,GAFAA,EAAMA,EAAI5yC,MAAM,KAAK,IAEXk1C,OAAO1V,QAAQoc,GAAmB,KAEpC5gD,OAAS,EAAG,MAAO,GAE3B,KAAO43C,EAAI53C,OAAS,GAAM,GACxB43C,GAAY,IAEd,OAAOA,C,CA6GmBkJ,CAAYlJ,G,CAGxC,SAASF,GAAYxN,EAAK6W,EAAK9N,EAAQjzC,GACrC,IAAIsH,EACJ,IAAKA,EAAI,EAAGA,EAAItH,KACVsH,EAAK2rC,GAAU8N,EAAI/gD,QAAYsH,GAAK4iC,EAAIlqC,UADpBsH,EAExBy5C,EAAIz5C,EAAI2rC,GAAU/I,EAAI5iC,GAExB,OAAOA,C,CAMT,SAAS0tC,GAAYj3C,EAAK8N,GACxB,OAAO9N,aAAe8N,GACZ,MAAP9N,GAAkC,MAAnBA,EAAI6R,aAA+C,MAAxB7R,EAAI6R,YAAYpH,MACzDzK,EAAI6R,YAAYpH,OAASqD,EAAKrD,I,CAEpC,SAASmtC,GAAa53C,GAEpB,OAAOA,GAAQA,C,CAKjB,MAAM48C,GAAsB,WAC1B,MAAMqG,EAAW,mBACXC,EAAQ,IAAI75C,MAAM,KACxB,IAAK,IAAIE,EAAI,EAAGA,EAAI,KAAMA,EAAG,CAC3B,MAAM45C,EAAU,GAAJ55C,EACZ,IAAK,IAAImT,EAAI,EAAGA,EAAI,KAAMA,EACxBwmC,EAAMC,EAAMzmC,GAAKumC,EAAS15C,GAAK05C,EAASvmC,E,CAG5C,OAAOwmC,C,CATmB,GAa5B,SAASvE,GAAoByE,GAC3B,MAAyB,oBAAXjG,OAAyBkG,GAAyBD,C,CAGlE,SAASC,KACP,MAAM,IAAI17C,MAAM,uB,UGrjEd27C,EAQK,SAAS/2B,GAGhB,IAAIA,EAAI/G,KAAK+9B,IAAb,CAEA,IAAIC,EAAO,QAEPpmC,EAAOmP,EAAIyB,IAAIzV,IAsGnBgrC,EAAIz5C,QAAU,WAAa,OAAO05C,C,EAElCD,EAAItjD,UAAY,GAChBsjD,EAAItjD,UAAU4R,YAAc0xC,EAC5BA,EAAItjD,UAAU0D,KAAO,WACnB,IAAIy4B,EAAM,IAAImnB,EACdnnB,EAAItuB,KAAOpO,KAAKoO,KAChBsuB,EAAIqnB,KAAO/jD,KAAK+jD,KAChBrnB,EAAIsnB,IAAMhkD,KAAKgkD,IACftnB,EAAIunB,IAAMjkD,KAAKikD,IACfvnB,EAAIwnB,IAAMlkD,KAAKkkD,IACfxnB,EAAIynB,KAAOnkD,KAAKmkD,KAChB,IAAK,IAAIt6C,EAAI,EAAGA,EAAI7J,KAAKuC,OAAQsH,IAAK6yB,EAAI5yB,KAAK9J,KAAK6J,GAAG5F,QACvD,OAAOy4B,C,EASTmnB,EAAItjD,UAAU6jD,UAAY,SAAS55C,EAAKyY,EAAK1Q,GACtCvS,KAAKqkD,QAAOrkD,KAAKqkD,MAAQ,IAC9BrkD,KAAKqkD,MAAMv6C,KAAKw6C,EAAO95C,EAAKyY,EAAK1Q,G,EAEnCsxC,EAAItjD,UAAUgkD,KAAO,SAASx5B,GAC5B,IAAIvgB,EAAM,EACY,QAAlBugB,EAAE+a,OAAO,EAAG,IAAkC,YAAlB/a,EAAE+a,OAAO,EAAG,KAC1C9lC,KAAKkkD,KAAM,EACX15C,EAAM,GACNugB,EAAIA,EAAE+a,OAAO,GAAI/a,EAAEuG,WAAW,IAAyB,IAAnBvG,EAAEuG,WAAW,IAAiC,MAAnBvG,EAAEuG,WAAW,IAAmC,SAAnBvG,EAAEuG,WAAW,MAE3GtxB,KAAKwkD,QAAQz5B,EAAGvgB,E,EAGlB,IAAIi6C,EAAW,OAAS11C,OAAO8tB,aAAa,GAAK9tB,OAAO8tB,aAAa,GAAK9tB,OAAO8tB,aAAa,GAAK9tB,OAAO8tB,aAAa,GACvHgnB,EAAItjD,UAAUikD,QAAU,SAASz5B,EAAGvgB,GAElC,GADKugB,EAAExoB,QAAQmiD,EAAO,cAClB35B,EAAE+a,OAAO,EAAG,IAAM2e,EAAU,CAC9B,IAAIE,EAAI55B,EAAEzC,QAAQm8B,IACT,GAALE,GACF55B,EAAIA,EAAE+a,OAAO6e,GACb3kD,KAAKokD,UAAU55C,EAAK,2BAA4Bm6C,GAChDn6C,GAAOm6C,GAEJD,EAAO,kB,CAEd1kD,KAAK4kD,KAAOp6C,EACZxK,KAAKoO,KAAyB,GAAlB2c,EAAEuG,WAAW,GAAUvG,EAAEuG,WAAW,GAChDtxB,KAAK6kD,UAAYr6C,EAAM,EACvBxK,KAAKmkD,KAA0B,GAAnBp5B,EAAEuG,WAAW,IAAWvG,EAAEuG,WAAW,IACjDtxB,KAAK8kD,UAAYt6C,EAAM,GACnBugB,EAAEuG,WAAW,IAAM,KACrBtxB,KAAKgkD,IAAM,IAAQj5B,EAAEuG,WAAW,IAChCtxB,KAAKikD,IAAMl5B,EAAEuG,WAAW,IACxBtxB,KAAK+kD,SAAWv6C,EAAM,GACtBxK,KAAKglD,SAAWx6C,EAAM,KAGtBxK,KAAK+jD,KAA0B,IAAnBh5B,EAAEuG,WAAW,IAAYvG,EAAEuG,WAAW,IAClDtxB,KAAKilD,UAAYz6C,EAAM,IAErBxK,KAAKoO,KAAO,EAAGpO,KAAKokD,UAAU,EAAI55C,EAAK,yBAA0BxK,KAAKoO,MACpD,GAAbpO,KAAKoO,MAAapO,KAAKmkD,KAAO,GAAGnkD,KAAKokD,UAAU,GAAK55C,EAAK,kDAAmDxK,KAAKmkD,MACtHnkD,KAAKikD,KAAQjkD,KAAK+jD,MAAMW,EAAO,uBAGpC,IAFA,IAAIz0C,EAAI,EACJ+K,EAAI,GACDA,EAAI+P,EAAExoB,OAAS,GAAG,CACvB,IAAIizC,EAASx6B,EAAIxQ,EACb4D,EAAO2c,EAAE+a,OAAO9qB,EAAG,GACX,QAAR5M,GAAgB6B,IACpB,IAAI/G,GAAO6hB,EAAEuG,WAAWtW,EAAI,IAAM,KAAO+P,EAAEuG,WAAWtW,EAAI,IAAM,KAAO+P,EAAEuG,WAAWtW,EAAI,IAAM,GAAK+P,EAAEuG,WAAWtW,EAAI,GAChH9R,GAAO,IACTA,EAAM6hB,EAAExoB,OAASyY,EAAI,EACrBhb,KAAKokD,UAAUppC,EAAIxQ,EAAM,EAAG,uBAAwBugB,EAAEuG,WAAWtW,EAAI,GAAK,IAAM+P,EAAEuG,WAAWtW,EAAI,GAAK,IAAM+P,EAAEuG,WAAWtW,EAAI,GAAK,IAAM+P,EAAEuG,WAAWtW,EAAI,KAE3JA,GAAK,EACL,IAAIzI,EAAOwY,EAAE+a,OAAO9qB,EAAG9R,GACvBlJ,KAAK8J,KAAK,IAAIo7C,EAAM92C,EAAMmE,EAAMijC,IACpB,QAARpnC,GAAgBpO,KAAKokD,UAAU5O,EAAQ,wBAAyB,QACpEx6B,GAAK9R,C,CAEH+G,GAAKjQ,KAAKmkD,OACZnkD,KAAKokD,UAAU55C,EAAM,GAAI,6BAA8BxK,KAAKmkD,MAC5DnkD,KAAKmkD,KAAOl0C,GAETjQ,KAAKmkD,MAAOO,EAAO,oBACnB1kD,KAAKoO,MAAQpO,KAAKmkD,KAAO,GAAKnkD,KAAKoO,KAAO,KAAIpO,KAAKoO,KAAO,GAC3D4M,EAAI+P,EAAExoB,QAAQvC,KAAKokD,UAAU55C,EAAMwQ,EAAG,4BAA6B+P,EAAExoB,OAASyY,GAC9EA,EAAI+P,EAAExoB,QAAQvC,KAAKokD,UAAU55C,EAAMugB,EAAExoB,OAAQ,kBAAmByY,EAAI+P,EAAExoB,O,EAO5E4iD,EAAK5kD,UAAUmG,SAAW,WACxB,IAAImc,EAAI,GAIR,YAHuB,IAAZ7iB,KAAKwK,KAAoBqY,EAAE/Y,KAAK,UAAY9J,KAAKwK,UACnC,IAAdxK,KAAKolD,OAAsBviC,EAAE/Y,KAAK,SAAW9J,KAAKolD,YACrC,IAAbplD,KAAKqlD,MAAqBxiC,EAAE/Y,KAAK,QAAU9J,KAAKqlD,MACpDxiC,EAAEkL,KAAK,KAAO,OAAS/tB,KAAKijB,IAAM,KAAOjjB,KAAKuS,KAAO,G,EAG9DsxC,EAAItjD,UAAU+kD,OAAS,WAErB,IADA,IAAIprC,EAAI,EACCrQ,EAAI,EAAGA,EAAI7J,KAAKuC,OAAQsH,IAAS7J,KAAK6J,aAAc07C,GAAMrrC,IACnE,OAAOA,C,EAiIT2pC,EAAItjD,UAAU0mB,SAAW,WACvB,IAAIpd,EAAGoT,EAAG0nC,EACN71C,EAAI,GACR,GAAI9O,KAAKqkD,MAAO,IAAKx6C,EAAI,EAAGA,EAAI7J,KAAKqkD,MAAM9hD,OAAQsH,IAAKiF,EAAEhF,KAAKq7C,EAAKnlD,KAAKqkD,MAAMx6C,KAC/E,IAAI27C,EAAKC,EAAMzlD,MAEf,IADAid,EAAI,EACCpT,EAAI,EAAGA,EAAI7J,KAAKuC,OAAQsH,IAAS7J,KAAK6J,aAAc07C,IACvDvlD,KAAK6J,GAAGkgC,UAAUj7B,EAAGmO,GACrBA,KAEF,IAAI2kB,EAAK,GAET,IADA8jB,EAAa52C,EAAG8yB,GACX/3B,EAAI,EAAGA,EAAI27C,EAAGjjD,OAAQsH,KACzB86C,EAAIgB,EAAeH,EAAG37C,GAAiB,GAAb7J,KAAKoO,SAE7Bu2C,EAAES,MAAQI,EAAG37C,GAAGu7C,MAChBt2C,EAAEhF,KAAK66C,IAETiB,EAAc92C,EAAG8yB,EAAI4jB,EAAG37C,IAM1B,GAJA67C,EAAa52C,EAAG8yB,GAChB9yB,EAAE+iB,MAAK,SAAShP,EAAGgO,GACjB,OAAQhO,EAAErY,KAAO,IAAMqmB,EAAErmB,KAAO,KAAOqY,EAAEuiC,OAAS,IAAMv0B,EAAEu0B,OAAS,KAAOviC,EAAEwiC,MAAQ,IAAMx0B,EAAEw0B,MAAQ,E,IAElGv2C,EAAEvM,OAAQ,CACZ,IAAKsH,EAAI,EAAGA,EAAIiF,EAAEvM,OAAQsH,IAAKiF,EAAEjF,GAAKs7C,EAAKr2C,EAAEjF,IAC7C,OAAOiF,C,GAGX+0C,EAAItjD,UAAUslD,KAAO,SAAS3B,GAC5B,IAAIn5B,EAAI,GACR,GAAIm5B,EAEF,MAAO,OAAS4B,GADhB/6B,EAAI/qB,KAAK6lD,QACiBtjD,OAAS,IAAM,WAAaujD,EAAQ/6B,EAAExoB,QAAUwoB,EAE5E/qB,KAAKmkD,KAAO,EACZ,IAAK,IAAIt6C,EAAI,EAAGA,EAAI7J,KAAKuC,OAAQsH,IAC3B7J,KAAK6J,aAAc07C,GAAMvlD,KAAKmkD,OAClCp5B,GAAK/qB,KAAK6J,GAAGg8C,OAIf,OAFA96B,GAAK/qB,KAAK+jD,KAAOgC,EAAM/lD,KAAK+jD,MAAQh1C,OAAO8tB,aAAa,IAAQ78B,KAAKgkD,KAAOj1C,OAAO8tB,aAAa78B,KAAKikD,MAAQl5B,EAC7GA,EAAI05B,EAAW11C,OAAO8tB,aAAa,GAAK9tB,OAAO8tB,aAAa78B,KAAKoO,MAAQ23C,EAAM/lD,KAAKmkD,MAAQp5B,C,EAG9F84B,EAAItjD,UAAUylD,SAAW,SAAS9B,GAChC,OAAO+B,GAAOlO,KAAK/3C,KAAK6lD,KAAK3B,GAAM,S,EAErCL,EAAItjD,UAAU2lD,aAAe,SAAShC,GAIpC,IAHA,IAAI/J,EAAMn6C,KAAK6lD,KAAK3B,GAChB1N,EAAM,IAAIY,YAAY+C,EAAI53C,QAC1BnC,EAAM,IAAIspC,WAAW8M,GAChB3sC,EAAI,EAAGA,EAAIswC,EAAI53C,OAAQsH,IAAKzJ,EAAIyJ,GAAKswC,EAAI7oB,WAAWznB,GAC7D,OAAOzJ,C,EAETyjD,EAAItjD,UAAU4lD,cAAgB,SAASjC,GACrC,OAAOlkD,KAAKkmD,aAAahC,GAAKpT,M,EAEhC+S,EAAItjD,UAAU6lD,YAAc,SAASlC,GACnC,OAAO,IAAImC,UAAUrmD,KAAKmmD,cAAcjC,G,EAE1CL,EAAItjD,UAAUmG,SAAW,WACvB,IAAImD,EAEJ,IADA7J,KAAKmkD,KAAO,EACPt6C,EAAI,EAAGA,EAAI7J,KAAKuC,OAAQsH,IAAS7J,KAAK6J,aAAc07C,GAAMvlD,KAAKmkD,OACpE,IAAIthC,EAAI,CAAC,OAAQ,WAAa7iB,KAAKoO,MAInC,IAHIpO,KAAK+jD,KAAMlhC,EAAE/Y,KAAK,WAAa9J,KAAK+jD,MACnClhC,EAAE/Y,KAAK,UAAY9J,KAAKgkD,IAAK,UAAYhkD,KAAKikD,KACnDphC,EAAE/Y,KAAK,aAAe9J,KAAKmkD,MACtBt6C,EAAI,EAAGA,EAAI7J,KAAKuC,OAAQsH,IAC3BgZ,EAAE/Y,KAAK9J,KAAK6J,GAAGnD,YAEjB,OAAOmc,EAAEkL,KAAK,K,EAmEhB81B,EAAItjD,UAAU+lD,SAAW,WAGvB,IAFA,IAAId,EAAKC,EAAMzlD,MACXumD,EAAO15B,EAAIiW,UACNj5B,EAAI,EAAGA,EAAI27C,EAAGjjD,OAAQsH,IACzB27C,EAAG37C,GAAG67B,MAAK8f,EAAG37C,GAAG67B,SAAMj4B,GAC3B84C,EAAKxjB,MAAMyiB,EAAG37C,IAEhB,OAAO7J,I,EAGT6jD,EAAItjD,UAAUimD,OAAS,WACrB,IAII38C,EACAvB,EALAm+C,EAAK,IAAIC,EACbD,EAAG1C,KAAO/jD,KAAK+jD,KACf0C,EAAGzC,IAAMhkD,KAAKgkD,IACdyC,EAAGxC,IAAMjkD,KAAKikD,IAGd,IAAIuB,EAAKC,EAAMzlD,MACf,GAAiB,GAAbA,KAAKoO,KAAW,CAClB,IAAIu4C,EAAK,EACLr4C,EAAI,EACJ4L,EAAI,EACR,IAAKrQ,EAAI,EAAGA,EAAI27C,EAAGjjD,OAAQsH,IAErB88C,IADJr+C,EAAIukB,EAAI/G,KAAK0/B,EAAG37C,KACJu7C,QACVuB,EAAKr+C,EAAE88C,MACP92C,EAAI4L,GAENA,EAAI5R,EAAEs+C,GAAKt4C,EACXhG,EAAEs+C,GAAK1sC,EACPusC,EAAGI,MAAM/8C,KAAKxB,E,MAIhB,IAAKuB,EAAI,EAAGA,EAAI27C,EAAGjjD,OAAQsH,IACzBvB,EAAIukB,EAAI/G,KAAK0/B,EAAG37C,IAChB48C,EAAGI,MAAM/8C,KAAKxB,GAMlB,OAHAm+C,EAAGjlC,MAAQxhB,KAAKoO,KAChBq4C,EAAGK,QAAU9mD,KAAKslD,SAClBmB,EAAGM,UACIN,C,EAeT5C,EAAIqB,MAAQA,EACZA,EAAM3kD,UAAY,GAClB2kD,EAAM3kD,UAAU4R,YAAc+yC,EAC9BA,EAAM3kD,UAAU0D,KAAO,WAAa,OAAO,IAAIihD,EAAMllD,KAAKoO,KAAMpO,KAAKuS,K,EAErE2yC,EAAM3kD,UAAU6gD,IAAM,CACpBmE,KAAQ,SAASrrC,EAAGe,EAAGzQ,GAAO,OAAO,IAAI+6C,EAAKtqC,EAAGzQ,E,GAEnD06C,EAAM3kD,UAAUslD,KAAO,WACrB,OAAO7lD,KAAKoO,KAAO44C,EAAMhnD,KAAKuS,KAAKhQ,QAAUvC,KAAKuS,I,EAEpD2yC,EAAM3kD,UAAUmG,SAAW,WACzB,OAAO1G,KAAKoO,KAAO,KAAOpO,KAAKuS,KAAKhQ,OAAS,Q,EA2F/CshD,EAAI0B,KAAOA,EAEXA,EAAKhlD,UAAY,GACjBglD,EAAKhlD,UAAU4R,YAAcozC,EAC7BA,EAAKhlD,UAAU6N,KAAO,OACtBm3C,EAAKhlD,UAAU0D,KAAO,WACpB,IAAIgjD,EAAM,IAAI1B,EACd0B,EAAI1kD,OAAS,EACb,IAAK,IAAIsH,EAAI,EAAGA,EAAI7J,KAAKuC,OAAQsH,IAAKo9C,EAAIn9C,KAAK,IAAI+iB,EAAI/G,KAAK9lB,KAAK6J,KACjE,OAAOo9C,C,EAoET1B,EAAKhlD,UAAUwpC,UAAY,SAASj7B,EAAGmO,GACrC,IAAIpT,EAAG86C,EACP,GAAI3kD,KAAKqkD,MAAO,IAAKx6C,EAAI,EAAGA,EAAI7J,KAAKqkD,MAAM9hD,OAAQsH,KACjD86C,EAAIQ,EAAKnlD,KAAKqkD,MAAMx6C,KAClBu7C,MAAQnoC,EACVnO,EAAEhF,KAAK66C,E,EAGXY,EAAKhlD,UAAU6jD,UAAY,SAAS55C,EAAKyY,EAAK1Q,EAAM8yC,GAC7CrlD,KAAKqkD,QAAOrkD,KAAKqkD,MAAQ,IAC9BrkD,KAAKqkD,MAAMv6C,KAAKw6C,EAAO95C,EAAKyY,EAAK1Q,EAAM8yC,G,EAEzCE,EAAKhlD,UAAUslD,KAAO,WACpB,IAGIh8C,EAAGmT,EAHH+N,EAAI,GACJ7Q,EAAI,EACJ5L,EAAI,GAER,IAAKzE,EAAI,EAAGA,EAAI7J,KAAKuC,OAAQsH,IAG3B,GAFAkhB,GAAKm8B,EAAKlnD,KAAK6J,GAAG+8C,GAAK1sC,GACvBA,EAAIla,KAAK6J,GAAG+8C,QACa,IAAd5mD,KAAK6J,GAAG2yB,GACjBzR,GAAK,IACLA,GAAKhc,OAAO8tB,aAAa78B,KAAK6J,GAAG0yB,IACjCxR,GAAKm8B,EAAKlnD,KAAK6J,GAAG2yB,GAAGj6B,QACrBwoB,GAAK/qB,KAAK6J,GAAG2yB,QAEV,GAAkB,KAAdx8B,KAAK6J,GAAG,IAA4B,KAAd7J,KAAK6J,GAAG,GAGrC,IAFAkhB,GAAKhc,OAAO8tB,aAAa78B,KAAK6J,GAAG,IACjCkhB,GAAKm8B,EAAKlnD,KAAK6J,GAAGtH,OAAS,GACtBya,EAAI,EAAGA,EAAIhd,KAAK6J,GAAGtH,OAAQya,IAAK+N,GAAKhc,OAAO8tB,aAAa78B,KAAK6J,GAAGmT,SAOtE,IAJIhd,KAAK6J,GAAG,IAAMyE,IAChBA,EAAItO,KAAK6J,GAAG,GACZkhB,GAAKhc,OAAO8tB,aAAa78B,KAAK6J,GAAG,KAE9BmT,EAAI,EAAGA,EAAIhd,KAAK6J,GAAGtH,OAAQya,IAAK+N,GAAKhc,OAAO8tB,aAAa78B,KAAK6J,GAAGmT,IAG1E,MAAO,OAASgqC,EAAMj8B,EAAExoB,QAAUwoB,C,EAEpCw6B,EAAKhlD,UAAUmG,SAAW,WAExB,IADA,IAAImc,EAAI,CAAC,SACAhZ,EAAI,EAAGA,EAAI7J,KAAKuC,OAAQsH,IAC/BgZ,EAAE/Y,KAAK9J,KAAK6J,GAAG+8C,GAAK,KAAO5mD,KAAK6J,GAAGnD,YAErC,OAAOmc,EAAEkL,KAAK,O,EAGhBw3B,EAAKhlD,UAAUI,IAAM,SAASuZ,EAAG+I,GAM/B,GALA/I,EAAIkK,SAASlK,IACV5N,MAAM4N,IAAMA,EAAI,IAAGwqC,EAAO,sBAC7BzhC,EAAM4J,EAAI/G,KAAK7C,IACX2jC,GAAK1sC,EACLla,KAAKA,KAAKge,MAAMzb,OAAS,GAAGqkD,GAAK1sC,IAAGla,KAAKA,KAAKge,MAAMzb,OAAS,GAAGqkD,GAAK1sC,GAC3D,IAAV+I,EAAIsZ,IAActZ,EAAI,GAAK,KAAkB,KAAVA,EAAI,GAAY,OAAOjjB,KAC9D,IAAI6J,EACJ,IAAKA,EAAI,EAAGA,EAAI7J,KAAKge,MAAMzb,OAAS,KAC9BvC,KAAKge,MAAMnU,GAAG+8C,GAAK1sC,GADcrQ,KAIvC,OADA7J,KAAKge,MAAMnB,OAAOhT,EAAG,EAAGoZ,GACjBjjB,I,EAGTulD,EAAKhlD,UAAU0lB,SAAMxY,EACrB83C,EAAKhlD,UAAUmmB,MAAQ,IACvB6+B,EAAKhlD,UAAU0e,OAAS,WACtB,IAAImB,EAAI,WAAW,EAAIA,EAAE7f,UAAYP,KAAKge,MAC1C,IAAI8I,EAAM,IAAI1G,EAId,OAHA0G,EAAIb,IAAMjmB,KAAKimB,IACfa,EAAIJ,MAAQ1mB,KAAK0mB,MACjBI,EAAIqgC,MAAQnnD,KAAKmnD,MACVrgC,C,EAETy+B,EAAKhlD,UAAUslB,KAAO,SAAS5C,GAAwC,OAAjCjjB,KAAKge,MAAMrd,IAAIX,KAAKmnD,MAAOlkC,GAAajjB,I,EAC9EulD,EAAKhlD,UAAU8kD,KAAO,SAASnrC,GAC7B,GAAIA,GAAKkK,SAASlK,IAAMA,EAAI,EAAG,MAAMxJ,WAAW,mBAAqBwJ,GACrE,IAAKA,EAAG,OAAOla,KACf,IAAI8mB,EAAM9mB,KAAKif,SAEf,OADA6H,EAAIqgC,MAAQnnD,KAAKmnD,MAAQjtC,EAClB4M,C,EAETy+B,EAAKhlD,UAAUqmB,KAAO,SAAShF,GAE7B,QADiB,IAANA,IAAmBA,EAAK2jC,EAAKhlD,UAAUmmB,OAC9C9E,GAAM5hB,KAAK0mB,MAAO,OAAO1mB,KAC7B,GAAI4hB,GAAMwC,SAASxC,IAAOA,EAAK,GAAKA,EAAK,IAAM,MAAMlR,WAAW,mBAAqBkR,GACrF,IAAIkF,EAAM9mB,KAAKif,SAEf,OADA6H,EAAIJ,MAAQ9E,EACLkF,C,EAETy+B,EAAKhlD,UAAUwmB,GAAK,SAAS5C,GAC3B,GAAIA,GAAKnkB,KAAKimB,UAAmB,IAAL9B,QAAuC,IAAZnkB,KAAKimB,IAAoB,OAAOjmB,KACvF,QAAgB,IAALmkB,IACLA,GAAKC,SAASD,IAAMA,EAAI,GAAKA,EAAI,IAAI,MAAMzT,WAAW,sBAAwByT,EAAK,2BAEzF,IAAI2C,EAAM9mB,KAAKif,SAEf,OADA6H,EAAIb,IAAM9B,EACH2C,C,EAETy+B,EAAKhlD,UAAU+T,KAAO,SAAS6P,EAAGlU,EAAG8V,EAAG7L,GAQtC,OAPAla,KAAKgmB,OAAO7B,EAAGlU,EAAG8V,QACK,IAAZ/lB,KAAKimB,IACV/L,EAAI,GAAGla,KAAKqlD,KAAKnrC,GAAGiM,QAAQhC,EAAGlU,GAG/B8V,EAAI,GAAG/lB,KAAKqlD,KAAKt/B,GAAGI,QAAQhC,GAE3BnkB,I,EAET6sB,EAAIyB,IAAI+X,gBAAgBkf,GA8BxBmB,EAAOnmD,UAAU6mD,MAAQ,WAAW,EACpCV,EAAOnmD,UAAUmsC,KAAO,SAASz8B,GAC3BA,GAAKmU,SAASnU,IAAMA,EAAI,EAAGjQ,KAAKqnD,MAAQp3C,EACvCjQ,KAAKqnD,MAAQp3C,GAAI,EAAK,C,EAE7By2C,EAAOnmD,UAAU+mD,KAAO,WACtBtnD,KAAK0S,WAAQjF,EACbzN,KAAKiuC,SAAU,EACfjuC,KAAKunD,QAAS,EACdvnD,KAAKwnD,KAAO,EACZxnD,KAAKynD,KAAO,EACZznD,KAAK0nD,IAAM,EACX1nD,KAAK2nD,IAAMjqC,IACX1d,KAAKqlD,M,EAEPqB,EAAOnmD,UAAU41B,KAAO,WACtBn2B,KAAKynD,KAAO,EACZznD,KAAKiuC,SAAU,EACfjuC,KAAK0S,MAAQ,OACb1S,KAAKunD,YAAS95C,C,EAEhBi5C,EAAOnmD,UAAUqnD,MAAQ,WACvB5nD,KAAK0S,MAAQ,O,EAEfg0C,EAAOnmD,UAAU+iC,OAAS,WACpBtjC,KAAKiuC,UACLjuC,KAAKunD,QACPvnD,KAAK0S,WAAQjF,EACbzN,KAAK2nD,IAAMjqC,IACX1d,KAAKiuC,SAAU,EACfjuC,KAAKunD,QAAS,EACdvnD,KAAKqlD,QAEFrlD,KAAKsnD,O,EAEZZ,EAAOnmD,UAAUsnD,OAAS,WACxB,IAAI1jC,EACJ,IAAKA,EAAI,EAAGA,EAAI,GAAIA,IAAKnkB,KAAK4jB,MAAMiJ,EAAI/G,KAAKqP,YAAYhR,IACzD,IAAKA,EAAI,EAAGA,EAAI,GAAIA,IAAKnkB,KAAK4jB,MAAMiJ,EAAI/G,KAAKsP,oBAAoBjR,G,EAGnEuiC,EAAOnmD,UAAUmlB,QAAUA,EAC3BghC,EAAOnmD,UAAU6U,OAAS,SAASwI,GACjC5d,KAAK0lB,QAAU9H,aAAa7R,SAAW6R,EAAI8H,C,EAG7CghC,EAAOnmD,UAAUojB,SAAW,SAASrb,GACvB,IAARA,EAAEi0B,IAAcv8B,KAAK+jD,OACvB/jD,KAAK8nD,KAAmB,IAAZ9nD,KAAK+jD,KAAgBgE,EAAKz/C,EAAEk0B,IACxCx8B,KAAKo+C,IAAMp+C,KAAK8nD,KAAO9nD,KAAKgoD,OAC5BhoD,KAAK2nD,IAAMjqC,IACX1d,KAAK0nD,IAAM1nD,KAAKynD,MAElBznD,KAAK4jB,MAAMtb,E,EAEbo+C,EAAOnmD,UAAU8kD,KAAO,WACtB,IACI/8C,EADA4R,EAAIwD,IAGR,IADA1d,KAAKynD,KAAOznD,KAAK0nD,KAAOxtC,EAAIla,KAAK2nD,KAAO3nD,KAAKo+C,IACvCp+C,KAAKwnD,KAAOxnD,KAAK6mD,MAAMtkD,WAC3B+F,EAAItI,KAAK6mD,MAAM7mD,KAAKwnD,OACdZ,GAAK5mD,KAAKynD,MAFmBznD,KAAKwnD,OAGxCxnD,KAAK0lB,QAAQpd,GAEXtI,KAAKwnD,MAAQxnD,KAAK6mD,MAAMtkD,SACtBvC,KAAKqnD,QAAuB,GAAdrnD,KAAKqnD,OAAarnD,KAAKqnD,QACrCrnD,KAAKqnD,OACPrnD,KAAKwnD,KAAO,EACZxnD,KAAK0nD,IAAM,EACX1nD,KAAK2nD,IAAMztC,GAERla,KAAKm2B,OACVn2B,KAAKonD,SAEW,QAAdpnD,KAAK0S,QACP1S,KAAKiuC,SAAU,EACfjuC,KAAKunD,QAAS,EACdvnD,KAAKynD,KAAO,EACZznD,KAAKwnD,KAAO,EACZxnD,KAAK6nD,SACL7nD,KAAK0S,WAAQjF,GAEG,SAAdzN,KAAK0S,QACP1S,KAAKiuC,SAAU,EACfjuC,KAAKunD,QAAS,EACVvnD,KAAKynD,MAAQznD,KAAKioD,YAAWjoD,KAAKynD,KAAOznD,KAAKioD,UAAY,GAC9DjoD,KAAK0nD,IAAM1nD,KAAKynD,KAChBznD,KAAK6nD,SACL7nD,KAAK0S,WAAQjF,GAEXzN,KAAKiuC,SAASphB,EAAIyB,IAAI8X,SAASpmC,KAAKmnD,M,EAE1CT,EAAOnmD,UAAUk8C,KAAO,WACtB,IAAI5yC,EAAGmT,EAAG1U,EACNiK,EAAO,GAEX,IADAyK,EAAI,EACCnT,EAAI,EAAGA,EAAI7J,KAAK6mD,MAAMtkD,OAAQsH,IAEjC,IADAvB,EAAItI,KAAK6mD,MAAMh9C,IACTtH,QAAkB,GAAR+F,EAAEi0B,IAAmB,GAARj0B,EAAEi0B,GAC7B,KAAOvf,GAAKnT,EAAGmT,IAAKzK,EAAKzI,KAAK9J,KAAK6mD,MAAM7pC,IAG7C,IAAI2zB,GAAM9mC,EAAI7J,KAAK6mD,MAAMh9C,EAAI,GAAG+8C,GAAK,IAAM5pC,EAAIhd,KAAK6mD,MAAM7pC,EAAI,GAAG4pC,GAAK,GAGtE,OAFA5mD,KAAK6mD,MAAQt0C,EACbvS,KAAK+mD,UACEpW,C,EAET+V,EAAOnmD,UAAUwmD,QAAU,WACzB,IAAIl9C,EAAGyE,EAAG4L,EAAG5R,EAGb,GAFAtI,KAAKioD,UAAYjoD,KAAK6mD,MAAMtkD,OAASvC,KAAK6mD,MAAM7mD,KAAK6mD,MAAMtkD,OAAS,GAAGqkD,GAAK,EAC5E5mD,KAAKkoD,KAAO,GACRloD,KAAK+jD,KAAM,CAMb,IALA/jD,KAAK8nD,KAAO9nD,KAAK+jD,KAAO,IACxBz1C,EAAItO,KAAK8nD,KACT5tC,EAAI,EACJla,KAAKmoD,YAAc,EACnBnoD,KAAKkoD,KAAKp+C,KAAK,CAAEoQ,EAAG,EAAG5L,EAAGA,EAAGs2B,GAAI,IAC5B/6B,EAAI,EAAGA,EAAI7J,KAAK6mD,MAAMtkD,OAAQsH,IAErB,KADZvB,EAAItI,KAAK6mD,MAAMh9C,IACT0yB,KACJv8B,KAAKmoD,cAAgB7/C,EAAEs+C,GAAK1sC,GAAK5L,EACjC4L,EAAI5R,EAAEs+C,GACNt4C,EAAgB,IAAZtO,KAAK+jD,KAAgBgE,EAAKz/C,EAAEk0B,IAChCx8B,KAAKkoD,KAAKp+C,KAAK,CAAEoQ,EAAGA,EAAG5L,EAAGA,EAAGs2B,GAAI5kC,KAAKmoD,eAG1CnoD,KAAKmoD,cAAgBnoD,KAAKioD,UAAY/tC,GAAK5L,C,MAG3CtO,KAAK8nD,KAAO9nD,KAAKgkD,IAAMhkD,KAAKikD,IAAM,IAClCjkD,KAAKkoD,KAAKp+C,KAAK,CAAEoQ,EAAG,EAAG5L,EAAGtO,KAAK8nD,KAAMljB,GAAI,IACzC5kC,KAAKmoD,YAAcnoD,KAAKioD,UAAYjoD,KAAK8nD,KAE3C9nD,KAAKgoD,OAAS,EACdhoD,KAAKo+C,IAAMp+C,KAAK8nD,KAChB9nD,KAAKkoD,KAAKp+C,KAAK,CAAEoQ,EAAGla,KAAKioD,UAAW35C,EAAG,EAAGs2B,GAAI5kC,KAAKmoD,cAC9CnoD,KAAKmoD,cAAanoD,KAAKmoD,YAAc,E,EAE5CzB,EAAOnmD,UAAU6nD,MAAQ,SAAStoD,GAOhC,YANgB,IAALA,KACLwM,MAAM0jB,WAAWlwB,KAAOA,GAAK,KAAGA,EAAI,GACxCE,KAAKgoD,OAASloD,EACdE,KAAKo+C,IAAMp+C,KAAK8nD,KAAO9nD,KAAKgoD,OAC5BhoD,KAAK0nD,IAAM1nD,KAAKynD,MAAQ/pC,IAAS1d,KAAK2nD,KAAO3nD,KAAKo+C,KAE7Cp+C,KAAKgoD,M,EAEdtB,EAAOnmD,UAAU6N,KAAO,WAAa,OAAOpO,KAAKwhB,K,EACjDklC,EAAOnmD,UAAU+kD,OAAS,WAAa,OAAOtlD,KAAK8mD,O,EACnDJ,EAAOnmD,UAAU2W,SAAW,WAAa,OAAOlX,KAAKioD,S,EACrDvB,EAAOnmD,UAAU8nD,WAAa,WAAa,OAAOroD,KAAKmoD,W,EACvDzB,EAAOnmD,UAAU6Q,SAAW,WAAa,OAAOpR,KAAKynD,I,EACrDf,EAAOnmD,UAAU+nD,WAAa,WAAa,OAAOtoD,KAAKuoD,QAAQvoD,KAAKynD,K,EACpEf,EAAOnmD,UAAUioD,KAAO,SAAStuC,GAC3B5N,MAAM0jB,WAAW9V,KAAKwqC,EAAO,iBAAmBxqC,GAChDA,EAAI,IAAGA,EAAI,GACXA,GAAKla,KAAKioD,YAAW/tC,EAAIla,KAAKioD,UAAY,GAC9CjoD,KAAKyoD,MAAMvuC,E,EAEbwsC,EAAOnmD,UAAUmoD,OAAS,SAAS9jB,GAC7Bt4B,MAAM0jB,WAAW4U,KAAM8f,EAAO,iBAAmB9f,GACjDA,EAAK,IAAGA,EAAK,GACbA,GAAM5kC,KAAKmoD,cAAavjB,EAAK5kC,KAAKmoD,YAAc,GACpDnoD,KAAKyoD,MAAMzoD,KAAK2oD,MAAM/jB,G,EAExB8hB,EAAOnmD,UAAUqoD,MAAQ,SAAS1uC,GAChC,IAAKA,EAAG,OAAO,EACf,IAAIrQ,EACJ,IAAKA,EAAI,EAAG7J,KAAKkoD,KAAKr+C,GAAGqQ,EAAIA,EAAGrQ,KAEhC,OADAA,IACO7J,KAAKkoD,KAAKr+C,GAAG+6B,IAAM1qB,EAAIla,KAAKkoD,KAAKr+C,GAAGqQ,GAAKla,KAAKkoD,KAAKr+C,GAAGyE,C,EAE/Do4C,EAAOnmD,UAAUooD,MAAQ,SAAS/jB,GAChC,IAAKA,EAAI,OAAO,EAChB,IAAI/6B,EACJ,IAAKA,EAAI,EAAG7J,KAAKkoD,KAAKr+C,GAAG+6B,GAAKA,EAAI/6B,KAElC,OADAA,IACO7J,KAAKkoD,KAAKr+C,GAAGqQ,GAAK0qB,EAAK5kC,KAAKkoD,KAAKr+C,GAAG+6B,IAAM5kC,KAAKkoD,KAAKr+C,GAAGyE,C,EAEhEo4C,EAAOnmD,UAAUkoD,MAAQ,SAASvuC,GAChCla,KAAKynD,KAAOvtC,EACPla,KAAKiuC,UAASjuC,KAAKunD,SAAWrtC,GACnCla,KAAK6oD,SACD7oD,KAAKiuC,SAASjuC,KAAK6nD,Q,EAEzBnB,EAAOnmD,UAAUsoD,OAAS,WACxB,IAAI7oD,KAAKwnD,KAAO,EAAGxnD,KAAKwnD,KAAOxnD,KAAK6mD,MAAMtkD,OAAQvC,KAAKwnD,OAAQ,CAC7D,IAAIl/C,EAAItI,KAAK6mD,MAAM7mD,KAAKwnD,MACxB,GAAIl/C,EAAEs+C,IAAM5mD,KAAKynD,KAAM,MACX,IAARn/C,EAAEi0B,IAAcv8B,KAAK+jD,OAAM/jD,KAAK8nD,KAAmB,IAAZ9nD,KAAK+jD,KAAgBgE,EAAKz/C,EAAEk0B,I,CAEzEx8B,KAAKo+C,IAAMp+C,KAAK8nD,KAAO9nD,KAAKgoD,OAC5BhoD,KAAK2nD,IAAMjqC,IACX1d,KAAK0nD,IAAM1nD,KAAKynD,I,EAElBf,EAAOnmD,UAAUgoD,QAAU,SAASruC,GAElC,OADI5N,MAAM0jB,WAAW9V,KAAKwqC,EAAO,iBAAmBxqC,GAChDA,GAAK,EAAU,EACfA,GAAKla,KAAKioD,UAAkBjoD,KAAKmoD,YAC9BnoD,KAAK4oD,MAAM1uC,E,EAEpBwsC,EAAOnmD,UAAUuoD,QAAU,SAAS5uC,GAElC,OADI5N,MAAM0jB,WAAW9V,KAAKwqC,EAAO,iBAAmBxqC,GAChDA,GAAK,EAAU,EACfA,GAAKla,KAAKmoD,YAAoBnoD,KAAKioD,UAChCjoD,KAAK2oD,MAAMzuC,E,EAEpB2S,EAAI/G,KAAK+9B,IAAMA,EAgEfkF,EAAI3+C,QAAU,WAAa,OAAO05C,C,EAClCiF,EAAIxoD,UAAY,GAChBwoD,EAAIxoD,UAAU4R,YAAc42C,EAE5BA,EAAIxoD,UAAU0D,KAAO,SAASsO,GAC5B,IAAK,IAAI1I,EAAI,EAAGA,EAAI0I,EAAKhQ,OAAQsH,IAAU0I,EAAK1I,GAAGq7B,UAC7C3yB,EAAK1I,GAAG+4B,cAAe5iC,KAAK8J,KAAK+iB,EAAI/G,KAAKvT,EAAK1I,KAC9Cm/C,I,EAGTD,EAAIxoD,UAAU0mB,SAAW,WAAa,MAAO,E,EAC7C8hC,EAAIxoD,UAAUslD,KAAO,WACnB,IAAIh8C,EAAGmT,EAAG+N,EAAI,GACd,IAAKlhB,EAAI,EAAGA,EAAI7J,KAAKuC,OAAQsH,IAAK,IAAKmT,EAAI,EAAGA,EAAIhd,KAAK6J,GAAGtH,OAAQya,IAAK+N,GAAKhc,OAAO8tB,aAAa78B,KAAK6J,GAAGmT,IACxG,OAAO+N,C,EAETg+B,EAAIxoD,UAAUylD,SAAW,WACvB,OAAOC,GAAOlO,KAAK/3C,KAAK6lD,OAAQ,S,EAElCkD,EAAIxoD,UAAU2lD,aAAe,WAI3B,IAHA,IAAI/L,EAAMn6C,KAAK6lD,OACXrP,EAAM,IAAIY,YAAY+C,EAAI53C,QAC1BnC,EAAM,IAAIspC,WAAW8M,GAChB3sC,EAAI,EAAGA,EAAIswC,EAAI53C,OAAQsH,IAAKzJ,EAAIyJ,GAAKswC,EAAI7oB,WAAWznB,GAC7D,OAAOzJ,C,EAET2oD,EAAIxoD,UAAU4lD,cAAgB,WAC5B,OAAOnmD,KAAKkmD,eAAepV,M,EAE7BiY,EAAIxoD,UAAU6lD,YAAc,WAC1B,OAAO,IAAIC,UAAUrmD,KAAKmmD,gB,EAE5B4C,EAAIxoD,UAAUmG,SAAW,WACvB,IAAImD,EACAgZ,EAAI,CAAC,QACT,IAAKhZ,EAAI,EAAGA,EAAI7J,KAAKuC,OAAQsH,IAC3BgZ,EAAE/Y,KAAK9J,KAAK6J,GAAGnD,YAEjB,OAAOmc,EAAEkL,KAAK,O,EAEhBg7B,EAAIxoD,UAAU+lD,SAAW,WAEvB,IADA,IAAIC,EAAO15B,EAAIiW,UACNj5B,EAAI,EAAGA,EAAI7J,KAAKuC,OAAQsH,IAC3B7J,KAAK6J,GAAG67B,MAAK1lC,KAAK6J,GAAG67B,SAAMj4B,GAC/B84C,EAAKxjB,MAAM/iC,KAAK6J,IAElB,OAAO7J,I,EAET+oD,EAAIxoD,UAAUimD,OAAS,WACrB,IAEI38C,EAFA48C,EAAK,IAAIC,EAGb,IAFAD,EAAG1C,KAAO,GAELl6C,EAAI,EAAGA,EAAI7J,KAAKuC,OAAQsH,IAAK,CAChC,IAAIvB,EAAIukB,EAAI/G,KAAK9lB,KAAK6J,IACtBvB,EAAEs+C,GAAK,EACPH,EAAGI,MAAM/8C,KAAKxB,E,CAMhB,OAJAm+C,EAAGjlC,MAAQ,EACXilC,EAAGK,QAAU,EACbL,EAAGM,UACHN,EAAGoB,OAAS,WAAW,EAChBpB,C,EAGTsC,EAAIxoD,UAAU0lB,SAAMxY,EACpBs7C,EAAIxoD,UAAUmmB,MAAQ,IACtBqiC,EAAIxoD,UAAU0e,OAAS,WACrB,IAAImB,EAAI,WAAW,EAAIA,EAAE7f,UAAYP,KAAKge,MAC1C,IAAI8I,EAAM,IAAI1G,EAGd,OAFA0G,EAAIb,IAAMjmB,KAAKimB,IACfa,EAAIJ,MAAQ1mB,KAAK0mB,MACVI,C,EAETiiC,EAAIxoD,UAAUI,IAAM,SAASsiB,GAG3B,OAFAA,EAAM4J,EAAI/G,KAAK7C,IACP2f,eAAe5iC,KAAKge,MAAMlU,KAAKmZ,GAChCjjB,I,EAET+oD,EAAIxoD,UAAUslB,KAAO,SAAS5C,GAAO,OAAOjjB,KAAKW,IAAIsiB,E,EACrD8lC,EAAIxoD,UAAUqmB,KAAO,SAAShF,GAE5B,QADiB,IAANA,IAAmBA,EAAKmnC,EAAIxoD,UAAUmmB,OAC7C9E,GAAM5hB,KAAK0mB,MAAO,OAAO1mB,KAC7B,GAAI4hB,GAAMwC,SAASxC,IAAOA,EAAK,GAAKA,EAAK,IAAM,MAAMlR,WAAW,mBAAqBkR,GACrF,IAAIkF,EAAM9mB,KAAKif,SAEf,OADA6H,EAAIJ,MAAQ9E,EACLkF,C,EAETiiC,EAAIxoD,UAAUwmB,GAAK,SAAS5C,GAC1B,GAAIA,GAAKnkB,KAAKimB,UAAmB,IAAL9B,QAAuC,IAAZnkB,KAAKimB,IAAoB,OAAOjmB,KACvF,QAAgB,IAALmkB,IACLA,GAAKC,SAASD,IAAMA,EAAI,GAAKA,EAAI,IAAI,MAAMzT,WAAW,sBAAwByT,EAAK,2BAEzF,IAAI2C,EAAM9mB,KAAKif,SAEf,OADA6H,EAAIb,IAAM9B,EACH2C,C,EAET+F,EAAIyB,IAAI+X,gBAAgB0iB,GAExBl8B,EAAI/G,KAAKijC,IAAMA,CA1sCG,CAKlB,SAASrE,EAAO35B,GAAK,MAAM,IAAI9iB,MAAM8iB,E,CAErC,SAASm8B,EAAKj3C,GACZ,IAAI8a,EAAI,GAKR,OAJI9a,EAAI,UAAU8a,GAAKhc,OAAO8tB,aAAkC,KAApB5sB,GAAM,GAAM,OACpDA,EAAI,QAAQ8a,GAAKhc,OAAO8tB,aAAkC,KAApB5sB,GAAM,GAAM,OAClDA,EAAI,MAAM8a,GAAKhc,OAAO8tB,aAAiC,KAAnB5sB,GAAM,EAAK,OACnD8a,GAAKhc,OAAO8tB,aAAiB,IAAJ5sB,E,CAG3B,SAAS81C,EAAM91C,GACb,OAAOlB,OAAO8tB,aAAa5sB,GAAK,GAAKlB,OAAO8tB,aAAiB,IAAJ5sB,E,CAE3D,SAAS+2C,EAAM/2C,GACb,OAAOlB,OAAO8tB,aAAa5sB,GAAM,GAAM,KAAQlB,OAAO8tB,aAAa5sB,GAAM,GAAM,KAAQlB,OAAO8tB,aAAa5sB,GAAM,EAAK,KAAQlB,OAAO8tB,aAAiB,IAAJ5sB,E,CAEpJ,SAAS61C,EAAQ71C,GACf,OAAOlB,OAAO8tB,aAAiB,IAAJ5sB,GAAYlB,OAAO8tB,aAAa5sB,GAAM,EAAK,KAAQlB,OAAO8tB,aAAa5sB,GAAM,GAAM,KAAQlB,OAAO8tB,aAAa5sB,GAAM,GAAM,I,CAExJ,SAASg5C,EAAOC,GAId,IAHA,IAAIn+B,EAAI,GACJ7hB,EAAMggD,EAAExR,WAEH7tC,EAAI,EAAGA,EAAIX,EAAKW,IAAKkhB,GAAKhc,OAAO8tB,aAAaqsB,EAAEr/C,IACzD,OAAOkhB,C,CAGT,SAAS84B,IACP,IAAI7kC,EAAOhf,KACLgf,aAAgB6kC,UACpB7kC,EAAO,IAAI6kC,GACCE,KAEd,IAEIC,EACAC,EAHA71C,EAAO,EACP21C,EAAO,GAGX,GAAwB,GAApBn6C,UAAUrH,OAAa,CACzB,GAAIqH,UAAU,aAAci6C,EAC1B,OAAOj6C,UAAU,GAAG3F,OAEtB,GAAI2F,UAAU,aAAcm/C,EAAK,CAC/B/pC,EAAK5Q,KAAO,EACZ4Q,EAAK+kC,KAAOA,EACZ/kC,EAAKlV,KAAK,IAAIy7C,GACd,IAAK,IAAI17C,EAAI,EAAGA,EAAID,UAAU,GAAGrH,OAAQsH,IAAKmV,EAAK,GAAGre,IAAI,EAAGiJ,UAAU,GAAGC,IAC1E,OAAOmV,C,CAET,IAAIzM,EACJ,IACM3I,UAAU,aAAcwtC,cAC1B7kC,EAAO02C,EAAO,IAAIvf,WAAW9/B,UAAU,KAG/B,CAAZ,MAAOoD,GAAK,CACZ,KACMpD,UAAU,aAAc8/B,YAAc9/B,UAAU,aAAcy8C,aAChE9zC,EAAO02C,EAAO,IAAIvf,WAAW9/B,UAAU,KAG/B,CAAZ,MAAOu/C,GAAK,CACZ,IAEMv/C,UAAU,aAAEq8C,KACd1zC,EAAO3I,UAAU,GAAGlD,SAAS,UAGrB,CAAZ,MAAO0iD,GAAK,CAIZ,GAH2B,iBAAhBx/C,UAAU,IAAkC,KAAhBA,UAAU,IAA6B,KAAhBA,UAAU,IAA6B,KAAhBA,UAAU,KAC7F2I,EAAO3I,UAAU,IAEf2I,EAEF,OADAyM,EAAKulC,KAAKhyC,GACHyM,EAET5Q,EAAOgW,SAASxa,UAAU,G,MAEC,GAApBA,UAAUrH,QACjB6L,EAAOgW,SAASxa,UAAU,IAC1Bm6C,EAAO3/B,SAASxa,UAAU,KAEC,GAApBA,UAAUrH,QACjB6L,EAAOgW,SAASxa,UAAU,IAC1Bo6C,EAAM5/B,SAASxa,UAAU,IACzBq6C,EAAM7/B,SAASxa,UAAU,KAElBA,UAAUrH,QAAQmiD,EAAO,sBAalC,OAZIp4C,MAAM8B,IAASA,EAAO,GAAKA,EAAO,IAAGs2C,EAAO,sBAChD1lC,EAAK5Q,KAAOA,OACM,IAAP41C,IACL13C,MAAMy3C,IAASA,EAAO,GAAKA,EAAO,QAAQW,EAAO,sBACrD1lC,EAAK+kC,KAAOA,IAGD,IAAPC,GAAoB,IAAPA,GAAoB,IAAPA,GAAoB,IAAPA,GAAWU,EAAO,uBACzDp4C,MAAM23C,IAAQA,EAAM,GAAKA,EAAM,MAAMS,EAAO,sBAChD1lC,EAAKglC,IAAMA,EACXhlC,EAAKilC,IAAMA,GAENjlC,C,CAkBT,SAASslC,EAAO95C,EAAKyY,EAAK1Q,EAAM8yC,EAAMD,GACpC,IAAIt2C,EAAI,CAAEtE,IAAKA,EAAKyY,IAAKA,EAAK1Q,KAAMA,GAGpC,YAFmB,IAAR8yC,IAAqBv2C,EAAEu2C,KAAOA,QACrB,IAATD,IAAsBt2C,EAAEs2C,MAAQA,GACpCt2C,C,CAyET,SAASq2C,EAAK7kD,GACZ,KAAMN,gBAAgBmlD,GAAO,OAAO,IAAIA,EAAK7kD,GAC7C,IAAK,IAAI2c,KAAK3c,EAASA,EAAIwf,eAAe7C,KAAIjd,KAAKid,GAAK3c,EAAI2c,G,CAgB9D,SAASyoC,EAAa52C,EAAGic,GACvB,IAAIlhB,EACJ,IAAKA,EAAI,EAAGA,EAAI,GAAIA,IACdkhB,EAAElhB,KACAkhB,EAAElhB,GAAG04B,IAAMxX,EAAElhB,GAAGy4B,IAAuB,KAAjBvX,EAAElhB,GAAG04B,GAAG,GAAG,IAA+B,KAAjBxX,EAAElhB,GAAGy4B,GAAG,GAAG,KAC5DvX,EAAElhB,GAAG04B,GAAG,IAAK,EACbxX,EAAElhB,GAAGy4B,GAAG,IAAK,GAEf+mB,EAAcv6C,EAAGic,EAAGlhB,EAAG,MACvBw/C,EAAcv6C,EAAGic,EAAGlhB,EAAG,MACvBw/C,EAAcv6C,EAAGic,EAAGlhB,EAAG,MACvBw/C,EAAcv6C,EAAGic,EAAGlhB,EAAG,MACvBw/C,EAAcv6C,EAAGic,EAAGlhB,EAAG,MACvBw/C,EAAcv6C,EAAGic,EAAGlhB,EAAG,OAEzBkhB,EAAElhB,GAAK,E,CAGX,SAAS+7C,EAAc92C,EAAGic,EAAG9H,GAC3B,GAAKA,EAAI1gB,UAAU0gB,EAAI,GAAK,KAC5B,GAAIA,EAAIsiB,aAAetiB,EAAIuiB,aAAeviB,EAAIwiB,YAC5CigB,EAAa52C,EAAGic,OADlB,CAIA,IAEIzc,EAFAszB,EAAK3e,EAAI,IAAM,EACf8D,EAAc,GAAT9D,EAAI,GAEb,GAAU,IAAN2e,EAyEM,IAANA,IACE7W,EAAEhE,GAAI+a,KAAI/W,EAAEhE,GAAI+a,GAAG,IAAK,GACxB/W,EAAEhE,GAAIib,KAAIjX,EAAEhE,GAAIib,GAAG,IAAK,GACxBjX,EAAEhE,GAAIib,KAAOjX,EAAEhE,GAAI+a,KACrBxzB,EAAIyc,EAAEhE,GAAIib,GAAG,GACblzB,EAAEhF,KAAKw6C,EAAOh2C,EAAEs2C,KAAM,8BAA+Bt2C,EAAE5H,WAAY4H,EAAEs4C,GAAIt4C,EAAE82C,SAEzEr6B,EAAEhE,GAAI+a,KAAO/W,EAAEhE,GAAIib,KACrB1zB,EAAIyc,EAAEhE,GAAI+a,GAAG,GACbhzB,EAAEhF,KAAKw6C,EAAOh2C,EAAEs2C,KAAM,8BAA+Bt2C,EAAE5H,WAAY4H,EAAEs4C,GAAIt4C,EAAE82C,eAjF7E,OAAQniC,EAAI,IACV,KAAK,EACHomC,EAAcv6C,EAAGic,EAAGhE,EAAI,MACxBgE,EAAEhE,GAAI+a,GAAK,CAAC7e,GAAK,GACjB,MACF,KAAK,GACHomC,EAAcv6C,EAAGic,EAAGhE,EAAI,MACxBgE,EAAEhE,GAAIib,GAAK,CAAC/e,GAAK,GACjB,MACF,KAAK,GACHomC,EAAcv6C,EAAGic,EAAGhE,EAAI,MACxBsiC,EAAcv6C,EAAGic,EAAGhE,EAAI,MACxBsiC,EAAcv6C,EAAGic,EAAGhE,EAAI,MACxBgE,EAAEhE,GAAIob,GAAK,CAAClf,GAAK,GACjB,MACF,KAAK,GACHomC,EAAcv6C,EAAGic,EAAGhE,EAAI,MACxBsiC,EAAcv6C,EAAGic,EAAGhE,EAAI,MACxBsiC,EAAcv6C,EAAGic,EAAGhE,EAAI,MACxBgE,EAAEhE,GAAIsb,GAAK,CAACpf,GAAK,GACjB,MACF,KAAK,IACHomC,EAAcv6C,EAAGic,EAAGhE,EAAI,MACxBsiC,EAAcv6C,EAAGic,EAAGhE,EAAI,MACxBsiC,EAAcv6C,EAAGic,EAAGhE,EAAI,MACxBgE,EAAEhE,GAAIub,GAAK,CAACrf,GAAK,GACjB,MACF,KAAK,IACHomC,EAAcv6C,EAAGic,EAAGhE,EAAI,MACxBsiC,EAAcv6C,EAAGic,EAAGhE,EAAI,MACxBsiC,EAAcv6C,EAAGic,EAAGhE,EAAI,MACxBgE,EAAEhE,GAAIwb,GAAK,CAACtf,GAAK,GACjB,MACF,KAAK,EAAK,KAAK,GAAM,KAAK,GAAM,KAAK,GAC/B8H,EAAEhE,GAAIwb,IAAMxX,EAAEhE,GAAIub,KACpBvX,EAAEhE,GAAIwb,GAAG,IAAK,EACdxX,EAAEhE,GAAIub,GAAG,IAAK,IAEZvX,EAAEhE,GAAIwb,IAAOxX,EAAEhE,GAAIub,IAAOvX,EAAEhE,GAAIwb,GAAG,KACrCj0B,EAAIyc,EAAEhE,GAAIwb,GAAG,GACbzzB,EAAEhF,KAAKw6C,EAAOh2C,EAAEs2C,KAAM,sBAAuBt2C,EAAE5H,WAAY4H,EAAEs4C,GAAIt4C,EAAE82C,QACnEr6B,EAAEhE,GAAIwb,GAAG,IAAK,GAEXxX,EAAEhE,GAAIwb,KAAMxX,EAAEhE,GAAIub,IAAOvX,EAAEhE,GAAIub,GAAG,KACrCh0B,EAAIyc,EAAEhE,GAAIub,GAAG,GACbxzB,EAAEhF,KAAKw6C,EAAOh2C,EAAEs2C,KAAM,sBAAuBt2C,EAAE5H,WAAY4H,EAAEs4C,GAAIt4C,EAAE82C,QACnEr6B,EAAEhE,GAAIub,GAAG,IAAK,GAEZvX,EAAEhE,GAAIsb,IAAMtX,EAAEhE,GAAIob,KACpBpX,EAAEhE,GAAIsb,GAAG,IAAK,EACdtX,EAAEhE,GAAIob,GAAG,IAAK,IAEZpX,EAAEhE,GAAIsb,IAAOtX,EAAEhE,GAAIob,IAAOpX,EAAEhE,GAAIsb,GAAG,KACrC/zB,EAAIyc,EAAEhE,GAAIsb,GAAG,GACbvzB,EAAEhF,KAAKw6C,EAAOh2C,EAAEs2C,KAAM,uBAAwBt2C,EAAE5H,WAAY4H,EAAEs4C,GAAIt4C,EAAE82C,QACpEr6B,EAAEhE,GAAIsb,GAAG,IAAK,GAEXtX,EAAEhE,GAAIsb,KAAMtX,EAAEhE,GAAIob,IAAOpX,EAAEhE,GAAIob,GAAG,KACrC7zB,EAAIyc,EAAEhE,GAAIob,GAAG,GACbrzB,EAAEhF,KAAKw6C,EAAOh2C,EAAEs2C,KAAM,uBAAwBt2C,EAAE5H,WAAY4H,EAAEs4C,GAAIt4C,EAAE82C,QACpEr6B,EAAEhE,GAAIob,GAAG,IAAK,GAEXpX,EAAEhE,GAAIwb,IAAOxX,EAAEhE,GAAIub,IAAOvX,EAAEhE,GAAIsb,IAAOtX,EAAEhE,GAAIob,IAChDrzB,EAAEhF,KAAKw6C,EAAOrhC,EAAI2hC,KAAM,mBAAoB3hC,EAAIvc,WAAYuc,EAAI2jC,GAAI3jC,EAAImiC,QAEtEr6B,EAAEhE,GAAIwb,IAAMxX,EAAEhE,GAAIub,IAAwB,KAAlBvX,EAAEhE,GAAIwb,GAAG,GAAG,IAAgC,KAAlBxX,EAAEhE,GAAIub,GAAG,GAAG,IAChExzB,EAAEhF,KAAKw6C,EAAOrhC,EAAI2hC,KAAM,mBAAoB3hC,EAAIvc,WAAYuc,EAAI2jC,GAAI3jC,EAAImiC,Q,EAmBlF,SAASiE,EAAcv6C,EAAGic,EAAG5G,EAAGrkB,GAC9B,GAAIirB,EAAE5G,GAAGrkB,KAAOirB,EAAE5G,GAAGrkB,GAAG,GAAI,CAC1B,IAAIq6C,EACJ,OAAQr6C,GACN,IAAK,KAAM,IAAK,KAAMq6C,EAAM,0BAA2B,MACvD,IAAK,KAAM,IAAK,KAAMA,EAAM,mBAAoB,MAChD,IAAK,KAAM,IAAK,KAAMA,EAAM,kBAE9B,IAAI7rC,EAAIyc,EAAE5G,GAAGrkB,GAAG,GAChBgP,EAAEhF,KAAKw6C,EAAOh2C,EAAEs2C,KAAMzK,EAAK7rC,EAAE5H,WAAY4H,EAAEs4C,GAAIt4C,EAAE82C,eAC1Cr6B,EAAE5G,GAAGrkB,E,EA6EhB,SAASwpD,EAASv+B,GAChB,IAAKA,EAAExoB,OAAQ,OAAO,EACtB,GAAIwoB,EAAEuG,WAAW,GAAK,IAAM,MAAO,CAAC,EAAGvG,EAAEuG,WAAW,IACpD,IAAIxxB,EAAsB,IAAlBirB,EAAEuG,WAAW,GAErB,OADAxxB,IAAM,EACFirB,EAAEuG,WAAW,GAAK,IAAa,CAAC,EAAGxxB,EAAIirB,EAAEuG,WAAW,KACxDxxB,GAAuB,IAAlBirB,EAAEuG,WAAW,GAClBxxB,IAAM,EACFirB,EAAEuG,WAAW,GAAK,IAAa,CAAC,EAAGxxB,EAAIirB,EAAEuG,WAAW,KACxDxxB,GAAuB,IAAlBirB,EAAEuG,WAAW,GAClBxxB,IAAM,EACNA,GAAuB,IAAlBirB,EAAEuG,WAAW,GACX,CAAC,EAAGvG,EAAEuG,WAAW,GAAK,IAAOxxB,GAAKA,I,CAE3C,SAASypD,EAAQt5C,GACf,OAAY,IAAJA,GACN,KAAK,IAAM,KAAK,IAAM,KAAK,IAAM,KAAK,IAAM,KAAK,IAAM,OAAO,EAC9D,KAAK,IAAM,KAAK,IAAM,OAAO,EAE/B,OAAQA,GACN,KAAK,IAAM,KAAK,IAAM,OAAO,EAC7B,KAAK,IAAM,OAAO,EAEpB,OAAO,C,CAGT,SAASw1C,EAAM/oB,GACb,IAAI7yB,EAAGmT,EACH4pC,EAAK,GACLpB,EAAK,GACT,IAAK37C,EAAI,EAAGA,EAAI6yB,EAAIn6B,OAAQsH,IAAS6yB,EAAI7yB,aAAc07C,GAAMqB,EAAG98C,KAAK4yB,EAAI7yB,IACzE,GAAgB,GAAZ6yB,EAAItuB,KACN,IAAKvE,EAAI,EAAGA,EAAI+8C,EAAGrkD,OAAQsH,IACzB,IAAKmT,EAAI,EAAGA,EAAI4pC,EAAG/8C,GAAGtH,OAAQya,IAC5B4pC,EAAG/8C,GAAGmT,GAAGooC,MAAQv7C,EACjB27C,EAAG17C,KAAK88C,EAAG/8C,GAAGmT,QAIf,CACH,IAAI9C,EAAI,EACJsvC,EAAK,GACT,IAAK3/C,EAAI,EAAGA,EAAI+8C,EAAGrkD,OAAQsH,IAAK2/C,EAAG3/C,GAAK,EACxC,OAAa,CACX,IAAIgnB,GAAI,EACJviB,EAAI,EACR,IAAKzE,EAAI,EAAGA,EAAI+8C,EAAGrkD,OAAQsH,IAAK,CAC9B,KAAO2/C,EAAG3/C,GAAK+8C,EAAG/8C,GAAGtH,QAAUqkD,EAAG/8C,GAAG2/C,EAAG3/C,IAAI+8C,IAAM1sC,GAChD0sC,EAAG/8C,GAAG2/C,EAAG3/C,IAAIu7C,MAAQv7C,EACrB27C,EAAG17C,KAAK88C,EAAG/8C,GAAG2/C,EAAG3/C,KACjB2/C,EAAG3/C,KAED2/C,EAAG3/C,IAAM+8C,EAAG/8C,GAAGtH,SACfsuB,IAAGviB,EAAIs4C,EAAG/8C,GAAG2/C,EAAG3/C,IAAI+8C,IACxB/1B,GAAI,EACAviB,EAAIs4C,EAAG/8C,GAAG2/C,EAAG3/C,IAAI+8C,KAAIt4C,EAAIs4C,EAAG/8C,GAAG2/C,EAAG3/C,IAAI+8C,I,CAG5C,GADA1sC,EAAI5L,EACAuiB,EAAG,K,EAGX,OAAO20B,C,CAgDT,SAASN,EAAMhrC,EAAGe,EAAGzQ,GACnB,KAAMxK,gBAAgBklD,GAAQ,OAAO,IAAIA,EAAMhrC,EAAGe,EAAGzQ,GACrD,IAAIX,EACJ,GAAI7J,KAAKohD,IAAIlnC,GAAI,OAAOla,KAAKohD,IAAIlnC,GAAGA,EAAGe,EAAGzQ,GAE1C,IADgB,iBAAL0P,GAA6B,GAAZA,EAAE3X,QAAamiD,EAAO,uBAAyBxqC,GACtErQ,EAAI,EAAGA,EAAIqQ,EAAE3X,OAAQsH,KAASqQ,EAAEoX,WAAWznB,GAAK,GAAKqQ,EAAEoX,WAAWznB,GAAK,MAAK66C,EAAO,uBAAyBxqC,GAEjH,IADgB,iBAALe,GAAeypC,EAAO,sBAAwBzpC,GACpDpR,EAAI,EAAGA,EAAIoR,EAAE1Y,OAAQsH,KAASoR,EAAEqW,WAAWznB,GAAK,GAAKoR,EAAEqW,WAAWznB,GAAK,MAAK66C,EAAO,2BAA6BzpC,EAAEpR,IACvH7J,KAAKoO,KAAO8L,EACZla,KAAKuS,KAAO0I,EACZjb,KAAK4kD,KAAOp6C,C,CAiBd,SAASi/C,EAAmBxC,EAAKl8B,EAAG/P,EAAG1M,EAAG4L,EAAG1P,GAC3C,IAAI1K,EAAIirB,EAAE+a,OAAO9qB,EAAG1M,GAChBxO,EAAEyC,OAAS+L,IACb24C,EAAI7C,UAAU55C,EAAK,wBAAyB8D,EAAIxO,EAAEyC,OAAQ2X,GAC1Dpa,GAAKA,EAAI,QAAYgmC,OAAO,EAAGx3B,IAEjC,IAAK,IAAIzE,EAAI,EAAGA,EAAIyE,EAAGzE,IAAS/J,EAAEwxB,WAAWznB,GAAK,MAChDo9C,EAAI7C,UAAU55C,EAAMX,EAAG,0BAA2B/J,EAAEwxB,WAAWznB,GAAIqQ,GACnEpa,EAAIA,EAAEgmC,OAAO,EAAGj8B,GAAK,KAAS/J,EAAEgmC,OAAOj8B,EAAI,IAE7C,OAAO/J,C,CAET,SAAS4pD,EAAiBzC,EAAKl8B,EAAGvgB,EAAK0P,EAAG0sC,GACxC,IAAI3oB,EAAKqrB,EAASv+B,GAelB,OAdI67B,IAAI1sC,GAAK+jB,EAAG,IACZA,EAAG,GAAK,GACVA,EAAG,IAAMA,EAAG,GACZgpB,EAAI7C,UAAU55C,EAAK,oBAAqBugB,EAAEuG,WAAW,GAAK,IAAMvG,EAAEuG,WAAW,GAAK,IAAMvG,EAAEuG,WAAW,GAAK,IAAMvG,EAAEuG,WAAW,GAAIpX,IAEjH,GAAT+jB,EAAG,IAAWA,EAAG,GAAK,QAC7BgpB,EAAI7C,UAAU55C,EAAK,iBAAkBugB,EAAEuG,WAAW,GAAK,IAAMvG,EAAEuG,WAAW,GAAK,IAAMvG,EAAEuG,WAAW,GAAK,IAAMvG,EAAEuG,WAAW,GAAIpX,GAE9G,GAAT+jB,EAAG,IAAWA,EAAG,GAAK,MAC7BgpB,EAAI7C,UAAU55C,EAAK,iBAAkBugB,EAAEuG,WAAW,GAAK,IAAMvG,EAAEuG,WAAW,GAAK,IAAMvG,EAAEuG,WAAW,GAAIpX,GAEtF,GAAT+jB,EAAG,IAAWA,EAAG,GAAK,KAC7BgpB,EAAI7C,UAAU55C,EAAK,iBAAkBugB,EAAEuG,WAAW,GAAK,IAAMvG,EAAEuG,WAAW,GAAIpX,GAEzE+jB,C,CAGT,SAASsnB,EAAKx6B,EAAGvgB,GACf,KAAMxK,gBAAgBulD,GAAO,OAAO,IAAIA,EAAKx6B,EAAGvgB,GAIhD,GAHAxK,KAAK4kD,KAAOp6C,EACZxK,KAAKge,MAAQhe,KACbA,KAAKmnD,MAAQ,OACE,IAALp8B,EAWV,IAPA,IAGI6W,EACAtzB,EAJA4L,EAAI,EACJc,EAAI,EACJlM,EAAI,GAIJ0mC,EAASx6B,GADbxQ,GAAO,GAEAwQ,EAAI+P,EAAExoB,QAEXyY,IADA1M,EAAIo7C,EAAiB1pD,KAAM+qB,EAAE+a,OAAO9qB,EAAG,GAAIw6B,EAAQt7B,GAAG,IAC/C,GACPA,GAAK5L,EAAE,GACPknC,EAASx6B,EAAIxQ,EACU,KAAnBugB,EAAEuG,WAAWtW,KACf4mB,EAAK7W,EAAE+a,OAAO9qB,EAAG,IACVzY,OAAS,IACdvC,KAAKokD,UAAU5O,EAAQ,wBAAyB,EAAI5T,EAAGr/B,OAAQ2X,GAC/D0nB,EAAK,MAEP5mB,GAAK,EAELA,IADA1M,EAAIo7C,EAAiB1pD,KAAM+qB,EAAE+a,OAAO9qB,EAAG,GAAIw6B,EAAS,EAAGt7B,IAChD,GACPla,KAAK8J,KAAM,IAAIuf,EAAMnP,EAAG0nB,EAAI7W,EAAE+a,OAAO9qB,EAAG1M,EAAE,IAAKknC,IAC/Cx6B,GAAK1M,EAAE,IAEmB,KAAnByc,EAAEuG,WAAWtW,IAAiC,KAAnB+P,EAAEuG,WAAWtW,IAC/C4mB,EAAK7W,EAAE+a,OAAO9qB,EAAG,GACjBA,GAAK,EAELA,IADA1M,EAAIo7C,EAAiB1pD,KAAM+qB,EAAE+a,OAAO9qB,EAAG,GAAIw6B,EAAS,EAAGt7B,IAChD,GACPla,KAAK8J,KAAK,IAAIuf,EAAMnP,EAAG0nB,EAAI7W,EAAE+a,OAAO9qB,EAAG1M,EAAE,IAAKknC,IAC9Cx6B,GAAK1M,EAAE,IAEkB,IAAlByc,EAAEuG,WAAWtW,IACpBlM,EAAIic,EAAE+a,OAAO9qB,EAAG,GAChBA,GAAK,EACL1M,EAAIi7C,EAAQz6C,EAAEwiB,WAAW,IACrBxiB,EAAEwiB,WAAW,GAAK,KAAMtxB,KAAKokD,UAAU5O,EAAQ,0BAA2B1mC,EAAEwiB,WAAW,GAAG5qB,SAAS,IAAKwT,GAC5Gla,KAAK8J,KAAK,IAAIuf,EAAMnP,EAAGpL,EAAG26C,EAAmBzpD,KAAM+qB,EAAG/P,EAAG1M,EAAG4L,EAAGs7B,EAAS,GAAIA,IAC5Ex6B,GAAK1M,GAEoB,IAAlBQ,EAAEwiB,WAAW,KACpBhjB,EAAIi7C,EAAQz6C,EAAEwiB,WAAW,IACrBxiB,EAAEwiB,WAAW,GAAK,KAAMtxB,KAAKokD,UAAU5O,EAAQ,0BAA2B1mC,EAAEwiB,WAAW,GAAG5qB,SAAS,IAAKwT,GAC5Gla,KAAK8J,KAAK,IAAIuf,EAAMnP,EAAGpL,EAAG26C,EAAmBzpD,KAAM+qB,EAAG/P,EAAG1M,EAAG4L,EAAGs7B,GAASA,IACxEx6B,GAAK1M,QA/CPtO,KAAK8J,KAAK,IAAIuf,EAAM,EAAG,KAAY,I,CA8DvC,SAASsgC,EAAU1mC,GACjB,IAAI8H,EAAI9H,EAAIvc,WAKZ,OAJIqkB,EAAExoB,OAAS,KAEbwoB,GADAA,EAAIA,EAAE+a,OAAO,EAAG,KACVA,OAAO,EAAG/a,EAAEuuB,YAAY,MAAQ,QAEjCvuB,C,CAET,SAAS6+B,EAAe3mC,EAAKlY,EAAM7B,GACjC,OAAI+Z,EAAIuZ,GAAGj6B,OAAS2G,EAAYo7C,EAAOrhC,EAAI2hC,KAAM,WAAa75C,EAAO,iBAAmBkY,EAAIuZ,GAAGj6B,OAAS,iBAAmB,WAAYonD,EAAU1mC,GAAMA,EAAI2jC,IACvJ3jC,EAAIuZ,GAAGj6B,OAAS2G,EAAYo7C,EAAOrhC,EAAI2hC,KAAM,WAAa75C,EAAO,6BAA8B4+C,EAAU1mC,GAAMA,EAAI2jC,SAAvH,C,CAEF,SAASiD,EAAoB5mC,EAAKlY,GAChC,OAAOu5C,EAAOrhC,EAAI2hC,KAAM75C,EAAO,0CAA2C4+C,EAAU1mC,GAAMA,EAAI2jC,G,CAEhG,SAASjB,EAAe1iC,EAAK6mC,GAC3B,IAAIC,EACJ,QAAqB,IAAV9mC,EAAIsZ,GAAmB,CAChC,GAAItZ,EAAIsZ,GAAK,IAAM,OAAO+nB,EAAOrhC,EAAI2hC,KAAM,qBAAsB+E,EAAU1mC,GAAMA,EAAI2jC,IAChF,GAAc,GAAV3jC,EAAIsZ,IACwC,GAAnDwtB,EAAQH,EAAe3mC,EAAK,kBAAmB,GAAe,OAAO8mC,OAElE,GAAI9mC,EAAIsZ,GAAK,IAChB,IAAKtZ,EAAIuZ,GAAGj6B,OAAQ,OAAO+hD,EAAOrhC,EAAI2hC,KAAM,mCAAoC+E,EAAU1mC,GAAMA,EAAI2jC,SAEjG,GAAc,IAAV3jC,EAAIsZ,GAAU,CAC6B,GAAlDwtB,EAAQH,EAAe3mC,EAAK,iBAAkB,GAAe,OAAO8mC,EACpE,GAAI9mC,EAAIuZ,GAAGlL,WAAW,GAAK,GAAI,OAAOgzB,EAAOrhC,EAAI2hC,KAAM,oDAAqD+E,EAAU1mC,GAAMA,EAAI2jC,G,MAE7H,GAAc,IAAV3jC,EAAIsZ,GAAU,CACwB,GAA7CwtB,EAAQH,EAAe3mC,EAAK,YAAa,GAAe,OAAO8mC,EAC/D,GAAI9mC,EAAIuZ,GAAGlL,WAAW,GAAK,IAAK,OAAOgzB,EAAOrhC,EAAI2hC,KAAM,+CAAgD+E,EAAU1mC,GAAMA,EAAI2jC,G,MAEzH,GAAc,IAAV3jC,EAAIsZ,IACqC,GAAhDwtB,EAAQH,EAAe3mC,EAAK,eAAgB,GAAe,OAAO8mC,OAE/D,GAAc,IAAV9mC,EAAIsZ,GAAU,CACoB,GAAzCwtB,EAAQH,EAAe3mC,EAAK,QAAS,GAAe,OAAO8mC,EAC3D,GAAID,GAAM7mC,EAAImiC,MAAO,OAAOyE,EAAoB5mC,EAAK,Q,MAElD,GAAc,IAAVA,EAAIsZ,GAAU,CACoB,GAAzCwtB,EAAQH,EAAe3mC,EAAK,QAAS,GAAe,OAAO8mC,EAC3D,IAA4B,GAAvB9mC,EAAIuZ,GAAGlL,WAAW,KAAc,IAAMrO,EAAIuZ,GAAGlL,WAAW,IAAM,IAAMrO,EAAIuZ,GAAGlL,WAAW,IAAM,IAAMrO,EAAIuZ,GAAGlL,WAAW,IAAM,IAAMrO,EAAIuZ,GAAGlL,WAAW,IAAM,KAAOrO,EAAIuZ,GAAGlL,WAAW,GAAK,GAAI,OAAOgzB,EAAOrhC,EAAI2hC,KAAM,2CAA4C+E,EAAU1mC,GAAMA,EAAI2jC,IAClR,GAAI3jC,EAAKuZ,GAAGlL,WAAW,IAAM,EAAK,EAAG,OAAOgzB,EAAOrhC,EAAI2hC,KAAM,6CAA8C3hC,EAAIuZ,GAAGlL,WAAW,IAAM,EAAGrO,EAAI2jC,IAC/I,GAAIkD,GAAM7mC,EAAImiC,MAAO,OAAOyE,EAAoB5mC,EAAK,Q,MAElD,GAAc,IAAVA,EAAIsZ,GAAU,CAC6B,GAAlDwtB,EAAQH,EAAe3mC,EAAK,iBAAkB,GAAe,OAAO8mC,EACpE,GAAI9mC,EAAIuZ,GAAGlL,WAAW,GAAK,EAAG,OAAOgzB,EAAOrhC,EAAI2hC,KAAM,oDAAqD+E,EAAU1mC,GAAMA,EAAI2jC,IAC/H,GAAIkD,GAAM7mC,EAAImiC,MAAO,OAAOyE,EAAoB5mC,EAAK,iB,MAElD,GAAc,IAAVA,EAAIsZ,GAAU,CAC4B,GAAjDwtB,EAAQH,EAAe3mC,EAAK,gBAAiB,GAAe,OAAO8mC,EACnE,GAAI9mC,EAAIuZ,GAAGlL,WAAW,GAAK,GAAKrO,EAAIuZ,GAAGlL,WAAW,GAAK,KAAQrO,EAAIuZ,GAAGlL,WAAW,GAAK,GAAKrO,EAAIuZ,GAAGlL,WAAW,GAAK,IAAM,OAAOgzB,EAAOrhC,EAAI2hC,KAAM,mDAAoD3hC,EAAIvc,WAAYuc,EAAI2jC,G,MAErN,GAAc,KAAV3jC,EAAIsZ,GAIX,OAAO+nB,EAAOrhC,EAAI2hC,KAAM,qBAAsB+E,EAAU1mC,GAAMA,EAAI2jC,G,EAsHxE,SAASv9B,EAAMnP,EAAG6Q,EAAG9P,EAAGzQ,GACtB,IAAIie,EACJ,GAAuB,KAAnBsC,EAAEuG,WAAW,GACf7I,EAAOoE,EAAI/G,KAAK4W,IAAI3R,EAAEuG,WAAW,GAAIrW,OAElC,CAEH,IADA,IAAI4H,EAAI,CAACkI,EAAEuG,WAAW,IACbznB,EAAI,EAAGA,EAAIoR,EAAE1Y,OAAQsH,IAAKgZ,EAAE/Y,KAAKmR,EAAEqW,WAAWznB,IACvD4e,EAAOoE,EAAI/G,KAAKjD,E,CAIlB,YAFkB,IAAPrY,IAAoBie,EAAKm8B,KAAOp6C,GAC3Cie,EAAKm+B,GAAK1sC,EACHuO,C,CAGT,SAASi+B,IACP,IAQuB5mD,EARnBkf,EAAO,IAAI6N,EAAIC,OASnB,IAAK,IAAI7P,KART+B,EAAK0B,MAAM3V,KAAO,cAClBiU,EAAK0B,MAAMmB,aAAe,YAC1B7C,EAAK0B,MAAMtW,QAAU05C,EACrB9kC,EAAKivB,SAAU,EACfjvB,EAAKqoC,MAAQ,EACbroC,EAAK6nC,MAAQ,GACb7nC,EAAKyoC,KAAO,EACZzoC,EAAKmoC,OAAkBrnD,EAAwCkf,EAA5B,WAAYlf,EAAEulD,M,GACnCqB,EAAOnmD,UAAemmD,EAAOnmD,UAAUuf,eAAe7C,KAAI+B,EAAK/B,GAAKypC,EAAOnmD,UAAU0c,IACnG,OAAO+B,C,CA0CT,SAAS0G,EAAQpd,GAAKtI,KAAK2jB,SAASrb,E,CAKpC,SAASy/C,EAAKh9B,GAAK,OAAQA,EAAEuG,WAAW,IAAM,KAAOvG,EAAEuG,WAAW,IAAM,GAAKvG,EAAEuG,WAAW,E,CAoK1F,SAAS03B,IAAetE,EAAO,iB,CAE/B,SAASqE,EAAI34C,GACX,IAAI4O,EAAOhf,gBAAgB+oD,EAAM/oD,KAAOgf,EAAO,IAAI+pC,EAEnD,GADA/pC,EAAKhB,MAAQgB,OACK,IAAP5O,EAAoB,CAC7B,GAAIA,aAAeyzC,EAEjB,OADA7kC,EAAK/a,KAAKmM,EAAIo2C,SAASK,OAChB7nC,EAET,GAAI5O,aAAe24C,EAEjB,OADA/pC,EAAK/a,KAAKmM,GACH4O,EAET,IACM5O,aAAegnC,cACjBhnC,EAAM64C,EAAO,IAAIvf,WAAWt5B,IAGpB,CAAZ,MAAOpD,GAAK,CACZ,KACMoD,aAAes5B,YAAct5B,aAAei2C,aAC9Cj2C,EAAM64C,EAAO,IAAIvf,WAAWt5B,IAGpB,CAAZ,MAAO+4C,GAAK,CACZ,IAEM/4C,aAAG61C,KACL71C,EAAMA,EAAI1J,SAAS,UAGX,CAAZ,MAAO0iD,GAAK,CAIZ,IAAItpD,EAHc,iBAAPsQ,IACTA,EAAMrB,OAAO8tB,aAAa9yB,MAAM,KAAMqG,IAMxC,IAHA,IAAI6S,EAAM,GACNpZ,EAAI,EACJW,EAAM,EACHX,EAAIuG,EAAI7N,QAAQ,CAErB,IADyB,KAArB6N,EAAIkhB,WAAWznB,IAAYm/C,IACxBn/C,EAAIuG,EAAI7N,QAAQ,CAGrB,GAFAzC,EAAIsQ,EAAIkhB,WAAWznB,GACnBoZ,EAAInZ,KAAKhK,GACA,KAALA,EAAW,EACbmjB,EAAM4J,EAAI/G,KAAK7C,IACX2hC,KAAOp6C,EACXwU,EAAKlV,KAAK+iB,EAAI/G,KAAK7C,IACnBA,EAAM,GACNzY,EAAMX,EAAI,EACV,K,CAEFA,G,CAEFA,G,CAGF,OADIoZ,EAAI1gB,QAAQymD,IACThqC,C,CAET,OAAOA,C,aCvmCX,SAASgrC,GACPC,EACAC,GAEA,MAAMC,EAAoB,CACxBC,GAAIH,EACJ1gB,MAAO,CAAC,6BACR8gB,MAAM,GAEW,IAAIzvC,EAAAmC,GAAIutC,IAAI5D,QAAOyD,GAC3B7jC,QAAQ4jC,E,CCpBjBK,GAQK,SAAS19B,GAGhB,GADKA,EAAIy9B,MAAKz9B,EAAIy9B,IAAM,KACpBz9B,EAAIy9B,IAAI5D,OAAZ,CAIA,IAAI8D,EAAS,CAAEngD,GAAIogD,EAAKjgD,IAAKigD,EAAKC,QAASD,EAAKzgD,MAAOygD,EAAKljC,IAAK,IAoBjEojC,EAAIpqD,UAAU8J,GAAK,WACjBrK,KAAKunB,IAAIG,MAAMkjC,gBAAkB,OACjC5qD,KAAKunB,IAAIG,MAAMmjC,YAAc,OAC7B7qD,KAAKunB,IAAIujC,WAAWpjC,MAAMtM,KAAO,M,EAEnCuvC,EAAIpqD,UAAUiK,IAAM,WAClBxK,KAAKunB,IAAIG,MAAMkjC,gBAAkB,OACjC5qD,KAAKunB,IAAIG,MAAMmjC,YAAc,OAC7B7qD,KAAKunB,IAAIujC,WAAWpjC,MAAMtM,KAAO,M,EAEnCuvC,EAAIpqD,UAAUmqD,QAAU,WACtB1qD,KAAKunB,IAAIG,MAAMkjC,gBAAkB,OACjC5qD,KAAKunB,IAAIG,MAAMmjC,YAAc,OAC7B7qD,KAAKunB,IAAIujC,WAAWpjC,MAAMtM,KAAO,M,EAEnCuvC,EAAIpqD,UAAUyJ,MAAQ,SAAS+gB,GAAK/qB,KAAKunB,IAAIvd,MAAQ+gB,C,EACrD,IAAIggC,EAAW,sKACXC,EAAY,wLACZC,EAAW,sKACXC,EAAW,8PACXC,EAAW,uQACXC,EAAW,mLACXC,EAAW,2QACXC,EAAY,4KA6LZC,EAAY,EA0DhB7E,EAAOnmD,UAAY,IAAIssB,EAAIC,OAC3B45B,EAAOnmD,UAAU4R,YAAcu0C,EAE/BA,EAAOnmD,UAAU2hC,MAAQ,SAASspB,GAChCxrD,KAAK0lC,IAAI+lB,UAAYD,C,EAEvB9E,EAAOnmD,UAAUmqD,QAAU,WACzB1qD,KAAK0rD,QAAQhB,UACb1qD,KAAK2rD,SAASjB,UACd1qD,KAAK4rD,QAAQlB,UACb1qD,KAAK6rD,QAAQnB,UACb1qD,KAAK8rD,QAAQpB,UACT1qD,KAAK+rD,OAAO/rD,KAAK8rD,QAAQthD,MAC7BxK,KAAKgsD,QAAQxhD,MACbxK,KAAKisD,KAAKvkC,MAAMmjC,YAAc,OAC9B7qD,KAAKisD,KAAKvkC,MAAMkjC,gBAAkB,OAClC5qD,KAAKksD,MAAMxkC,MAAMmjC,YAAc,OAC/B7qD,KAAKksD,MAAMxkC,MAAMkjC,gBAAkB,M,EAErClE,EAAOnmD,UAAUwY,OAAS,WACxB/Y,KAAK0rD,QAAQlhD,MACbxK,KAAK2rD,SAASnhD,MACdxK,KAAK4rD,QAAQphD,MACbxK,KAAK6rD,QAAQrhD,MACTxK,KAAK+rD,OAAO/rD,KAAK8rD,QAAQthD,MAC7BxK,KAAKisD,KAAKvkC,MAAMmjC,YAAc,OAC9B7qD,KAAKksD,MAAMxkC,MAAMkjC,gBAAkB,OACnC5qD,KAAKksD,MAAMxkC,MAAMmjC,YAAc,M,EAEjCnE,EAAOnmD,UAAUgkD,KAAO,SAAS7nB,GAC/B,IAAI1d,EAAOhf,KACXA,KAAKmsD,QAAUzvB,EAAI8pB,SACnBxmD,KAAKmsD,QAAQ1P,OACbz8C,KAAKmsD,QAAQ7lC,QAAQtmB,MACrBA,KAAKmsD,QAAQ/E,MAAQ,WAAapoC,EAAKotC,Q,EACvCpsD,KAAKmsD,QAAQ/2C,OAAOpV,KAAKqsD,YACpBrsD,KAAKssD,UAAStsD,KAAKmsD,QAAQtE,OAAS4C,GACzCzqD,KAAK+Y,SACL/Y,KAAKusD,OAAO7vB,E,EAEdgqB,EAAOnmD,UAAU6U,OAAS,SAASwI,GACjC5d,KAAKqsD,WAAazuC,aAAa7R,SAAW6R,OAAInQ,EAC1CzN,KAAKmsD,SAASnsD,KAAKmsD,QAAQ/2C,OAAOpV,KAAKqsD,W,EAE7C3F,EAAOnmD,UAAUisD,SAAW/B,EAC5B/D,EAAOnmD,UAAU6mD,MAAQqD,EACzB/D,EAAOnmD,UAAUgsD,OAAS9B,EAC1B/D,EAAOnmD,UAAU6rD,OAAS,WACxBpsD,KAAKonD,QACDpnD,KAAKqnD,QAAuB,GAAdrnD,KAAKqnD,OAAarnD,KAAKqnD,QACpCrnD,KAAKqnD,MAOU,GAAdrnD,KAAKqnD,OACPrnD,KAAKqnD,MAAQ,EACbrnD,KAAK6rD,QAAQrhD,MACbxK,KAAK6rD,QAAQ7hD,MAAM,SAEhBhK,KAAK6rD,QAAQ7hD,MAAM,WAA0B,GAAdhK,KAAKqnD,MAAc,IAAWrnD,KAAKqnD,SAXnErnD,KAAKysD,SAAS/gC,cAAc1rB,KAAKysD,SACrCzsD,KAAK0sD,QACL1sD,KAAK2sD,UAAW,EAChB3sD,KAAK0rD,QAAQlhD,M,EAWjBk8C,EAAOnmD,UAAUmsD,MAAQ,WACvB,IAAIliD,EAAM5H,KAAKU,MAAMtD,KAAKmsD,QAAQ7D,aAAetoD,KAAK4sD,KAAO5sD,KAAKmsD,QAAQ9D,cAAgB,EAC1FroD,KAAKksD,MAAMxkC,MAAMmlC,KAAOriD,EAAM,I,EAEhCk8C,EAAOnmD,UAAUusD,OAASrC,EAC1B/D,EAAOnmD,UAAUwsD,SAAWtC,EAC5B/D,EAAOnmD,UAAUqe,QAAU,WACzB,IAAII,EAAOhf,KACXA,KAAKmsD,QAAQ7oB,SACbtjC,KAAKysD,QAAUhhC,aAAY,WAAazM,EAAK0tC,O,GAAY,I,EAE3DhG,EAAOnmD,UAAU+mD,KAAO,WACtB,GAAItnD,KAAKmsD,QAAS,CAChB,IAAIntC,EAAOhf,KAGX,GAFAA,KAAK0rD,QAAQrhD,KACbrK,KAAK2rD,SAASnhD,MACVxK,KAAK2sD,SAAU,OACf3sD,KAAKgtD,QAAShtD,KAAK+sD,WAClB/sD,KAAK8sD,SACV9sD,KAAK2sD,UAAW,EAChB3sD,KAAKgtD,SAAU,EACXhtD,KAAKitD,OAASjtD,KAAK+rD,MACrB/rD,KAAK4e,UAEG5e,KAAKktD,WACbltD,KAAKktD,UAAW,EAChBrgC,IAAMxH,YAAYrG,EAAKmuC,QAAQ3sC,KAAI,WACjCxB,EAAKiuC,KAAOjtD,KACZgf,EAAKouC,SAAWptD,KAAK+K,OACrBiU,EAAK8sC,QAAQ9hD,MAAMgV,EAAKouC,UACxBpuC,EAAK6E,SAAS7jB,MACdgf,EAAKkuC,UAAW,EAChBluC,EAAKwtC,SAASxtC,EAAKouC,UACfpuC,EAAK2tC,UACP3tC,EAAKJ,S,IAEN6B,IAAG,WACJzB,EAAKkuC,UAAW,EAChBluC,EAAKJ,S,OAKb8nC,EAAOnmD,UAAU8sD,OAAS5C,EAC1B/D,EAAOnmD,UAAU41B,KAAO,WACtB,GAAIn2B,KAAKmsD,QAAS,CAChB,IAAIntC,EAAOhf,KACXA,KAAKmsD,QAAQh2B,OACbtJ,EAAIyB,IAAI8X,UAAS,WAAapnB,EAAKquC,Q,IAC/BrtD,KAAKysD,SAAS/gC,cAAc1rB,KAAKysD,SACrCzsD,KAAK2sD,UAAW,EAChB3sD,KAAKgtD,SAAU,EACfhtD,KAAK0rD,QAAQlhD,MACbxK,KAAK2rD,SAASnhD,MACdxK,KAAK0sD,O,GAGThG,EAAOnmD,UAAU+sD,QAAU7C,EAC3B/D,EAAOnmD,UAAUqnD,MAAQ,SAAS5sC,GAChC,GAAIhb,KAAKmsD,QAAS,CAChB,IAAIntC,EAAOhf,KACPA,KAAKgtD,cACS,IAALhyC,GAAoBA,KACzBhb,KAAKitD,MACPjtD,KAAK4e,UACL5e,KAAK+sD,WACL/sD,KAAK2sD,UAAW,EAChB3sD,KAAKgtD,SAAU,EACfhtD,KAAK0rD,QAAQrhD,KACbrK,KAAK2rD,SAASnhD,OAEXxK,KAAKsnD,QAGLtnD,KAAK2sD,gBACI,IAAL3xC,GAAqBA,IAC9Bhb,KAAKmsD,QAAQvE,QACb/6B,EAAIyB,IAAI8X,UAAS,WAAapnB,EAAKsuC,S,IAC/BttD,KAAKysD,SAAS/gC,cAAc1rB,KAAKysD,SACrCzsD,KAAK2sD,UAAW,EAChB3sD,KAAKgtD,SAAU,EACfhtD,KAAK0rD,QAAQlhD,MACbxK,KAAK2rD,SAASthD,M,GAKtBq8C,EAAOnmD,UAAUmsC,KAAO,SAASz8B,GAC3BjQ,KAAKmsD,eACS,IAALl8C,IAAkBA,GAAKjQ,KAAKqnD,OACnCp3C,GAAKmU,SAASnU,IAAMA,EAAI,EAAGjQ,KAAKqnD,MAAQp3C,EACvCjQ,KAAKqnD,MAAQp3C,GAAI,EAAK,EACT,GAAdjQ,KAAKqnD,QAAYrnD,KAAKqnD,MAAQ,GAClCrnD,KAAKmsD,QAAQzf,KAAK1sC,KAAKqnD,OACnBrnD,KAAKqnD,OACPrnD,KAAK6rD,QAAQxhD,KACbrK,KAAK6rD,QAAQ7hD,MAAM,WAA0B,GAAdhK,KAAKqnD,MAAc,IAAWrnD,KAAKqnD,UAGlErnD,KAAK6rD,QAAQrhD,MACbxK,KAAK6rD,QAAQ7hD,MAAM,S,EAIzB08C,EAAOnmD,UAAUgtD,QAAU9C,EAC3B/D,EAAOnmD,UAAUitD,QAAU,WAEzB,GADAxtD,KAAKm2B,OACDn2B,KAAKitD,KAAM,CACb,IAAItnC,EAAM3lB,KAAKitD,KACfpgC,EAAIyB,IAAI8X,UAAS,WAAazgB,EAAI7E,O,IAEpC9gB,KAAKsqD,IAAImD,WAAWC,YAAY1tD,KAAKsqD,KACrCtqD,KAAKutD,S,EAGP7G,EAAOnmD,UAAUotD,OAAS,SAASC,EAAK7iD,GAClC/K,KAAK6tD,UACH7tD,KAAK8tD,OACP9tD,KAAK6tD,QAAQtmC,IAAIM,YAAY7nB,KAAK8tD,KAAKhD,YACvC9qD,KAAK6tD,QAAQtmC,IAAImmC,YAAY1tD,KAAK8tD,MAClC9tD,KAAK8tD,UAAOrgD,QAEI,IAAPmgD,EAAoB5tD,KAAK6tD,QAAQnD,WAE1C1qD,KAAK6tD,QAAQrjD,MACbxK,KAAK8tD,KAAOtmC,SAASC,cAAc,KACnCznB,KAAK8tD,KAAKjiD,OAAS,SACnB7L,KAAK8tD,KAAKjmC,YAAY7nB,KAAK6tD,QAAQtmC,IAAIujC,YACvC9qD,KAAK6tD,QAAQtmC,IAAIM,YAAY7nB,KAAK8tD,MAClC9tD,KAAK8tD,KAAKC,KAAOH,EACZ5tD,KAAK8tD,KAAKE,UAAShuD,KAAK8tD,KAAKE,QAAU,IAC5ChuD,KAAK8tD,KAAKE,QAAQC,cAAe,OACd,IAARljD,IAAqB/K,KAAK8tD,KAAKI,SAAWnjD,I,EAK3D27C,EAAOnmD,UAAU4tD,SAAW,SAASvwC,GACnC,IAAIoB,EAAOhf,KACPouD,EAAS,IAAIC,WACjBD,EAAOE,OAAS,SAAShmD,GAGvB,IAFA,IAGIo0B,EAHAnqB,EAAO,GACP4qC,EAAQ,IAAIzT,WAAWphC,EAAEuD,OAAO0iD,QAC3B1kD,EAAI,EAAGA,EAAIszC,EAAM56C,OAAQsH,IAAK0I,GAAQxD,OAAO8tB,aAAasgB,EAAMtzC,IAEzE,IACE6yB,EAAM,IAAI7P,EAAI/G,KAAKijC,IAAIx2C,EAEb,CAAZ,MAAOvF,GAAK,CACZ,IACO0vB,IAAKA,EAAM,IAAI7P,EAAI/G,KAAK+9B,IAAItxC,IACjCyM,EAAKmX,OACLtJ,EAAIyB,IAAI8X,UAAS,WAAapnB,EAAKulC,KAAK7nB,E,IACpC1d,EAAK6uC,SAAS7uC,EAAK2uC,OAAO,0BAA4B9gC,EAAIyB,IAAI2Y,SAAS10B,GAAOqL,EAAE7S,K,CAEtF,MAAOo+C,GAAOl6C,QAAQoQ,IAAI8pC,EAAIl4C,Q,GAEhCm9C,EAAOI,kBAAkB5wC,E,EAK3B8oC,EAAOnmD,UAAUisD,SAAW/B,EAC5B/D,EAAOnmD,UAAUkuD,aAAe,WAC9BzuD,KAAK8rD,QAAQthD,MACbxK,KAAK0uD,IAAIhnC,MAAMinC,QAAU,OACzB3uD,KAAK4uD,OAAQ,C,EAEflI,EAAOnmD,UAAUsuD,SAAW,WAC1B,IAAI7uD,KAAK4uD,OAAU5uD,KAAK+rD,MAAxB,CACA,IAAI/sC,EAAOhf,KACXA,KAAK4uD,OAAQ,EACb5uD,KAAK8rD,QAAQzhD,KACbrK,KAAK0uD,IAAIhnC,MAAMinC,QAAU,eACzB9hC,IAAMzH,UAAU5E,KAAI,WAClB,IACI3W,EADA+b,EAAO5lB,KAAK2gB,OAAOK,QAEvB,IAAKnX,EAAI,EAAGA,EAAImV,EAAK0vC,IAAIt8C,QAAQ7P,OAAQsH,IAAKmV,EAAK0vC,IAAII,OAAOjlD,GAC9D,IAAKA,EAAI,EAAGA,EAAI+b,EAAKrjB,OAAQsH,IAAKmV,EAAK0vC,IAAI7kD,GAAK,IAAIklD,OAAOnpC,EAAK/b,GAAGkB,KAAM6a,EAAK/b,GAAGkB,KAAM6a,EAAK/b,GAAGkB,MAAQiU,EAAKouC,SAAUxnC,EAAK/b,GAAGkB,MAAQiU,EAAKouC,UAC3IpuC,EAAK0vC,IAAInW,KAAO3yB,EAAKrjB,OAAS,EAAI,EAAIqjB,EAAKrjB,OAC3Cyc,EAAK0vC,IAAIM,O,GAXoB,C,EAcjCtI,EAAOnmD,UAAU0uD,YAAc,WAC7B,IAAIjwC,EAAOhf,KACX6sB,IAAMxH,YAAYrlB,KAAKkvD,UAAUzuC,IAAG,WAClCzB,EAAKkwC,cAAWzhD,EAChBuR,EAAKyvC,c,IACJjuC,KAAI,WAEL,GADAxB,EAAKkwC,cAAWzhD,EACZuR,EAAKouC,UAAYptD,KAAK+K,OAAQ,CAGhC,GAFAiU,EAAKouC,SAAWptD,KAAK+K,OACrBiU,EAAKyvC,eACDzvC,EAAKiuC,KAAM,CACb,GAAIjuC,EAAK2tC,SAAU,IAAK,IAAIxoC,EAAI,EAAGA,EAAI,GAAIA,IAAKnF,EAAKiuC,KAAKtpC,SAASkJ,EAAI/G,KAAKqP,YAAYhR,IACxFnF,EAAK8E,YAAY9E,EAAKiuC,MACtBjuC,EAAKiuC,KAAKnsC,O,CAEZ9B,EAAKiuC,KAAOjtD,KACZgf,EAAK6E,SAAS7jB,MACdgf,EAAK8sC,QAAQ9hD,MAAMgV,EAAKouC,UACxBpuC,EAAKwtC,SAASxtC,EAAKouC,UACnB/kD,YAAW,WAAa2W,EAAKwtC,SAASxtC,EAAKouC,S,GAAc,E,MAI/D1G,EAAOnmD,UAAU4uD,OAAS,SAASpkD,GACjC,IAAIiU,EAAOhf,KACXA,KAAKkvD,SAAWnkD,GAAQ,EACpB/K,KAAKkvD,UAAYlvD,KAAKotD,UACxBptD,KAAKkvD,cAAWzhD,EAChBzN,KAAKyuD,gBAGLpmD,YAAW,WAAa2W,EAAKiwC,a,GAAkB,E,EAGnDvI,EAAOnmD,UAAU6uD,UAAY,WAC3B,IAAIC,EAAWrvD,KAAK0uD,IAAIt8C,QAAQpS,KAAK0uD,IAAIY,eACrCD,GAAUrvD,KAAKmvD,OAAOE,EAAS9iD,M,EAErCm6C,EAAOnmD,UAAUgvD,SAAW,SAASjnD,GAClB,IAAbA,EAAEknD,SAA8B,IAAblnD,EAAEknD,SAAexvD,KAAKovD,W,EAG/C1I,EAAOnmD,UAAU6N,KAAO,WAAa,OAAOpO,KAAKmsD,QAAUnsD,KAAKmsD,QAAQ/9C,OAAS,C,EACjFs4C,EAAOnmD,UAAU+kD,OAAS,WAAa,OAAOtlD,KAAKmsD,QAAUnsD,KAAKmsD,QAAQ7G,SAAW,C,EACrFoB,EAAOnmD,UAAU2W,SAAW,WAAa,OAAOlX,KAAKmsD,QAAUnsD,KAAKmsD,QAAQj1C,WAAa,C,EACzFwvC,EAAOnmD,UAAU8nD,WAAa,WAAa,OAAOroD,KAAKmsD,QAAUnsD,KAAKmsD,QAAQ9D,aAAe,C,EAC7F3B,EAAOnmD,UAAU6Q,SAAW,WAAa,OAAOpR,KAAKmsD,QAAUnsD,KAAKmsD,QAAQ/6C,WAAa,C,EACzFs1C,EAAOnmD,UAAU+nD,WAAa,WAAa,OAAOtoD,KAAKmsD,QAAUnsD,KAAKmsD,QAAQ7D,aAAe,C,EAC7F5B,EAAOnmD,UAAUgoD,QAAU,WAAa,OAAOvoD,KAAKmsD,QAAUnsD,KAAKmsD,QAAQ5D,UAAY,C,EACvF7B,EAAOnmD,UAAUuoD,QAAU,WAAa,OAAO9oD,KAAKmsD,QAAUnsD,KAAKmsD,QAAQrD,UAAY,C,EACvFpC,EAAOnmD,UAAUkvD,OAAShF,EAC1B/D,EAAOnmD,UAAUioD,KAAO,SAAStM,GAC3Bl8C,KAAKmsD,UACPnsD,KAAKmsD,QAAQ3D,KAAKtM,GAClBl8C,KAAK0sD,QACA1sD,KAAK2sD,WACJzQ,GACFl8C,KAAKgtD,SAAU,EACfhtD,KAAK0rD,QAAQlhD,MACbxK,KAAK2rD,SAASthD,OAGdrK,KAAKgtD,SAAU,EACfhtD,KAAK0rD,QAAQlhD,MACbxK,KAAK2rD,SAASnhD,QAGlBxK,KAAKyvD,OAAOzvD,KAAKmsD,QAAQ/6C,Y,EAG7Bs1C,EAAOnmD,UAAUmoD,OAAS,SAASxM,GAC7Bl8C,KAAKmsD,UACPnsD,KAAKmsD,QAAQzD,OAAOxM,GACpBl8C,KAAK0sD,QACA1sD,KAAK2sD,WACJzQ,GACFl8C,KAAKgtD,SAAU,EACfhtD,KAAK0rD,QAAQlhD,MACbxK,KAAK2rD,SAASthD,OAGdrK,KAAKgtD,SAAU,EACfhtD,KAAK0rD,QAAQlhD,MACbxK,KAAK2rD,SAASnhD,QAGlBxK,KAAKyvD,OAAOzvD,KAAKmsD,QAAQ/6C,Y,EAI7Bs1C,EAAOnmD,UAAU6nD,MAAQ,SAAStoD,GAAK,OAAOE,KAAKmsD,QAAUnsD,KAAKmsD,QAAQ/D,MAAMtoD,GAAK,C,EAKrF4mD,EAAOnmD,UAAUmvD,WAAa,SAASpnD,GACjCqnD,EAAUrnD,IAAMtI,KAAKmsD,UAClBnsD,KAAK4uD,OAAOtmD,EAAEsnD,iBACnB5vD,KAAKksD,MAAMxkC,MAAMkjC,gBAAkB,OACnC5qD,KAAK6vD,YAAc7vD,KAAK2sD,SACxB3sD,KAAKmsD,QAAQvE,QACb5nD,KAAK8vD,QAAUxnD,EAAEynD,QACjB/vD,KAAKgwD,UAAY5rC,SAASpkB,KAAKksD,MAAMxkC,MAAMmlC,MAAQ,E,EAGvDnG,EAAOnmD,UAAU0vD,WAAa,SAAS3nD,GACjCqnD,EAAUrnD,KACPtI,KAAK4uD,OAAOtmD,EAAEsnD,iBACnB5vD,KAAKkwD,QAAU9rC,SAASpkB,KAAKsqD,IAAI5iC,MAAMmlC,MACvC7sD,KAAKmwD,QAAU/rC,SAASpkB,KAAKsqD,IAAI5iC,MAAM0oC,KACvCpwD,KAAKqwD,QAAU/nD,EAAEynD,QACjB/vD,KAAKswD,QAAUhoD,EAAEioD,Q,EAGrB7J,EAAOnmD,UAAUiwD,SAAW,WACtBxwD,KAAKmsD,cACoB,IAAhBnsD,KAAK8vD,UACV9vD,KAAK6vD,cACP7vD,KAAK6vD,iBAAcpiD,EACnBzN,KAAKmsD,QAAQ7oB,UAEftjC,KAAKksD,MAAMxkC,MAAMkjC,gBAAkB,OACnC5qD,KAAK8vD,aAAUriD,QAGQ,IAAhBzN,KAAKkwD,UACdlwD,KAAKkwD,aAAUziD,EACfzN,KAAKmwD,aAAU1iD,EACfzN,KAAKqwD,aAAU5iD,EACfzN,KAAKswD,aAAU7iD,E,EAGnBi5C,EAAOnmD,UAAUkwD,WAAa,SAASnoD,GAOrC,GANItI,KAAK4uD,QACP5uD,KAAKkwD,aAAUziD,EACfzN,KAAKmwD,aAAU1iD,EACfzN,KAAKqwD,aAAU5iD,EACfzN,KAAKswD,aAAU7iD,GAEbzN,KAAKmsD,cAAkC,IAAhBnsD,KAAK8vD,QAAwB,CACtDxnD,EAAEsnD,iBACF,IAAIc,EAAK1wD,KAAKgwD,UAAY1nD,EAAEynD,QAAU/vD,KAAK8vD,QACvCY,EAAK,IAAGA,EAAK,GACbA,EAAK1wD,KAAK4sD,OAAM8D,EAAK1wD,KAAK4sD,MAC9B5sD,KAAK0oD,OAAO1oD,KAAKqoD,aAAeqI,EAAK,EAAM1wD,KAAK4sD,K,WAElB,IAAhB5sD,KAAKkwD,UACnB5nD,EAAEsnD,iBACF5vD,KAAKsqD,IAAI5iC,MAAMmlC,KAAO7sD,KAAKkwD,QAAUlwD,KAAKqwD,QAAU/nD,EAAEynD,QAAU,KAChE/vD,KAAKsqD,IAAI5iC,MAAM0oC,IAAMpwD,KAAKmwD,QAAUnwD,KAAKswD,QAAUhoD,EAAEioD,QAAU,K,EAInE7J,EAAOnmD,UAAUsjB,SAAW6iC,EAAOnmD,UAAU+lB,QAC7CogC,EAAOnmD,UAAUujB,YAAc4iC,EAAOnmD,UAAUgmB,WAEhDmgC,EAAOnmD,UAAU+lB,QAAU,SAAS7R,GAC9BA,GAAQzU,MACVA,KAAK+rD,OAAQ,EACb/rD,KAAK8rD,QAAQthD,OAGbxK,KAAK6jB,SAASpP,E,EAGlBiyC,EAAOnmD,UAAUgmB,WAAa,SAAS9R,GACjCA,GAAQzU,MACVA,KAAK+rD,OAAQ,EACT/rD,KAAKitD,MAAMjtD,KAAK8jB,YAAY9jB,KAAKitD,MACrCjtD,KAAKotD,cAAW3/C,EAChBzN,KAAK8rD,QAAQpB,WAGb1qD,KAAK8jB,YAAYrP,E,EAGrBiyC,EAAOnmD,UAAUimB,UAAY,WAAa,OAAOxmB,KAAKotD,Q,EAEtDvgC,EAAIy9B,IAAI5D,OAASA,CAhtBG,CAGpB,SAAS+D,IAAM,CAGf,SAASE,EAAIa,GACXxrD,KAAKunB,IAAMC,SAASC,cAAc,OAClCznB,KAAKunB,IAAIG,MAAMinC,QAAU,eACzB3uD,KAAKunB,IAAIG,MAAMtW,SAAW,WAC1BpR,KAAKunB,IAAIG,MAAMipC,UAAY,cAC3B3wD,KAAKunB,IAAIG,MAAM0oC,IAAM,MACrBpwD,KAAKunB,IAAIG,MAAMkpC,OAAS,IACxB5wD,KAAKunB,IAAIG,MAAMmpC,QAAU,MACzB7wD,KAAKunB,IAAIG,MAAMopC,YAAc,QAC7B9wD,KAAKunB,IAAIG,MAAMqpC,YAAc,MAC7B/wD,KAAKunB,IAAIG,MAAMmjC,YAAc,OAC7B7qD,KAAKunB,IAAIG,MAAMkjC,gBAAkB,OACjC5qD,KAAKunB,IAAIG,MAAMspC,WAAa,IAC5BhxD,KAAKunB,IAAIG,MAAMupC,YAAc,IAC7BjxD,KAAKunB,IAAIG,MAAMI,MAAQ,OACvB9nB,KAAKunB,IAAIG,MAAMK,OAAS,OACxB/nB,KAAKunB,IAAIkkC,UAAYD,C,CA2BvB,SAAS0F,EAAU5oD,GAAKA,EAAE6oD,kBAAmB7oD,EAAEsnD,gB,CAE/C,SAASwB,EAAWpyC,EAAM5O,GACxB4O,EAAKsrC,IAAM9iC,SAASC,cAAc,OAClCzI,EAAKsrC,IAAI5iC,MAAMinC,QAAU,eACzB3vC,EAAKsrC,IAAI5iC,MAAMtW,SAAW,WAC1B4N,EAAKsrC,IAAI5iC,MAAMipC,UAAY,cAC3B3xC,EAAKsrC,IAAI5iC,MAAMkpC,OAAS,MACxB5xC,EAAKsrC,IAAI5iC,MAAMmpC,QAAU,MACzB7xC,EAAKsrC,IAAI5iC,MAAMopC,YAAc,OAC7B9xC,EAAKsrC,IAAI5iC,MAAMkjC,gBAAkB,OACjC5rC,EAAKsrC,IAAI5iC,MAAMI,MAAQ,QACvB9I,EAAKsrC,IAAI5iC,MAAMK,OAAS,OAExB,IAAI8kC,EAAO,EACPwE,EAAQ,IACRC,EAAO,GAEPlhD,EAAIk3C,MACNtoC,EAAK0sC,QAAU,IAAIf,EAAII,GACvB/rC,EAAK0sC,QAAQnkC,IAAIG,MAAMmlC,KAAOA,EAAO,KACrCA,GAAQyE,EACRtyC,EAAK0sC,QAAQnkC,IAAIvd,MAAQ,OACzBgV,EAAK0sC,QAAQnkC,IAAIrX,iBAAiB,SAAS,WAAa8O,EAAKsoC,M,IAC7DtoC,EAAKsrC,IAAIziC,YAAY7I,EAAK0sC,QAAQnkC,MAE/BvI,EAAK0sC,QAAUlB,EAEhBp6C,EAAIw3C,OACN5oC,EAAK2sC,SAAW,IAAIhB,EAAIK,GACxBhsC,EAAK2sC,SAASpkC,IAAIG,MAAMmlC,KAAOA,EAAO,KACtCA,GAAQyE,EACRtyC,EAAK2sC,SAASpkC,IAAIvd,MAAQ,QAC1BgV,EAAK2sC,SAASpkC,IAAIrX,iBAAiB,SAAS,WAAa8O,EAAK4oC,O,IAC9D5oC,EAAKsrC,IAAIziC,YAAY7I,EAAK2sC,SAASpkC,MAEhCvI,EAAK2sC,SAAWnB,EAEjBp6C,EAAI+lB,MACNnX,EAAK4sC,QAAU,IAAIjB,EAAIM,GACvBjsC,EAAK4sC,QAAQrkC,IAAIG,MAAMmlC,KAAOA,EAAO,KACrCA,GAAQyE,EACRtyC,EAAK4sC,QAAQrkC,IAAIvd,MAAQ,OACzBgV,EAAK4sC,QAAQrkC,IAAIrX,iBAAiB,SAAS,WAAa8O,EAAKmX,M,IAC7DnX,EAAKsrC,IAAIziC,YAAY7I,EAAK4sC,QAAQrkC,MAE/BvI,EAAK4sC,QAAUpB,EAEhBp6C,EAAIs8B,MACN1tB,EAAK6sC,QAAU,IAAIlB,EAAIO,GACvBlsC,EAAK6sC,QAAQtkC,IAAIG,MAAMmlC,KAAOA,EAAO,KACrCA,GAAQyE,EACRtyC,EAAK6sC,QAAQtkC,IAAIvd,MAAQ,OACzBgV,EAAK6sC,QAAQtkC,IAAIrX,iBAAiB,SAAS,WAAa8O,EAAK0tB,M,IAC7D1tB,EAAKsrC,IAAIziC,YAAY7I,EAAK6sC,QAAQtkC,MAE/BvI,EAAK6sC,QAAUrB,EAEhBp6C,EAAIqY,MACNzJ,EAAK8sC,QAAU,IAAInB,EAAIQ,GACvBnsC,EAAK8sC,QAAQvkC,IAAIG,MAAMmlC,KAAOwE,EAAQ,KACtCA,GAASC,EACTtyC,EAAK8sC,QAAQvkC,IAAIvd,MAAQ,OACzBgV,EAAK8sC,QAAQvkC,IAAIrX,iBAAiB,SAAS,WAAa8O,EAAK6vC,U,IAC7D7vC,EAAKsrC,IAAIziC,YAAY7I,EAAK8sC,QAAQvkC,KAElCvI,EAAK0vC,IAAMlnC,SAASC,cAAc,UAClCzI,EAAK0vC,IAAIhnC,MAAMtW,SAAW,WAC1B4N,EAAK0vC,IAAIhnC,MAAM0oC,IAAM,OACrBpxC,EAAK0vC,IAAIhnC,MAAMmlC,KAAO,OACtB7tC,EAAK0vC,IAAIhnC,MAAMI,MAAQ,QACvB9I,EAAK0vC,IAAIhnC,MAAMinC,QAAU,OACzB3vC,EAAK0vC,IAAIhnC,MAAM6pC,OAAS,EACxBvyC,EAAK0vC,IAAIx+C,iBAAiB,SAAS,WAAa8O,EAAKowC,W,IACrDpwC,EAAK0vC,IAAIx+C,iBAAiB,WAAW,SAAS5H,GAAK0W,EAAKuwC,SAASjnD,E,IACjE0W,EAAK0vC,IAAIx+C,iBAAiB,YAAY,WAAa8O,EAAKyvC,c,IAExDzvC,EAAKsrC,IAAIziC,YAAY7I,EAAK0vC,MAEvB1vC,EAAK8sC,QAAUtB,EAEhBp6C,EAAIohD,OACNxyC,EAAK6uC,QAAU,IAAIlD,EAAIU,GACvBrsC,EAAK6uC,QAAQtmC,IAAIG,MAAMmlC,KAAOwE,EAAQ,KACtCA,GAASC,EACTtyC,EAAK6uC,QAAQtmC,IAAIvd,MAAQ,OACzBgV,EAAKsrC,IAAIziC,YAAY7I,EAAK6uC,QAAQtmC,MAGhCnX,EAAIi6C,MACNrrC,EAAKgtC,QAAU,IAAIrB,EAAIS,GACvBpsC,EAAKgtC,QAAQzkC,IAAIG,MAAMmlC,KAAOwE,EAAQ,KACtCA,GAASC,EACTtyC,EAAKgtC,QAAQzkC,IAAIvd,MAAQ,OACzBgV,EAAKsrC,IAAIziC,YAAY7I,EAAKgtC,QAAQzkC,KAElCvI,EAAKyyC,UAAYjqC,SAASC,cAAc,SACxCzI,EAAKyyC,UAAUrjD,KAAO,OACtB4Q,EAAKyyC,UAAU/pC,MAAMtW,SAAW,QAChC4N,EAAKyyC,UAAU/pC,MAAM0oC,IAAM,UAC3BpxC,EAAKyyC,UAAUC,OAAS,gCACxB1yC,EAAKsrC,IAAIziC,YAAY7I,EAAKyyC,WAEtBt0C,OAAOkxC,aACTrvC,EAAKgtC,QAAQxhD,MACbwU,EAAKgtC,QAAQzkC,IAAIrX,iBAAiB,SAAS,WAAa8O,EAAKyyC,UAAUE,O,IACvE3yC,EAAKyyC,UAAUvhD,iBAAiB,UAAU,SAAS5H,GAAK4oD,EAAU5oD,GAAQA,EAAEuD,OAAO+lD,MAAM,IAAI5yC,EAAKmvC,SAAS7lD,EAAEuD,OAAO+lD,MAAM,G,IAC1H5yC,EAAKsrC,IAAIp6C,iBAAiB,QAAQ,SAAS5H,GAAK4oD,EAAU5oD,GAAI0W,EAAKgtC,QAAQxhD,MAAOwU,EAAKmvC,SAAS7lD,EAAEupD,aAAaD,MAAM,G,IACrH5yC,EAAKsrC,IAAIp6C,iBAAiB,YAAY,SAAS5H,GAAK4oD,EAAU5oD,GAAI0W,EAAKgtC,QAAQ3hD,KAAM/B,EAAEupD,aAAaC,WAAa,M,IACjH9yC,EAAKsrC,IAAIp6C,iBAAiB,YAAY,SAAS5H,GAAK4oD,EAAU5oD,GAAI0W,EAAKgtC,QAAQxhD,K,MAG9EwU,EAAKgtC,QAAUxB,EAEhBp6C,EAAI0Q,QACN9B,EAAK+yC,SAAWvqC,SAASC,cAAc,OACvCzI,EAAK+yC,SAASrqC,MAAMinC,QAAU,eAC9B3vC,EAAK+yC,SAASrqC,MAAMtW,SAAW,WAC/B4N,EAAK+yC,SAASrqC,MAAMipC,UAAY,cAChC3xC,EAAK+yC,SAASrqC,MAAM0oC,IAAM,MAC1BpxC,EAAK+yC,SAASrqC,MAAMmlC,KAAO,QAC3B7tC,EAAK+yC,SAASrqC,MAAMkpC,OAAS,IAC7B5xC,EAAK+yC,SAASrqC,MAAMmpC,QAAU,IAC9B7xC,EAAK+yC,SAASrqC,MAAMkjC,gBAAkB,OACtC5rC,EAAK+yC,SAASrqC,MAAMI,MAAQ,MAC5B9I,EAAK+yC,SAASrqC,MAAMK,OAAS,MAC7B/I,EAAK+yC,SAASrqC,MAAMspC,WAAa,IACjChyC,EAAK+yC,SAASrqC,MAAMupC,YAAc,IAClCjyC,EAAK+yC,SAAStG,UAAYH,EAC1BtsC,EAAK+yC,SAAS/nD,MAAQ,QACtBgV,EAAK+yC,SAAS7hD,iBAAiB,SAAS,WAAa8O,EAAKwuC,S,IAC1DxuC,EAAKsrC,IAAIziC,YAAY7I,EAAK+yC,WAG5B/yC,EAAK4tC,KAAOyE,EAAQxE,EAAO,GAE3B7tC,EAAK0mB,IAAMle,SAASC,cAAc,OAClCzI,EAAK0mB,IAAIhe,MAAMinC,QAAU,eACzB3vC,EAAK0mB,IAAIhe,MAAMtW,SAAW,WAC1B4N,EAAK0mB,IAAIhe,MAAM0oC,IAAM,OACrBpxC,EAAK0mB,IAAIhe,MAAMmlC,KAAOA,EAAO,KAC7B7tC,EAAK0mB,IAAIhe,MAAMI,MAAQ9I,EAAM4tC,KAAO,GAAM,KAC1C5tC,EAAK0mB,IAAIhe,MAAMK,OAAS,OACxB/I,EAAK0mB,IAAIhe,MAAMmpC,QAAU,IACzB7xC,EAAK0mB,IAAIhe,MAAMsqC,UAAY,SAC3BhzC,EAAK0mB,IAAIhe,MAAMhO,MAAQ,OACvBsF,EAAK0mB,IAAIhe,MAAMuqC,SAAW,OAC1BjzC,EAAK0mB,IAAIhe,MAAMwqC,WAAa,+BAC5BlzC,EAAKsrC,IAAIziC,YAAY7I,EAAK0mB,KAE1B1mB,EAAKitC,KAAOzkC,SAASC,cAAc,OACnCzI,EAAKitC,KAAKvkC,MAAMinC,QAAU,eAC1B3vC,EAAKitC,KAAKvkC,MAAMtW,SAAW,WAC3B4N,EAAKitC,KAAKvkC,MAAMipC,UAAY,cAC5B3xC,EAAKitC,KAAKvkC,MAAM0oC,IAAM,OACtBpxC,EAAKitC,KAAKvkC,MAAMmlC,KAAOA,EAAQ,EAAK,KACpC7tC,EAAKitC,KAAKvkC,MAAMI,MAAQ9I,EAAK4tC,KAAO,KACpC5tC,EAAKitC,KAAKvkC,MAAMK,OAAS,IACzB/I,EAAKitC,KAAKvkC,MAAMmpC,QAAU,MAC1B7xC,EAAKitC,KAAKvkC,MAAMopC,YAAc,QAC9B9xC,EAAKitC,KAAKvkC,MAAMqpC,YAAc,MAC9B/xC,EAAKitC,KAAKvkC,MAAMyqC,aAAe,MAC/BnzC,EAAKitC,KAAKvkC,MAAMmjC,YAAc,OAC9B7rC,EAAKitC,KAAKvkC,MAAMkjC,gBAAkB,OAClC5rC,EAAKsrC,IAAIziC,YAAY7I,EAAKitC,MAE1BjtC,EAAKktC,MAAQ1kC,SAASC,cAAc,OACpCzI,EAAKktC,MAAMxkC,MAAMinC,QAAU,eAC3B3vC,EAAKktC,MAAMxkC,MAAMtW,SAAW,WAC5B4N,EAAKktC,MAAMxkC,MAAMipC,UAAY,cAC7B3xC,EAAKktC,MAAMxkC,MAAMI,MAAQ,MACzB9I,EAAKktC,MAAMxkC,MAAMK,OAAS,MAC1B/I,EAAKktC,MAAMxkC,MAAM0oC,IAAM,OACvBpxC,EAAKktC,MAAMxkC,MAAMmlC,KAAO,OACxB7tC,EAAKktC,MAAMxkC,MAAMmpC,QAAU,MAC3B7xC,EAAKktC,MAAMxkC,MAAMopC,YAAc,QAC/B9xC,EAAKktC,MAAMxkC,MAAMqpC,YAAc,MAC/B/xC,EAAKktC,MAAMxkC,MAAMyqC,aAAe,MAChCnzC,EAAKktC,MAAMxkC,MAAMmjC,YAAc,OAC/B7rC,EAAKktC,MAAMxkC,MAAMkjC,gBAAkB,OACnC5rC,EAAKktC,MAAMh8C,iBAAiB,aAAa,SAAS5H,GAAK0W,EAAK0wC,WAAWpnD,E,IACvE0W,EAAKitC,KAAKpkC,YAAY7I,EAAKktC,OAE3B/uC,OAAOjN,iBAAiB,aAAa,SAAS5H,GAAK0W,EAAKyxC,WAAWnoD,E,IACnE6U,OAAOjN,iBAAiB,WAAW,SAAS5H,GAAK0W,EAAKwxC,SAASloD,E,IAIjE,SAASo+C,EAAO5mD,EAAGC,GACjB,KAAMC,gBAAgB0mD,GAAS,OAAO,IAAIA,EAAO5mD,EAAGC,GACpD,IAAIqQ,EAAM,CACRg6C,QAAI38C,EACJ3N,OAAG2N,EACH1N,OAAG0N,EACH65C,MAAM,EACN8K,QAAQ,EACRxK,OAAO,EACPzxB,MAAM,EACNuW,MAAM,EACN2d,MAAM,EACNmH,MAAM,EACN/oC,MAAM,EACN3H,OAAO,EACPuxC,QAAQ,EACR9oB,MAAO,MAAC97B,E,iBACR6Y,SAAS,GAEX,GAAgB,iBAALxmB,EAAe,IAAK,IAAImd,KAAK7M,EAASA,EAAI0P,eAAe7C,SAAqB,IAARnd,EAAEmd,KAAmB7M,EAAI6M,GAAKnd,EAAEmd,IAYjH,QAXqB,IAAV7M,EAAIg6C,KAAmBh6C,EAAIg6C,GAAKtqD,QACvB,IAATsQ,EAAItQ,IAAkBsQ,EAAItQ,EAAIA,QACrB,IAATsQ,EAAIrQ,IAAkBqQ,EAAIrQ,EAAIA,GACzCqxD,EAAWpxD,KAAMoQ,GACXA,EAAIm5B,iBAAiB5/B,QAAQyG,EAAIm5B,MAAQ,CAACn5B,EAAIm5B,QACpDn5B,EAAIm5B,MAAMz/B,UAAK2D,GACfzN,KAAKmtD,OAAS/8C,EAAIm5B,MAClBvpC,KAAK+rD,MAAQ37C,EAAIkW,QACjBtmB,KAAKssD,QAAUl8C,EAAIiiD,OACnBryD,KAAK0qD,UAEgB,iBAAVt6C,EAAIg6C,GACb,IAEE,OADA5iC,SAASyB,eAAe7Y,EAAIg6C,IAAIviC,YAAY7nB,KAAKsqD,KAC1CtqD,IAEA,CAAT,MAAMsI,GAAG,CAEX,IAEE,OADA8H,EAAIg6C,GAAGviC,YAAY7nB,KAAKsqD,KACjBtqD,IAEA,CAAT,MAAMwI,GAAG,CAEL4H,EAAItQ,GAAKskB,SAAShU,EAAItQ,IAAMsQ,EAAIrQ,GAAKqkB,SAAShU,EAAIrQ,KACpDqQ,EAAItQ,EAAgB,GAAZyrD,EAAiB,EACzBn7C,EAAIrQ,EAAgB,GAAZwrD,EAAiB,EACzBA,KAEFvrD,KAAKsqD,IAAI5iC,MAAMtW,SAAW,QAC1BpR,KAAKsqD,IAAI5iC,MAAM0oC,IAAMhgD,EAAIrQ,EAAI,KAC7BC,KAAKsqD,IAAI5iC,MAAMmlC,KAAOz8C,EAAItQ,EAAI,KAC9BE,KAAKsqD,IAAI5iC,MAAM4qC,QAAU,GACzB,IAAItzC,EAAOhf,KACXA,KAAKsqD,IAAIp6C,iBAAiB,aAAa,SAAS5H,GAAK0W,EAAKixC,WAAW3nD,E,IACrEkf,SAASI,KAAKC,YAAY7nB,KAAKsqD,I,CAuVjC,SAASqF,EAAUrnD,GAAK,YAA2B,IAAbA,EAAEiqD,SAA0BjqD,EAAEkqD,OAAqB,EAAZlqD,EAAEiqD,O,GDjoBjF33C,EAAAswB,EAAA,CAAatwB,EAAAmC,IACbnC,EAAAgpC,EAAA,CAAWhpC,EAAAmC,IACXnC,EAAA2vC,GAAA,CAAa3vC,EAAAmC,IACbnC,EAAAmC,GAAIouB,MAAMC,KAAK9/B,SAAS,6B,kBE4BxBmnD,eAAeC,GACbC,GAGA,MAAMC,EAAiC,yBACjCC,EAAyBrrC,SAASsrC,cACtCF,GAEF,GAA+B,OAA3BC,EAAiC,CAEnC,MAAM,IAAI5qD,MADK,oD,CAIjB,MAAM8qD,EAAgB,IAAI7gD,EAAqBygD,GACzCK,EAAmBD,EAAczgD,QAAQ7C,KAAKsjD,GACpD/I,GAAgB6I,EAAwBG,GAExC,IAAIC,EAAwB,EAE5B,MAAMC,EAAa,KACjBL,EAAuBnrC,MAAM4qC,QAAU,MACvC7pD,aAAawqD,GACbA,EAAwB5qD,YAAW,KACjCwqD,EAAuBnrC,MAAM4qC,QAAU,KAAK,GAC3C,IAAK,EAQV,OALAY,IACA/1C,OAAOjN,iBAAiB,YAAagjD,GAErCjkD,QAAQoQ,IAAI,sCAELzS,QAAQC,QAAQkmD,EACO,EAGhCN,iBACE,MAAME,EAAuB,CAAE3gD,YAAamhD,GAAA/4C,QAAQg5C,kBAC9CC,aAAEA,GAAiBF,GAAA/4C,QACzB,IAAI1F,EAEFA,OAD0B,IAAjB2+C,QAzDbZ,eACEY,EACAV,GAGA,MAAM79C,QAAmBsT,UAAUC,oBACnCpZ,QAAQoQ,IAAI,oCAAoCg0C,UAChD,MAAMC,QAAkB9+C,EAAU++C,oBAChCz+C,EACAu+C,EACAV,GAGF,OADA1jD,QAAQoQ,IAAI,2BAA4Bi0C,GACjCA,EAAU99C,cACa,CA4CVg+C,CAAeH,EAAcV,SAE7BD,GAAgBC,GA1EtC,SAA0Cj+C,GACxCA,EAAUrK,GAAG,UAAWgS,GACxB3H,EAAUrK,GAAG,WAAY+R,GACzB1H,EAAUrK,GAAG,sBAAuBmR,GACpC9G,EAAUrK,GAAG,2BAA4BuR,GACzClH,EAAUrK,GAAG,gCAAiCyR,GAC9CpH,EAAUrK,GAAG,+BAAgC0R,GAC7CrH,EAAUrK,GACR,qCACA2R,GAEFtH,EAAUrK,GAAG,uBAAwBsS,E,CAiErC82C,CAAiC/+C,E,EAInCg/C,GAAOC,OAAOrrD,GAAM2G,QAAQ8B,MAAM,+BAAgCzI,I","sources":["node_modules/victor/index.js","node_modules/jazz-midi/index.js","node_modules/process/browser.js","node_modules/@parcel/runtime-js/lib/runtime-08f6873e7280432b.js","node_modules/events/events.js","midi-message-processor.ts","midi-input.ts","adsr-envelope.ts","note-envelope-splash.ts","note.ts","script.ts","note-splasher.ts","node_modules/jzz/javascript/JZZ.js","node_modules/jzz-synth-tiny/javascript/JZZ.synth.Tiny.js","node_modules/buffer/index.js","node_modules/base64-js/index.js","node_modules/ieee754/index.js","node_modules/jzz-midi-smf/javascript/JZZ.midi.SMF.js","jzz.ts","node_modules/jzz-gui-player/javascript/JZZ.gui.Player.js","midi-viz.ts"],"sourcesContent":["exports = module.exports = Victor;\n\n/**\n * # Victor - A JavaScript 2D vector class with methods for common vector operations\n */\n\n/**\n * Constructor. Will also work without the `new` keyword\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 50);\n *     var vec2 = Victor(42, 1337);\n *\n * @param {Number} x Value of the x axis\n * @param {Number} y Value of the y axis\n * @return {Victor}\n * @api public\n */\nfunction Victor (x, y) {\n\tif (!(this instanceof Victor)) {\n\t\treturn new Victor(x, y);\n\t}\n\n\t/**\n\t * The X axis\n\t *\n\t * ### Examples:\n\t *     var vec = new Victor.fromArray(42, 21);\n\t *\n\t *     vec.x;\n\t *     // => 42\n\t *\n\t * @api public\n\t */\n\tthis.x = x || 0;\n\n\t/**\n\t * The Y axis\n\t *\n\t * ### Examples:\n\t *     var vec = new Victor.fromArray(42, 21);\n\t *\n\t *     vec.y;\n\t *     // => 21\n\t *\n\t * @api public\n\t */\n\tthis.y = y || 0;\n};\n\n/**\n * # Static\n */\n\n/**\n * Creates a new instance from an array\n *\n * ### Examples:\n *     var vec = Victor.fromArray([42, 21]);\n *\n *     vec.toString();\n *     // => x:42, y:21\n *\n * @name Victor.fromArray\n * @param {Array} array Array with the x and y values at index 0 and 1 respectively\n * @return {Victor} The new instance\n * @api public\n */\nVictor.fromArray = function (arr) {\n\treturn new Victor(arr[0] || 0, arr[1] || 0);\n};\n\n/**\n * Creates a new instance from an object\n *\n * ### Examples:\n *     var vec = Victor.fromObject({ x: 42, y: 21 });\n *\n *     vec.toString();\n *     // => x:42, y:21\n *\n * @name Victor.fromObject\n * @param {Object} obj Object with the values for x and y\n * @return {Victor} The new instance\n * @api public\n */\nVictor.fromObject = function (obj) {\n\treturn new Victor(obj.x || 0, obj.y || 0);\n};\n\n/**\n * # Manipulation\n *\n * These functions are chainable.\n */\n\n/**\n * Adds another vector's X axis to this one\n *\n * ### Examples:\n *     var vec1 = new Victor(10, 10);\n *     var vec2 = new Victor(20, 30);\n *\n *     vec1.addX(vec2);\n *     vec1.toString();\n *     // => x:30, y:10\n *\n * @param {Victor} vector The other vector you want to add to this one\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.addX = function (vec) {\n\tthis.x += vec.x;\n\treturn this;\n};\n\n/**\n * Adds another vector's Y axis to this one\n *\n * ### Examples:\n *     var vec1 = new Victor(10, 10);\n *     var vec2 = new Victor(20, 30);\n *\n *     vec1.addY(vec2);\n *     vec1.toString();\n *     // => x:10, y:40\n *\n * @param {Victor} vector The other vector you want to add to this one\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.addY = function (vec) {\n\tthis.y += vec.y;\n\treturn this;\n};\n\n/**\n * Adds another vector to this one\n *\n * ### Examples:\n *     var vec1 = new Victor(10, 10);\n *     var vec2 = new Victor(20, 30);\n *\n *     vec1.add(vec2);\n *     vec1.toString();\n *     // => x:30, y:40\n *\n * @param {Victor} vector The other vector you want to add to this one\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.add = function (vec) {\n\tthis.x += vec.x;\n\tthis.y += vec.y;\n\treturn this;\n};\n\n/**\n * Adds the given scalar to both vector axis\n *\n * ### Examples:\n *     var vec = new Victor(1, 2);\n *\n *     vec.addScalar(2);\n *     vec.toString();\n *     // => x: 3, y: 4\n *\n * @param {Number} scalar The scalar to add\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.addScalar = function (scalar) {\n\tthis.x += scalar;\n\tthis.y += scalar;\n\treturn this;\n};\n\n/**\n * Adds the given scalar to the X axis\n *\n * ### Examples:\n *     var vec = new Victor(1, 2);\n *\n *     vec.addScalarX(2);\n *     vec.toString();\n *     // => x: 3, y: 2\n *\n * @param {Number} scalar The scalar to add\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.addScalarX = function (scalar) {\n\tthis.x += scalar;\n\treturn this;\n};\n\n/**\n * Adds the given scalar to the Y axis\n *\n * ### Examples:\n *     var vec = new Victor(1, 2);\n *\n *     vec.addScalarY(2);\n *     vec.toString();\n *     // => x: 1, y: 4\n *\n * @param {Number} scalar The scalar to add\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.addScalarY = function (scalar) {\n\tthis.y += scalar;\n\treturn this;\n};\n\n/**\n * Subtracts the X axis of another vector from this one\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 50);\n *     var vec2 = new Victor(20, 30);\n *\n *     vec1.subtractX(vec2);\n *     vec1.toString();\n *     // => x:80, y:50\n *\n * @param {Victor} vector The other vector you want subtract from this one\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.subtractX = function (vec) {\n\tthis.x -= vec.x;\n\treturn this;\n};\n\n/**\n * Subtracts the Y axis of another vector from this one\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 50);\n *     var vec2 = new Victor(20, 30);\n *\n *     vec1.subtractY(vec2);\n *     vec1.toString();\n *     // => x:100, y:20\n *\n * @param {Victor} vector The other vector you want subtract from this one\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.subtractY = function (vec) {\n\tthis.y -= vec.y;\n\treturn this;\n};\n\n/**\n * Subtracts another vector from this one\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 50);\n *     var vec2 = new Victor(20, 30);\n *\n *     vec1.subtract(vec2);\n *     vec1.toString();\n *     // => x:80, y:20\n *\n * @param {Victor} vector The other vector you want subtract from this one\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.subtract = function (vec) {\n\tthis.x -= vec.x;\n\tthis.y -= vec.y;\n\treturn this;\n};\n\n/**\n * Subtracts the given scalar from both axis\n *\n * ### Examples:\n *     var vec = new Victor(100, 200);\n *\n *     vec.subtractScalar(20);\n *     vec.toString();\n *     // => x: 80, y: 180\n *\n * @param {Number} scalar The scalar to subtract\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.subtractScalar = function (scalar) {\n\tthis.x -= scalar;\n\tthis.y -= scalar;\n\treturn this;\n};\n\n/**\n * Subtracts the given scalar from the X axis\n *\n * ### Examples:\n *     var vec = new Victor(100, 200);\n *\n *     vec.subtractScalarX(20);\n *     vec.toString();\n *     // => x: 80, y: 200\n *\n * @param {Number} scalar The scalar to subtract\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.subtractScalarX = function (scalar) {\n\tthis.x -= scalar;\n\treturn this;\n};\n\n/**\n * Subtracts the given scalar from the Y axis\n *\n * ### Examples:\n *     var vec = new Victor(100, 200);\n *\n *     vec.subtractScalarY(20);\n *     vec.toString();\n *     // => x: 100, y: 180\n *\n * @param {Number} scalar The scalar to subtract\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.subtractScalarY = function (scalar) {\n\tthis.y -= scalar;\n\treturn this;\n};\n\n/**\n * Divides the X axis by the x component of given vector\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *     var vec2 = new Victor(2, 0);\n *\n *     vec.divideX(vec2);\n *     vec.toString();\n *     // => x:50, y:50\n *\n * @param {Victor} vector The other vector you want divide by\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.divideX = function (vector) {\n\tthis.x /= vector.x;\n\treturn this;\n};\n\n/**\n * Divides the Y axis by the y component of given vector\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *     var vec2 = new Victor(0, 2);\n *\n *     vec.divideY(vec2);\n *     vec.toString();\n *     // => x:100, y:25\n *\n * @param {Victor} vector The other vector you want divide by\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.divideY = function (vector) {\n\tthis.y /= vector.y;\n\treturn this;\n};\n\n/**\n * Divides both vector axis by a axis values of given vector\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *     var vec2 = new Victor(2, 2);\n *\n *     vec.divide(vec2);\n *     vec.toString();\n *     // => x:50, y:25\n *\n * @param {Victor} vector The vector to divide by\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.divide = function (vector) {\n\tthis.x /= vector.x;\n\tthis.y /= vector.y;\n\treturn this;\n};\n\n/**\n * Divides both vector axis by the given scalar value\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.divideScalar(2);\n *     vec.toString();\n *     // => x:50, y:25\n *\n * @param {Number} The scalar to divide by\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.divideScalar = function (scalar) {\n\tif (scalar !== 0) {\n\t\tthis.x /= scalar;\n\t\tthis.y /= scalar;\n\t} else {\n\t\tthis.x = 0;\n\t\tthis.y = 0;\n\t}\n\n\treturn this;\n};\n\n/**\n * Divides the X axis by the given scalar value\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.divideScalarX(2);\n *     vec.toString();\n *     // => x:50, y:50\n *\n * @param {Number} The scalar to divide by\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.divideScalarX = function (scalar) {\n\tif (scalar !== 0) {\n\t\tthis.x /= scalar;\n\t} else {\n\t\tthis.x = 0;\n\t}\n\treturn this;\n};\n\n/**\n * Divides the Y axis by the given scalar value\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.divideScalarY(2);\n *     vec.toString();\n *     // => x:100, y:25\n *\n * @param {Number} The scalar to divide by\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.divideScalarY = function (scalar) {\n\tif (scalar !== 0) {\n\t\tthis.y /= scalar;\n\t} else {\n\t\tthis.y = 0;\n\t}\n\treturn this;\n};\n\n/**\n * Inverts the X axis\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.invertX();\n *     vec.toString();\n *     // => x:-100, y:50\n *\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.invertX = function () {\n\tthis.x *= -1;\n\treturn this;\n};\n\n/**\n * Inverts the Y axis\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.invertY();\n *     vec.toString();\n *     // => x:100, y:-50\n *\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.invertY = function () {\n\tthis.y *= -1;\n\treturn this;\n};\n\n/**\n * Inverts both axis\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.invert();\n *     vec.toString();\n *     // => x:-100, y:-50\n *\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.invert = function () {\n\tthis.invertX();\n\tthis.invertY();\n\treturn this;\n};\n\n/**\n * Multiplies the X axis by X component of given vector\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *     var vec2 = new Victor(2, 0);\n *\n *     vec.multiplyX(vec2);\n *     vec.toString();\n *     // => x:200, y:50\n *\n * @param {Victor} vector The vector to multiply the axis with\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.multiplyX = function (vector) {\n\tthis.x *= vector.x;\n\treturn this;\n};\n\n/**\n * Multiplies the Y axis by Y component of given vector\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *     var vec2 = new Victor(0, 2);\n *\n *     vec.multiplyX(vec2);\n *     vec.toString();\n *     // => x:100, y:100\n *\n * @param {Victor} vector The vector to multiply the axis with\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.multiplyY = function (vector) {\n\tthis.y *= vector.y;\n\treturn this;\n};\n\n/**\n * Multiplies both vector axis by values from a given vector\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *     var vec2 = new Victor(2, 2);\n *\n *     vec.multiply(vec2);\n *     vec.toString();\n *     // => x:200, y:100\n *\n * @param {Victor} vector The vector to multiply by\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.multiply = function (vector) {\n\tthis.x *= vector.x;\n\tthis.y *= vector.y;\n\treturn this;\n};\n\n/**\n * Multiplies both vector axis by the given scalar value\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.multiplyScalar(2);\n *     vec.toString();\n *     // => x:200, y:100\n *\n * @param {Number} The scalar to multiply by\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.multiplyScalar = function (scalar) {\n\tthis.x *= scalar;\n\tthis.y *= scalar;\n\treturn this;\n};\n\n/**\n * Multiplies the X axis by the given scalar\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.multiplyScalarX(2);\n *     vec.toString();\n *     // => x:200, y:50\n *\n * @param {Number} The scalar to multiply the axis with\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.multiplyScalarX = function (scalar) {\n\tthis.x *= scalar;\n\treturn this;\n};\n\n/**\n * Multiplies the Y axis by the given scalar\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.multiplyScalarY(2);\n *     vec.toString();\n *     // => x:100, y:100\n *\n * @param {Number} The scalar to multiply the axis with\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.multiplyScalarY = function (scalar) {\n\tthis.y *= scalar;\n\treturn this;\n};\n\n/**\n * Normalize\n *\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.normalize = function () {\n\tvar length = this.length();\n\n\tif (length === 0) {\n\t\tthis.x = 1;\n\t\tthis.y = 0;\n\t} else {\n\t\tthis.divide(Victor(length, length));\n\t}\n\treturn this;\n};\n\nVictor.prototype.norm = Victor.prototype.normalize;\n\n/**\n * If the absolute vector axis is greater than `max`, multiplies the axis by `factor`\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.limit(80, 0.9);\n *     vec.toString();\n *     // => x:90, y:50\n *\n * @param {Number} max The maximum value for both x and y axis\n * @param {Number} factor Factor by which the axis are to be multiplied with\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.limit = function (max, factor) {\n\tif (Math.abs(this.x) > max){ this.x *= factor; }\n\tif (Math.abs(this.y) > max){ this.y *= factor; }\n\treturn this;\n};\n\n/**\n * Randomizes both vector axis with a value between 2 vectors\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.randomize(new Victor(50, 60), new Victor(70, 80`));\n *     vec.toString();\n *     // => x:67, y:73\n *\n * @param {Victor} topLeft first vector\n * @param {Victor} bottomRight second vector\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.randomize = function (topLeft, bottomRight) {\n\tthis.randomizeX(topLeft, bottomRight);\n\tthis.randomizeY(topLeft, bottomRight);\n\n\treturn this;\n};\n\n/**\n * Randomizes the y axis with a value between 2 vectors\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.randomizeX(new Victor(50, 60), new Victor(70, 80`));\n *     vec.toString();\n *     // => x:55, y:50\n *\n * @param {Victor} topLeft first vector\n * @param {Victor} bottomRight second vector\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.randomizeX = function (topLeft, bottomRight) {\n\tvar min = Math.min(topLeft.x, bottomRight.x);\n\tvar max = Math.max(topLeft.x, bottomRight.x);\n\tthis.x = random(min, max);\n\treturn this;\n};\n\n/**\n * Randomizes the y axis with a value between 2 vectors\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.randomizeY(new Victor(50, 60), new Victor(70, 80`));\n *     vec.toString();\n *     // => x:100, y:66\n *\n * @param {Victor} topLeft first vector\n * @param {Victor} bottomRight second vector\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.randomizeY = function (topLeft, bottomRight) {\n\tvar min = Math.min(topLeft.y, bottomRight.y);\n\tvar max = Math.max(topLeft.y, bottomRight.y);\n\tthis.y = random(min, max);\n\treturn this;\n};\n\n/**\n * Randomly randomizes either axis between 2 vectors\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.randomizeAny(new Victor(50, 60), new Victor(70, 80));\n *     vec.toString();\n *     // => x:100, y:77\n *\n * @param {Victor} topLeft first vector\n * @param {Victor} bottomRight second vector\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.randomizeAny = function (topLeft, bottomRight) {\n\tif (!! Math.round(Math.random())) {\n\t\tthis.randomizeX(topLeft, bottomRight);\n\t} else {\n\t\tthis.randomizeY(topLeft, bottomRight);\n\t}\n\treturn this;\n};\n\n/**\n * Rounds both axis to an integer value\n *\n * ### Examples:\n *     var vec = new Victor(100.2, 50.9);\n *\n *     vec.unfloat();\n *     vec.toString();\n *     // => x:100, y:51\n *\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.unfloat = function () {\n\tthis.x = Math.round(this.x);\n\tthis.y = Math.round(this.y);\n\treturn this;\n};\n\n/**\n * Rounds both axis to a certain precision\n *\n * ### Examples:\n *     var vec = new Victor(100.2, 50.9);\n *\n *     vec.unfloat();\n *     vec.toString();\n *     // => x:100, y:51\n *\n * @param {Number} Precision (default: 8)\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.toFixed = function (precision) {\n\tif (typeof precision === 'undefined') { precision = 8; }\n\tthis.x = this.x.toFixed(precision);\n\tthis.y = this.y.toFixed(precision);\n\treturn this;\n};\n\n/**\n * Performs a linear blend / interpolation of the X axis towards another vector\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 100);\n *     var vec2 = new Victor(200, 200);\n *\n *     vec1.mixX(vec2, 0.5);\n *     vec.toString();\n *     // => x:150, y:100\n *\n * @param {Victor} vector The other vector\n * @param {Number} amount The blend amount (optional, default: 0.5)\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.mixX = function (vec, amount) {\n\tif (typeof amount === 'undefined') {\n\t\tamount = 0.5;\n\t}\n\n\tthis.x = (1 - amount) * this.x + amount * vec.x;\n\treturn this;\n};\n\n/**\n * Performs a linear blend / interpolation of the Y axis towards another vector\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 100);\n *     var vec2 = new Victor(200, 200);\n *\n *     vec1.mixY(vec2, 0.5);\n *     vec.toString();\n *     // => x:100, y:150\n *\n * @param {Victor} vector The other vector\n * @param {Number} amount The blend amount (optional, default: 0.5)\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.mixY = function (vec, amount) {\n\tif (typeof amount === 'undefined') {\n\t\tamount = 0.5;\n\t}\n\n\tthis.y = (1 - amount) * this.y + amount * vec.y;\n\treturn this;\n};\n\n/**\n * Performs a linear blend / interpolation towards another vector\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 100);\n *     var vec2 = new Victor(200, 200);\n *\n *     vec1.mix(vec2, 0.5);\n *     vec.toString();\n *     // => x:150, y:150\n *\n * @param {Victor} vector The other vector\n * @param {Number} amount The blend amount (optional, default: 0.5)\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.mix = function (vec, amount) {\n\tthis.mixX(vec, amount);\n\tthis.mixY(vec, amount);\n\treturn this;\n};\n\n/**\n * # Products\n */\n\n/**\n * Creates a clone of this vector\n *\n * ### Examples:\n *     var vec1 = new Victor(10, 10);\n *     var vec2 = vec1.clone();\n *\n *     vec2.toString();\n *     // => x:10, y:10\n *\n * @return {Victor} A clone of the vector\n * @api public\n */\nVictor.prototype.clone = function () {\n\treturn new Victor(this.x, this.y);\n};\n\n/**\n * Copies another vector's X component in to its own\n *\n * ### Examples:\n *     var vec1 = new Victor(10, 10);\n *     var vec2 = new Victor(20, 20);\n *     var vec2 = vec1.copyX(vec1);\n *\n *     vec2.toString();\n *     // => x:20, y:10\n *\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.copyX = function (vec) {\n\tthis.x = vec.x;\n\treturn this;\n};\n\n/**\n * Copies another vector's Y component in to its own\n *\n * ### Examples:\n *     var vec1 = new Victor(10, 10);\n *     var vec2 = new Victor(20, 20);\n *     var vec2 = vec1.copyY(vec1);\n *\n *     vec2.toString();\n *     // => x:10, y:20\n *\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.copyY = function (vec) {\n\tthis.y = vec.y;\n\treturn this;\n};\n\n/**\n * Copies another vector's X and Y components in to its own\n *\n * ### Examples:\n *     var vec1 = new Victor(10, 10);\n *     var vec2 = new Victor(20, 20);\n *     var vec2 = vec1.copy(vec1);\n *\n *     vec2.toString();\n *     // => x:20, y:20\n *\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.copy = function (vec) {\n\tthis.copyX(vec);\n\tthis.copyY(vec);\n\treturn this;\n};\n\n/**\n * Sets the vector to zero (0,0)\n *\n * ### Examples:\n *     var vec1 = new Victor(10, 10);\n *\t\t var1.zero();\n *     vec1.toString();\n *     // => x:0, y:0\n *\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.zero = function () {\n\tthis.x = this.y = 0;\n\treturn this;\n};\n\n/**\n * Calculates the dot product of this vector and another\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 50);\n *     var vec2 = new Victor(200, 60);\n *\n *     vec1.dot(vec2);\n *     // => 23000\n *\n * @param {Victor} vector The second vector\n * @return {Number} Dot product\n * @api public\n */\nVictor.prototype.dot = function (vec2) {\n\treturn this.x * vec2.x + this.y * vec2.y;\n};\n\nVictor.prototype.cross = function (vec2) {\n\treturn (this.x * vec2.y ) - (this.y * vec2.x );\n};\n\n/**\n * Projects a vector onto another vector, setting itself to the result.\n *\n * ### Examples:\n *     var vec = new Victor(100, 0);\n *     var vec2 = new Victor(100, 100);\n *\n *     vec.projectOnto(vec2);\n *     vec.toString();\n *     // => x:50, y:50\n *\n * @param {Victor} vector The other vector you want to project this vector onto\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.projectOnto = function (vec2) {\n    var coeff = ( (this.x * vec2.x)+(this.y * vec2.y) ) / ((vec2.x*vec2.x)+(vec2.y*vec2.y));\n    this.x = coeff * vec2.x;\n    this.y = coeff * vec2.y;\n    return this;\n};\n\n\nVictor.prototype.horizontalAngle = function () {\n\treturn Math.atan2(this.y, this.x);\n};\n\nVictor.prototype.horizontalAngleDeg = function () {\n\treturn radian2degrees(this.horizontalAngle());\n};\n\nVictor.prototype.verticalAngle = function () {\n\treturn Math.atan2(this.x, this.y);\n};\n\nVictor.prototype.verticalAngleDeg = function () {\n\treturn radian2degrees(this.verticalAngle());\n};\n\nVictor.prototype.angle = Victor.prototype.horizontalAngle;\nVictor.prototype.angleDeg = Victor.prototype.horizontalAngleDeg;\nVictor.prototype.direction = Victor.prototype.horizontalAngle;\n\nVictor.prototype.rotate = function (angle) {\n\tvar nx = (this.x * Math.cos(angle)) - (this.y * Math.sin(angle));\n\tvar ny = (this.x * Math.sin(angle)) + (this.y * Math.cos(angle));\n\n\tthis.x = nx;\n\tthis.y = ny;\n\n\treturn this;\n};\n\nVictor.prototype.rotateDeg = function (angle) {\n\tangle = degrees2radian(angle);\n\treturn this.rotate(angle);\n};\n\nVictor.prototype.rotateTo = function(rotation) {\n\treturn this.rotate(rotation-this.angle());\n};\n\nVictor.prototype.rotateToDeg = function(rotation) {\n\trotation = degrees2radian(rotation);\n\treturn this.rotateTo(rotation);\n};\n\nVictor.prototype.rotateBy = function (rotation) {\n\tvar angle = this.angle() + rotation;\n\n\treturn this.rotate(angle);\n};\n\nVictor.prototype.rotateByDeg = function (rotation) {\n\trotation = degrees2radian(rotation);\n\treturn this.rotateBy(rotation);\n};\n\n/**\n * Calculates the distance of the X axis between this vector and another\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 50);\n *     var vec2 = new Victor(200, 60);\n *\n *     vec1.distanceX(vec2);\n *     // => -100\n *\n * @param {Victor} vector The second vector\n * @return {Number} Distance\n * @api public\n */\nVictor.prototype.distanceX = function (vec) {\n\treturn this.x - vec.x;\n};\n\n/**\n * Same as `distanceX()` but always returns an absolute number\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 50);\n *     var vec2 = new Victor(200, 60);\n *\n *     vec1.absDistanceX(vec2);\n *     // => 100\n *\n * @param {Victor} vector The second vector\n * @return {Number} Absolute distance\n * @api public\n */\nVictor.prototype.absDistanceX = function (vec) {\n\treturn Math.abs(this.distanceX(vec));\n};\n\n/**\n * Calculates the distance of the Y axis between this vector and another\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 50);\n *     var vec2 = new Victor(200, 60);\n *\n *     vec1.distanceY(vec2);\n *     // => -10\n *\n * @param {Victor} vector The second vector\n * @return {Number} Distance\n * @api public\n */\nVictor.prototype.distanceY = function (vec) {\n\treturn this.y - vec.y;\n};\n\n/**\n * Same as `distanceY()` but always returns an absolute number\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 50);\n *     var vec2 = new Victor(200, 60);\n *\n *     vec1.distanceY(vec2);\n *     // => 10\n *\n * @param {Victor} vector The second vector\n * @return {Number} Absolute distance\n * @api public\n */\nVictor.prototype.absDistanceY = function (vec) {\n\treturn Math.abs(this.distanceY(vec));\n};\n\n/**\n * Calculates the euclidean distance between this vector and another\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 50);\n *     var vec2 = new Victor(200, 60);\n *\n *     vec1.distance(vec2);\n *     // => 100.4987562112089\n *\n * @param {Victor} vector The second vector\n * @return {Number} Distance\n * @api public\n */\nVictor.prototype.distance = function (vec) {\n\treturn Math.sqrt(this.distanceSq(vec));\n};\n\n/**\n * Calculates the squared euclidean distance between this vector and another\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 50);\n *     var vec2 = new Victor(200, 60);\n *\n *     vec1.distanceSq(vec2);\n *     // => 10100\n *\n * @param {Victor} vector The second vector\n * @return {Number} Distance\n * @api public\n */\nVictor.prototype.distanceSq = function (vec) {\n\tvar dx = this.distanceX(vec),\n\t\tdy = this.distanceY(vec);\n\n\treturn dx * dx + dy * dy;\n};\n\n/**\n * Calculates the length or magnitude of the vector\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.length();\n *     // => 111.80339887498948\n *\n * @return {Number} Length / Magnitude\n * @api public\n */\nVictor.prototype.length = function () {\n\treturn Math.sqrt(this.lengthSq());\n};\n\n/**\n * Squared length / magnitude\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.lengthSq();\n *     // => 12500\n *\n * @return {Number} Length / Magnitude\n * @api public\n */\nVictor.prototype.lengthSq = function () {\n\treturn this.x * this.x + this.y * this.y;\n};\n\nVictor.prototype.magnitude = Victor.prototype.length;\n\n/**\n * Returns a true if vector is (0, 0)\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *     vec.zero();\n *\n *     // => true\n *\n * @return {Boolean}\n * @api public\n */\nVictor.prototype.isZero = function() {\n\treturn this.x === 0 && this.y === 0;\n};\n\n/**\n * Returns a true if this vector is the same as another\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 50);\n *     var vec2 = new Victor(100, 50);\n *     vec1.isEqualTo(vec2);\n *\n *     // => true\n *\n * @return {Boolean}\n * @api public\n */\nVictor.prototype.isEqualTo = function(vec2) {\n\treturn this.x === vec2.x && this.y === vec2.y;\n};\n\n/**\n * # Utility Methods\n */\n\n/**\n * Returns an string representation of the vector\n *\n * ### Examples:\n *     var vec = new Victor(10, 20);\n *\n *     vec.toString();\n *     // => x:10, y:20\n *\n * @return {String}\n * @api public\n */\nVictor.prototype.toString = function () {\n\treturn 'x:' + this.x + ', y:' + this.y;\n};\n\n/**\n * Returns an array representation of the vector\n *\n * ### Examples:\n *     var vec = new Victor(10, 20);\n *\n *     vec.toArray();\n *     // => [10, 20]\n *\n * @return {Array}\n * @api public\n */\nVictor.prototype.toArray = function () {\n\treturn [ this.x, this.y ];\n};\n\n/**\n * Returns an object representation of the vector\n *\n * ### Examples:\n *     var vec = new Victor(10, 20);\n *\n *     vec.toObject();\n *     // => { x: 10, y: 20 }\n *\n * @return {Object}\n * @api public\n */\nVictor.prototype.toObject = function () {\n\treturn { x: this.x, y: this.y };\n};\n\n\nvar degrees = 180 / Math.PI;\n\nfunction random (min, max) {\n    return Math.floor(Math.random() * (max - min + 1) + min);\n}\n\nfunction radian2degrees (rad) {\n\treturn rad * degrees;\n}\n\nfunction degrees2radian (deg) {\n\treturn deg / degrees;\n}\n","var path='./bin/';\r\nvar v=process.versions.node.split('.');\r\nif (v[0]<=10) path+='10_15/';\r\nelse if (v[0]<=11) path+='11_15/';\r\nif(process.platform==\"win32\"&&process.arch==\"ia32\") path+='win32/jazz';\r\nelse if(process.platform==\"win32\"&&process.arch==\"x64\") path+='win64/jazz';\r\nelse if(process.platform==\"darwin\"&&process.arch==\"x64\") path+='macos64/jazz';\r\nelse if(process.platform==\"linux\"&&process.arch==\"x64\") path+='linux64/jazz';\r\nelse if(process.platform==\"linux\"&&process.arch==\"arm\") path+='linuxa7/jazz';\r\nmodule.exports=require(path);\r\nmodule.exports.package=require(__dirname + '/package.json');\r\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"6NpkE\\\":\\\"midi-viz.57eb93c5.js\\\",\\\"eh5iM\\\":\\\"LDR_LLL1_0.e58f35bf.png\\\"}\"));","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n",null,null,null,null,null,null,null,"(function(global, factory) {\r\n  /* istanbul ignore next */\r\n  if (typeof exports === 'object' && typeof module !== 'undefined') {\r\n    module.exports = factory();\r\n  }\r\n  else if (typeof define === 'function' && define.amd) {\r\n    define('JZZ', [], factory);\r\n  }\r\n  else {\r\n    if (!global) global = window;\r\n    if (global.JZZ && global.JZZ.MIDI) return;\r\n    global.JZZ = factory();\r\n  }\r\n})(this, function() {\r\n\r\n  var _scope = typeof window === 'undefined' ? global : window;\r\n  var _version = '1.5.2';\r\n  var i, j, k, m, n;\r\n\r\n  /* istanbul ignore next */\r\n  var _time = Date.now || function () { return new Date().getTime(); };\r\n  var _startTime = _time();\r\n  /* istanbul ignore next */\r\n  var _now = typeof performance != 'undefined' && performance.now ?\r\n    function() { return performance.now(); } : function() { return _time() - _startTime; };\r\n  var _schedule = function(f) {\r\n    setTimeout(f, 0);\r\n  };\r\n  function _nop() {}\r\n  function _func(f) { return typeof f == 'function'; }\r\n\r\n  // _R: common root for all async objects\r\n  function _R() {\r\n    this._orig = this;\r\n    this._ready = false;\r\n    this._queue = [];\r\n    this._log = [];\r\n  }\r\n  _R.prototype._exec = function() {\r\n    while (this._ready && this._queue.length) {\r\n      var x = this._queue.shift();\r\n      x[0].apply(this, x[1]);\r\n    }\r\n  };\r\n  _R.prototype._push = function(func, arg) { this._queue.push([func, arg]); _R.prototype._exec.apply(this); };\r\n  _R.prototype._slip = function(func, arg) { this._queue.unshift([func, arg]); };\r\n  _R.prototype._pause = function() { this._ready = false; };\r\n  _R.prototype._resume = function() { this._ready = true; _R.prototype._exec.apply(this); };\r\n  _R.prototype._break = function(err) { this._orig._bad = true; this._orig._log.push(err || 'Unknown JZZ error'); };\r\n  _R.prototype._repair = function() { this._orig._bad = false; };\r\n  _R.prototype._crash = function(err) { this._break(err); this._resume(); };\r\n  _R.prototype._err = function() { return this._log[this._log.length - 1]; };\r\n  _R.prototype.log = function() { return _clone(this._log); };\r\n  _R.prototype._dup = function() {\r\n    var F = function() {};\r\n    F.prototype = this._orig;\r\n    var ret = new F();\r\n    ret._ready = false;\r\n    ret._queue = [];\r\n    return ret;\r\n  };\r\n  _R.prototype._image = function() { return this._dup(); };\r\n  _R.prototype._thenable = function() {\r\n    if (this.then) return this;\r\n    var self = this;\r\n    var F = function() {}; F.prototype = self;\r\n    var ret = new F();\r\n    ret.then = function(good, bad) { self._push(_then, [good, bad]); return this; };      \r\n    return ret;\r\n  };\r\n  function _then(good, bad) {\r\n    if (this._bad) {\r\n      if (_func(bad)) bad.apply(this, [new Error(this._err())]);\r\n    }\r\n    else {\r\n      if (_func(good)) good.apply(this, [this]);\r\n    }\r\n  }\r\n  function _wait(obj, delay) {\r\n    if (this._bad) obj._crash(this._err());\r\n    else setTimeout(function() { obj._resume(); }, delay);\r\n  }\r\n  _R.prototype.wait = function(delay) {\r\n    if (!delay) return this;\r\n    var ret = this._image();\r\n    this._push(_wait, [ret, delay]);\r\n    return ret._thenable();\r\n  };\r\n  function _kick(obj) { if (this._bad) obj._break(this._err()); obj._resume(); }\r\n  function _rechain(self, obj, name) {\r\n    self[name] = function() {\r\n      var arg = arguments;\r\n      var ret = obj._image();\r\n      this._push(_kick, [ret]);\r\n      return ret[name].apply(ret, arg);\r\n    };\r\n  }\r\n  function _and(q) {\r\n    if (!this._bad) {\r\n      if (_func(q)) q.apply(this); else console.log(q);\r\n    }\r\n  }\r\n  _R.prototype.and = function(func) { this._push(_and, [func]); return this._thenable(); };\r\n  function _or(q) {\r\n    if (this._bad) {\r\n      if (_func(q)) q.apply(this); else console.log(q);\r\n    }\r\n  }\r\n  _R.prototype.or = function(func) { this._push(_or, [func]); return this._thenable(); };\r\n\r\n  _R.prototype._info = {};\r\n  _R.prototype.info = function() {\r\n    var info = _clone(this._orig._info);\r\n    if (typeof info.engine == 'undefined') info.engine = 'none';\r\n    if (typeof info.sysex == 'undefined') info.sysex = true;\r\n    return info;\r\n  };\r\n  _R.prototype.name = function() { return this.info().name; };\r\n\r\n  function _close(obj) {\r\n    if (this._bad) obj._crash(this._err());\r\n    else {\r\n      this._break('Closed');\r\n      obj._resume();\r\n    }\r\n  }\r\n  _R.prototype.close = function() {\r\n    var ret = new _R();\r\n    if (this._close) this._push(this._close, []);\r\n    this._push(_close, [ret]);\r\n    return ret._thenable();\r\n  };\r\n\r\n  function _tryAny(arr) {\r\n    if (!arr.length) {\r\n      this._break();\r\n      return;\r\n    }\r\n    var func = arr.shift();\r\n    if (arr.length) {\r\n      var self = this;\r\n      this._slip(_or, [ function() { _tryAny.apply(self, [arr]); } ]);\r\n    }\r\n    try {\r\n      this._repair();\r\n      func.apply(this);\r\n    }\r\n    catch (err) {\r\n      this._break(err.toString());\r\n    }\r\n  }\r\n\r\n  function _push(arr, obj) {\r\n    for (var i = 0; i < arr.length; i++) if (arr[i] === obj) return;\r\n    arr.push(obj);\r\n  }\r\n  function _pop(arr, obj) {\r\n    for (var i = 0; i < arr.length; i++) if (arr[i] === obj) {\r\n      arr.splice(i, 1);\r\n      return;\r\n    }\r\n  }\r\n\r\n  // _J: JZZ object\r\n  function _J() {\r\n    _R.apply(this);\r\n  }\r\n  _J.prototype = new _R();\r\n\r\n  function _for(x, f) {\r\n    for(var k in x) if (x.hasOwnProperty(k)) f.call(this, k);\r\n  }\r\n  function _clone(obj, key, val) {\r\n    if (typeof key == 'undefined') return _clone(obj, [], []);\r\n    if (obj instanceof Object) {\r\n      for (var i = 0; i < key.length; i++) if (key[i] === obj) return val[i];\r\n      var ret;\r\n      if (obj instanceof Array) ret = []; else ret = {};\r\n      key.push(obj); val.push(ret);\r\n      _for(obj, function(k) { ret[k] = _clone(obj[k], key, val); });\r\n      return ret;\r\n    }\r\n    return obj;\r\n  }\r\n  _J.prototype._info = { name: 'JZZ.js', ver: _version, version: _version, inputs: [], outputs: [] };\r\n\r\n  var _outs = [];\r\n  var _ins = [];\r\n  var _outsW = [];\r\n  var _insW = [];\r\n\r\n  function _postRefresh() {\r\n    _jzz._info.engine = _engine._type;\r\n    _jzz._info.version = _engine._version;\r\n    _jzz._info.sysex = _engine._sysex;\r\n    _jzz._info.inputs = [];\r\n    _jzz._info.outputs = [];\r\n    _outs = [];\r\n    _ins = [];\r\n    _engine._allOuts = {};\r\n    _engine._allIns = {};\r\n    var i, x;\r\n    for (i = 0; i < _engine._outs.length; i++) {\r\n      x = _engine._outs[i];\r\n      x.engine = _engine;\r\n      _engine._allOuts[x.name] = x;\r\n      _jzz._info.outputs.push({\r\n        id: x.name,\r\n        name: x.name,\r\n        manufacturer: x.manufacturer,\r\n        version: x.version,\r\n        engine: _engine._type\r\n      });\r\n      _outs.push(x);\r\n    }\r\n    for (i = 0; i < _virtual._outs.length; i++) {\r\n      x = _virtual._outs[i];\r\n      _jzz._info.outputs.push({\r\n        id: x.name,\r\n        name: x.name,\r\n        manufacturer: x.manufacturer,\r\n        version: x.version,\r\n        engine: x.type\r\n      });\r\n      _outs.push(x);\r\n    }\r\n    for (i = 0; i < _engine._ins.length; i++) {\r\n      x = _engine._ins[i];\r\n      x.engine = _engine;\r\n      _engine._allIns[x.name] = x;\r\n      _jzz._info.inputs.push({\r\n        id: x.name,\r\n        name: x.name,\r\n        manufacturer: x.manufacturer,\r\n        version: x.version,\r\n        engine: _engine._type\r\n      });\r\n      _ins.push(x);\r\n    }\r\n    for (i = 0; i < _virtual._ins.length; i++) {\r\n      x = _virtual._ins[i];\r\n      _jzz._info.inputs.push({\r\n        id: x.name,\r\n        name: x.name,\r\n        manufacturer: x.manufacturer,\r\n        version: x.version,\r\n        engine: x.type\r\n      });\r\n      _ins.push(x);\r\n    }\r\n    if (_jzz._watcher && _jzz._watcher._handles.length) {\r\n      var diff = _diff(_insW, _outsW, _jzz._info.inputs, _jzz._info.outputs);\r\n       if (diff) {\r\n        for (j = 0; j < diff.inputs.removed.length; j++) {\r\n          x = _engine._inMap[diff.inputs.removed[j].name];\r\n          if (x) x._closeAll();\r\n        }\r\n        for (j = 0; j < diff.outputs.removed.length; j++) {\r\n          x = _engine._outMap[diff.outputs.removed[j].name];\r\n          if (x) x._closeAll();\r\n        }\r\n        _fireW(diff);\r\n      }\r\n    }\r\n    _insW = _jzz._info.inputs;\r\n    _outsW = _jzz._info.outputs;\r\n  }\r\n  function _refresh() {\r\n    if (!this._bad) _engine._refresh(this);\r\n  }\r\n  _J.prototype.refresh = function() {\r\n    this._push(_refresh, []);\r\n    return this._thenable();\r\n  };\r\n\r\n  function _filterList(q, arr) {\r\n    var i, n;\r\n    if (_func(q)) q = q(arr);\r\n    if (!(q instanceof Array)) q = [q];\r\n    var before = [];\r\n    var after = [];\r\n    var etc = arr.slice();\r\n    var a = before;\r\n    for (i = 0; i < q.length; i++) {\r\n      if (typeof q[i] == 'undefined') a = after;\r\n      else if (q[i] instanceof RegExp) for (n = 0; n < etc.length; n++) {\r\n        if (q[i].test(etc[n].name)) {\r\n          a.push(etc[n]);\r\n          etc.splice(n, 1);\r\n          n--;\r\n        }\r\n      }\r\n      else {\r\n        for (n = 0; n < etc.length; n++) if (q[i] + '' === n + '' || q[i] === etc[n].name || (q[i] instanceof Object && q[i].name === etc[n].name)) {\r\n          a.push(etc[n]);\r\n          etc.splice(n, 1);\r\n          n--;\r\n        }\r\n      }\r\n    }\r\n    return a == before ? before : before.concat(etc).concat(after);\r\n  }\r\n\r\n  function _notFound(port, q) {\r\n    var msg;\r\n    if (q instanceof RegExp) msg = 'Port matching ' + q + ' not found';\r\n    else if (q instanceof Object || typeof q == 'undefined') msg = 'Port not found';\r\n    else msg = 'Port \"' + q + '\" not found';\r\n    port._crash(msg);\r\n  }\r\n  function _openMidiOut(port, arg) {\r\n    if (this._bad) port._crash(this._err());\r\n    else {\r\n      var arr = _filterList(arg, _outs);\r\n      if (!arr.length) { _notFound(port, arg); return; }\r\n      var pack = function(x) { return function() { x.engine._openOut(this, x.name); }; };\r\n      for (var i = 0; i < arr.length; i++) arr[i] = pack(arr[i]);\r\n      port._slip(_tryAny, [arr]);\r\n      port._resume();\r\n    }\r\n  }\r\n  _J.prototype.openMidiOut = function(arg) {\r\n    var port = new _M();\r\n    this._push(_refresh, []);\r\n    this._push(_openMidiOut, [port, arg]);\r\n    return port._thenable();\r\n  };\r\n  _J.prototype._openMidiOutNR = function(arg) {\r\n    var port = new _M();\r\n    this._push(_openMidiOut, [port, arg]);\r\n    return port._thenable();\r\n  };\r\n\r\n  function _openMidiIn(port, arg) {\r\n    if (this._bad) port._crash(this._err());\r\n    else {\r\n      var arr = _filterList(arg, _ins);\r\n      if (!arr.length) { _notFound(port, arg); return; }\r\n      var pack = function(x) { return function() { x.engine._openIn(this, x.name); }; };\r\n      for (var i = 0; i < arr.length; i++) arr[i] = pack(arr[i]);\r\n      port._slip(_tryAny, [arr]);\r\n      port._resume();\r\n    }\r\n  }\r\n  _J.prototype.openMidiIn = function(arg) {\r\n    var port = new _M();\r\n    this._push(_refresh, []);\r\n    this._push(_openMidiIn, [port, arg]);\r\n    return port._thenable();\r\n  };\r\n  _J.prototype._openMidiInNR = function(arg) {\r\n    var port = new _M();\r\n    this._push(_openMidiIn, [port, arg]);\r\n    return port._thenable();\r\n  };\r\n\r\n  function _onChange(watcher, arg) {\r\n    if (this._bad) watcher._crash();\r\n    else {\r\n      watcher._slip(_connectW, [arg]);\r\n      watcher._resume();\r\n    }\r\n  }\r\n  _J.prototype.onChange = function(arg) {\r\n    if (!this._orig._watcher) this._orig._watcher = new _W();\r\n    var watcher = this._orig._watcher._image();\r\n    this._push(_onChange, [watcher, arg]);\r\n    return watcher._thenable();\r\n  };\r\n\r\n  _J.prototype._close = function() {\r\n    _engine._close();\r\n  };\r\n\r\n  // _M: MIDI-In/Out object\r\n  function _M() {\r\n    _R.apply(this);\r\n    this._handles = [];\r\n    this._outs = [];\r\n  }\r\n  _M.prototype = new _R();\r\n  _M.prototype._filter = function(msg) {\r\n    if (this._orig._mpe) {\r\n      var out;\r\n      var outs = 0;\r\n      if (this._handles && this._handles.length) {\r\n        outs = this._handles.length;\r\n        out = this._handles[0];\r\n      }\r\n      if (this._outs && this._outs.length) {\r\n        outs = this._outs.length;\r\n        out = this._outs[0];\r\n      }\r\n      if (outs == 1 && !out._mpe) {\r\n        msg = this._orig._mpe.filter(msg);\r\n      }\r\n    }\r\n    return msg;\r\n  };\r\n  _M.prototype._receive = function(msg) { this._emit(this._filter(msg)); };\r\n  function _receive(msg) { if (!this._bad) this._receive(msg); }\r\n  _M.prototype.send = function() {\r\n    this._push(_receive, [MIDI.apply(null, arguments)]);\r\n    return this._thenable();\r\n  };\r\n  _M.prototype.note = function(c, n, v, t) {\r\n    this.noteOn(c, n, v);\r\n    if (typeof this._ch == 'undefined' && typeof this._master == 'undefined') {\r\n      if (t > 0) this.wait(t).noteOff(c, n);\r\n    }\r\n    else {\r\n      if (v > 0) this.wait(v).noteOff(c);\r\n    }\r\n    return this._thenable();\r\n  };\r\n  _M.prototype._emit = function(msg) {\r\n    var i;\r\n    for (i = 0; i < this._handles.length; i++) this._handles[i].apply(this, [MIDI(msg)._stamp(this)]);\r\n    for (i = 0; i < this._outs.length; i++) {\r\n      var m = MIDI(msg);\r\n      if (!m._stamped(this._outs[i])) this._outs[i].send(m._stamp(this));\r\n    }\r\n  };\r\n  function _emit(msg) { this._emit(msg); }\r\n  _M.prototype.emit = function(msg) {\r\n    this._push(_emit, [msg]);\r\n    return this._thenable();\r\n  };\r\n  function _connect(arg) {\r\n    if (_func(arg)) _push(this._orig._handles, arg);\r\n    else _push(this._orig._outs, arg);\r\n  }\r\n  function _disconnect(arg) {\r\n    if (typeof arg == 'undefined') {\r\n      this._orig._handles = [];\r\n      this._orig._outs = [];\r\n    }\r\n    else if (_func(arg)) _pop(this._orig._handles, arg);\r\n    else _pop(this._orig._outs, arg);\r\n  }\r\n  _M.prototype.connect = function(arg) {\r\n    this._push(_connect, [arg]);\r\n    return this._thenable();\r\n  };\r\n  _M.prototype.disconnect = function(arg) {\r\n    this._push(_disconnect, [arg]);\r\n    return this._thenable();\r\n  };\r\n  _M.prototype.connected = function() {\r\n    return this._orig._handles.length + this._orig._outs.length;\r\n  };\r\n  _M.prototype._image = function() {\r\n    var dup = this._dup();\r\n    dup._ch = this._ch;\r\n    dup._sxid = this._sxid;\r\n    dup._master = this._master;\r\n    dup._band = this._band;\r\n    return dup;\r\n  };\r\n  _M.prototype._ch = undefined;\r\n  _M.prototype._sxid = 0x7f;\r\n  _M.prototype._master = undefined;\r\n  _M.prototype._band = undefined;\r\n\r\n  _M.prototype.sxId = function(id) {\r\n    if (typeof id == 'undefined') id = _M.prototype._sxid;\r\n    if (id == this._sxid) return this._thenable();\r\n    id = _7b(id);\r\n    var img = this._image();\r\n    img._sxid = id;\r\n    this._push(_kick, [img]);\r\n    return img._thenable();\r\n  };\r\n  _M.prototype.ch = function(c) {\r\n    if (c == this._ch || typeof c == 'undefined' && typeof this._ch == 'undefined') return this._thenable();\r\n    var img = this._image();\r\n    if (typeof c != 'undefined') c = _ch(c);\r\n    img._ch = c;\r\n    img._master = undefined;\r\n    img._band = undefined;\r\n    this._push(_kick, [img]);\r\n    return img._thenable();\r\n  };\r\n\r\n  function _mpe(m, n) {\r\n    if (!this._orig._mpe) this._orig._mpe = new MPE();\r\n    this._orig._mpe.setup(m, n);\r\n  }\r\n  _M.prototype.mpe = function(m, n) {\r\n    if (m == this._master && n == this._band || typeof m == 'undefined' && typeof this._master == 'undefined') return this._thenable();\r\n    if (typeof m != 'undefined') MPE.validate(m, n);\r\n    if (!n) return this.ch(m);\r\n    var img = this._image();\r\n    img._ch = undefined;\r\n    img._master = m;\r\n    img._band = n;\r\n    this._push(_mpe, [m, n]);\r\n    this._push(_kick, [img]);\r\n    return img._thenable();\r\n  };\r\n  function _validateChannel(c) {\r\n    if (c != parseInt(c) || c < 0 || c > 15)\r\n      throw RangeError('Bad channel value (must not be less than 0 or more than 15): ' + c);\r\n  }\r\n\r\n  // _W: Watcher object ~ MIDIAccess.onstatechange\r\n  function _W() {\r\n    _R.apply(this);\r\n    this._handles = [];\r\n    _rechain(this, _jzz, 'refresh');\r\n    _rechain(this, _jzz, 'openMidiOut');\r\n    _rechain(this, _jzz, 'openMidiIn');\r\n    _rechain(this, _jzz, 'onChange');\r\n    _rechain(this, _jzz, 'close');\r\n  }\r\n  _W.prototype = new _R();\r\n  function _connectW(arg) {\r\n    if (_func(arg)) {\r\n      if (!this._orig._handles.length) _engine._watch();\r\n      _push(this._orig._handles, arg);\r\n    }\r\n  }\r\n  function _disconnectW(arg) {\r\n    if (typeof arg == 'undefined') this._orig._handles = [];\r\n    else _pop(this._orig._handles, arg);\r\n    if (!this._orig._handles.length) _engine._unwatch();\r\n  }\r\n  _W.prototype.connect = function(arg) {\r\n    this._push(_connectW, [arg]);\r\n    return this._thenable();\r\n  };\r\n  _W.prototype.disconnect = function(arg) {\r\n    this._push(_disconnectW, [arg]);\r\n    return this._thenable();\r\n  };\r\n  function _changed(x0, y0, x1, y1) {\r\n    var i;\r\n    if (x0.length != x1.length || y0.length != y1.length) return true;\r\n    for (i = 0; i < x0.length; i++) if (x0[i].name != x1[i].name) return true;\r\n    for (i = 0; i < y0.length; i++) if (y0[i].name != y1[i].name) return true;\r\n    return false;\r\n  }\r\n  function _diff(x0, y0, x1, y1) {\r\n    if (!_changed(x0, y0, x1, y1)) return;\r\n    var ax = []; // added\r\n    var ay = [];\r\n    var rx = []; // removed\r\n    var ry = [];\r\n    var i;\r\n    var h = {};\r\n    for (i = 0; i < x0.length; i++) h[x0[i].name] = true;\r\n    for (i = 0; i < x1.length; i++) if (!h[x1[i].name]) ax.push(x1[i]);\r\n    h = {};\r\n    for (i = 0; i < x1.length; i++) h[x1[i].name] = true;\r\n    for (i = 0; i < x0.length; i++) if (!h[x0[i].name]) rx.push(x0[i]);\r\n    h = {};\r\n    for (i = 0; i < y0.length; i++) h[y0[i].name] = true;\r\n    for (i = 0; i < y1.length; i++) if (!h[y1[i].name]) ay.push(y1[i]);\r\n    h = {};\r\n    for (i = 0; i < y1.length; i++) h[y1[i].name] = true;\r\n    for (i = 0; i < y0.length; i++) if (!h[y0[i].name]) ry.push(y0[i]);\r\n    return { inputs: { added: ax, removed: rx }, outputs: { added: ay, removed: ry } };\r\n  }\r\n  function _fireW(arg) {\r\n    for (i = 0; i < _jzz._watcher._handles.length; i++) _jzz._watcher._handles[i].apply(_jzz, [arg]);\r\n  }\r\n\r\n  var _jzz;\r\n  var _engine = { _outs: [], _ins: [] };\r\n  var _virtual = { _outs: [], _ins: [] };\r\n\r\n  // Node.js\r\n  function _tryNODE() {\r\n    if (typeof module != 'undefined' && module.exports) {\r\n      _initNode(require('jazz-midi'));\r\n      return;\r\n    }\r\n    this._break();\r\n  }\r\n  // Jazz-Plugin\r\n  function _tryJazzPlugin() {\r\n    var div = document.createElement('div');\r\n    div.style.visibility = 'hidden';\r\n    document.body.appendChild(div);\r\n    var obj = document.createElement('object');\r\n    obj.style.visibility = 'hidden';\r\n    obj.style.width = '0px'; obj.style.height = '0px';\r\n    obj.classid = 'CLSID:1ACE1618-1C7D-4561-AEE1-34842AA85E90';\r\n    obj.type = 'audio/x-jazz';\r\n    document.body.appendChild(obj);\r\n    /* istanbul ignore next */\r\n    if (obj.isJazz) {\r\n      _initJazzPlugin(obj);\r\n      return;\r\n    }\r\n    this._break();\r\n  }\r\n\r\n  // Web MIDI API\r\n  var _navigator;\r\n  var _requestMIDIAccess;\r\n  function _findMidiAccess() {\r\n    if (typeof navigator !== 'undefined' && navigator.requestMIDIAccess) {\r\n      _navigator = navigator;\r\n      _requestMIDIAccess = navigator.requestMIDIAccess;\r\n      try {\r\n        if (_requestMIDIAccess.toString().indexOf('JZZ(') != -1) _requestMIDIAccess = undefined;\r\n      }\r\n      catch (err) {}\r\n    }\r\n  }\r\n  function _tryWebMIDI() {\r\n    _findMidiAccess();\r\n    if (_requestMIDIAccess) {\r\n      var self = this;\r\n      var onGood = function(midi) {\r\n        _initWebMIDI(midi);\r\n        self._resume();\r\n      };\r\n      var onBad = function(msg) {\r\n        self._crash(msg);\r\n      };\r\n      var opt = {};\r\n      _requestMIDIAccess.call(_navigator, opt).then(onGood, onBad);\r\n      this._pause();\r\n      return;\r\n    }\r\n    this._break();\r\n  }\r\n  function _tryWebMIDIsysex() {\r\n    _findMidiAccess();\r\n    if (_requestMIDIAccess) {\r\n      var self = this;\r\n      var onGood = function(midi) {\r\n        _initWebMIDI(midi, true);\r\n        self._resume();\r\n      };\r\n      var onBad = function(msg) {\r\n        self._crash(msg);\r\n      };\r\n      var opt = { sysex:true };\r\n      _requestMIDIAccess.call(_navigator, opt).then(onGood, onBad);\r\n      this._pause();\r\n      return;\r\n    }\r\n    this._break();\r\n  }\r\n\r\n  // Web-extension\r\n  function _tryCRX() {\r\n    var self = this;\r\n    var inst;\r\n    var msg;\r\n    function eventHandle() {\r\n      inst = true;\r\n      if (!msg) msg = document.getElementById('jazz-midi-msg');\r\n      if (!msg) return;\r\n      var a = [];\r\n      try { a = JSON.parse(msg.innerText); } catch (err) {}\r\n      msg.innerText = '';\r\n      document.removeEventListener('jazz-midi-msg', eventHandle);\r\n      if (a[0] === 'version') {\r\n        _initCRX(msg, a[2]);\r\n        self._resume();\r\n      }\r\n      else {\r\n        self._crash();\r\n      }\r\n    }\r\n    this._pause();\r\n    document.addEventListener('jazz-midi-msg', eventHandle);\r\n    try { document.dispatchEvent(new Event('jazz-midi')); } catch (err) {}\r\n    _schedule(function() { if (!inst) self._crash(); });\r\n  }\r\n\r\n  /* istanbul ignore next */\r\n  function _zeroBreak() {\r\n    this._pause();\r\n    var self = this;\r\n    _schedule(function() { self._crash(); });\r\n  }\r\n\r\n  function _filterEngines(opt) {\r\n    var ret = [];\r\n    var arr = _filterEngineNames(opt);\r\n    for (var i = 0; i < arr.length; i++) {\r\n      if (arr[i] == 'webmidi') {\r\n        if (opt && opt.sysex === true) ret.push(_tryWebMIDIsysex);\r\n        if (!opt || opt.sysex !== true || opt.degrade === true) ret.push(_tryWebMIDI);\r\n      }\r\n      else if (arr[i] == 'node') { ret.push(_tryNODE); ret.push(_zeroBreak); }\r\n      else if (arr[i] == 'extension') ret.push(_tryCRX);\r\n      else if (arr[i] == 'plugin') ret.push(_tryJazzPlugin);\r\n    }\r\n    ret.push(_initNONE);\r\n    return ret;\r\n  }\r\n\r\n  function _filterEngineNames(opt) {\r\n    var web = ['node', 'extension', 'plugin', 'webmidi'];\r\n    if (!opt || !opt.engine) return web;\r\n    var arr = opt.engine instanceof Array ? opt.engine : [opt.engine];\r\n    var dup = {};\r\n    var none;\r\n    var etc;\r\n    var head = [];\r\n    var tail = [];\r\n    var i;\r\n    for (i = 0; i < arr.length; i++) {\r\n      var name = arr[i].toString().toLowerCase();\r\n      if (dup[name]) continue;\r\n      dup[name] = true;\r\n      if (name === 'none') none = true;\r\n      if (name === 'etc' || typeof name == 'undefined') etc = true;\r\n      if (etc) tail.push(name); else head.push(name);\r\n      _pop(web, name);\r\n    }\r\n    if (etc || head.length || tail.length) none = false;\r\n    return none ? [] : head.concat(etc ? web : tail);\r\n  }\r\n\r\n  function _initJZZ(opt) {\r\n    _jzz = new _J();\r\n    _jzz._options = opt;\r\n    _jzz._push(_tryAny, [_filterEngines(opt)]);\r\n    _jzz.refresh();\r\n    _jzz._resume();\r\n  }\r\n\r\n  function _initNONE() {\r\n    _engine._type = 'none';\r\n    _engine._version = _version;\r\n    _engine._sysex = true;\r\n    _engine._outs = [];\r\n    _engine._ins = [];\r\n    _engine._refresh = function() { _postRefresh(); };\r\n    _engine._watch = _nop;\r\n    _engine._unwatch = _nop;\r\n    _engine._close = _nop;\r\n  }\r\n  // common initialization for Jazz-Plugin and jazz-midi\r\n  function _initEngineJP() {\r\n    _engine._inArr = [];\r\n    _engine._outArr = [];\r\n    _engine._inMap = {};\r\n    _engine._outMap = {};\r\n    _engine._outsW = [];\r\n    _engine._insW = [];\r\n    _engine._version = _engine._main.version;\r\n    _engine._sysex = true;\r\n    var watcher;\r\n    function _closeAll() {\r\n      for (var i = 0; i < this.clients.length; i++) this._close(this.clients[i]);\r\n    }\r\n    _engine._refresh = function() {\r\n      _engine._outs = [];\r\n      _engine._ins = [];\r\n      var i, x;\r\n      for (i = 0; (x = _engine._main.MidiOutInfo(i)).length; i++) {\r\n        _engine._outs.push({ type: _engine._type, name: x[0], manufacturer: x[1], version: x[2] });\r\n      }\r\n      for (i = 0; (x = _engine._main.MidiInInfo(i)).length; i++) {\r\n        _engine._ins.push({ type: _engine._type, name: x[0], manufacturer: x[1], version: x[2] });\r\n      }\r\n      _postRefresh();\r\n    };\r\n    _engine._openOut = function(port, name) {\r\n      var impl = _engine._outMap[name];\r\n      if (!impl) {\r\n        if (_engine._pool.length <= _engine._outArr.length) _engine._pool.push(_engine._newPlugin());\r\n        impl = {\r\n          name: name,\r\n          clients: [],\r\n          info: {\r\n            name: name,\r\n            manufacturer: _engine._allOuts[name].manufacturer,\r\n            version: _engine._allOuts[name].version,\r\n            type: 'MIDI-out',\r\n            sysex: _engine._sysex,\r\n            engine: _engine._type\r\n          },\r\n          _close: function(port) { _engine._closeOut(port); },\r\n          _closeAll: _closeAll,\r\n          _receive: function(a) { if (a.length) this.plugin.MidiOutRaw(a.slice()); }\r\n        };\r\n        var plugin = _engine._pool[_engine._outArr.length];\r\n        impl.plugin = plugin;\r\n        _engine._outArr.push(impl);\r\n        _engine._outMap[name] = impl;\r\n      }\r\n      if (!impl.open) {\r\n        var s = impl.plugin.MidiOutOpen(name);\r\n        if (s !== name) {\r\n          if (s) impl.plugin.MidiOutClose();\r\n          port._break(); return;\r\n        }\r\n        impl.open = true;\r\n      }\r\n      port._orig._impl = impl;\r\n      _push(impl.clients, port._orig);\r\n      port._info = impl.info;\r\n      port._receive = function(arg) { impl._receive(arg); };\r\n      port._close = function() { impl._close(this); };\r\n    };\r\n    _engine._openIn = function(port, name) {\r\n      var impl = _engine._inMap[name];\r\n      if (!impl) {\r\n        if (_engine._pool.length <= _engine._inArr.length) _engine._pool.push(_engine._newPlugin());\r\n        impl = {\r\n          name: name,\r\n          clients: [],\r\n          info: {\r\n            name: name,\r\n            manufacturer: _engine._allIns[name].manufacturer,\r\n            version: _engine._allIns[name].version,\r\n            type: 'MIDI-in',\r\n            sysex: _engine._sysex,\r\n            engine: _engine._type\r\n          },\r\n          _close: function(port) { _engine._closeIn(port); },\r\n          _closeAll: _closeAll,\r\n          handle: function(t, a) {\r\n            for (var i = 0; i < this.clients.length; i++) {\r\n              var msg = MIDI(a);\r\n              this.clients[i]._emit(msg);\r\n            }\r\n          }\r\n        };\r\n        var makeHandle = function(x) { return function(t, a) { x.handle(t, a); }; };\r\n        impl.onmidi = makeHandle(impl);\r\n        var plugin = _engine._pool[_engine._inArr.length];\r\n        impl.plugin = plugin;\r\n        _engine._inArr.push(impl);\r\n        _engine._inMap[name] = impl;\r\n      }\r\n      if (!impl.open) {\r\n        var s = impl.plugin.MidiInOpen(name, impl.onmidi);\r\n        if (s !== name) {\r\n          if (s) impl.plugin.MidiInClose();\r\n          port._break(); return;\r\n        }\r\n        impl.open = true;\r\n      }\r\n      port._orig._impl = impl;\r\n      _push(impl.clients, port._orig);\r\n      port._info = impl.info;\r\n      port._close = function() { impl._close(this); };\r\n    };\r\n    _engine._closeOut = function(port) {\r\n      var impl = port._impl;\r\n      _pop(impl.clients, port._orig);\r\n      if (!impl.clients.length && impl.open) {\r\n        impl.open = false;\r\n        impl.plugin.MidiOutClose();\r\n      }\r\n    };\r\n    _engine._closeIn = function(port) {\r\n      var impl = port._impl;\r\n      _pop(impl.clients, port._orig);\r\n      if (!impl.clients.length && impl.open) {\r\n        impl.open = false;\r\n        impl.plugin.MidiInClose();\r\n      }\r\n    };\r\n    _engine._close = function() {\r\n      for (var i = 0; i < _engine._inArr.length; i++) if (_engine._inArr[i].open) _engine._inArr[i].plugin.MidiInClose();\r\n      _engine._unwatch();\r\n    };\r\n    _engine._watch = function() {\r\n      if (!watcher) watcher = setInterval(function() { _engine._refresh(); }, 250);\r\n    };\r\n    _engine._unwatch = function() {\r\n      if (watcher) clearInterval(watcher);\r\n      watcher = undefined;\r\n    };\r\n  }\r\n\r\n  function _initNode(obj) {\r\n    _engine._type = 'node';\r\n    _engine._main = obj;\r\n    _engine._pool = [];\r\n    _engine._newPlugin = function() { return new obj.MIDI(); };\r\n    _initEngineJP();\r\n  }\r\n  /* istanbul ignore next */\r\n  function _initJazzPlugin(obj) {\r\n    _engine._type = 'plugin';\r\n    _engine._main = obj;\r\n    _engine._pool = [obj];\r\n    _engine._newPlugin = function() {\r\n      var plg = document.createElement('object');\r\n      plg.style.visibility = 'hidden';\r\n      plg.style.width = '0px'; obj.style.height = '0px';\r\n      plg.classid = 'CLSID:1ACE1618-1C7D-4561-AEE1-34842AA85E90';\r\n      plg.type = 'audio/x-jazz';\r\n      document.body.appendChild(plg);\r\n      return plg.isJazz ? plg : undefined;\r\n    };\r\n    _initEngineJP();\r\n  }\r\n  function _initWebMIDI(access, sysex) {\r\n    _engine._type = 'webmidi';\r\n    _engine._version = 43;\r\n    _engine._sysex = !!sysex;\r\n    _engine._access = access;\r\n    _engine._inMap = {};\r\n    _engine._outMap = {};\r\n    _engine._outsW = [];\r\n    _engine._insW = [];\r\n    var watcher;\r\n    function _closeAll() {\r\n      for (var i = 0; i < this.clients.length; i++) this._close(this.clients[i]);\r\n    }\r\n    _engine._refresh = function() {\r\n      _engine._outs = [];\r\n      _engine._ins = [];\r\n      _engine._access.outputs.forEach(function(port) {\r\n        _engine._outs.push({type: _engine._type, name: port.name, manufacturer: port.manufacturer, version: port.version});\r\n      });\r\n      _engine._access.inputs.forEach(function(port) {\r\n        _engine._ins.push({type: _engine._type, name: port.name, manufacturer: port.manufacturer, version: port.version});\r\n      });\r\n      _postRefresh();\r\n    };\r\n    _engine._openOut = function(port, name) {\r\n      var impl = _engine._outMap[name];\r\n      if (!impl) {\r\n        impl = {\r\n          name: name,\r\n          clients: [],\r\n          info: {\r\n            name: name,\r\n            manufacturer: _engine._allOuts[name].manufacturer,\r\n            version: _engine._allOuts[name].version,\r\n            type: 'MIDI-out',\r\n            sysex: _engine._sysex,\r\n            engine: _engine._type\r\n          },\r\n          _close: function(port) { _engine._closeOut(port); },\r\n          _closeAll: _closeAll,\r\n          _receive: function(a) { if (impl.dev && a.length) this.dev.send(a.slice()); }\r\n        };\r\n      }\r\n      var found;\r\n      _engine._access.outputs.forEach(function(dev) {\r\n        if (dev.name === name) found = dev;\r\n      });\r\n      if (found) {\r\n        impl.dev = found;\r\n        _engine._outMap[name] = impl;\r\n        port._orig._impl = impl;\r\n        _push(impl.clients, port._orig);\r\n        port._info = impl.info;\r\n        port._receive = function(arg) { impl._receive(arg); };\r\n        port._close = function() { impl._close(this); };\r\n        if (impl.dev.open) {\r\n          port._pause();\r\n          impl.dev.open().then(function() {\r\n            port._resume();\r\n          }, function() {\r\n            port._crash();\r\n          });\r\n        }\r\n      }\r\n      else port._break();\r\n    };\r\n    _engine._openIn = function(port, name) {\r\n      var impl = _engine._inMap[name];\r\n      if (!impl) {\r\n        impl = {\r\n          name: name,\r\n          clients: [],\r\n          info: {\r\n            name: name,\r\n            manufacturer: _engine._allIns[name].manufacturer,\r\n            version: _engine._allIns[name].version,\r\n            type: 'MIDI-in',\r\n            sysex: _engine._sysex,\r\n            engine: _engine._type\r\n          },\r\n          _close: function(port) { _engine._closeIn(port); },\r\n          _closeAll: _closeAll,\r\n          handle: function(evt) {\r\n            for (var i = 0; i < this.clients.length; i++) {\r\n              var msg = MIDI([].slice.call(evt.data));\r\n              this.clients[i]._emit(msg);\r\n            }\r\n          }\r\n        };\r\n      }\r\n      var found;\r\n      _engine._access.inputs.forEach(function(dev) {\r\n        if (dev.name === name) found = dev;\r\n      });\r\n      if (found) {\r\n        impl.dev = found;\r\n        var makeHandle = function(x) { return function(evt) { x.handle(evt); }; };\r\n        impl.dev.onmidimessage = makeHandle(impl);\r\n        _engine._inMap[name] = impl;\r\n        port._orig._impl = impl;\r\n        _push(impl.clients, port._orig);\r\n        port._info = impl.info;\r\n        port._close = function() { impl._close(this); };\r\n        if (impl.dev.open) {\r\n          port._pause();\r\n          impl.dev.open().then(function() {\r\n            port._resume();\r\n          }, function() {\r\n            port._crash();\r\n          });\r\n        }\r\n      }\r\n      else port._break();\r\n    };\r\n    _engine._closeOut = function(port) {\r\n      var impl = port._impl;\r\n      _pop(impl.clients, port._orig);\r\n      if (!impl.clients.length) {\r\n        if (impl.dev && impl.dev.close) impl.dev.close();\r\n        impl.dev = undefined;\r\n      }\r\n    };\r\n    _engine._closeIn = function(port) {\r\n      var impl = port._impl;\r\n      _pop(impl.clients, port._orig);\r\n      if (!impl.clients.length) {\r\n        if (impl.dev) {\r\n          impl.dev.onmidimessage = null;\r\n          if (impl.dev.close) impl.dev.close();\r\n        }\r\n        impl.dev = undefined;\r\n      }\r\n    };\r\n    _engine._close = function() {\r\n      _engine._unwatch();\r\n    };\r\n    _engine._watch = function() {\r\n      _engine._access.onstatechange = function() {\r\n        watcher = true;\r\n        _schedule(function() {\r\n          if (watcher) {\r\n            _engine._refresh();\r\n            watcher = false;\r\n          }\r\n        });\r\n      };\r\n    };\r\n    _engine._unwatch = function() {\r\n      _engine._access.onstatechange = undefined;\r\n    };\r\n  }\r\n  function _initCRX(msg, ver) {\r\n    _engine._type = 'extension';\r\n    _engine._version = ver;\r\n    _engine._sysex = true;\r\n    _engine._pool = [];\r\n    _engine._outs = [];\r\n    _engine._ins = [];\r\n    _engine._inArr = [];\r\n    _engine._outArr = [];\r\n    _engine._inMap = {};\r\n    _engine._outMap = {};\r\n    _engine._outsW = [];\r\n    _engine._insW = [];\r\n    _engine.refreshClients = [];\r\n    _engine._msg = msg;\r\n    _engine._newPlugin = function() {\r\n      var plugin = { id: _engine._pool.length };\r\n      _engine._pool.push(plugin);\r\n      if (!plugin.id) plugin.ready = true;\r\n      else document.dispatchEvent(new CustomEvent('jazz-midi', { detail: ['new'] }));\r\n    };\r\n    _engine._newPlugin();\r\n    _engine._refresh = function(client) {\r\n      _engine.refreshClients.push(client);\r\n      client._pause();\r\n      _schedule(function() {\r\n        document.dispatchEvent(new CustomEvent('jazz-midi', { detail: ['refresh'] }));\r\n      });\r\n    };\r\n    function _closeAll() {\r\n      for (var i = 0; i < this.clients.length; i++) this._close(this.clients[i]);\r\n    }\r\n    _engine._openOut = function(port, name) {\r\n      var impl = _engine._outMap[name];\r\n      if (!impl) {\r\n        if (_engine._pool.length <= _engine._outArr.length) _engine._newPlugin();\r\n        var plugin = _engine._pool[_engine._outArr.length];\r\n        impl = {\r\n          name: name,\r\n          clients: [],\r\n          info: {\r\n            name: name,\r\n            manufacturer: _engine._allOuts[name].manufacturer,\r\n            version: _engine._allOuts[name].version,\r\n            type: 'MIDI-out',\r\n            sysex: _engine._sysex,\r\n            engine: _engine._type\r\n          },\r\n          _start: function() { document.dispatchEvent(new CustomEvent('jazz-midi', { detail: ['openout', plugin.id, name] })); },\r\n          _close: function(port) { _engine._closeOut(port); },\r\n          _closeAll: _closeAll,\r\n          _receive: function(a) { if (a.length) { var v = a.slice(); v.splice(0, 0, 'play', plugin.id); document.dispatchEvent(new CustomEvent('jazz-midi', {detail: v})); } }\r\n        };\r\n        impl.plugin = plugin;\r\n        plugin.output = impl;\r\n        _engine._outArr.push(impl);\r\n        _engine._outMap[name] = impl;\r\n      }\r\n      port._orig._impl = impl;\r\n      _push(impl.clients, port._orig);\r\n      port._info = impl.info;\r\n      port._receive = function(arg) { impl._receive(arg); };\r\n      port._close = function() { impl._close(this); };\r\n      if (!impl.open) {\r\n        port._pause();\r\n        if (impl.plugin.ready) impl._start();\r\n      }\r\n    };\r\n    _engine._openIn = function(port, name) {\r\n      var impl = _engine._inMap[name];\r\n      if (!impl) {\r\n        if (_engine._pool.length <= _engine._inArr.length) _engine._newPlugin();\r\n        var plugin = _engine._pool[_engine._inArr.length];\r\n        impl = {\r\n          name: name,\r\n          clients: [],\r\n          info: {\r\n            name: name,\r\n            manufacturer: _engine._allIns[name].manufacturer,\r\n            version: _engine._allIns[name].version,\r\n            type: 'MIDI-in',\r\n            sysex: _engine._sysex,\r\n            engine: _engine._type\r\n          },\r\n          _start: function() { document.dispatchEvent(new CustomEvent('jazz-midi', { detail: ['openin', plugin.id, name] })); },\r\n          _close: function(port) { _engine._closeIn(port); },\r\n          _closeAll: _closeAll\r\n        };\r\n        impl.plugin = plugin;\r\n        plugin.input = impl;\r\n        _engine._inArr.push(impl);\r\n        _engine._inMap[name] = impl;\r\n      }\r\n      port._orig._impl = impl;\r\n      _push(impl.clients, port._orig);\r\n      port._info = impl.info;\r\n      port._close = function() { impl._close(this); };\r\n      if (!impl.open) {\r\n        port._pause();\r\n        if (impl.plugin.ready) impl._start();\r\n      }\r\n    };\r\n    _engine._closeOut = function(port) {\r\n      var impl = port._impl;\r\n      _pop(impl.clients, port._orig);\r\n      if (!impl.clients.length && impl.open) {\r\n        impl.open = false;\r\n        document.dispatchEvent(new CustomEvent('jazz-midi', { detail: ['closeout', impl.plugin.id] }));\r\n      }\r\n    };\r\n    _engine._closeIn = function(port) {\r\n      var impl = port._impl;\r\n      _pop(impl.clients, port._orig);\r\n      if (!impl.clients.length && impl.open) {\r\n        impl.open = false;\r\n        document.dispatchEvent(new CustomEvent('jazz-midi', { detail: ['closein', impl.plugin.id] }));\r\n      }\r\n    };\r\n    _engine._close = function() {\r\n      _engine._unwatch();\r\n    };\r\n    var watcher;\r\n    _engine._watch = function() {\r\n      _engine._insW = _engine._ins;\r\n      _engine._outsW = _engine._outs;\r\n      watcher = setInterval(function() {\r\n        document.dispatchEvent(new CustomEvent('jazz-midi', {detail:['refresh']}));\r\n      }, 250);\r\n    };\r\n    _engine._unwatch = function() {\r\n      clearInterval(watcher);\r\n      watcher = undefined;\r\n    };\r\n    document.addEventListener('jazz-midi-msg', function() {\r\n      var v = _engine._msg.innerText.split('\\n');\r\n      var impl, i, j;\r\n      _engine._msg.innerText = '';\r\n      for (i = 0; i < v.length; i++) {\r\n        var a = [];\r\n        try { a = JSON.parse(v[i]); } catch (err) {}\r\n        if (!a.length) continue;\r\n        if (a[0] === 'refresh') {\r\n          if (a[1].ins) {\r\n            for (j = 0; j < a[1].ins.length; j++) a[1].ins[j].type = _engine._type;\r\n            _engine._ins = a[1].ins;\r\n          }\r\n          if (a[1].outs) {\r\n            for (j = 0; j < a[1].outs.length; j++) a[1].outs[j].type = _engine._type;\r\n            _engine._outs = a[1].outs;\r\n          }\r\n          _postRefresh();\r\n          for (j = 0; j < _engine.refreshClients.length; j++) _engine.refreshClients[j]._resume();\r\n          _engine.refreshClients = [];\r\n        }\r\n        else if (a[0] === 'version') {\r\n          var plugin = _engine._pool[a[1]];\r\n          if (plugin) {\r\n            plugin.ready = true;\r\n            if (plugin.input) plugin.input._start();\r\n            if (plugin.output) plugin.output._start();\r\n          }\r\n        }\r\n        else if (a[0] === 'openout') {\r\n          impl = _engine._pool[a[1]].output;\r\n          if (impl) {\r\n            if (a[2] == impl.name) {\r\n              impl.open = true;\r\n              if (impl.clients) for (j = 0; j < impl.clients.length; j++) impl.clients[j]._resume();\r\n            }\r\n            else if (impl.clients) for (j = 0; j < impl.clients.length; j++) impl.clients[j]._crash();\r\n          }\r\n        }\r\n        else if (a[0] === 'openin') {\r\n          impl = _engine._pool[a[1]].input;\r\n          if (impl) {\r\n            if (a[2] == impl.name) {\r\n              impl.open = true;\r\n              if (impl.clients) for (j = 0; j < impl.clients.length; j++) impl.clients[j]._resume();\r\n            }\r\n            else if (impl.clients) for (j = 0; j < impl.clients.length; j++) impl.clients[j]._crash();\r\n          }\r\n        }\r\n        else if (a[0] === 'midi') {\r\n          impl = _engine._pool[a[1]].input;\r\n          if (impl && impl.clients) {\r\n            for (j = 0; j < impl.clients.length; j++) {\r\n              var msg = MIDI(a.slice(3));\r\n              impl.clients[j]._emit(msg);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  var JZZ = function(opt) {\r\n    if (!_jzz) _initJZZ(opt);\r\n    return _jzz._thenable();\r\n  };\r\n  JZZ.JZZ = JZZ;\r\n  JZZ.version = _version;\r\n  JZZ.info = function() { return _J.prototype.info(); };\r\n\r\n  function Widget(arg) {\r\n    var self = new _M();\r\n    if (arg instanceof Object) _for(arg, function(k) { self[k] = arg[k]; });\r\n    self._resume();\r\n    return self;\r\n  }\r\n  JZZ.Widget = Widget;\r\n  _J.prototype.Widget = JZZ.Widget;\r\n  JZZ.addMidiIn = function(name, widget) {\r\n    var info = _clone(widget._info || {});\r\n    info.name = name;\r\n    info.type = info.type || 'javascript';\r\n    info.manufacturer = info.manufacturer || 'virtual';\r\n    info.version = info.version || '0.0';\r\n    var engine = {\r\n      _info: function() { return info; },\r\n      _openIn: function(port) {\r\n        port._pause();\r\n        port._info = _clone(info);\r\n        port._close = function() { widget.disconnect(port); };\r\n        widget.connect(port);\r\n        port._resume();\r\n      }\r\n    };\r\n    return JZZ.lib.registerMidiIn(name, engine);\r\n  };\r\n  JZZ.addMidiOut = function(name, widget) {\r\n    var info = _clone(widget._info || {});\r\n    info.name = name;\r\n    info.type = info.type || 'javascript';\r\n    info.manufacturer = info.manufacturer || 'virtual';\r\n    info.version = info.version || '0.0';\r\n    var engine = {\r\n      _info: function() { return info; },\r\n      _openOut: function(port) {\r\n        port._pause();\r\n        port._info = _clone(info);\r\n        port._close = function() { port.disconnect(); };\r\n        _connect.apply(port, [widget]);\r\n        port._resume();\r\n      }\r\n    };\r\n    return JZZ.lib.registerMidiOut(name, engine);\r\n  };\r\n\r\n  // JZZ.SMPTE\r\n\r\n  function SMPTE() {\r\n    var self = this instanceof SMPTE ? this : self = new SMPTE();\r\n    SMPTE.prototype.reset.apply(self, arguments);\r\n    return self;\r\n  }\r\n  SMPTE.prototype.reset = function(arg) {\r\n    if (arg instanceof SMPTE) {\r\n      this.setType(arg.getType());\r\n      this.setHour(arg.getHour());\r\n      this.setMinute(arg.getMinute());\r\n      this.setSecond(arg.getSecond());\r\n      this.setFrame(arg.getFrame());\r\n      this.setQuarter(arg.getQuarter());\r\n      return this;\r\n    }\r\n    var arr = arg instanceof Array ? arg : arguments;\r\n    this.setType(arr[0]);\r\n    this.setHour(arr[1]);\r\n    this.setMinute(arr[2]);\r\n    this.setSecond(arr[3]);\r\n    this.setFrame(arr[4]);\r\n    this.setQuarter(arr[5]);\r\n    return this;\r\n  };\r\n  function _fixDropFrame() { if (this.type == 29.97 && !this.second && this.frame < 2 && this.minute % 10) this.frame = 2; }\r\n  SMPTE.prototype.isFullFrame = function() { return this.quarter == 0 || this.quarter == 4; };\r\n  SMPTE.prototype.getType = function() { return this.type; };\r\n  SMPTE.prototype.getHour = function() { return this.hour; };\r\n  SMPTE.prototype.getMinute = function() { return this.minute; };\r\n  SMPTE.prototype.getSecond = function() { return this.second; };\r\n  SMPTE.prototype.getFrame = function() { return this.frame; };\r\n  SMPTE.prototype.getQuarter = function() { return this.quarter; };\r\n  SMPTE.prototype.setType = function(x) {\r\n    if (typeof x == 'undefined' || x == 24) this.type = 24;\r\n    else if (x == 25) this.type = 25;\r\n    else if (x == 29.97) { this.type = 29.97; _fixDropFrame.apply(this); }\r\n    else if (x == 30) this.type = 30;\r\n    else throw RangeError('Bad SMPTE frame rate: ' + x);\r\n    if (this.frame >= this.type) this.frame = this.type - 1; // could not be more than 29\r\n    return this;\r\n  };\r\n  SMPTE.prototype.setHour = function(x) {\r\n    if (typeof x == 'undefined') x = 0;\r\n    if (x != parseInt(x) || x < 0 || x >= 24) throw RangeError('Bad SMPTE hours value: ' + x);\r\n    this.hour = x;\r\n    return this;\r\n  };\r\n  SMPTE.prototype.setMinute = function(x) {\r\n    if (typeof x == 'undefined') x = 0;\r\n    if (x != parseInt(x) || x < 0 || x >= 60) throw RangeError('Bad SMPTE minutes value: ' + x);\r\n    this.minute = x;\r\n    _fixDropFrame.apply(this);\r\n    return this;\r\n  };\r\n  SMPTE.prototype.setSecond = function(x) {\r\n    if (typeof x == 'undefined') x = 0;\r\n    if (x != parseInt(x) || x < 0 || x >= 60) throw RangeError('Bad SMPTE seconds value: ' + x);\r\n    this.second = x;\r\n    _fixDropFrame.apply(this);\r\n    return this;\r\n  };\r\n  SMPTE.prototype.setFrame = function(x) {\r\n    if (typeof x == 'undefined') x = 0;\r\n    if (x != parseInt(x) || x < 0 || x >= this.type) throw RangeError('Bad SMPTE frame number: ' + x);\r\n    this.frame = x;\r\n    _fixDropFrame.apply(this);\r\n    return this;\r\n  };\r\n  SMPTE.prototype.setQuarter = function(x) {\r\n    if (typeof x == 'undefined') x = 0;\r\n    if (x != parseInt(x) || x < 0 || x >= 8) throw RangeError('Bad SMPTE quarter frame: ' + x);\r\n    this.quarter = x;\r\n    return this;\r\n  };\r\n  SMPTE.prototype.incrFrame = function() {\r\n    this.frame++;\r\n    if (this.frame >= this.type) {\r\n      this.frame = 0;\r\n      this.second++;\r\n      if (this.second >= 60) {\r\n        this.second = 0;\r\n        this.minute++;\r\n        if (this.minute >= 60) {\r\n          this.minute = 0;\r\n          this.hour = this.hour >= 23 ? 0 : this.hour + 1;\r\n        }\r\n      }\r\n    }\r\n    _fixDropFrame.apply(this);\r\n    return this;\r\n  };\r\n  SMPTE.prototype.decrFrame = function() {\r\n    if (!this.second && this.frame == 2 && this.type == 29.97 && this.minute % 10) this.frame = 0; // drop-frame\r\n    this.frame--;\r\n    if (this.frame < 0) {\r\n      this.frame = this.type == 29.97 ? 29 : this.type - 1;\r\n      this.second--;\r\n      if (this.second < 0) {\r\n        this.second = 59;\r\n        this.minute--;\r\n        if (this.minute < 0) {\r\n          this.minute = 59;\r\n          this.hour = this.hour ? this.hour - 1 : 23;\r\n        }\r\n      }\r\n    }\r\n    return this;\r\n  };\r\n  SMPTE.prototype.incrQF = function() {\r\n    this.backwards = false;\r\n    this.quarter = (this.quarter + 1) & 7;\r\n    if (this.quarter == 0 || this.quarter == 4) this.incrFrame();\r\n    return this;\r\n  };\r\n  SMPTE.prototype.decrQF = function() {\r\n    this.backwards = true;\r\n    this.quarter = (this.quarter + 7) & 7;\r\n    if (this.quarter == 3 || this.quarter == 7) this.decrFrame();\r\n    return this;\r\n  };\r\n  function _825(a) { return [[24, 25, 29.97, 30][(a[7] >> 1) & 3], ((a[7] & 1) << 4) | a[6], (a[5] << 4) | a[4], (a[3] << 4) | a[2], (a[1] << 4) | a[0]]; }\r\n  SMPTE.prototype.read = function(m) {\r\n    if (!(m instanceof MIDI)) m = MIDI.apply(null, arguments);\r\n    if (m[0] == 0xf0 && m[1] == 0x7f && m[3] == 1 && m[4] == 1 && m[9] == 0xf7) {\r\n      this.type = [24, 25, 29.97, 30][(m[5] >> 5) & 3];\r\n      this.hour = m[5] & 31;\r\n      this.minute = m[6];\r\n      this.second = m[7];\r\n      this.frame = m[8];\r\n      this.quarter = 0;\r\n      this._ = undefined;\r\n      this._b = undefined;\r\n      this._f = undefined;\r\n      return true;\r\n    }\r\n    if (m[0] == 0xf1 && typeof m[1] != 'undefined') {\r\n      var q = m[1] >> 4;\r\n      var n = m[1] & 15;\r\n      if (q == 0) {\r\n        if (this._ == 7) {\r\n          if (this._f == 7) {\r\n            this.reset(_825(this._a));\r\n            this.incrFrame();\r\n          }\r\n          this.incrFrame();\r\n        }\r\n      }\r\n      else if (q == 3) {\r\n        if (this._ == 4) {\r\n          this.decrFrame();\r\n        }\r\n      }\r\n      else if (q == 4) {\r\n        if (this._ == 3) {\r\n          this.incrFrame();\r\n        }\r\n      }\r\n      else if (q == 7) {\r\n        if (this._ === 0) {\r\n          if (this._b === 0) {\r\n            this.reset(_825(this._a));\r\n            this.decrFrame();\r\n          }\r\n          this.decrFrame();\r\n        }\r\n      }\r\n      if (!this._a) this._a = [];\r\n      this._a[q] = n;\r\n      this._f = this._f === q - 1 || q == 0 ? q : undefined;\r\n      this._b = this._b === q + 1 || q == 7 ? q : undefined;\r\n      this._ = q;\r\n      this.quarter = q;\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n  function _mtc(t) {\r\n    if (!t.backwards && t.quarter >= 4) t.decrFrame(); // continue encoding previous frame\r\n    else if (t.backwards && t.quarter < 4) t.incrFrame();\r\n    var ret;\r\n    switch (t.quarter >> 1) {\r\n      case 0: ret = t.frame; break;\r\n      case 1: ret = t.second; break;\r\n      case 2: ret = t.minute; break;\r\n      default: ret = t.hour;\r\n    }\r\n    if (t.quarter & 1) ret >>= 4;\r\n    else ret &= 15;\r\n    if (t.quarter == 7) {\r\n      if (t.type == 25) ret |= 2;\r\n      else if (t.type == 29.97) ret |= 4;\r\n      else if (t.type == 30) ret |= 6;\r\n    }\r\n    // restore original t\r\n    if (!t.backwards && t.quarter >= 4) t.incrFrame();\r\n    else if (t.backwards && t.quarter < 4) t.decrFrame();\r\n    return ret | (t.quarter << 4);\r\n  }\r\n  function _hrtype(t) {\r\n    if (t.type == 25) return t.hour | 0x20;\r\n    if (t.type == 29.97) return t.hour | 0x40;\r\n    if (t.type == 30) return t.hour | 0x60;\r\n    return t.hour;\r\n  }\r\n  function _dec(x) { return x < 10 ? '0' + x : x; }\r\n  function _smptetxt(x) {\r\n    var arr = [];\r\n    for (var i = 0; i < x.length; i++) arr[i] = _dec(i ? x[i] : x[i] & 0x1f);\r\n    return arr.join(':');\r\n  }\r\n  SMPTE.prototype.toString = function() { return _smptetxt([this.hour, this.minute, this.second, this.frame]); };\r\n  JZZ.SMPTE = SMPTE;\r\n  _J.prototype.SMPTE = SMPTE;\r\n\r\n  // JZZ.MIDI\r\n\r\n  function MIDI(arg) {\r\n    var self = this instanceof MIDI ? this : self = new MIDI();\r\n    var i;\r\n    if (arg instanceof MIDI) {\r\n      self._from = arg._from.slice();\r\n      _for(arg, function(i) { if (i != '_from') self[i] = arg[i]; });\r\n      return self;\r\n    }\r\n    else self._from = [];\r\n    if (typeof arg == 'undefined') return self;\r\n    var arr = arg instanceof Array ? arg : arguments;\r\n    for (i = 0; i < arr.length; i++) {\r\n      n = arr[i];\r\n      if (i == 1) {\r\n        if (self[0] >= 0x80 && self[0] <= 0xAF) n = MIDI.noteValue(n);\r\n        if (self[0] >= 0xC0 && self[0] <= 0xCF) n = MIDI.programValue(n);\r\n      }\r\n      if (n != parseInt(n) || n < 0 || n > 255) _throw(arr[i]);\r\n      self.push(n);\r\n    }\r\n    return self;\r\n  }\r\n  MIDI.prototype = [];\r\n  MIDI.prototype.constructor = MIDI;\r\n  var _noteNum = {};\r\n  MIDI.noteValue = function(x) { return typeof x == 'undefined' ? undefined : _noteNum[x.toString().toLowerCase()]; };\r\n  MIDI.programValue = function(x) { return x; };\r\n  MIDI.octaveValue = function(x) {\r\n    var n = _noteNum[x.toString().toLowerCase()];\r\n    if (typeof n == 'undefined') n = _noteNum[x.toString().toLowerCase() + '1'];\r\n    return typeof n == 'undefined' ? undefined : n % 12;\r\n  };\r\n  MIDI.freq = function(n, a) {\r\n    if (typeof a == 'undefined') a = 440.0;\r\n    _float(a);\r\n    if (n != parseFloat(n)) n = _7bn(n);\r\n    return (a * Math.pow(2, (n - 69.0) / 12.0));\r\n  };\r\n  function _float(x) { if (x != parseFloat(x)) throw TypeError('Not a number: ' + x); }\r\n  MIDI.shift = function(f, f0) {\r\n    if (typeof f0 == 'undefined') f0 = 440;\r\n    _float(f);\r\n    _float(f0);\r\n    return Math.log2(f / f0) * 12;\r\n  };\r\n  MIDI.midi = function(f, f0) {\r\n    if (f != parseFloat(f)) return _7bn(f);\r\n    return MIDI.shift(f, f0) + 69;\r\n  };\r\n  MIDI.to7b = function(x) {\r\n    _float(x);\r\n    return x <= 0 ? 0 : x >= 1 ? 0x7f : Math.floor(x * 0x80);\r\n  };\r\n  MIDI.to14b = function(x) {\r\n    _float(x);\r\n    return x <= 0 ? 0 : x >= 1 ? 0x3fff : Math.floor(x * 0x4000);\r\n  };\r\n  MIDI.to21b = function(x) {\r\n    if (typeof x == 'undefined') return 0x1fffff;\r\n    _float(x);\r\n    if (x <= 0) return 0;\r\n    x = (Math.floor(x) << 14) + MIDI.to14b(x - Math.floor(x));\r\n    return x < 0x1fffff ? x : 0x1ffffe;\r\n  };\r\n  function _MIDI() {}\r\n  _MIDI.prototype = MIDI;\r\n  MIDI._sxid = 0x7f;\r\n  MIDI.sxId = function(id) {\r\n    if (typeof id == 'undefined') id = MIDI._sxid;\r\n    if (id == this._sxid) return this;\r\n    id = _7b(id);\r\n    var ret = new _MIDI();\r\n    ret._ch = this._ch;\r\n    ret._sxid = id;\r\n    return ret;\r\n  };\r\n  MIDI.ch = function(c) {\r\n    if (c == this._ch || typeof c == 'undefined' && typeof this._ch == 'undefined') return this;\r\n    var ret = new _MIDI();\r\n    if (typeof c != 'undefined') c = _ch(c);\r\n    ret._ch = c;\r\n    ret._sxid = this._sxid;\r\n    return ret;\r\n  };\r\n\r\n  var _noteMap = { c:0, d:2, e:4, f:5, g:7, a:9, b:11, h:11 };\r\n  _for(_noteMap, function(k) {\r\n    for (n = 0; n < 12; n++) {\r\n      m = _noteMap[k] + n * 12;\r\n      if (m > 127) break;\r\n      _noteNum[k + n] = m; _noteNum[k + '♮' + n] = m;\r\n      if (m > 0) {\r\n        _noteNum[k + 'b' + n] = m - 1; _noteNum[k + '♭' + n] = m - 1;\r\n        _noteNum[k + 'bb' + n] = m - 2; _noteNum[k + '♭♭' + n] = m - 2; _noteNum[k + '𝄫' + n] = m - 2;\r\n      }\r\n      if (m < 127) {\r\n        _noteNum[k + '#' + n] = m + 1; _noteNum[k + '♯' + n] = m + 1;\r\n        _noteNum[k + '##' + n] = m + 2; _noteNum[k + '♯♯' + n] = m + 2; _noteNum[k + '𝄪' + n] = m + 2;\r\n      }\r\n    }\r\n  });\r\n  for (n = 0; n < 128; n++) _noteNum[n] = n;\r\n  function _throw(x) { throw RangeError('Bad MIDI value: ' + x); }\r\n  function _bad(x) { throw TypeError('Invalid value: ' + x); }\r\n  function _oor(x) { throw RangeError('Out of range: ' + x); }\r\n  function _ch(c) { _validateChannel(c); return parseInt(c); }\r\n  function _7b(n, m) { if (n != parseInt(n) || n < 0 || n > 0x7f) _throw(typeof m == 'undefined' ? n : m); return parseInt(n); }\r\n  function _8b(n) { if (n != parseInt(n) || n < 0 || n > 0xff) _throw(n); return parseInt(n); }\r\n  function _14b(n) { if (n != parseInt(n) || n < 0 || n > 0x3fff) _throw(n); return parseInt(n); }\r\n  function _16b(n) { if (n != parseInt(n) || n < 0 || n > 0xffff) throw RangeError('Expected a 16-bit value: ' + n); return parseInt(n); }\r\n  function _21b(n) { if (n != parseInt(n) || n < 0 || n > 0x1fffff) _throw(n); return parseInt(n); }\r\n  function _7bn(n) { return _7b(MIDI.noteValue(n), n); }\r\n  function _lsb(n) { return _14b(n) & 0x7f; }\r\n  function _msb(n) { return _14b(n) >> 7; }\r\n  function _8bs(s) { s = '' + s; for (var i = 0; i < s.length; i++) if (s.charCodeAt(i) > 255) _throw(s[i]); return s; }\r\n  function _to777(n) { return [n >> 14, (n >> 7) & 0x7f, n & 0x7f]; }\r\n  function _01(x, y) {\r\n    if (x != parseFloat(x)) _bad(typeof y == 'undefined' ? x : y);\r\n    if (x < 0 || x > 1) _oor(typeof y == 'undefined' ? x : y);\r\n    return parseFloat(x);\r\n }\r\n  function _rt(b) { return typeof b != 'undefined' && !b ? 0x7E : 0x7F; }\r\n  function _ntu(x) {\r\n    var k, m;\r\n    var kkk = [];\r\n    var vvv = {};\r\n    _for(x, function(k) {\r\n      m = _21b(x[k]);\r\n      k = _7bn(k);\r\n      if (k in vvv) throw RangeError('Duplicate MIDI value: ' + k);\r\n      kkk.push(k);\r\n      vvv[k] = m;\r\n    });\r\n    kkk.sort();\r\n    var out = [kkk.length];\r\n    for (k = 0; k < kkk.length; k++) out = out.concat([kkk[k]], _to777(vvv[kkk[k]]));\r\n    return out;\r\n  }\r\n  function _f2ntu(x) {\r\n    var out = {};\r\n    _for (x, function(k) { out[k] = MIDI.to21b(x[k] == parseFloat(x[k]) ? x[k] : _7bn(x[k])); });\r\n    return out;\r\n  }\r\n  function _hz2ntu(x) {\r\n    var out = {};\r\n    _for (x, function(k) { out[k] = MIDI.to21b(MIDI.midi(x[k])); });\r\n    return out;\r\n  }\r\n  function _12x7(a) {\r\n    var out = [];\r\n    if (!(a instanceof Array) || a.length != 12) throw TypeError('Expected an array of size 12');\r\n    for (var i = 0; i < 12; i++) out.push(_7b(a[i]));\r\n    return out;\r\n  }\r\n  function _12x14(a) {\r\n    var out = [];\r\n    if (!(a instanceof Array) || a.length != 12) throw TypeError('Expected an array of size 12');\r\n    for (var i = 0; i < 12; i++) {\r\n      out.push(_msb(a[i]));\r\n      out.push(_lsb(a[i]));\r\n    }\r\n    return out;\r\n  }\r\n  var _helperMPE = {\r\n    noteOff: function(c, n, v) { if (typeof v == 'undefined') v = 64; return [0x80 + _ch(c), _7bn(n), _7b(v)]; },\r\n    noteOn: function(c, n, v) { if (typeof v == 'undefined') v = 127; return [0x90 + _ch(c), _7bn(n), _7b(v)]; },\r\n    aftertouch: function(c, n, v) { return [0xA0 + _ch(c), _7bn(n), _7b(v)]; },\r\n  };\r\n  var _helperCH = {\r\n    control: function(c, n, v) { return [0xB0 + _ch(c), _7b(n), _7b(v)]; },\r\n    program: function(c, n) { return [0xC0 + _ch(c), _7b(MIDI.programValue(n), n)]; },\r\n    pressure: function(c, n) { return [0xD0 + _ch(c), _7b(n)]; },\r\n    pitchBend: function(c, n, l) { return typeof l == 'undefined' ? [0xE0 + _ch(c), _lsb(n), _msb(n)] : [0xE0 + _ch(c), _7b(l), _7b(n)]; },\r\n    pitchBendF: function(c, x) { return _helperCH.pitchBend(c, MIDI.to14b((x + 1) / 2)); },\r\n    bankMSB: function(c, n) { return [0xB0 + _ch(c), 0x00, _7b(n)]; },\r\n    bankLSB: function(c, n) { return [0xB0 + _ch(c), 0x20, _7b(n)]; },\r\n    modMSB: function(c, n) { return [0xB0 + _ch(c), 0x01, _7b(n)]; },\r\n    modLSB: function(c, n) { return [0xB0 + _ch(c), 0x21, _7b(n)]; },\r\n    breathMSB: function(c, n) { return [0xB0 + _ch(c), 0x02, _7b(n)]; },\r\n    breathLSB: function(c, n) { return [0xB0 + _ch(c), 0x22, _7b(n)]; },\r\n    footMSB: function(c, n) { return [0xB0 + _ch(c), 0x04, _7b(n)]; },\r\n    footLSB: function(c, n) { return [0xB0 + _ch(c), 0x24, _7b(n)]; },\r\n    portamentoMSB: function(c, n) { return [0xB0 + _ch(c), 0x05, _7b(n)]; },\r\n    portamentoLSB: function(c, n) { return [0xB0 + _ch(c), 0x25, _7b(n)]; },\r\n    dataMSB: function(c, n) { return [0xB0 + _ch(c), 0x06, _7b(n)]; },\r\n    dataLSB: function(c, n) { return [0xB0 + _ch(c), 0x26, _7b(n)]; },\r\n    volumeMSB: function(c, n) { return [0xB0 + _ch(c), 0x07, _7b(n)]; },\r\n    volumeLSB: function(c, n) { return [0xB0 + _ch(c), 0x27, _7b(n)]; },\r\n    balanceMSB: function(c, n) { return [0xB0 + _ch(c), 0x08, _7b(n)]; },\r\n    balanceLSB: function(c, n) { return [0xB0 + _ch(c), 0x28, _7b(n)]; },\r\n    panMSB: function(c, n) { return [0xB0 + _ch(c), 0x0A, _7b(n)]; },\r\n    panLSB: function(c, n) { return [0xB0 + _ch(c), 0x2A, _7b(n)]; },\r\n    expressionMSB: function(c, n) { return [0xB0 + _ch(c), 0x0B, _7b(n)]; },\r\n    expressionLSB: function(c, n) { return [0xB0 + _ch(c), 0x2B, _7b(n)]; },\r\n    damper: function(c, b) { if (typeof b == 'undefined') b = true; return [0xB0 + _ch(c), 0x40, b ? 127 : 0]; },\r\n    portamento: function(c, b) { if (typeof b == 'undefined') b = true; return [0xB0 + _ch(c), 0x41, b ? 127 : 0]; },\r\n    sostenuto: function(c, b) { if (typeof b == 'undefined') b = true; return [0xB0 + _ch(c), 0x42, b ? 127 : 0]; },\r\n    soft: function(c, b) { if (typeof b == 'undefined') b = true; return [0xB0 + _ch(c), 0x43, b ? 127 : 0]; },\r\n    legato: function(c, b) { if (typeof b == 'undefined') b = true; return [0xB0 + _ch(c), 0x44, b ? 127 : 0]; },\r\n    hold2: function(c, b) { if (typeof b == 'undefined') b = true; return [0xB0 + _ch(c), 0x45, b ? 127 : 0]; },\r\n    soundVariation: function(c, n) { return [0xB0 + _ch(c), 0x46, _7bn(n)]; },\r\n    filterResonance: function(c, n) { return [0xB0 + _ch(c), 0x47, _7bn(n)]; },\r\n    releaseTime: function(c, n) { return [0xB0 + _ch(c), 0x48, _7bn(n)]; },\r\n    attackTime: function(c, n) { return [0xB0 + _ch(c), 0x49, _7bn(n)]; },\r\n    brightness: function(c, n) { return [0xB0 + _ch(c), 0x4A, _7bn(n)]; },\r\n    decayTime: function(c, n) { return [0xB0 + _ch(c), 0x4B, _7bn(n)]; },\r\n    vibratoRate: function(c, n) { return [0xB0 + _ch(c), 0x4C, _7bn(n)]; },\r\n    vibratoDepth: function(c, n) { return [0xB0 + _ch(c), 0x4D, _7bn(n)]; },\r\n    vibratoDelay: function(c, n) { return [0xB0 + _ch(c), 0x4E, _7bn(n)]; },\r\n    ptc: function(c, n) { return [0xB0 + _ch(c), 0x54, _7bn(n)]; },\r\n    dataIncr: function(c) { return [0xB0 + _ch(c), 0x60, 0]; },\r\n    dataDecr: function(c) { return [0xB0 + _ch(c), 0x61, 0]; },\r\n    nrpnLSB: function(c, n) { return [0xB0 + _ch(c), 0x62, _7b(n)]; },\r\n    nrpnMSB: function(c, n) { return [0xB0 + _ch(c), 0x63, _7b(n)]; },\r\n    rpnLSB: function(c, n) { return [0xB0 + _ch(c), 0x64, _7b(n)]; },\r\n    rpnMSB: function(c, n) { return [0xB0 + _ch(c), 0x65, _7b(n)]; },\r\n    allSoundOff: function(c) { return [0xB0 + _ch(c), 0x78, 0]; },\r\n    resetAllControllers: function(c) { return [0xB0 + _ch(c), 0x79, 0]; },\r\n    localControl: function(c, b) { if (typeof b == 'undefined') b = true; return [0xB0 + _ch(c), 0x7a, b ? 127 : 0]; },\r\n    allNotesOff: function(c) { return [0xB0 + _ch(c), 0x7b, 0]; },\r\n    omni: function(c, b) { if (typeof b == 'undefined') b = true; return [0xB0 + _ch(c), b ? 0x7d : 0x7c, 0]; },\r\n    mono: function(c, n) { if (typeof n == 'undefined') n = 1; return [0xB0 + _ch(c), 0x7e, _7b(n)]; },\r\n    poly: function(c) { return [0xB0 + _ch(c), 0x7f, 0]; },\r\n  };\r\n  function _splitMasterTuning(a, b, c, d) {\r\n    if (typeof b != 'undefined') return [_7b(a), _7b(b), _7b(c), _7b(d)];\r\n    if (a != parseInt(a) || a < 0 || n > 0xffff) _bad(a);\r\n    a = parseInt(a);\r\n    return [(a >> 12) & 0xf, (a >> 8) & 0xf, (a >> 4) & 0xf, a & 0xf];\r\n  }\r\n  function _gsxg12b(x) { // -1 <= x <= 1\r\n    _float(x);\r\n    return Math.round(x * 1000 + 0x400);\r\n  }\r\n  var _helperNC = { // no channel\r\n    mtc: function(t) { return [0xF1, _mtc(t)]; },\r\n    songPosition: function(n, l) { return typeof l == 'undefined' ? [0xF2, _lsb(n), _msb(n)] : [0xF2, _7b(l), _7b(n)]; },\r\n    songSelect: function(n) { return [0xF3, _7b(n)]; },\r\n    tune: function() { return [0xF6]; },\r\n    clock: function() { return [0xF8]; },\r\n    start: function() { return [0xFA]; },\r\n    continue: function() { return [0xFB]; },\r\n    stop: function() { return [0xFC]; },\r\n    active: function() { return [0xFE]; },\r\n    sxIdRequest: function() { return [0xF0, 0x7E, this._sxid, 0x06, 0x01, 0xF7]; },\r\n    sxTuningDumpRequest: function(n, k) { return typeof k == 'undefined' ?\r\n      [0xF0, 0x7E, this._sxid, 0x08, 0x00, _7b(n), 0xF7] : [0xF0, 0x7E, this._sxid, 0x08, 0x03, _7b(n), _7b(k), 0xF7]; },\r\n    sxFullFrame: function(t) { return [0xF0, 0x7F, this._sxid, 0x01, 0x01, _hrtype(t), t.getMinute(), t.getSecond(), t.getFrame(), 0xF7]; },\r\n    sxMasterVolume: function(n, l) { return typeof l == 'undefined' ?\r\n      [0xF0, 0x7F, this._sxid, 0x04, 0x01, _lsb(n), _msb(n), 0xF7] : [0xF0, 0x7F, this._sxid, 0x04, 0x01, _7b(l), _7b(n), 0xF7]; },\r\n    sxMasterVolumeF: function(x) { return _helperNC.sxMasterVolume.call(this, MIDI.to14b(_01(x))); },\r\n    sxMasterFineTuning: function(n, l) { return typeof l == 'undefined' ?\r\n      [0xF0, 0x7F, this._sxid, 0x04, 0x03, _lsb(n), _msb(n), 0xF7] : [0xF0, 0x7F, this._sxid, 0x04, 0x03, _7b(l), _7b(n), 0xF7]; },\r\n    sxMasterFineTuningF: function(x) { return _helperNC.sxMasterFineTuning.call(this, MIDI.to14b(_01((x % 1 + 1) / 2, x))); },\r\n    sxMasterCoarseTuning: function(n) { return [0xF0, 0x7F, this._sxid, 0x04, 0x04, 0x00, _7b(n), 0xF7]; },\r\n    sxMasterCoarseTuningF: function(x) { return _helperNC.sxMasterCoarseTuning.call(this, 0x40 + (x - x % 1)); },\r\n    sxNoteTuning: function(a, b, c, d) { return b == parseInt(b) ?\r\n      [0xF0, _rt(d), this._sxid, 0x08, 0x07, _7b(a), _7b(b)].concat(_ntu(c), [0xF7]) :\r\n      [0xF0, 0x7F, this._sxid, 0x08, 0x02, _7b(a)].concat(_ntu(b), [0xF7]); },\r\n    sxNoteTuningF: function(a, b, c, d) { return b == parseInt(b) ?\r\n      _helperNC.sxNoteTuning.call(this, a, b, _f2ntu(c), d) : _helperNC.sxNoteTuning.call(this, a, _f2ntu(b)); },\r\n    sxNoteTuningHZ: function(a, b, c, d) { return b == parseInt(b) ?\r\n      _helperNC.sxNoteTuning.call(this, a, b, _hz2ntu(c), d) : _helperNC.sxNoteTuning.call(this, a, _hz2ntu(b)); },\r\n    sxScaleTuning1: function(a, b, c) { return a == parseInt(a) ?\r\n      [0xF0, _rt(c), this._sxid, 0x08, 0x08].concat(_to777(_16b(a)), _12x7(b), [0xF7]) :\r\n      _helperNC.sxScaleTuning1.call(this, 0xffff, a, b); },\r\n    sxScaleTuning1F: function(a, b, c) { if (a != parseInt(a)) return _helperNC.sxScaleTuning1F.call(this, 0xffff, a, b);\r\n      var v = []; for (var i = 0; i < b.length; i++) {\r\n        if (b[i] < -0.64 || b[i] > 0.63) throw RangeError('Out of range: ' + b[i]);\r\n        v.push(Math.floor(b[i] * 100 + 64)); }\r\n      return _helperNC.sxScaleTuning1.call(this, a, v, c); },\r\n    sxScaleTuning2: function(a, b, c) { return a == parseInt(a) ?\r\n      [0xF0, _rt(c), this._sxid, 0x08, 0x09].concat(_to777(_16b(a)), _12x14(b), [0xF7]) :\r\n      _helperNC.sxScaleTuning2.call(this, 0xffff, a, b); },\r\n    sxScaleTuning2F: function(a, b, c) { if (a != parseInt(a)) return _helperNC.sxScaleTuning2F.call(this, 0xffff, a, b);\r\n      var v = []; for (var i = 0; i < b.length; i++) {\r\n        var x = (b[i] + 1) / 2;\r\n        if (x < -1 || x > 1) throw RangeError('Out of range: ' + b[i]);\r\n        v.push(MIDI.to14b((b[i] + 1) / 2)); }\r\n      return _helperNC.sxScaleTuning2.call(this, a, v, c); },\r\n    sxGM: function(gm) { if (typeof gm == 'undefined') gm = 1; return [0xF0, 0x7E, this._sxid, 0x09, gm ? gm == 2 ? 3 : 1 : 2, 0xf7]; },\r\n    sxGS: function(arg) { var arr = typeof arg == 'undefined' ? [0x40, 0, 0x7F, 0] : arg instanceof Array ? arg : arguments;\r\n      var c = 0; var a = [0xF0, 0x41, this._sxid, 0x42, 0x12];\r\n      for (var i = 0; i < arr.length; i++) { var x = _7b(arr[i]); a.push(x); c += x; }\r\n      c %= 128; a.push(c ? 128 - c : 0); a.push(0xf7); return a; },\r\n    sxXG: function(arg) { var arr = typeof arg == 'undefined' ? [0, 0, 0x7E, 0] : arg instanceof Array ? arg : arguments;\r\n      var sxid = this._sxid == 0x7f ? 0 : this._sxid;\r\n      if (sxid > 15) _throw('Bad Yamaha device number: ' + sxid);\r\n      var a = [0xf0, 0x43, 16 + sxid, 0x4c];\r\n      for (var i = 0; i < arr.length; i++) a.push(_7b(arr[i])); a.push(0xf7); return a; },\r\n    sxMidiSoft: function(n, s) {\r\n      var a = [0xf0, 0x00, 0x20, 0x24, 0x00, _7b(n || 0)];\r\n      s = typeof s == 'undefined' ? '' : '' + s;\r\n      for (var i = 0; i < s.length; i++) a.push(_7b(s.charCodeAt(i)));\r\n      a.push(0xf7); return a; },\r\n    gsMasterVolume: function(n) { return _helperNC.sxGS.call(this, [0x40, 0, 4, _7b(n)]); },\r\n    gsMasterVolumeF: function(x) { return _helperNC.gsMasterVolume.call(this, MIDI.to7b(_01(x))); },\r\n    gsMasterFineTuning: function(a, b, c, d) { a = _splitMasterTuning(a, b, c, d); return _helperNC.sxGS.call(this, [0x40, 0, 0, a[0], a[1], a[2], a[3]]); },\r\n    gsMasterFineTuningF: function(x) { return _helperNC.gsMasterFineTuning.call(this, _gsxg12b(x % 1)); },\r\n    gsMasterCoarseTuning: function(n) { return _helperNC.sxGS.call(this, [0x40, 0, 5, _7b(n)]); },\r\n    gsMasterCoarseTuningF: function(x) { return _helperNC.gsMasterCoarseTuning.call(this, 0x40 + (x - x % 1)); },\r\n    gsOctaveTuning: function(c, n, x) { return _helperNC.sxGS.call(this, [0x40, 0x10 + [1, 2, 3, 4, 5, 6, 7, 8, 9, 0, 11, 12, 13, 14, 15][_ch(c)], 0x40 + MIDI.octaveValue(n), _7b(x)]); },\r\n    gsOctaveTuningF: function(c, n, x) { if (x < -0.64 || x > 0.63) throw RangeError('Out of range: ' + x);\r\n      return _helperNC.gsOctaveTuning.call(this, c, n, Math.floor(x * 100 + 64)); },\r\n    xgMasterVolume: function(n) { return _helperNC.sxXG.call(this, [0, 0, 4, _7b(n)]); },\r\n    xgMasterVolumeF: function(x) { return _helperNC.xgMasterVolume.call(this, MIDI.to7b(_01(x))); },\r\n    xgMasterFineTuning: function(a, b, c, d) { a = _splitMasterTuning(a, b, c, d); return _helperNC.sxXG.call(this, [0, 0, 0, a[0], a[1], a[2], a[3]]); },\r\n    xgMasterFineTuningF: function(x) { return _helperNC.xgMasterFineTuning.call(this, _gsxg12b(x % 1)); },\r\n    xgMasterCoarseTuning: function(n) { return _helperNC.sxXG.call(this, [0, 0, 6, _7b(n)]); },\r\n    xgMasterCoarseTuningF: function(x) { return _helperNC.xgMasterCoarseTuning.call(this, 0x40 + (x - x % 1)); },\r\n    xgOctaveTuning: function(c, n, x) { return _helperNC.sxXG.call(this, [8, _ch(c), 0x41 + MIDI.octaveValue(n), _7b(x)]); },\r\n    xgOctaveTuningF: function(c, n, x) { if (x < -0.64 || x > 0.63) throw RangeError('Out of range: ' + x);\r\n      return _helperNC.xgOctaveTuning.call(this, c, n, Math.floor(x * 100 + 64)); },\r\n    reset: function() { return [0xFF]; },\r\n  };\r\n  _helperNC.sxScaleTuning = _helperNC.sxScaleTuning2;\r\n  _helperNC.sxScaleTuningF = _helperNC.sxScaleTuning2F;\r\n  _helperNC.sxMasterTranspose = _helperNC.sxMasterCoarseTuning;\r\n  _helperNC.sxMasterTransposeF = _helperNC.sxMasterCoarseTuningF;\r\n  _helperNC.gsMasterTranspose = _helperNC.gsMasterCoarseTuning;\r\n  _helperNC.gsMasterTransposeF = _helperNC.gsMasterCoarseTuningF;\r\n  _helperNC.xgMasterTranspose = _helperNC.xgMasterCoarseTuning;\r\n  _helperNC.xgMasterTransposeF = _helperNC.xgMasterCoarseTuningF;\r\n  var _helperGCH = { // compound messages\r\n    bank: function(c, m, l) { return typeof l == 'undefined' ?\r\n      [_helperCH.bankMSB(c, _msb(m)), _helperCH.bankLSB(c, _lsb(m))] : [_helperCH.bankMSB(c, m), _helperCH.bankLSB(c, l)]; },\r\n    modF: function(c, x) { return _helperGCH.mod(c, MIDI.to14b(x)); },\r\n    mod: function(c, m, l) { return typeof l == 'undefined' ?\r\n      [_helperCH.modMSB(c, _msb(m)), _helperCH.modLSB(c, _lsb(m))] : [_helperCH.modMSB(c, m), _helperCH.modLSB(c, l)]; },\r\n    breathF: function(c, x) { return _helperGCH.breath(c, MIDI.to14b(x)); },\r\n    breath: function(c, m, l) { return typeof l == 'undefined' ?\r\n      [_helperCH.breathMSB(c, _msb(m)), _helperCH.breathLSB(c, _lsb(m))] : [_helperCH.breathMSB(c, m), _helperCH.breathLSB(c, l)]; },\r\n    footF: function(c, x) { return _helperGCH.foot(c, MIDI.to14b(x)); },\r\n    foot: function(c, m, l) { return typeof l == 'undefined' ?\r\n      [_helperCH.footMSB(c, _msb(m)), _helperCH.footLSB(c, _lsb(m))] : [_helperCH.footMSB(c, m), _helperCH.footLSB(c, l)]; },\r\n    portamentoTimeF: function(c, x) { return _helperGCH.portamentoTime(c, MIDI.to14b(x)); },\r\n    portamentoTime: function(c, m, l) { return typeof l == 'undefined' ?\r\n      [_helperCH.portamentoMSB(c, _msb(m)), _helperCH.portamentoLSB(c, _lsb(m))] : [_helperCH.portamentoMSB(c, m), _helperCH.portamentoLSB(c, l)]; },\r\n    dataF: function(c, x) { return _helperGCH.data(c, MIDI.to14b(x)); },\r\n    data: function(c, m, l) { return typeof l == 'undefined' ?\r\n      [_helperCH.dataMSB(c, _msb(m)), _helperCH.dataLSB(c, _lsb(m))] : [_helperCH.dataMSB(c, m), _helperCH.dataLSB(c, l)]; },\r\n    volumeF: function(c, x) { return _helperGCH.volume(c, MIDI.to14b(x)); },\r\n    volume: function(c, m, l) { return typeof l == 'undefined' ?\r\n      [_helperCH.volumeMSB(c, _msb(m)), _helperCH.volumeLSB(c, _lsb(m))] : [_helperCH.volumeMSB(c, m), _helperCH.volumeLSB(c, l)]; },\r\n    balanceF: function(c, x) { return _helperGCH.balance(c, MIDI.to14b((x + 1) / 2)); },\r\n    balance: function(c, m, l) { return typeof l == 'undefined' ?\r\n      [_helperCH.balanceMSB(c, _msb(m)), _helperCH.balanceLSB(c, _lsb(m))] : [_helperCH.balanceMSB(c, m), _helperCH.balanceLSB(c, l)]; },\r\n    panF: function(c, x) { return _helperGCH.pan(c, MIDI.to14b((x + 1) / 2)); },\r\n    pan: function(c, m, l) { return typeof l == 'undefined' ?\r\n      [_helperCH.panMSB(c, _msb(m)), _helperCH.panLSB(c, _lsb(m))] : [_helperCH.panMSB(c, m), _helperCH.panLSB(c, l)]; },\r\n    expressionF: function(c, x) { return _helperGCH.expression(c, MIDI.to14b(x)); },\r\n    expression: function(c, m, l) { return typeof l == 'undefined' ?\r\n      [_helperCH.expressionMSB(c, _msb(m)), _helperCH.expressionLSB(c, _lsb(m))] : [_helperCH.expressionMSB(c, m), _helperCH.expressionLSB(c, l)]; },\r\n    nrpn: function(c, m, l) { return typeof l == 'undefined' ?\r\n      [_helperCH.nrpnMSB(c, _msb(m)), _helperCH.nrpnLSB(c, _lsb(m))] : [_helperCH.nrpnMSB(c, m), _helperCH.nrpnLSB(c, l)]; },\r\n    rpn: function(c, m, l) { return typeof l == 'undefined' ?\r\n      [_helperCH.rpnMSB(c, _msb(m)), _helperCH.rpnLSB(c, _lsb(m))] : [_helperCH.rpnMSB(c, m), _helperCH.rpnLSB(c, l)]; },\r\n    rpnPitchBendRange: function(c, m, l) { return _helperGCH.rpn(c, 0, 0).concat(_helperGCH.data(c, m, l)); },\r\n    rpnPitchBendRangeF: function(c, x) { return _helperGCH.rpnPitchBendRange(c, _7b(x - x % 1), Math.floor((x % 1) * 100)); },\r\n    rpnFineTuning: function(c, m, l) { return _helperGCH.rpn(c, 0, 1).concat(_helperGCH.data(c, m, l)); },\r\n    rpnFineTuningF: function(c, x) { return _helperGCH.rpn(c, 0, 1).concat(_helperGCH.dataF(c, (x % 1 + 1) / 2)); },\r\n    rpnCoarseTuning: function(c, m) { return _helperGCH.rpn(c, 0, 2).concat([_helperCH.dataMSB(c, m)]); },\r\n    rpnCoarseTuningF: function(c, x) { return _helperGCH.rpn(c, 0, 2).concat([_helperCH.dataMSB(c, 0x40 + (x - x % 1))]); },\r\n    rpnTuning: function(c, n, m, l) { return _helperGCH.rpnCoarseTuning(c, n).concat(_helperGCH.rpnFineTuning(c, m, l)); },\r\n    rpnTuningF: function(c, x) { return _helperGCH.rpnCoarseTuningF(c, x).concat(_helperGCH.rpnFineTuningF(c, x)); },\r\n    rpnTuningA: function(c, a) { return _helperGCH.rpnTuningF(c, MIDI.shift(a)); },\r\n    rpnSelectTuningProgram: function(c, n) { return _helperGCH.rpn(c, 0, 3).concat([_helperCH.dataMSB(c, n)]); },\r\n    rpnSelectTuningBank: function(c, n) { return _helperGCH.rpn(c, 0, 4).concat([_helperCH.dataMSB(c, n)]); },\r\n    rpnSelectTuning: function(c, n, k) { return typeof k == 'undefined' ?\r\n      _helperGCH.rpnSelectTuningProgram(c, n) : _helperGCH.rpnSelectTuningBank(c, n).concat(_helperGCH.rpnSelectTuningProgram(c, k)); },\r\n    rpnModulationDepthRange: function(c, m, l) { return _helperGCH.rpn(c, 0, 5).concat(_helperGCH.data(c, m, l)); },\r\n    rpnModulationDepthRangeF: function(c, x) { return _helperGCH.rpnModulationDepthRange(c, _7b(x - x % 1), Math.floor((x % 1) * 128)); },\r\n    rpnNull: function(c) { return _helperGCH.rpn(c, 0x7f, 0x7f); },\r\n    mode1: function(c) { return [ _helperCH.omni(c, true), _helperCH.poly(c) ]; },\r\n    mode2: function(c) { return [ _helperCH.omni(c, true), _helperCH.mono(c) ]; },\r\n    mode3: function(c) { return [ _helperCH.omni(c, false), _helperCH.poly(c) ]; },\r\n    mode4: function(c) { return [ _helperCH.omni(c, false), _helperCH.mono(c) ]; },\r\n  };\r\n  var _helperGNC = { // compound messages no channel\r\n    sxMasterTuning: function(n, m, l) { return [_helperNC.sxMasterCoarseTuning.call(this, n), _helperNC.sxMasterFineTuning.call(this, m, l)]; },\r\n    sxMasterTuningF: function(x) { return [_helperNC.sxMasterCoarseTuningF.call(this, x), _helperNC.sxMasterFineTuningF.call(this, x)]; },\r\n    gsMasterTuningF: function(x) { return [_helperNC.gsMasterCoarseTuningF.call(this, x), _helperNC.gsMasterFineTuningF.call(this, x)]; },\r\n    xgMasterTuningF: function(x) { return [_helperNC.xgMasterCoarseTuningF.call(this, x), _helperNC.xgMasterFineTuningF.call(this, x)]; },\r\n    sxMasterTuningA: function(a) { return _helperGNC.sxMasterTuningF.call(this, MIDI.shift(a)); },\r\n    gsMasterTuningA: function(a) { return _helperGNC.gsMasterTuningF.call(this, MIDI.shift(a)); },\r\n    xgMasterTuningA: function(a) { return _helperGNC.xgMasterTuningF.call(this, MIDI.shift(a)); },\r\n    gsScaleTuning: function(c, a) { var out = []; if (a.length != 12) throw RangeError('Wrong input size: ' + a.length);\r\n      for (var i = 0; i < 12; i++) out.push(_helperNC.gsOctaveTuning.call(this, c, i, a[i])); return out; },\r\n    gsScaleTuningF: function(c, a) { var out = []; if (a.length != 12) throw RangeError('Wrong input size: ' + a.length);\r\n      for (var i = 0; i < 12; i++) out.push(_helperNC.gsOctaveTuningF.call(this, c, i, a[i])); return out; },\r\n    xgScaleTuning: function(c, a) { var out = []; if (a.length != 12) throw RangeError('Wrong input size: ' + a.length);\r\n      for (var i = 0; i < 12; i++) out.push(_helperNC.xgOctaveTuning.call(this, c, i, a[i])); return out; },\r\n    xgScaleTuningF: function(c, a) { var out = []; if (a.length != 12) throw RangeError('Wrong input size: ' + a.length);\r\n      for (var i = 0; i < 12; i++) out.push(_helperNC.xgOctaveTuningF.call(this, c, i, a[i])); return out; },\r\n  };\r\n  function _smf(ff, dd) {\r\n    var midi = new MIDI();\r\n    midi.ff = _8b(ff);\r\n    midi.dd = typeof dd == 'undefined' ? '' : _8bs(dd);\r\n    return midi;\r\n  }\r\n  var _helperSMF = { // Standard MIDI File events\r\n    smf: function(arg) {\r\n      if (arg instanceof MIDI) return new MIDI(arg);\r\n      var arr = arg instanceof Array ? arg : arguments;\r\n      var ff = _8b(arr[0]);\r\n      var dd = '';\r\n      if (arr.length == 2) dd = _2s(arr[1]);\r\n      else if (arr.length > 2) dd = _2s(Array.prototype.slice.call(arr, 1));\r\n      return _smf(ff, dd);\r\n    },\r\n    smfSeqNumber: function(dd) {\r\n      if (dd == parseInt(dd)) {\r\n        if (dd < 0 || dd > 0xffff) throw RangeError('Sequence number out of range: ' + dd);\r\n        dd = String.fromCharCode(dd >> 8) + String.fromCharCode(dd & 0xff);\r\n      }\r\n      else {\r\n        dd = '' + dd;\r\n        if (dd.length == 0) dd = '\\x00\\x00';\r\n        else if (dd.length == 1) dd = '\\x00' + dd;\r\n        else if (dd.length > 2) throw RangeError('Sequence number out of range' + _smftxt(dd));\r\n      }\r\n      return _smf(0, dd);\r\n    },\r\n    smfText: function(dd) { return _smf(1, JZZ.lib.toUTF8(dd)); },\r\n    smfCopyright: function(dd) { return _smf(2, JZZ.lib.toUTF8(dd)); },\r\n    smfSeqName: function(dd) { return _smf(3, JZZ.lib.toUTF8(dd)); },\r\n    smfInstrName: function(dd) { return _smf(4, JZZ.lib.toUTF8(dd)); },\r\n    smfLyric: function(dd) { return _smf(5, JZZ.lib.toUTF8(dd)); },\r\n    smfMarker: function(dd) { return _smf(6, JZZ.lib.toUTF8(dd)); },\r\n    smfCuePoint: function(dd) { return _smf(7, JZZ.lib.toUTF8(dd)); },\r\n    smfProgName: function(dd) { return _smf(8, JZZ.lib.toUTF8(dd)); },\r\n    smfDevName: function(dd) { return _smf(9, JZZ.lib.toUTF8(dd)); },\r\n    smfChannelPrefix: function(dd) {\r\n      if (dd == parseInt(dd)) {\r\n        _validateChannel(dd);\r\n        dd = String.fromCharCode(dd);\r\n      }\r\n      else {\r\n        dd = '' + dd;\r\n        if (dd.length == 0) dd = '\\x00';\r\n        else if (dd.length > 1 || dd.charCodeAt(0) > 15) throw RangeError('Channel number out of range' + _smftxt(dd));\r\n      }\r\n      return _smf(32, dd);\r\n    },\r\n    smfMidiPort: function(dd) {\r\n      if (dd == parseInt(dd)) {\r\n        if (dd < 0 || dd > 127) throw RangeError('Port number out of range: ' + dd);\r\n        dd = String.fromCharCode(dd);\r\n      }\r\n      else {\r\n        dd = '' + dd;\r\n        if (dd.length == 0) dd = '\\x00';\r\n        else if (dd.length > 1 || dd.charCodeAt(0) > 127) throw RangeError('Port number out of range' + _smftxt(dd));\r\n      }\r\n      return _smf(33, dd);\r\n    },\r\n    smfEndOfTrack: function(dd) {\r\n      if (_2s(dd) != '') throw RangeError('Unexpected data' + _smftxt(_2s(dd)));\r\n      return _smf(47);\r\n    },\r\n    smfTempo: function(dd) { // microseconds per quarter note\r\n      if (('' + dd).length == 3) return _smf(81, dd);\r\n      if (dd == parseInt(dd) && dd > 0 && dd <= 0xffffff) {\r\n        return _smf(81, String.fromCharCode(dd >> 16) + String.fromCharCode((dd >> 8) & 0xff) + String.fromCharCode(dd & 0xff));\r\n      }\r\n      throw RangeError('Out of range' + _smftxt(_2s(dd)));\r\n    },\r\n    smfBPM: function(bpm) { return _helperSMF.smfTempo(Math.round(60000000.0 / bpm)); },\r\n    smfSMPTE: function(dd) {\r\n      if (dd instanceof SMPTE) return _smf(84, String.fromCharCode(dd.hour) + String.fromCharCode(dd.minute) + String.fromCharCode(dd.second) + String.fromCharCode(dd.frame) + String.fromCharCode((dd.quarter % 4) * 25));\r\n      var s = '' + dd;\r\n      if (s.length == 5) {\r\n        return _smf(84, dd);\r\n      }\r\n      var arr = dd instanceof Array ? dd : Array.prototype.slice.call(arguments);\r\n      arr.splice(0, 0, 30);\r\n      return _helperSMF.smfSMPTE(new SMPTE(arr));\r\n    },\r\n    smfTimeSignature: function(a, b, c, d) {\r\n      var nn, dd, cc, bb;\r\n      var m = ('' + a ).match(/^\\s*(\\d+)\\s*\\/\\s*(\\d+)\\s*$/);\r\n      if (m) {\r\n        nn = parseInt(m[1]);\r\n        dd = parseInt(m[2]);\r\n        if (nn > 0 && nn < 0x100 && dd > 0 && !(dd & (dd - 1))) {\r\n          cc = dd; dd = 0;\r\n          for (cc >>= 1; cc; cc >>= 1) dd++;\r\n          cc = b == parseInt(b) ? b : 24;\r\n          bb = c == parseInt(c) ? c : 8;\r\n          return _smf(88, String.fromCharCode(nn) + String.fromCharCode(dd) + String.fromCharCode(cc) + String.fromCharCode(bb));\r\n        }\r\n        else if (('' + a ).length == 4) return _smf(88, a);\r\n      }\r\n      else if (a == parseInt(a) && b == parseInt(b)) {\r\n        if (a > 0 && a < 0x100 && b > 0 && !(b & (b - 1))) {\r\n          nn = a;\r\n          dd = 0;\r\n          cc = b;\r\n          for (cc >>= 1; cc; cc >>= 1) dd++;\r\n          cc = c == parseInt(c) ? c : 24;\r\n          bb = d == parseInt(d) ? d : 8;\r\n          return _smf(88, String.fromCharCode(nn) + String.fromCharCode(dd) + String.fromCharCode(cc) + String.fromCharCode(bb));\r\n        }\r\n        else if (('' + a ).length == 4) return _smf(88, a);\r\n        a = a + '/' + b;\r\n      }\r\n      else if (('' + a ).length == 4) return _smf(88, a);\r\n      throw RangeError('Wrong time signature' + _smftxt(_2s('' + a)));\r\n    },\r\n    smfKeySignature: function(dd) {\r\n      dd = '' + dd;\r\n      var m = dd.match(/^\\s*([A-H][b#]?)\\s*(|maj|major|dur|m|min|minor|moll)\\s*$/i);\r\n      if (m) {\r\n        var sf = {\r\n          CB: 0, GB: 1, DB: 2, AB: 3, EB: 4, BB: 5, F: 6, C: 7, G: 8, D: 9, A: 10,\r\n          E:11, B: 12, H: 12, 'F#': 13, 'C#': 14, 'G#': 15, 'D#': 16, 'A#': 17\r\n        }[m[1].toUpperCase()];\r\n        var mi = { '': 0, MAJ: 0, MAJOR: 0, DUR: 0, M: 1, MIN: 1, MINOR: 1, MOLL: 1}[m[2].toUpperCase()];\r\n        if (typeof sf != 'undefined' && typeof mi != 'undefined') {\r\n          if (mi) sf -= 3;\r\n          sf -= 7;\r\n          if (sf >= -7 && sf < 0) dd = String.fromCharCode(256 + sf) + String.fromCharCode(mi);\r\n          else if (sf >= 0 && sf <= 7) dd = String.fromCharCode(sf) + String.fromCharCode(mi);\r\n        }\r\n      }\r\n      if (dd.length == 2 && dd.charCodeAt(1) <= 1 && (dd.charCodeAt(0) <= 7 || dd.charCodeAt(0) <= 255 && dd.charCodeAt(0) >= 249)) return _smf(89, dd);\r\n      throw RangeError('Incorrect key signature' + _smftxt(dd));\r\n    },\r\n    smfSequencer: function(dd) { return _smf(127, _2s(dd)); }\r\n  };\r\n\r\n  var _helpers = {};\r\n  function _copyHelperNC(name, func) {\r\n    MIDI[name] = function() { return new MIDI(func.apply(this, arguments)); };\r\n    _helpers[name] = function() { return this.send(func.apply(this, arguments)); };\r\n  }\r\n  function _copyHelperSMF(name, func) {\r\n    MIDI[name] = function() { return func.apply(this, arguments); };\r\n    _helpers[name] = function() { return this.send(func.apply(this, arguments)); };\r\n  }\r\n  function _copyHelperGNC(name, func) {\r\n    MIDI[name] = function() {\r\n      var i;\r\n      var g = [];\r\n      var a = func.apply(this, arguments);\r\n      for (i = 0; i < a.length; i++) g.push(new MIDI(a[i]));\r\n      return g;\r\n    };\r\n    _helpers[name] = function() {\r\n      var a = func.apply(this, arguments);\r\n      var g = this;\r\n      for (var i = 0; i < a.length; i++) g = g.send(a[i]);\r\n      return g;\r\n    };\r\n  }\r\n  function _copyHelperMPE(name, func) {\r\n    MIDI[name] = function() {\r\n      return new MIDI(func.apply(this, typeof this._ch == 'undefined' ? arguments : [this._ch].concat(Array.prototype.slice.call(arguments))));\r\n    };\r\n    _helpers[name] = function() {\r\n      if (typeof this._master != 'undefined') {\r\n        var msg = new MIDI(func.apply(this, [this._master].concat(Array.prototype.slice.call(arguments))));\r\n        msg._mpe = msg[1];\r\n        return this.send(msg);\r\n      }\r\n      return this.send(func.apply(this, typeof this._ch == 'undefined' ? arguments : [this._ch].concat(Array.prototype.slice.call(arguments))));\r\n    };\r\n  }\r\n  function _copyHelperCH(name, func) {\r\n    MIDI[name] = function() {\r\n      return new MIDI(func.apply(this, typeof this._ch == 'undefined' ? arguments : [this._ch].concat(Array.prototype.slice.call(arguments))));\r\n    };\r\n    _helpers[name] = function() {\r\n      if (typeof this._master != 'undefined') {\r\n        var chan;\r\n        var args = Array.prototype.slice.call(arguments);\r\n        if (args.length < func.length) args = [this._master].concat(args);\r\n        else {\r\n          chan = _7bn(args[0]);\r\n          args[0] = this._master;\r\n        }\r\n        var msg = new MIDI(func.apply(this, args));\r\n        msg._mpe = chan;\r\n        return this.send(msg);\r\n      }\r\n      return this.send(func.apply(this, typeof this._ch == 'undefined' ? arguments : [this._ch].concat(Array.prototype.slice.call(arguments))));\r\n    };\r\n  }\r\n  function _copyHelperGCH(name, func) {\r\n    MIDI[name] = function() {\r\n      var i;\r\n      var g = [];\r\n      var a = func.apply(this, typeof this._ch == 'undefined' ? arguments : [this._ch].concat(Array.prototype.slice.call(arguments)));\r\n      for (i = 0; i < a.length; i++) g.push(new MIDI(a[i]));\r\n      return g;\r\n    };\r\n    _helpers[name] = function() {\r\n      var i;\r\n      var a;\r\n      var g;\r\n      if (typeof this._master != 'undefined') {\r\n        var chan;\r\n        var args = Array.prototype.slice.call(arguments);\r\n        if (args.length < func.length) args = [this._master].concat(args);\r\n        else {\r\n          chan = _7bn(args[0]);\r\n          args[0] = this._master;\r\n        }\r\n        a = func.apply(this, args);\r\n        g = this;\r\n        for (i = 0; i < a.length; i++) {\r\n          var msg = MIDI(a[i]);\r\n          msg._mpe = chan;\r\n          g = g.send(msg);\r\n        }\r\n        return g;\r\n      }\r\n      a = func.apply(this, typeof this._ch == 'undefined' ? arguments : [this._ch].concat(Array.prototype.slice.call(arguments)));\r\n      g = this;\r\n      for (i = 0; i < a.length; i++) g = g.send(a[i]);\r\n      return g;\r\n    };\r\n  }\r\n\r\n  _for(_helperNC, function(n) { _copyHelperNC(n, _helperNC[n]); });\r\n  _for(_helperSMF, function(n) { _copyHelperSMF(n, _helperSMF[n]); });\r\n  _for(_helperGNC, function(n) { _copyHelperGNC(n, _helperGNC[n]); });\r\n  _for(_helperMPE, function(n) { _copyHelperMPE(n, _helperMPE[n]); });\r\n  _for(_helperCH, function(n) { _copyHelperCH(n, _helperCH[n]); });\r\n  _for(_helperGCH, function(n) { _copyHelperGCH(n, _helperGCH[n]); });\r\n\r\n  function _copyMidiHelpers(M) {\r\n    _for(_helpers, function(n) { M.prototype[n] = _helpers[n]; });\r\n  }\r\n  _copyMidiHelpers(_M);\r\n\r\n  var _channelMap = { a:10, b:11, c:12, d:13, e:14, f:15, A:10, B:11, C:12, D:13, E:14, F:15 };\r\n  for (k = 0; k < 16; k++) _channelMap[k] = k;\r\n  MIDI.prototype.getChannel = function() {\r\n    if (this.ff == 0x20 && this.dd.length == 1 && this.dd.charCodeAt(0) < 16) return this.dd.charCodeAt(0);\r\n    var c = this[0];\r\n    if (typeof c == 'undefined' || c < 0x80 || c > 0xef) return;\r\n    return c & 15;\r\n  };\r\n  MIDI.prototype.setChannel = function(x) {\r\n    x = _channelMap[x];\r\n    if (typeof x == 'undefined') return this;\r\n    if (this.ff == 0x20) this.dd = String.fromCharCode(x);\r\n    else {\r\n      var c = this[0];\r\n      if (typeof c != 'undefined' && c >= 0x80 && c <= 0xef) this[0] = (c & 0xf0) | x;\r\n    }\r\n    return this;\r\n  };\r\n  MIDI.prototype.getNote = function() {\r\n    var c = this[0];\r\n    if (typeof c == 'undefined' || c < 0x80 || c > 0xaf) return;\r\n    return this[1];\r\n  };\r\n  MIDI.prototype.setNote = function(x) {\r\n    var c = this[0];\r\n    if (typeof c == 'undefined' || c < 0x80 || c > 0xaf) return this;\r\n    x = MIDI.noteValue(x);\r\n    if (typeof x != 'undefined') this[1] = x;\r\n    return this;\r\n  };\r\n  MIDI.prototype.getVelocity = function() {\r\n    var c = this[0];\r\n    if (typeof c == 'undefined' || c < 0x80 || c > 0x9f) return;\r\n    return this[2];\r\n  };\r\n  MIDI.prototype.setVelocity = function(x) {\r\n    var c = this[0];\r\n    if (typeof c == 'undefined' || c < 0x80 || c > 0x9f) return this;\r\n    x = parseInt(x);\r\n    if (x >= 0 && x < 128) this[2] = x;\r\n    return this;\r\n  };\r\n  MIDI.prototype.getSysExId = function() {\r\n    if (this[0] == 0xf0) return this[2];\r\n  };\r\n  MIDI.prototype.setSysExId = function(x) {\r\n    if (this[0] == 0xf0 && this.length > 2) {\r\n      x = parseInt(x);\r\n      if (x >= 0 && x < 128) this[2] = x;\r\n    }\r\n    return this;\r\n  };\r\n  MIDI.prototype.getData = function() {\r\n    if (typeof this.dd != 'undefined') return this.dd.toString();\r\n  };\r\n  MIDI.prototype.setData = function(dd) {\r\n    this.dd = _2s(dd);\r\n    return this;\r\n  };\r\n  function _is_yamaha_smf(ff, dd) { return ff == 0x7f && typeof dd != 'undefined' && dd.charCodeAt(0) == 0x43 && dd.charCodeAt(1) == 0x7b; }\r\n  function _is_yamaha_chord(ff, dd) { return _is_yamaha_smf(ff, dd) && dd.charCodeAt(2) == 1; }\r\n  function _yamaha_chord(a, b) {\r\n    if (a >= 0 && a <= 0x7f && b >= 0 && b <= 0x7f) {\r\n      var c = a & 0xf;\r\n      var d = a >> 4;\r\n      if (c > 0 && c < 8 && d < 7) c = ['C', 'D', 'E', 'F', 'G', 'A', 'B'][c - 1] + ['bbb', 'bb', 'b', '', '#', '##', '###'][d];\r\n      else return '-';\r\n      if (b > 34) return c + '?';\r\n      else return c + [\r\n        '', '6', 'Maj7', 'Maj7(#11)', '(9)', 'Maj7(9)', '6(9)', 'aug', 'm', 'm6', 'm7', 'm7b5',\r\n        'm(9)', 'm7(9)', 'm7(11)', 'm+7', 'm+7(9)', 'dim', 'dim7', '7', '7sus4', '7b5', '7(9)',\r\n        '7(#11)', '7(13)', '7(b9)', '7(b13)', '7(#9)', 'Maj7aug', '7aug', '1+8', '1+5', 'sus4', '1+2+5', 'cc'][b];\r\n    }\r\n    return '-';\r\n  }\r\n  MIDI.prototype.getText = function() {\r\n    if (typeof this.dd != 'undefined') {\r\n      if (_is_yamaha_chord(this.ff, this.dd)) return _yamaha_chord(this.dd.charCodeAt(3), this.dd.charCodeAt(4));\r\n      else return JZZ.lib.fromUTF8(this.dd);\r\n    }\r\n    if (this.isMidiSoft()) {\r\n      var s = [];\r\n      for (var i = 6; i < this.length - 1; i++) s.push(String.fromCharCode(this[i]));\r\n      return s.join('');\r\n    }\r\n  };\r\n  MIDI.prototype.setText = function(dd) {\r\n    this.dd = JZZ.lib.toUTF8(dd);\r\n    return this;\r\n  };\r\n  MIDI.prototype.getTempo = function() {\r\n    if (this.ff == 0x51 && typeof this.dd != 'undefined') {\r\n      return this.dd.charCodeAt(0) * 65536 + this.dd.charCodeAt(1) * 256 + this.dd.charCodeAt(2);\r\n    }\r\n  };\r\n  MIDI.prototype.getBPM = function() {\r\n    var ms = this.getTempo();\r\n    if (ms) return 60000000 / ms;\r\n  };\r\n  MIDI.prototype.getTimeSignature = function() {\r\n    if (this.ff == 0x58 && typeof this.dd != 'undefined') {\r\n       return [this.dd.charCodeAt(0), 1 << this.dd.charCodeAt(1)];\r\n    }\r\n  };\r\n  MIDI.prototype.getKeySignature = function() {\r\n    if (this.ff == 0x59 && typeof this.dd != 'undefined') {\r\n      var sf = this.dd.charCodeAt(0);\r\n      var mi = this.dd.charCodeAt(1);\r\n      if (sf & 0x80) sf = sf - 0x100;\r\n      if (sf >= -7 && sf <= 7 && mi >= 0 && mi <= 1) {\r\n        return [sf,\r\n          ['Cb', 'Gb', 'Db', 'Ab', 'Eb', 'Bb', 'F', 'C', 'G', 'D', 'A', 'E', 'B', 'F#', 'C#', 'G#', 'D#', 'A#'][mi ? sf + 10 : sf + 7],\r\n          !!mi\r\n        ];\r\n      }\r\n    }\r\n  };\r\n\r\n  MIDI.prototype.isNoteOn = function() {\r\n    var c = this[0];\r\n    if (typeof c == 'undefined' || c < 0x90 || c > 0x9f) return false;\r\n    return this[2] > 0 ? true : false;\r\n  };\r\n  MIDI.prototype.isNoteOff = function() {\r\n    var c = this[0];\r\n    if (typeof c == 'undefined' || c < 0x80 || c > 0x9f) return false;\r\n    if (c < 0x90) return true;\r\n    return this[2] == 0 ? true : false;\r\n  };\r\n  MIDI.prototype.isSysEx = function() {\r\n    return this[0] == 0xf0;\r\n  };\r\n  MIDI.prototype.isFullSysEx = function() {\r\n    return this[0] == 0xf0 && this[this.length - 1] == 0xf7;\r\n  };\r\n  MIDI.prototype.isMidiSoft = function() {\r\n    return this.isFullSysEx() && this[1] == 0 && this[2] == 0x20 && this[3] == 0x24 && this[4] == 0;\r\n  };\r\n  MIDI.prototype.isSMF = function() {\r\n    return this.ff >= 0 && this.ff <= 0x7f;\r\n  };\r\n  MIDI.prototype.isEOT = function() {\r\n    return this.ff == 0x2f;\r\n  };\r\n  MIDI.prototype.isTempo = function() {\r\n    return this.ff == 0x51;\r\n  };\r\n  MIDI.prototype.isTimeSignature = function() {\r\n    return this.ff == 0x58;\r\n  };\r\n  MIDI.prototype.isKeySignature = function() {\r\n    return this.ff == 0x59;\r\n  };\r\n  MIDI.prototype.isGmReset = function() {\r\n    return this.match([0xf0, 0x7e, [0, 0], 0x09, [0, 0], 0xf7]);\r\n  };\r\n  MIDI.prototype.isGsReset = function() {\r\n    return this.match([0xf0, 0x41, [0, 0], 0x42, 0x12, 0x40, 0, 0x7f, 0, 0x41, 0xf7]);\r\n  };\r\n  MIDI.prototype.isXgReset = function() {\r\n    return this.match([0xf0, 0x43, [0x10, 0xf0], 0x4c, 0, 0, 0x7e, 0, 0xf7]);\r\n  };\r\n  MIDI.prototype.match = function(a) {\r\n    var i, m;\r\n    for (i = 0; i < a.length; i++) {\r\n      m = a[i][1];\r\n      if (typeof m == 'undefined') {\r\n        if (this[i] != a[i]) return false;\r\n      }\r\n      else {\r\n        if ((this[i] & m) != (a[i][0] & m)) return false;\r\n      }\r\n    }\r\n    return true;\r\n  };\r\n\r\n  function _s2a(x) {\r\n    var a = [];\r\n    for (var i = 0; i < x.length; i++) {\r\n      a[i] = x.charCodeAt(i);\r\n    }\r\n    return a;\r\n  }\r\n  function _a2s(x) {\r\n    var a = '';\r\n    for (var i = 0; i < x.length; i++) {\r\n      a += String.fromCharCode(x[i]);\r\n    }\r\n    return a;\r\n  }\r\n  function _2s(x) {\r\n    return x instanceof Array ? _a2s(x) : typeof x == 'undefined' ? '' : '' + x;\r\n  }\r\n  function _s2n(x) {\r\n    var n = 0;\r\n    for (var i = 0; i < x.length; i++) n = (n << 8) + x.charCodeAt(i);\r\n    return n;\r\n  }\r\n\r\n  function __hex(x) { return (x < 16 ? '0' : '') + x.toString(16); }\r\n  function _hex(x) {\r\n    var a = [];\r\n    for (var i = 0; i < x.length; i++) {\r\n      a[i] = __hex(x[i]);\r\n    }\r\n    return a.join(' ');\r\n  }\r\n  function _toLine(s) {\r\n    var out = '';\r\n    for (var i = 0; i < s.length; i++) {\r\n      if (s[i] == '\\n') out += '\\\\n';\r\n      else if (s[i] == '\\r') out += '\\\\r';\r\n      else if (s[i] == '\\t') out += '\\\\t';\r\n      else if (s.charCodeAt(i) < 32) out += '\\\\x' + __hex(s.charCodeAt(i));\r\n      else out += s[i];\r\n    }\r\n    return out;\r\n  }\r\n  function _smfhex(dd) {\r\n    return dd.length ? ': ' + _hex(_s2a(dd)) : '';\r\n  }\r\n  function _smftxt(dd) {\r\n    return dd.length ? ': ' + _toLine(JZZ.lib.fromUTF8(dd)) : '';\r\n  }\r\n  MIDI.prototype.label = function(s) {\r\n    this.lbl = this.lbl ? this.lbl + ', ' + s : s;\r\n    return this;\r\n  };\r\n  MIDI.prototype.toString = function() {\r\n    return this.lbl ? this._str() + ' (' + this.lbl + ')' : this._str();\r\n  };\r\n  MIDI.prototype._str = function() {\r\n    var s;\r\n    var ss;\r\n    if (!this.length) {\r\n      if (typeof this.ff != 'undefined') {\r\n        s = 'ff' + __hex(this.ff) + ' -- ';\r\n        if (this.ff == 0) s += 'Sequence Number: ' + _s2n(this.dd);\r\n        else if (this.ff > 0 && this.ff < 10) s += ['', 'Text', 'Copyright', 'Sequence Name', 'Instrument Name', 'Lyric', 'Marker', 'Cue Point', 'Program Name', 'Device Name'][this.ff] + _smftxt(this.dd);\r\n        else if (this.ff == 32) s += 'Channel Prefix' + _smfhex(this.dd);\r\n        else if (this.ff == 33) s += 'MIDI Port' + _smfhex(this.dd);\r\n        else if (this.ff == 47) s += 'End of Track' + _smfhex(this.dd);\r\n        else if (this.ff == 81) {\r\n          var bpm = Math.round(this.getBPM() * 100) / 100;\r\n          s += 'Tempo: ' + bpm + ' bpm';\r\n        }\r\n        else if (this.ff == 84) s += 'SMPTE Offset: ' + _smptetxt(_s2a(this.dd));\r\n        else if (this.ff == 88) {\r\n          var d = 1 << this.dd.charCodeAt(1);\r\n          s += 'Time Signature: ' + this.dd.charCodeAt(0) + '/' + d;\r\n          s += ' ' + this.dd.charCodeAt(2) + ' ' + this.dd.charCodeAt(3);\r\n        }\r\n        else if (this.ff == 89) {\r\n          s += 'Key Signature: ';\r\n          var ks = this.getKeySignature();\r\n          if (ks) {\r\n            s += ks[1];\r\n            if (ks[2]) s += ' min';\r\n          }\r\n          else s+= 'invalid';\r\n        }\r\n        else if (this.ff == 127) {\r\n          if (this.dd.charCodeAt(0) == 0x43) {\r\n            if (this.dd.charCodeAt(1) == 0x7b) {\r\n              s += '[XF:' + __hex(this.dd.charCodeAt(2)) + ']';\r\n              ss = { 0: 'Version', 1: 'Chord', 2: 'Rehearsal Mark', 3: 'Phrase Mark', 4: 'Max Phrase Mark',\r\n                5: 'Fingering Number', 12: 'Guide Track Flag', 16: 'Guitar Info', 18: 'Chord Voicing',\r\n                127: 'XG Song Data Number' }[this.dd.charCodeAt(2)];\r\n              s += ss ? ' ' + ss : '';\r\n              s += ': ';\r\n              if (this.dd.charCodeAt(2) == 0) {\r\n                return s + this.dd.substr(3, 4) + ' ' + _hex(_s2a(this.dd.substr(7)));\r\n              }\r\n              if (this.dd.charCodeAt(2) == 1) {\r\n                return s + this.getText();\r\n              }\r\n              return s + _hex(_s2a(this.dd.substr(3)));\r\n            }\r\n          }\r\n          s += 'Sequencer Specific' + _smfhex(this.dd);\r\n        }\r\n        else s += 'SMF' + _smfhex(this.dd);\r\n        return s;\r\n      }\r\n      return 'empty';\r\n    }\r\n    s = _hex(this);\r\n    if (this[0] < 0x80) return s;\r\n    ss = {\r\n      241: 'MIDI Time Code',\r\n      242: 'Song Position',\r\n      243: 'Song Select',\r\n      244: 'Undefined',\r\n      245: 'Undefined',\r\n      246: 'Tune request',\r\n      248: 'Timing clock',\r\n      249: 'Undefined',\r\n      250: 'Start',\r\n      251: 'Continue',\r\n      252: 'Stop',\r\n      253: 'Undefined',\r\n      254: 'Active Sensing',\r\n      255: 'Reset'\r\n    }[this[0]];\r\n    if (ss) return s + ' -- ' + ss;\r\n    if (this.isMidiSoft()) {\r\n      ss = _toLine(this.getText());\r\n      if (ss) ss = ' ' + ss;\r\n      return s + ' -- [K:' + __hex(this[5]) + ']' + ss;\r\n    }\r\n    var c = this[0] >> 4;\r\n    ss = {8: 'Note Off', 10: 'Aftertouch', 12: 'Program Change', 13: 'Channel Aftertouch', 14: 'Pitch Wheel'}[c];\r\n    if (ss) return s + ' -- ' + ss;\r\n    if (c == 9) return s + ' -- ' + (this[2] ? 'Note On' : 'Note Off');\r\n    if (c != 11) return s;\r\n    ss = {\r\n      0: 'Bank Select MSB',\r\n      1: 'Modulation Wheel MSB',\r\n      2: 'Breath Controller MSB',\r\n      4: 'Foot Controller MSB',\r\n      5: 'Portamento Time MSB',\r\n      6: 'Data Entry MSB',\r\n      7: 'Channel Volume MSB',\r\n      8: 'Balance MSB',\r\n      10: 'Pan MSB',\r\n      11: 'Expression Controller MSB',\r\n      12: 'Effect Control 1 MSB',\r\n      13: 'Effect Control 2 MSB',\r\n      16: 'General Purpose Controller 1 MSB',\r\n      17: 'General Purpose Controller 2 MSB',\r\n      18: 'General Purpose Controller 3 MSB',\r\n      19: 'General Purpose Controller 4 MSB',\r\n      31: 'Karaoke',\r\n      32: 'Bank Select LSB',\r\n      33: 'Modulation Wheel LSB',\r\n      34: 'Breath Controller LSB',\r\n      36: 'Foot Controller LSB',\r\n      37: 'Portamento Time LSB',\r\n      38: 'Data Entry LSB',\r\n      39: 'Channel Volume LSB',\r\n      40: 'Balance LSB',\r\n      42: 'Pan LSB',\r\n      43: 'Expression Controller LSB',\r\n      44: 'Effect control 1 LSB',\r\n      45: 'Effect control 2 LSB',\r\n      48: 'General Purpose Controller 1 LSB',\r\n      49: 'General Purpose Controller 2 LSB',\r\n      50: 'General Purpose Controller 3 LSB',\r\n      51: 'General Purpose Controller 4 LSB',\r\n      64: 'Damper Pedal',\r\n      65: 'Portamento',\r\n      66: 'Sostenuto',\r\n      67: 'Soft Pedal',\r\n      68: 'Legato',\r\n      69: 'Hold 2',\r\n      70: 'Sound Variation',\r\n      71: 'Filter Resonance',\r\n      72: 'Release Time',\r\n      73: 'Attack Time',\r\n      74: 'Brightness',\r\n      75: 'Decay Time',\r\n      76: 'Vibrato Rate',\r\n      77: 'Vibrato Depth',\r\n      78: 'Vibrato Delay',\r\n      79: 'Sound Controller 10',\r\n      80: 'General Purpose Controller 5',\r\n      81: 'General Purpose Controller 6',\r\n      82: 'General Purpose Controller 7',\r\n      83: 'General Purpose Controller 8',\r\n      84: 'Portamento Control',\r\n      88: 'High Resolution Velocity Prefix',\r\n      91: 'Effects 1 Depth',\r\n      92: 'Effects 2 Depth',\r\n      93: 'Effects 3 Depth',\r\n      94: 'Effects 4 Depth',\r\n      95: 'Effects 5 Depth',\r\n      96: 'Data Increment',\r\n      97: 'Data Decrement',\r\n      98: 'Non-Registered Parameter Number LSB',\r\n      99: 'Non-Registered Parameter Number MSB',\r\n      100: 'Registered Parameter Number LSB',\r\n      101: 'Registered Parameter Number MSB',\r\n      120: 'All Sound Off',\r\n      121: 'Reset All Controllers',\r\n      122: 'Local Control On/Off',\r\n      123: 'All Notes Off',\r\n      124: 'Omni Mode Off',\r\n      125: 'Omni Mode On',\r\n      126: 'Mono Mode On',\r\n      127: 'Poly Mode On'\r\n    }[this[1]];\r\n    if (this[1] >= 64 && this[1] <= 69) ss += this[2] < 64 ? ' Off' : ' On';\r\n    if (!ss) ss = 'Undefined';\r\n    return s + ' -- ' + ss;\r\n  };\r\n  MIDI.prototype._stamp = function(obj) { this._from.push(obj._orig ? obj._orig : obj); return this; };\r\n  MIDI.prototype._unstamp = function(obj) {\r\n    if (typeof obj == 'undefined') this._from = [];\r\n    else {\r\n      if (obj._orig) obj = obj._orig;\r\n      var i = this._from.indexOf(obj);\r\n      if (i > -1) this._from.splice(i, 1);\r\n    }\r\n    return this;\r\n  };\r\n  MIDI.prototype._stamped = function(obj) {\r\n    if (obj._orig) obj = obj._orig;\r\n    for (var i = 0; i < this._from.length; i++) if (this._from[i] == obj) return true;\r\n    return false;\r\n  };\r\n\r\n  JZZ.MIDI = MIDI;\r\n  _J.prototype.MIDI = MIDI;\r\n\r\n  function _clear_ctxt() {\r\n    var i;\r\n    this._cc = [];\r\n    for (i = 0; i < 16; i++) this._cc[i] = {};\r\n  }\r\n  function _rpn_txt(msb, lsb) {\r\n    var a = typeof msb == 'undefined' ? '??' : __hex(msb);\r\n    var b = typeof lsb == 'undefined' ? '??' : __hex(lsb);\r\n    var c = {\r\n      '0000': 'Pitch Bend Sensitivity',\r\n      '0001': 'Channel Fine Tune',\r\n      '0002': 'Channel Coarse Tune',\r\n      '0003': 'Select Tuning Program',\r\n      '0004': 'Select Tuning Bank',\r\n      '0005': 'Vibrato Depth Range',\r\n      '7f7f': 'NONE'\r\n    }[a + '' + b];\r\n    return 'RPN ' + a + ' ' + b + (c ? ': ' + c : '');\r\n  }\r\n  function _nrpn_txt(msb, lsb) {\r\n    var a = typeof msb == 'undefined' ? '??' : __hex(msb);\r\n    var b = typeof lsb == 'undefined' ? '??' : __hex(lsb);\r\n    return 'NRPN ' + a + ' ' + b;\r\n  }\r\n  function _read_ctxt(msg) {\r\n    if (!msg.length || msg[0] < 0x80) return msg;\r\n    if (msg[0] == 0xff) { this._clear(); return msg; }\r\n    var ch = msg[0] & 15;\r\n    var st = msg[0] >> 4;\r\n    var s;\r\n    if (st == 12) {\r\n      msg._bm = this._cc[ch].bm;\r\n      msg._bl = this._cc[ch].bl;\r\n      if (JZZ.MIDI.programName) msg.label(JZZ.MIDI.programName(msg[1], msg._bm, msg._bl));\r\n    }\r\n    else if (st == 11) {\r\n      switch (msg[1]) {\r\n        case 0: this._cc[ch].bm = msg[2]; break;\r\n        case 32: this._cc[ch].bl = msg[2]; break;\r\n        case 98: this._cc[ch].nl = msg[2]; this._cc[ch].rn = 'n'; break;\r\n        case 99: this._cc[ch].nm = msg[2]; this._cc[ch].rn = 'n'; break;\r\n        case 100: this._cc[ch].rl = msg[2]; this._cc[ch].rn = 'r'; break;\r\n        case 101: this._cc[ch].rm = msg[2]; this._cc[ch].rn = 'r'; break;\r\n        case 6: case 38: case 96: case 97:\r\n          if (this._cc[ch].rn == 'r') {\r\n            msg._rm = this._cc[ch].rm;\r\n            msg._rl = this._cc[ch].rl;\r\n            msg.label(_rpn_txt(this._cc[ch].rm, this._cc[ch].rl));\r\n          }\r\n          if (this._cc[ch].rn == 'n') {\r\n            msg._nm = this._cc[ch].rm;\r\n            msg._nl = this._cc[ch].nl;\r\n            msg.label(_nrpn_txt(this._cc[ch].nm, this._cc[ch].nl));\r\n          }\r\n          break;\r\n      }\r\n    }\r\n    else if (msg.isFullSysEx()) {\r\n      if (msg[1] == 0x7f) {\r\n        if (msg[3] == 4) {\r\n          s = { 1: 'Master Volume', 2: 'Master Balance', 3: 'Master Fine Tuning', 4: 'Master Coarse Tuning' }[msg[4]];\r\n          if (s) msg.label(s);\r\n        }\r\n        else if (msg[3] == 8) {\r\n          s = { 2: 'Note Tuning', 7: 'Note Tuning, Bank', 8: 'Scale Tuning, 1 byte format', 9: 'Scale Tuning, 2 byte format' }[msg[4]];\r\n          if (s) msg.label(s);\r\n        }\r\n      }\r\n      else if (msg[1] == 0x7e) {\r\n        if (msg[3] == 6) {\r\n          if (msg[4] == 1) msg.label('Device ID Request');\r\n          else if (msg[4] == 2) {\r\n            msg.label('Device ID Response');\r\n          }\r\n        }\r\n        else if (msg[3] == 8) {\r\n          s = {\r\n            0: 'Bulk Tuning Dump Request', 1: 'Bulk Tuning Dump', 3: 'Bulk Tuning Dump Request, Bank', 4: 'Bulk Tuning Dump, Bank',\r\n            5: 'Scale Tuning Dump, 1 byte format', 6: 'Scale Tuning Dump, 2 byte format',\r\n            7: 'Note Tuning, Bank', 8: 'Scale Tuning, 1 byte format', 9: 'Scale Tuning, 2 byte format'\r\n          }[msg[4]];\r\n          if (s) msg.label(s);\r\n        }\r\n        else if (msg[3] == 9) {\r\n          if (msg[4] == 1) { msg.label('GM1 System On'); this._clear(); this._gm = '1'; }\r\n          else if (msg[4] == 2) { msg.label('GM System Off'); this._clear(); this._gm = '0'; }\r\n          else if (msg[4] == 3) { msg.label('GM2 System On'); this._clear(); this._gm = '2'; }\r\n        }\r\n      }\r\n      else if (msg[1] == 0x43) {\r\n        if ((msg[2] & 0xf0) == 0x10 && msg[3] == 0x4c) {\r\n          if (msg[4] == 0 && msg[5] == 0 && msg[6] == 0x7e && msg[7] == 0) {\r\n            msg.label('XG System On'); this._clear(); this._gm = 'Y';\r\n          }\r\n          else if (msg[4] == 0 && msg[5] == 0 && msg[6] == 0) msg.label('XG Master Tuning');\r\n          else if (msg[4] == 0 && msg[5] == 0 && msg[6] == 4) msg.label('XG Master Volume');\r\n          else if (msg[4] == 0 && msg[5] == 0 && msg[6] == 6) msg.label('XG Master Transpose');\r\n          else if (msg[4] == 8 && msg[5] < 16 && msg[6] >= 0x41 && msg[6] <= 0x4c) msg.label('XG Scale Tuning');\r\n          else  msg.label('XG Parameter');\r\n        }\r\n      }\r\n      else if (msg[1] == 0x41) {\r\n        if (msg[3] == 0x42 && msg[4] == 0x12) {\r\n          if (msg[5] == 0x40) {\r\n            if (msg[6] == 0) {\r\n              if (msg[7] == 0x7f && msg[8] == 0 && msg[9] == 0x41) {\r\n                msg.label('GS Reset'); this._clear(); this._gm = 'R';\r\n              }\r\n              else if (msg[7] == 0) msg.label('GS Master Tuning');\r\n              else if (msg[7] == 4) msg.label('GS Master Volume');\r\n              else if (msg[7] == 5) msg.label('GS Master Transpose');\r\n              else msg.label('GS Parameter');\r\n            }\r\n            else if ((msg[6] & 0xf0) == 0x10 && msg[7] == 0x15) msg.label('GS Drum Part Change');\r\n            else if ((msg[6] & 0xf0) == 0x10 && msg[7] >= 0x40 && msg[7] <= 0x4b) msg.label('GS Scale Tuning');\r\n            else msg.label('GS Parameter');\r\n          }\r\n          if (msg[5] == 0x41) msg.label('GS Parameter');\r\n        }\r\n      }\r\n    }\r\n    return msg;\r\n  }\r\n  function Context() {\r\n    var self = new _M();\r\n    self._clear = _clear_ctxt;\r\n    self._read = _read_ctxt;\r\n    self._receive = function(msg) { this._emit(this._read(msg)); };\r\n    self._clear();\r\n    self._resume();\r\n    return self;\r\n  }\r\n  JZZ.Context = Context;\r\n  _J.prototype.Context = Context;\r\n\r\n  function MPE() {\r\n    var self = this instanceof MPE ? this : self = new MPE();\r\n    self.reset();\r\n    if (arguments.length) MPE.prototype.setup.apply(self, arguments);\r\n    return self;\r\n  }\r\n  MPE.validate = function(arg) {\r\n    var a = arg instanceof Array ? arg : arguments;\r\n    if (a[0] != parseInt(a[0]) || a[0] < 0 || a[0] > 14) throw RangeError('Bad master channel value: ' + a[0]);\r\n    if (a[1] != parseInt(a[1]) || a[1] < 0 || a[0] + a[1] > 15) throw RangeError('Bad zone size value: ' + a[1]);\r\n  };\r\n  MPE.prototype.reset = function() { for (var n = 0; n < 16; n++) this[n] = { band: 0, master: n }; };\r\n  MPE.prototype.setup = function(m, n) {\r\n    MPE.validate(m, n);\r\n    var k;\r\n    var last = m + n;\r\n    if (this[m].master == m && this[m].band == n) return;\r\n    if (!n && !this[m].band) return;\r\n    if (this[m].band) {\r\n      k = m + this[m].band;\r\n      if (last < k) last = k;\r\n    }\r\n    else if (this[m].master == m - 1) {\r\n      k = m - 1;\r\n      k = k + this[k].band;\r\n      if (last < k) last = k;\r\n      this[m - 1] = { band: 0, master: m - 1 };\r\n    }\r\n    else if (this[m].master != m) {\r\n      k = this[m].master;\r\n      k = k + this[k].band;\r\n      if (last < k) last = k;\r\n      this[this[m].master].band = m - this[m].master - 1;\r\n    }\r\n    this[m].master = m;\r\n    this[m].band = n;\r\n    for (k = m + 1; k <= m + n; k++) {\r\n      if (this[k].band && last < k + this[k].band) last = k + this[k].band;\r\n      this[k] = { band: 0, master: m };\r\n    }\r\n    for (; k <= last; k++) this[k] = { band: 0, master: k };\r\n  };\r\n  MPE.prototype.filter = function(msg) {\r\n    var c = msg.getChannel();\r\n    if (!this[c] || !this[this[c].master].band) return msg;\r\n    var m = this[c].master;\r\n    var n = this[m].band;\r\n    var i, j, k;\r\n    if (typeof msg._mpe != 'undefined') {\r\n      k = 256;\r\n      for (i = m + 1; i <= m + n; i++) {\r\n        if (!this[i].notes) {\r\n          if (k > 0) { c = i; k = 0; }\r\n        }\r\n        else {\r\n          if (k > this[i].notes.length) { c = i; k = this[i].notes.length; }\r\n          for (j = 0; j < this[i].notes.length; j++) {\r\n            if (this[i].notes[j] == msg._mpe) { c = i; k = -1; break; }\r\n          }\r\n        }\r\n      }\r\n      msg.setChannel(c);\r\n      msg._mpe = undefined;\r\n    }\r\n    if (c == m) return msg; // bad mpe\r\n    if (msg.isNoteOn()) {\r\n      if (!this[c].notes) this[c].notes = [];\r\n      _push(this[c].notes, msg.getNote());\r\n    }\r\n    else if (msg.isNoteOff()) {\r\n      if (this[c].notes) _pop(this[c].notes, msg.getNote());\r\n    }\r\n    return msg;\r\n  };\r\n  JZZ.MPE = MPE;\r\n\r\n  JZZ.lib = {};\r\n  JZZ.lib.now = _now;\r\n  JZZ.lib.schedule = _schedule;\r\n  JZZ.lib.openMidiOut = function(name, engine) {\r\n    var port = new _M();\r\n    engine._openOut(port);\r\n    port._info = engine._info(name);\r\n    return port;\r\n  };\r\n  JZZ.lib.openMidiIn = function(name, engine) {\r\n    var port = new _M();\r\n    engine._openIn(port);\r\n    port._info = engine._info(name);\r\n    return port;\r\n  };\r\n  JZZ.lib.registerMidiOut = function(name, engine) {\r\n    var x = engine._info(name);\r\n    for (var i = 0; i < _virtual._outs.length; i++) if (_virtual._outs[i].name == x.name) return false;\r\n    x.engine = engine;\r\n    _virtual._outs.push(x);\r\n    if (_jzz) {\r\n      _postRefresh();\r\n      if (_jzz._bad) { _jzz._repair(); _jzz._resume(); }\r\n    }\r\n    return true;\r\n  };\r\n  JZZ.lib.registerMidiIn = function(name, engine) {\r\n    var x = engine._info(name);\r\n    for (var i = 0; i < _virtual._ins.length; i++) if (_virtual._ins[i].name == x.name) return false;\r\n    x.engine = engine;\r\n    _virtual._ins.push(x);\r\n    if (_jzz) {\r\n      _postRefresh();\r\n      if (_jzz._bad) { _jzz._repair(); _jzz._resume(); }\r\n    }\r\n    return true;\r\n  };\r\n  var _ac;\r\n  function _initAudioContext() {\r\n    if (!_ac && typeof window !== 'undefined') {\r\n      var AudioContext = window.AudioContext || window.webkitAudioContext;\r\n      if (AudioContext) {\r\n        _ac = new AudioContext();\r\n        if (_ac && !_ac.createGain) _ac.createGain = _ac.createGainNode;\r\n        var _activateAudioContext = function() {\r\n          if (_ac.state != 'running') {\r\n            _ac.resume();\r\n            var osc = _ac.createOscillator();\r\n            var gain = _ac.createGain();\r\n            try { gain.gain.value = 0; } catch (err) {}\r\n            gain.gain.setTargetAtTime(0, _ac.currentTime, 0.01);\r\n            osc.connect(gain);\r\n            gain.connect(_ac.destination);\r\n            if (!osc.start) osc.start = osc.noteOn;\r\n            if (!osc.stop) osc.stop = osc.noteOff;\r\n            osc.start(0.1); osc.stop(0.11);\r\n          }\r\n          else if (typeof document != 'undefined') {\r\n            document.removeEventListener('touchstart', _activateAudioContext);\r\n            document.removeEventListener('touchend', _activateAudioContext);\r\n            document.removeEventListener('mousedown', _activateAudioContext);\r\n            document.removeEventListener('keydown', _activateAudioContext);\r\n          }\r\n        };\r\n        if (typeof document != 'undefined') {\r\n          document.addEventListener('touchstart', _activateAudioContext);\r\n          document.addEventListener('touchend', _activateAudioContext);\r\n          document.addEventListener('mousedown', _activateAudioContext);\r\n          document.addEventListener('keydown', _activateAudioContext);\r\n        }\r\n        _activateAudioContext();\r\n      }\r\n    }\r\n  }\r\n  JZZ.lib.copyMidiHelpers = _copyMidiHelpers;\r\n  JZZ.lib.getAudioContext = function() { _initAudioContext(); return _ac; };\r\n  var _b64 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\r\n  JZZ.lib.fromBase64 = function(input) {\r\n    var output = '';\r\n    var chr1, chr2, chr3;\r\n    var enc1, enc2, enc3, enc4;\r\n    var i = 0;\r\n    input = input.replace(/[^A-Za-z0-9+/=]/g, '');\r\n    while (i < input.length) {\r\n      enc1 = _b64.indexOf(input.charAt(i++));\r\n      enc2 = _b64.indexOf(input.charAt(i++));\r\n      enc3 = _b64.indexOf(input.charAt(i++));\r\n      enc4 = _b64.indexOf(input.charAt(i++));\r\n      chr1 = (enc1 << 2) | (enc2 >> 4);\r\n      chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\r\n      chr3 = ((enc3 & 3) << 6) | enc4;\r\n      output = output + String.fromCharCode(chr1);\r\n      if (enc3 != 64) {\r\n        output = output + String.fromCharCode(chr2);\r\n      }\r\n      if (enc4 != 64) {\r\n        output = output + String.fromCharCode(chr3);\r\n      }\r\n    }\r\n    return output;\r\n  };\r\n  JZZ.lib.toBase64 = function(data) {\r\n    var o1, o2, o3, h1, h2, h3, h4, bits, i = 0, ac = 0, enc = '', arr = [];\r\n    if (!data) return data;\r\n    do {\r\n      o1 = data.charCodeAt(i++);\r\n      o2 = data.charCodeAt(i++);\r\n      o3 = data.charCodeAt(i++);\r\n      bits = o1 << 16 | o2 << 8 | o3;\r\n      h1 = bits >> 18 & 0x3f;\r\n      h2 = bits >> 12 & 0x3f;\r\n      h3 = bits >> 6 & 0x3f;\r\n      h4 = bits & 0x3f;\r\n      arr[ac++] = _b64.charAt(h1) + _b64.charAt(h2) + _b64.charAt(h3) + _b64.charAt(h4);\r\n    } while(i < data.length);\r\n    enc = arr.join('');\r\n    var r = data.length % 3;\r\n    return (r ? enc.slice(0, r - 3) + '==='.slice(r) : enc);\r\n  };\r\n  JZZ.lib.fromUTF8 = function(data) {\r\n    data = typeof data == 'undefined' ? '' : '' + data;\r\n    var out = '';\r\n    var i, n, m;\r\n    for (i = 0; i < data.length; i++) {\r\n      n = data.charCodeAt(i);\r\n      if (n > 0xff) return data;\r\n      if (n < 0x80) out += data[i];\r\n      else if ((n & 0xe0) == 0xc0) {\r\n        n = (n & 0x1f) << 6;\r\n        i++; if (i >= data.length) return data;\r\n        m = data.charCodeAt(i);\r\n        if ((m & 0xc0) != 0x80) return data;\r\n        n += (m & 0x3f);\r\n        out += String.fromCharCode(n);\r\n      }\r\n      else if ((n & 0xf0) == 0xe0) {\r\n        n = (n & 0x0f) << 12;\r\n        i++; if (i >= data.length) return data;\r\n        m = data.charCodeAt(i);\r\n        if ((m & 0xc0) != 0x80) return data;\r\n        n += (m & 0x3f) << 6;\r\n        i++; if (i >= data.length) return data;\r\n        m = data.charCodeAt(i);\r\n        if ((m & 0xc0) != 0x80) return data;\r\n        n += (m & 0x3f);\r\n        out += String.fromCharCode(n);\r\n      }\r\n      else if ((n & 0xf8) == 0xf0) {\r\n        n = (n & 0x07) << 18;\r\n        i++; if (i >= data.length) return data;\r\n        m = data.charCodeAt(i);\r\n        if ((m & 0xc0) != 0x80) return data;\r\n        n += (m & 0x3f) << 12;\r\n        i++; if (i >= data.length) return data;\r\n        m = data.charCodeAt(i);\r\n        if ((m & 0xc0) != 0x80) return data;\r\n        n += (m & 0x3f) << 6;\r\n        i++; if (i >= data.length) return data;\r\n        m = data.charCodeAt(i);\r\n        if ((m & 0xc0) != 0x80) return data;\r\n        n += (m & 0x3f);\r\n        if (n > 0x10ffff) return data;\r\n        n -= 0x10000;\r\n        out += String.fromCharCode(0xd800 + (n >> 10));\r\n        out += String.fromCharCode(0xdc00 + (n & 0x3ff));\r\n      }\r\n    }\r\n    return out;\r\n  };\r\n  JZZ.lib.toUTF8 = function(data) {\r\n    data = typeof data == 'undefined' ? '' : '' + data;\r\n    var out = '';\r\n    var i, n;\r\n    for (i = 0; i < data.length; i++) {\r\n      n = data.charCodeAt(i);\r\n      if (n < 0x80) out += data[i];\r\n      else if (n < 0x800) {\r\n        out += String.fromCharCode(0xc0 + (n >> 6));\r\n        out += String.fromCharCode(0x80 + (n & 0x3f));\r\n      }\r\n      else if (n < 0x10000) {\r\n        out += String.fromCharCode(0xe0 + (n >> 12));\r\n        out += String.fromCharCode(0x80 + ((n >> 6) & 0x3f));\r\n        out += String.fromCharCode(0x80 + (n & 0x3f));\r\n      }\r\n      /* istanbul ignore next */\r\n      else {\r\n        out += String.fromCharCode(0xf0 + (n >> 18));\r\n        out += String.fromCharCode(0x80 + ((n >> 12) & 0x3f));\r\n        out += String.fromCharCode(0x80 + ((n >> 6) & 0x3f));\r\n        out += String.fromCharCode(0x80 + (n & 0x3f));\r\n      }\r\n    }\r\n    return out;\r\n  };\r\n\r\n  // Web MIDI API\r\n  var _wma = [];\r\n  var _outputMap = {};\r\n  var _inputMap = {};\r\n\r\n  var Promise = _scope.Promise;\r\n  /* istanbul ignore next */\r\n  if (typeof Promise !== 'function') {\r\n    Promise = function(executor) {\r\n      this.executor = executor;\r\n    };\r\n    Promise.prototype.then = function(resolve, reject) {\r\n      if (typeof resolve !== 'function') {\r\n        resolve = _nop;\r\n      }\r\n      if (typeof reject !== 'function') {\r\n        reject = _nop;\r\n      }\r\n      this.executor(resolve, reject);\r\n    };\r\n  }\r\n  function DOMException(name, message, code) {\r\n    this.name = name;\r\n    this.message = message;\r\n    this.code = code;\r\n  }\r\n\r\n  function MIDIConnectionEvent(port, target) {\r\n    this.bubbles = false;\r\n    this.cancelBubble = false;\r\n    this.cancelable = false;\r\n    this.currentTarget = target;\r\n    this.defaultPrevented = false;\r\n    this.eventPhase = 0;\r\n    this.path = [];\r\n    this.port = port;\r\n    this.returnValue = true;\r\n    this.srcElement = target;\r\n    this.target = target;\r\n    this.timeStamp = _now();\r\n    this.type = 'statechange';\r\n  }\r\n\r\n  function MIDIMessageEvent(port, data) {\r\n    this.bubbles = false;\r\n    this.cancelBubble = false;\r\n    this.cancelable = false;\r\n    this.currentTarget = port;\r\n    this.data = data;\r\n    this.defaultPrevented = false;\r\n    this.eventPhase = 0;\r\n    this.path = [];\r\n    this.receivedTime = _now();\r\n    this.returnValue = true;\r\n    this.srcElement = port;\r\n    this.target = port;\r\n    this.timeStamp = this.receivedTime;\r\n    this.type = 'midimessage';\r\n  }\r\n\r\n  function _statechange(p, a) {\r\n    if (p) {\r\n      if (p.onstatechange) p.onstatechange(new MIDIConnectionEvent(p, p));\r\n      if (a.onstatechange) a.onstatechange(new MIDIConnectionEvent(p, a));\r\n    }\r\n  }\r\n\r\n  function MIDIInput(a, p) {\r\n    var self = this;\r\n    var _open = false;\r\n    var _ochng = null;\r\n    var _onmsg = null;\r\n    this.type = 'input';\r\n    this.id = p.id;\r\n    this.name = p.name;\r\n    this.manufacturer = p.man;\r\n    this.version = p.ver;\r\n    Object.defineProperty(this, 'state', { get: function() { return p.connected ? 'connected' : 'disconnected'; }, enumerable: true });\r\n    Object.defineProperty(this, 'connection', { get: function() {\r\n      return _open ? p.proxy ? 'open' : 'pending' : 'closed';\r\n    }, enumerable: true });\r\n    Object.defineProperty(this, 'onmidimessage', {\r\n      get: function() { return _onmsg; },\r\n      set: function(value) {\r\n        if (_func(value)) {\r\n          _onmsg = value;\r\n          if (!_open) self.open().then(_nop, _nop);\r\n        }\r\n        else _onmsg = null;\r\n      },\r\n      enumerable: true\r\n    });\r\n    Object.defineProperty(this, 'onstatechange', {\r\n      get: function() { return _ochng; },\r\n      set: function(value) {\r\n        if (_func(value)) _ochng = value;\r\n        else _ochng = null;\r\n      },\r\n      enumerable: true\r\n    });\r\n    this.open = function() {\r\n      return new Promise(function(resolve, reject) {\r\n        if (_open) resolve(self);\r\n        else {\r\n          p.open().then(function() {\r\n            if (!_open) {\r\n              _open = true;\r\n              _statechange(self, a);\r\n            }\r\n            resolve(self);\r\n          }, function() {\r\n            reject(new DOMException('InvalidAccessError', 'Port is not available', 15));\r\n          });\r\n        }\r\n      });\r\n    };\r\n    this.close = function() {\r\n      return new Promise(function(resolve/*, reject*/) {\r\n        if (_open) {\r\n          _open = false;\r\n          p.close();\r\n          _statechange(self, a);\r\n        }\r\n        resolve(self);\r\n      });\r\n    };\r\n    Object.freeze(this);\r\n  }\r\n\r\n  function _split(q) {\r\n    var i, k;\r\n    while (q.length) {\r\n      for (i = 0; i < q.length; i++) if (q[i] == parseInt(q[i]) && q[i] >= 0x80 && q[i] <= 0xff && q[i] != 0xf7) break;\r\n      q.splice(0, i);\r\n      if (!q.length) return;\r\n      if (q[0] == 0xf0) {\r\n        for (i = 1; i < q.length; i++) if (q[i] == 0xf7) break;\r\n        if (i == q.length) return;\r\n        return q.splice(0, i + 1);\r\n      }\r\n      else {\r\n        k = _datalen(q[0]) + 1;\r\n        if (k > q.length) return;\r\n        for (i = 1; i < k; i++) if (q[i] != parseInt(q[i]) || q[i] < 0 || q[i] >= 0x80) break;\r\n        if (i == k) return q.splice(0, i);\r\n        else q.splice(0, i);\r\n      }\r\n    }\r\n  }\r\n\r\n  function _InputProxy(id, name, man, ver) {\r\n    var self = this;\r\n    this.id = id;\r\n    this.name = name;\r\n    this.man = man;\r\n    this.ver = ver;\r\n    this.connected = true;\r\n    this.ports = [];\r\n    this.pending = [];\r\n    this.proxy = undefined;\r\n    this.queue = [];\r\n    this.onmidi = function(msg) {\r\n      var m;\r\n      self.queue = self.queue.concat(msg.slice());\r\n      for (m = _split(self.queue); m; m = _split(self.queue)) {\r\n        for (i = 0; i < self.ports.length; i++) {\r\n          if (self.ports[i][0].onmidimessage && (m[0] != 0xf0 || self.ports[i][1])) {\r\n            self.ports[i][0].onmidimessage(new MIDIMessageEvent(self, new Uint8Array(m)));\r\n          }\r\n        }\r\n      }\r\n    };\r\n  }\r\n  _InputProxy.prototype.open = function() {\r\n    var self = this;\r\n    return new Promise(function(resolve, reject) {\r\n      var i;\r\n      if (self.proxy || !self.connected) resolve();\r\n      else {\r\n        self.pending.push([resolve, reject]);\r\n        if (self.pending.length == 1) {\r\n          JZZ().openMidiIn(self.name).or(function() {\r\n            for (i = 0; i < self.pending.length; i++) self.pending[i][1]();\r\n            self.pending = [];\r\n          }).and(function() {\r\n            self.proxy = this;\r\n            self.proxy.connect(self.onmidi);\r\n            for (i = 0; i < self.pending.length; i++) self.pending[i][0]();\r\n            self.pending = [];\r\n          });\r\n        }\r\n      }\r\n    });\r\n  };\r\n  _InputProxy.prototype.close = function() {\r\n    var i;\r\n    if (this.proxy) {\r\n      for (i = 0; i < this.ports.length; i++) if (this.ports[i].connection == 'open') return;\r\n      this.proxy.close();\r\n      this.proxy = undefined;\r\n    }\r\n  };\r\n  _InputProxy.prototype.disconnect = function() {\r\n    this.connected = false;\r\n    if (this.proxy) {\r\n      this.proxy.close();\r\n      this.proxy = undefined;\r\n    }\r\n  };\r\n  _InputProxy.prototype.reconnect = function() {\r\n    var self = this;\r\n    var i, p;\r\n    var a = [];\r\n    this.connected = true;\r\n    for (i = 0; i < _wma.length; i++) {\r\n      p = _wma[i].inputs.get(this.id);\r\n      if (p.connection == 'closed') _statechange(p, _wma[i]);\r\n      else a.push([p, _wma[i]]);\r\n    }\r\n    if (a.length) {\r\n      JZZ()._openMidiInNR(self.name).or(function() {\r\n        for (i = 0; i < a.length; i++) a[i][0].close();\r\n      }).and(function() {\r\n        self.proxy = this;\r\n        self.proxy.connect(self.onmidi);\r\n        for (i = 0; i < a.length; i++) _statechange(a[i][0], a[i][1]);\r\n      });\r\n    }\r\n  };\r\n\r\n  function _datalen(x) {\r\n    if (x >= 0x80 && x <= 0xbf || x >= 0xe0 && x <= 0xef || x == 0xf2) return 2;\r\n    if (x >= 0xc0 && x <= 0xdf || x == 0xf1 || x == 0xf3) return 1;\r\n    return 0;\r\n  }\r\n\r\n  var _epr = \"Failed to execute 'send' on 'MIDIOutput': \";\r\n\r\n  function _validate(arr, sysex) {\r\n    var i, k;\r\n    var msg;\r\n    var data = [];\r\n    for (i = 0; i < arr.length; i++) {\r\n      if (arr[i] != parseInt(arr[i]) || arr[i] < 0 || arr[i] > 255) throw TypeError(_epr + arr[i] + ' is not a UInt8 value.');\r\n    }\r\n    k = 0;\r\n    for (i = 0; i < arr.length; i++) {\r\n      if (!k) {\r\n        if (arr[i] < 0x80) throw TypeError(_epr + 'Running status is not allowed at index ' + i + ' (' + arr[i] + ').');\r\n        if (arr[i] == 0xf7) throw TypeError(_epr + 'Unexpected end of system exclusive message at index ' + i + ' (' + arr[i] + ').');\r\n        msg = [arr[i]];\r\n        data.push(msg);\r\n        if (arr[i] == 0xf0) {\r\n          if (!sysex) throw new DOMException('InvalidAccessError', _epr + 'System exclusive messag is not allowed at index ' + i + ' (' + arr[i] + ').', 15);\r\n          k = -1;\r\n          for (; i < arr.length; i++) {\r\n            msg.push(arr[i]);\r\n            if (arr[i] == 0xf7) {\r\n              k = 0;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        else {\r\n          k = _datalen(arr[i]);\r\n        }\r\n      }\r\n      else {\r\n        if (arr[i] > 0x7f) throw TypeError(_epr + 'Unexpected status byte at index ' + i + ' (' + arr[i] + ').');\r\n        msg.push(arr[i]);\r\n        k--;\r\n      }\r\n    }\r\n    if (k) throw TypeError(_epr + 'Message is incomplete');\r\n    return [data];\r\n  }\r\n\r\n  function MIDIOutput(a, p) {\r\n    var self = this;\r\n    var _open = false;\r\n    var _ochng = null;\r\n    this.type = 'output';\r\n    this.id = p.id;\r\n    this.name = p.name;\r\n    this.manufacturer = p.man;\r\n    this.version = p.ver;\r\n    Object.defineProperty(this, 'state', { get: function() { return p.connected ? 'connected' : 'disconnected'; }, enumerable: true });\r\n    Object.defineProperty(this, 'connection', { get: function() {\r\n      return _open ? p.proxy ? 'open' : 'pending' : 'closed';\r\n    }, enumerable: true });\r\n    Object.defineProperty(this, 'onstatechange', {\r\n      get: function() { return _ochng; },\r\n      set: function(value) {\r\n        if (_func(value)) _ochng = value;\r\n        else _ochng = null;\r\n      },\r\n      enumerable: true\r\n    });\r\n    this.open = function() {\r\n      return new Promise(function(resolve, reject) {\r\n        if (_open) resolve(self);\r\n        else {\r\n          p.open().then(function() {\r\n            if (!_open) {\r\n              _open = true;\r\n              _statechange(self, a);\r\n            }\r\n            resolve(self);\r\n          }, function() {\r\n            reject(new DOMException('InvalidAccessError', 'Port is not available', 15));\r\n          });\r\n        }\r\n      });\r\n    };\r\n    this.close = function() {\r\n      return new Promise(function(resolve/*, reject*/) {\r\n        if (_open) {\r\n          _open = false;\r\n          self.clear();\r\n          p.close();\r\n          _statechange(self, a);\r\n        }\r\n        resolve(self);\r\n      });\r\n    };\r\n    this.clear = function() {\r\n    };\r\n    this.send = function(data, timestamp) {\r\n      _validate(data, a.sysexEnabled);\r\n      if (!p.connected) throw new DOMException('InvalidStateError', 'Port is not connected', 11);\r\n      if (_open) {\r\n        var now = _now();\r\n        if (timestamp > now) setTimeout(function() { p.proxy.send(data); }, timestamp - now);\r\n        else p.proxy.send(data);\r\n      }\r\n      else this.open().then(function() { self.send(data, timestamp); }, _nop);\r\n    };\r\n    Object.freeze(this);\r\n  }\r\n\r\n  function _OutputProxy(id, name, man, ver) {\r\n    this.id = id;\r\n    this.name = name;\r\n    this.man = man;\r\n    this.ver = ver;\r\n    this.connected = true;\r\n    this.ports = [];\r\n    this.pending = [];\r\n    this.proxy = undefined;\r\n  }\r\n  _OutputProxy.prototype.open = function() {\r\n    var self = this;\r\n    return new Promise(function(resolve, reject) {\r\n      var i;\r\n      if (self.proxy || !self.connected) resolve();\r\n      else {\r\n        self.pending.push([resolve, reject]);\r\n        if (self.pending.length == 1) {\r\n          JZZ().openMidiOut(self.name).or(function() {\r\n            for (i = 0; i < self.pending.length; i++) self.pending[i][1]();\r\n            self.pending = [];\r\n          }).and(function() {\r\n            self.proxy = this;\r\n            for (i = 0; i < self.pending.length; i++) self.pending[i][0]();\r\n            self.pending = [];\r\n          });\r\n        }\r\n      }\r\n    });\r\n  };\r\n  _OutputProxy.prototype.close = function() {\r\n    var i;\r\n    if (this.proxy) {\r\n      for (i = 0; i < this.ports.length; i++) if (this.ports[i].connection == 'open') return;\r\n      this.proxy.close();\r\n      this.proxy = undefined;\r\n    }\r\n  };\r\n  _OutputProxy.prototype.disconnect = function() {\r\n    this.connected = false;\r\n    if (this.proxy) {\r\n      this.proxy.close();\r\n      this.proxy = undefined;\r\n    }\r\n  };\r\n  _OutputProxy.prototype.reconnect = function() {\r\n    var self = this;\r\n    var i, p;\r\n    var a = [];\r\n    this.connected = true;\r\n    for (i = 0; i < _wma.length; i++) {\r\n      p = _wma[i].outputs.get(this.id);\r\n      if (p.connection == 'closed') _statechange(p, _wma[i]);\r\n      else a.push([p, _wma[i]]);\r\n    }\r\n    if (a.length) {\r\n      JZZ()._openMidiOutNR(self.name).or(function() {\r\n        for (i = 0; i < a.length; i++) a[i][0].close();\r\n      }).and(function() {\r\n        self.proxy = this;\r\n        for (i = 0; i < a.length; i++) _statechange(a[i][0], a[i][1]);\r\n      });\r\n    }\r\n  };\r\n\r\n  function _Maplike(data) {\r\n    this.has = function(id) {\r\n      return data.hasOwnProperty(id) && data[id].connected;\r\n    };\r\n    this.keys = function() {\r\n      try { // some old browsers may have no Map object\r\n        var m = new Map();\r\n        for (var id in data) if (this.has(id)) m.set(id, this.get(id));\r\n        return m.keys();\r\n      } catch (e) {}\r\n    };\r\n    this.values = function() {\r\n      try {\r\n        var m = new Map();\r\n        for (var id in data) if (this.has(id)) m.set(id, this.get(id));\r\n        return m.values();\r\n      } catch (e) {}\r\n    };\r\n    this.entries = function() {\r\n      try {\r\n        var m = new Map();\r\n        for (var id in data) if (this.has(id)) m.set(id, this.get(id));\r\n        return m.entries();\r\n      } catch (e) {}\r\n    };\r\n    this.forEach = function(fun, self) {\r\n      if (typeof self == 'undefined') self = this;\r\n      for (var id in data) if (this.has(id)) fun.call(self, this.get(id), id, this);\r\n    };\r\n    Object.defineProperty(this, 'size', {\r\n      get: function() {\r\n        var len = 0;\r\n        for (var id in data) if (this.has(id)) len++;\r\n        return len;\r\n      },\r\n      enumerable: true\r\n    });\r\n  }\r\n\r\n  function MIDIInputMap(_access, _inputs) {\r\n    this.get = function(id) {\r\n      if (_inputMap.hasOwnProperty(id) && _inputMap[id].connected) {\r\n        if (!_inputs[id]) {\r\n          _inputs[id] = new MIDIInput(_access, _inputMap[id]);\r\n          _inputMap[id].ports.push([_inputs[id], _access.sysexEnabled]);\r\n        }\r\n        return _inputs[id];\r\n      }\r\n    };\r\n    Object.freeze(this);\r\n  }\r\n  MIDIInputMap.prototype = new _Maplike(_inputMap);\r\n  MIDIInputMap.prototype.constructor = MIDIInputMap;\r\n\r\n  function MIDIOutputMap(_access, _outputs) {\r\n    this.get = function(id) {\r\n      if (_outputMap.hasOwnProperty(id) && _outputMap[id].connected) {\r\n        if (!_outputs[id]) {\r\n          _outputs[id] = new MIDIOutput(_access, _outputMap[id]);\r\n          _outputMap[id].ports.push([_outputs[id], _access.sysexEnabled]);\r\n        }\r\n        return _outputs[id];\r\n      }\r\n    };\r\n    Object.freeze(this);\r\n  }\r\n  MIDIOutputMap.prototype = new _Maplike(_outputMap);\r\n  MIDIOutputMap.prototype.constructor = MIDIOutputMap;\r\n\r\n  function _wm_watch(x) {\r\n    var i, k, p, a;\r\n    for (i = 0; i < x.inputs.added.length; i++) {\r\n      p = x.inputs.added[i];\r\n      if (!_inputMap.hasOwnProperty(p.id)) _inputMap[p.id] = new _InputProxy(p.id, p.name, p.manufacturer, p.version);\r\n      _inputMap[p.id].reconnect();\r\n    }\r\n    for (i = 0; i < x.outputs.added.length; i++) {\r\n      p = x.outputs.added[i];\r\n      if (!_outputMap.hasOwnProperty(p.id)) _outputMap[p.id] = new _OutputProxy(p.id, p.name, p.manufacturer, p.version);\r\n      _outputMap[p.id].reconnect();\r\n    }\r\n    for (i = 0; i < x.inputs.removed.length; i++) {\r\n      p = x.inputs.removed[i];\r\n      if (_inputMap.hasOwnProperty(p.id)) {\r\n        a = [];\r\n        for (k = 0; k < _wma.length; k++) a.push([_wma[k].inputs.get(p.id), _wma[k]]);\r\n        _inputMap[p.id].disconnect();\r\n        for (k = 0; k < a.length; k++) _statechange(a[k][0], a[k][1]);\r\n      }\r\n    }\r\n    for (i = 0; i < x.outputs.removed.length; i++) {\r\n      p = x.outputs.removed[i];\r\n      if (_outputMap.hasOwnProperty(p.id)) {\r\n        a = [];\r\n        for (k = 0; k < _wma.length; k++) a.push([_wma[k].outputs.get(p.id), _wma[k]]);\r\n        _outputMap[p.id].disconnect();\r\n        for (k = 0; k < a.length; k++) _statechange(a[k][0], a[k][1]);\r\n      }\r\n    }\r\n  }\r\n\r\n  function MIDIAccess(sysex) {\r\n    var _inputs = {};\r\n    var _outputs = {};\r\n    var _onstatechange = null;\r\n    var self = this;\r\n    this.sysexEnabled = sysex;\r\n    this.inputs = new MIDIInputMap(self, _inputs);\r\n    this.outputs = new MIDIOutputMap(self, _outputs);\r\n    Object.defineProperty(this, 'onstatechange', {\r\n      get: function() { return _onstatechange; },\r\n      set: function(f) { _onstatechange = _func(f) ? f : null; },\r\n      enumerable: true\r\n    });\r\n    Object.freeze(this);\r\n    var i;\r\n    var p;\r\n    var info = _jzz._info;\r\n    for (i = 0; i < info.inputs.length; i++) {\r\n      p = info.inputs[i];\r\n      if (!_inputMap.hasOwnProperty(p.id)) _inputMap[p.id] = new _InputProxy(p.id, p.name, p.manufacturer, p.version);\r\n    }\r\n    for (i = 0; i < info.outputs.length; i++) {\r\n      p = info.outputs[i];\r\n      if (!_outputMap.hasOwnProperty(p.id)) _outputMap[p.id] = new _OutputProxy(p.id, p.name, p.manufacturer, p.version);\r\n    }\r\n    if (!_wma.length) JZZ().onChange(_wm_watch);\r\n    _wma.push(this);\r\n  }\r\n\r\n  JZZ.requestMIDIAccess = function(opt) {\r\n    return new Promise(function(resolve, reject) {\r\n      JZZ.JZZ(opt).or(function() {\r\n      }).and(function() {\r\n        var sysex = !!(opt && opt.sysex);\r\n        if (sysex && !this.info().sysex) reject(new DOMException('SecurityError', 'Sysex is not allowed', 18));\r\n        else {\r\n          var wma = new MIDIAccess(sysex);\r\n          resolve(wma);\r\n        }\r\n      });\r\n    });\r\n  };\r\n  if (typeof navigator !== 'undefined' && !navigator.requestMIDIAccess) navigator.requestMIDIAccess = JZZ.requestMIDIAccess;\r\n  JZZ.close = function() { if (_engine._close) _engine._close(); };\r\n\r\n  return JZZ;\r\n});\r\n","(function(global, factory) {\r\n  /* istanbul ignore next */\r\n  if (typeof exports === 'object' && typeof module !== 'undefined') {\r\n    module.exports = factory;\r\n  }\r\n  else if (typeof define === 'function' && define.amd) {\r\n    define('JZZ.synth.Tiny', ['JZZ'], factory);\r\n  }\r\n  else {\r\n    factory(JZZ);\r\n  }\r\n})(this, function(JZZ) {\r\n\r\n  /* istanbul ignore next */\r\n  if (!JZZ) return;\r\n  /* istanbul ignore next */\r\n  if (!JZZ.synth) JZZ.synth = {};\r\n  /* istanbul ignore next */\r\n  if (JZZ.synth.Tiny) return;\r\n\r\n  var _version = '1.3.2';\r\n\r\nfunction WebAudioTinySynth(opt){\r\n  this.__proto__ = this.sy =\r\n  /* webaudio-tynysynth core object */\r\n  {\r\n    is:\"webaudio-tinysynth\",\r\n    properties:{\r\n      masterVol:  {type:Number, value:0.5, observer:\"setMasterVol\"},\r\n      reverbLev:  {type:Number, value:0.3, observer:\"setReverbLev\"},\r\n      quality:    {type:Number, value:1, observer:\"setQuality\"},\r\n      debug:      {type:Number, value:0},\r\n      src:        {type:String, value:null, observer:\"loadMIDIUrl\"},\r\n      loop:       {type:Number, value:0},\r\n      //internalcontext: {type:Number, value:1},\r\n      tsmode:     {type:Number, value:0},\r\n      voices:     {type:Number, value:64},\r\n      useReverb:  {type:Number, value:1},\r\n      /**/\r\n    },\r\n    /**/\r\n    program:[],\r\n    drummap:[],\r\n    program1:[\r\n      // 1-8 : Piano\r\n      [{w:\"sine\",v:.4,d:0.7,r:0.1,},{w:\"triangle\",v:3,d:0.7,s:0.1,g:1,a:0.01,k:-1.2}],\r\n      [{w:\"triangle\",v:0.4,d:0.7,r:0.1,},{w:\"triangle\",v:4,t:3,d:0.4,s:0.1,g:1,k:-1,a:0.01,}],\r\n      [{w:\"sine\",d:0.7,r:0.1,},{w:\"triangle\",v:4,f:2,d:0.5,s:0.5,g:1,k:-1}],\r\n      [{w:\"sine\",d:0.7,v:0.2,},{w:\"triangle\",v:4,t:3,f:2,d:0.3,g:1,k:-1,a:0.01,s:0.5,}],\r\n      [{w:\"sine\",v:0.35,d:0.7,},{w:\"sine\",v:3,t:7,f:1,d:1,s:1,g:1,k:-.7}],\r\n      [{w:\"sine\",v:0.35,d:0.7,},{w:\"sine\",v:8,t:7,f:1,d:0.5,s:1,g:1,k:-.7}],\r\n      [{w:\"sawtooth\",v:0.34,d:2,},{w:\"sine\",v:8,f:0.1,d:2,s:1,r:2,g:1,}],\r\n      [{w:\"triangle\",v:0.34,d:1.5,},{w:\"square\",v:6,f:0.1,d:1.5,s:0.5,r:2,g:1,}],\r\n      /* 9-16 : Chromatic Perc*/\r\n      [{w:\"sine\",d:0.3,r:0.3,},{w:\"sine\",v:7,t:11,d:0.03,g:1,}],\r\n      [{w:\"sine\",d:0.3,r:0.3,},{w:\"sine\",v:11,t:6,d:0.2,s:0.4,g:1,}],\r\n      [{w:\"sine\",v:0.2,d:0.3,r:0.3,},{w:\"sine\",v:11,t:5,d:0.1,s:0.4,g:1,}],\r\n      [{w:\"sine\",v:0.2,d:0.6,r:0.6,},{w:\"triangle\",v:11,t:5,f:1,s:0.5,g:1,}],\r\n      [{w:\"sine\",v:0.3,d:0.2,r:0.2,},{w:\"sine\",v:6,t:5,d:0.02,g:1,}],\r\n      [{w:\"sine\",v:0.3,d:0.2,r:0.2,},{w:\"sine\",v:7,t:11,d:0.03,g:1,}],\r\n      [{w:\"sine\",v:0.2,d:1,r:1,},{w:\"sine\",v:11,t:3.5,d:1,r:1,g:1,}],\r\n      [{w:\"triangle\",v:0.2,d:0.5,r:0.2,},{w:\"sine\",v:6,t:2.5,d:0.2,s:0.1,r:0.2,g:1,}],\r\n      /* 17-24 : Organ */\r\n      [{w:\"w9999\",v:0.22,s:0.9,},{w:\"w9999\",v:0.22,t:2,f:2,s:0.9,}],\r\n      [{w:\"w9999\",v:0.2,s:1,},{w:\"sine\",v:11,t:6,f:2,s:0.1,g:1,h:0.006,r:0.002,d:0.002,},{w:\"w9999\",v:0.2,t:2,f:1,h:0,s:1,}],\r\n      [{w:\"w9999\",v:0.2,d:0.1,s:0.9,},{w:\"w9999\",v:0.25,t:4,f:2,s:0.5,}],\r\n      [{w:\"w9999\",v:0.3,a:0.04,s:0.9,},{w:\"w9999\",v:0.2,t:8,f:2,a:0.04,s:0.9,}],\r\n      [{w:\"sine\",v:0.2,a:0.02,d:0.05,s:1,},{w:\"sine\",v:6,t:3,f:1,a:0.02,d:0.05,s:1,g:1,}],\r\n      [{w:\"triangle\",v:0.2,a:0.02,d:0.05,s:0.8,},{w:\"square\",v:7,t:3,f:1,d:0.05,s:1.5,g:1,}],\r\n      [{w:\"square\",v:0.2,a:0.02,d:0.2,s:0.5,},{w:\"square\",v:1,d:0.03,s:2,g:1,}],\r\n      [{w:\"square\",v:0.2,a:0.02,d:0.1,s:0.8,},{w:\"square\",v:1,a:0.3,d:0.1,s:2,g:1,}],\r\n      /* 25-32 : Guitar */\r\n      [{w:\"sine\",v:0.3,d:0.5,f:1,},{w:\"triangle\",v:5,t:3,f:-1,d:1,s:0.1,g:1,}],\r\n      [{w:\"sine\",v:0.4,d:0.6,f:1,},{w:\"triangle\",v:12,t:3,d:0.6,s:0.1,g:1,f:-1,}],\r\n      [{w:\"triangle\",v:0.3,d:1,f:1,},{w:\"triangle\",v:6,f:-1,d:0.4,s:0.5,g:1,t:3,}],\r\n      [{w:\"sine\",v:0.3,d:1,f:-1,},{w:\"triangle\",v:11,f:1,d:0.4,s:0.5,g:1,t:3,}],\r\n      [{w:\"sine\",v:0.4,d:0.1,r:0.01},{w:\"sine\",v:7,g:1,}],\r\n      [{w:\"triangle\",v:0.4,d:1,f:1,},{w:\"square\",v:4,f:-1,d:1,s:0.7,g:1,}],//[{w:\"triangle\",v:0.35,d:1,f:1,},{w:\"square\",v:7,f:-1,d:0.3,s:0.5,g:1,}],\r\n      [{w:\"triangle\",v:0.35,d:1,f:1,},{w:\"square\",v:7,f:-1,d:0.3,s:0.5,g:1,}],//[{w:\"triangle\",v:0.4,d:1,f:1,},{w:\"square\",v:4,f:-1,d:1,s:0.7,g:1,}],//[{w:\"triangle\",v:0.4,d:1,},{w:\"square\",v:4,f:2,d:1,s:0.7,g:1,}],\r\n      [{w:\"sine\",v:0.2,t:1.5,a:0.005,h:0.2,d:0.6,},{w:\"sine\",v:11,t:5,f:2,d:1,s:0.5,g:1,}],\r\n      /* 33-40 : Bass */\r\n      [{w:\"sine\",d:0.3,},{w:\"sine\",v:4,t:3,d:1,s:1,g:1,}],\r\n      [{w:\"sine\",d:0.3,},{w:\"sine\",v:4,t:3,d:1,s:1,g:1,}],\r\n      [{w:\"w9999\",d:0.3,v:0.7,s:0.5,},{w:\"sawtooth\",v:1.2,d:0.02,s:0.5,g:1,h:0,r:0.02,}],\r\n      [{w:\"sine\",d:0.3,},{w:\"sine\",v:4,t:3,d:1,s:1,g:1,}],\r\n      [{w:\"triangle\",v:0.3,t:2,d:1,},{w:\"triangle\",v:15,t:2.5,d:0.04,s:0.1,g:1,}],\r\n      [{w:\"triangle\",v:0.3,t:2,d:1,},{w:\"triangle\",v:15,t:2.5,d:0.04,s:0.1,g:1,}],\r\n      [{w:\"triangle\",d:0.7,},{w:\"square\",v:0.4,t:0.5,f:1,d:0.2,s:10,g:1,}],\r\n      [{w:\"triangle\",d:0.7,},{w:\"square\",v:0.4,t:0.5,f:1,d:0.2,s:10,g:1,}],\r\n      /* 41-48 : Strings */\r\n      [{w:\"sawtooth\",v:0.4,a:0.1,d:11,},{w:\"sine\",v:5,d:11,s:0.2,g:1,}],\r\n      [{w:\"sawtooth\",v:0.4,a:0.1,d:11,},{w:\"sine\",v:5,d:11,s:0.2,g:1,}],\r\n      [{w:\"sawtooth\",v:0.4,a:0.1,d:11,},{w:\"sine\",v:5,t:0.5,d:11,s:0.2,g:1,}],\r\n      [{w:\"sawtooth\",v:0.4,a:0.1,d:11,},{w:\"sine\",v:5,t:0.5,d:11,s:0.2,g:1,}],\r\n      [{w:\"sine\",v:0.4,a:0.1,d:11,},{w:\"sine\",v:6,f:2.5,d:0.05,s:1.1,g:1,}],\r\n      [{w:\"sine\",v:0.3,d:0.1,r:0.1,},{w:\"square\",v:4,t:3,d:1,s:0.2,g:1,}],\r\n      [{w:\"sine\",v:0.3,d:0.5,r:0.5,},{w:\"sine\",v:7,t:2,f:2,d:1,r:1,g:1,}],\r\n      [{w:\"triangle\",v:0.6,h:0.03,d:0.3,r:0.3,t:0.5,},{w:\"n0\",v:8,t:1.5,d:0.08,r:0.08,g:1,}],\r\n      /* 49-56 : Ensamble */\r\n      [{w:\"sawtooth\",v:0.3,a:0.03,s:0.5,},{w:\"sawtooth\",v:0.2,t:2,f:2,d:1,s:2,}],\r\n      [{w:\"sawtooth\",v:0.3,f:-2,a:0.03,s:0.5,},{w:\"sawtooth\",v:0.2,t:2,f:2,d:1,s:2,}],\r\n      [{w:\"sawtooth\",v:0.2,a:0.02,s:1,},{w:\"sawtooth\",v:0.2,t:2,f:2,a:1,d:1,s:1,}],\r\n      [{w:\"sawtooth\",v:0.2,a:0.02,s:1,},{w:\"sawtooth\",v:0.2,f:2,a:0.02,d:1,s:1,}],\r\n      [{w:\"triangle\",v:0.3,a:0.03,s:1,},{w:\"sine\",v:3,t:5,f:1,d:1,s:1,g:1,}],\r\n      [{w:\"sine\",v:0.4,a:0.03,s:0.9,},{w:\"sine\",v:1,t:2,f:3,d:0.03,s:0.2,g:1,}],\r\n      [{w:\"triangle\",v:0.6,a:0.05,s:0.5,},{w:\"sine\",v:1,f:0.8,d:0.2,s:0.2,g:1,}],\r\n      [{w:\"square\",v:0.15,a:0.01,d:0.2,r:0.2,t:0.5,h:0.03,},{w:\"square\",v:4,f:0.5,d:0.2,r:11,a:0.01,g:1,h:0.02,},{w:\"square\",v:0.15,t:4,f:1,a:0.02,d:0.15,r:0.15,h:0.03,},{g:3,w:\"square\",v:4,f:-0.5,a:0.01,h:0.02,d:0.15,r:11,}],\r\n      /* 57-64 : Brass */\r\n      [{w:\"square\",v:0.2,a:0.01,d:1,s:0.6,r:0.04,},{w:\"sine\",v:1,d:0.1,s:4,g:1,}],\r\n      [{w:\"square\",v:0.2,a:0.02,d:1,s:0.5,r:0.08,},{w:\"sine\",v:1,d:0.1,s:4,g:1,}],\r\n      [{w:\"square\",v:0.2,a:0.04,d:1,s:0.4,r:0.08,},{w:\"sine\",v:1,d:0.1,s:4,g:1,}],\r\n      [{w:\"square\",v:0.15,a:0.04,s:1,},{w:\"sine\",v:2,d:0.1,g:1,}],\r\n      [{w:\"square\",v:0.2,a:0.02,d:1,s:0.5,r:0.08,},{w:\"sine\",v:1,d:0.1,s:4,g:1,}],\r\n      [{w:\"square\",v:0.2,a:0.02,d:1,s:0.6,r:0.08,},{w:\"sine\",v:1,f:0.2,d:0.1,s:4,g:1,}],\r\n      [{w:\"square\",v:0.2,a:0.02,d:0.5,s:0.7,r:0.08,},{w:\"sine\",v:1,d:0.1,s:4,g:1,}],\r\n      [{w:\"square\",v:0.2,a:0.02,d:1,s:0.5,r:0.08,},{w:\"sine\",v:1,d:0.1,s:4,g:1,}],\r\n      /* 65-72 : Reed */\r\n      [{w:\"square\",v:0.2,a:0.02,d:2,s:0.6,},{w:\"sine\",v:2,d:1,g:1,}],\r\n      [{w:\"square\",v:0.2,a:0.02,d:2,s:0.6,},{w:\"sine\",v:2,d:1,g:1,}],\r\n      [{w:\"square\",v:0.2,a:0.02,d:1,s:0.6,},{w:\"sine\",v:2,d:1,g:1,}],\r\n      [{w:\"square\",v:0.2,a:0.02,d:1,s:0.6,},{w:\"sine\",v:2,d:1,g:1,}],\r\n      [{w:\"sine\",v:0.4,a:0.02,d:0.7,s:0.5,},{w:\"square\",v:5,t:2,d:0.2,s:0.5,g:1,}],\r\n      [{w:\"sine\",v:0.3,a:0.05,d:0.2,s:0.8,},{w:\"sawtooth\",v:6,f:0.1,d:0.1,s:0.3,g:1,}],\r\n      [{w:\"sine\",v:0.3,a:0.03,d:0.2,s:0.4,},{w:\"square\",v:7,f:0.2,d:1,s:0.1,g:1,}],\r\n      [{w:\"square\",v:0.2,a:0.05,d:0.1,s:0.8,},{w:\"square\",v:4,d:0.1,s:1.1,g:1,}],\r\n      /* 73-80 : Pipe */\r\n      [{w:\"sine\",a:0.02,d:2,},{w:\"sine\",v:6,t:2,d:0.04,g:1,}],\r\n      [{w:\"sine\",v:0.7,a:0.03,d:0.4,s:0.4,},{w:\"sine\",v:4,t:2,f:0.2,d:0.4,g:1,}],\r\n      [{w:\"sine\",v:0.7,a:0.02,d:0.4,s:0.6,},{w:\"sine\",v:3,t:2,d:0,s:1,g:1,}],\r\n      [{w:\"sine\",v:0.4,a:0.06,d:0.3,s:0.3,},{w:\"sine\",v:7,t:2,d:0.2,s:0.2,g:1,}],\r\n      [{w:\"sine\",a:0.02,d:0.3,s:0.3,},{w:\"sawtooth\",v:3,t:2,d:0.3,g:1,}],\r\n      [{w:\"sine\",v:0.4,a:0.02,d:2,s:0.1,},{w:\"sawtooth\",v:8,t:2,f:1,d:0.5,g:1,}],\r\n      [{w:\"sine\",v:0.7,a:0.03,d:0.5,s:0.3,},{w:\"sine\",v:0.003,t:0,f:4,d:0.1,s:0.002,g:1,}],\r\n      [{w:\"sine\",v:0.7,a:0.02,d:2,},{w:\"sine\",v:1,t:2,f:1,d:0.02,g:1,}],\r\n      /* 81-88 : SynthLead */\r\n      [{w:\"square\",v:0.3,d:1,s:0.5,},{w:\"square\",v:1,f:0.2,d:1,s:0.5,g:1,}],\r\n      [{w:\"sawtooth\",v:0.3,d:2,s:0.5,},{w:\"square\",v:2,f:0.1,s:0.5,g:1,}],\r\n      [{w:\"triangle\",v:0.5,a:0.05,d:2,s:0.6,},{w:\"sine\",v:4,t:2,g:1,}],\r\n      [{w:\"triangle\",v:0.3,a:0.01,d:2,s:0.3,},{w:\"sine\",v:22,t:2,f:1,d:0.03,s:0.2,g:1,}],\r\n      [{w:\"sawtooth\",v:0.3,d:1,s:0.5,},{w:\"sine\",v:11,t:11,a:0.2,d:0.05,s:0.3,g:1,}],\r\n      [{w:\"sine\",v:0.3,a:0.06,d:1,s:0.5,},{w:\"sine\",v:7,f:1,d:1,s:0.2,g:1,}],\r\n      [{w:\"sawtooth\",v:0.3,a:0.03,d:0.7,s:0.3,r:0.2,},{w:\"sawtooth\",v:0.3,t:0.75,d:0.7,a:0.1,s:0.3,r:0.2,}],\r\n      [{w:\"triangle\",v:0.3,a:0.01,d:0.7,s:0.5,},{w:\"square\",v:5,t:0.5,d:0.7,s:0.5,g:1,}],\r\n      /* 89-96 : SynthPad */\r\n      [{w:\"triangle\",v:0.3,a:0.02,d:0.3,s:0.3,r:0.3,},{w:\"square\",v:3,t:4,f:1,a:0.02,d:0.1,s:1,g:1,},{w:\"triangle\",v:0.08,t:0.5,a:0.1,h:0,d:0.1,s:0.5,r:0.1,b:0,c:0,}],\r\n      [{w:\"sine\",v:0.3,a:0.05,d:1,s:0.7,r:0.3,},{w:\"sine\",v:2,f:1,d:0.3,s:1,g:1,}],\r\n      [{w:\"square\",v:0.3,a:0.03,d:0.5,s:0.3,r:0.1,},{w:\"square\",v:4,f:1,a:0.03,d:0.1,g:1,}],\r\n      [{w:\"triangle\",v:0.3,a:0.08,d:1,s:0.3,r:0.1,},{w:\"square\",v:2,f:1,d:0.3,s:0.3,g:1,t:4,a:0.08,}],\r\n      [{w:\"sine\",v:0.3,a:0.05,d:1,s:0.3,r:0.1,},{w:\"sine\",v:0.1,t:2.001,f:1,d:1,s:50,g:1,}],\r\n      [{w:\"triangle\",v:0.3,a:0.03,d:0.7,s:0.3,r:0.2,},{w:\"sine\",v:12,t:7,f:1,d:0.5,s:1.7,g:1,}],\r\n      [{w:\"sine\",v:0.3,a:0.05,d:1,s:0.3,r:0.1,},{w:\"sawtooth\",v:22,t:6,d:0.06,s:0.3,g:1,}],\r\n      [{w:\"triangle\",v:0.3,a:0.05,d:11,r:0.3,},{w:\"triangle\",v:1,d:1,s:8,g:1,}],\r\n      /* 97-104 : FX */\r\n      [{w:\"sawtooth\",v:0.3,d:4,s:0.8,r:0.1,},{w:\"square\",v:1,t:2,f:8,a:1,d:1,s:1,r:0.1,g:1,}],\r\n      [{w:\"triangle\",v:0.3,d:1,s:0.5,t:0.8,a:0.2,p:1.25,q:0.2,},{w:\"sawtooth\",v:0.2,a:0.2,d:0.3,s:1,t:1.2,p:1.25,q:0.2,}],\r\n      [{w:\"sine\",v:0.3,d:1,s:0.3,},{w:\"square\",v:22,t:11,d:0.5,s:0.1,g:1,}],\r\n      [{w:\"sawtooth\",v:0.3,a:0.04,d:1,s:0.8,r:0.1,},{w:\"square\",v:1,t:0.5,d:1,s:2,g:1,}],\r\n      [{w:\"triangle\",v:0.3,d:1,s:0.3,},{w:\"sine\",v:22,t:6,d:0.6,s:0.05,g:1,}],\r\n      [{w:\"sine\",v:0.6,a:0.1,d:0.05,s:0.4,},{w:\"sine\",v:5,t:5,f:1,d:0.05,s:0.3,g:1,}],\r\n      [{w:\"sine\",a:0.1,d:0.05,s:0.4,v:0.8,},{w:\"sine\",v:5,t:5,f:1,d:0.05,s:0.3,g:1,}],\r\n      [{w:\"square\",v:0.3,a:0.1,d:0.1,s:0.4,},{w:\"square\",v:1,f:1,d:0.3,s:0.1,g:1,}],\r\n      /* 105-112 : Ethnic */\r\n      [{w:\"sawtooth\",v:0.3,d:0.5,r:0.5,},{w:\"sawtooth\",v:11,t:5,d:0.05,g:1,}],\r\n      [{w:\"square\",v:0.3,d:0.2,r:0.2,},{w:\"square\",v:7,t:3,d:0.05,g:1,}],\r\n      [{w:\"triangle\",d:0.2,r:0.2,},{w:\"square\",v:9,t:3,d:0.1,r:0.1,g:1,}],\r\n      [{w:\"triangle\",d:0.3,r:0.3,},{w:\"square\",v:6,t:3,d:1,r:1,g:1,}],\r\n      [{w:\"triangle\",v:0.4,d:0.2,r:0.2,},{w:\"square\",v:22,t:12,d:0.1,r:0.1,g:1,}],\r\n      [{w:\"sine\",v:0.25,a:0.02,d:0.05,s:0.8,},{w:\"square\",v:1,t:2,d:0.03,s:11,g:1,}],\r\n      [{w:\"sine\",v:0.3,a:0.05,d:11,},{w:\"square\",v:7,t:3,f:1,s:0.7,g:1,}],\r\n      [{w:\"square\",v:0.3,a:0.05,d:0.1,s:0.8,},{w:\"square\",v:4,d:0.1,s:1.1,g:1,}],\r\n      /* 113-120 : Percussive */\r\n      [{w:\"sine\",v:0.4,d:0.3,r:0.3,},{w:\"sine\",v:7,t:9,d:0.1,r:0.1,g:1,}],\r\n      [{w:\"sine\",v:0.7,d:0.1,r:0.1,},{w:\"sine\",v:22,t:7,d:0.05,g:1,}],\r\n      [{w:\"sine\",v:0.6,d:0.15,r:0.15,},{w:\"square\",v:11,t:3.2,d:0.1,r:0.1,g:1,}],\r\n      [{w:\"sine\",v:0.8,d:0.07,r:0.07,},{w:\"square\",v:11,t:7,r:0.01,g:1,}],\r\n      [{w:\"triangle\",v:0.7,t:0.5,d:0.2,r:0.2,p:0.95,},{w:\"n0\",v:9,g:1,d:0.2,r:0.2,}],\r\n      [{w:\"sine\",v:0.7,d:0.1,r:0.1,p:0.9,},{w:\"square\",v:14,t:2,d:0.005,r:0.005,g:1,}],\r\n      [{w:\"square\",d:0.15,r:0.15,p:0.5,},{w:\"square\",v:4,t:5,d:0.001,r:0.001,g:1,}],\r\n      [{w:\"n1\",v:0.3,a:1,s:1,d:0.15,r:0,t:0.5,}],\r\n      /* 121-128 : SE */\r\n      [{w:\"sine\",t:12.5,d:0,r:0,p:0.5,v:0.3,h:0.2,q:0.5,},{g:1,w:\"sine\",v:1,t:2,d:0,r:0,s:1,},{g:1,w:\"n0\",v:0.2,t:2,a:0.6,h:0,d:0.1,r:0.1,b:0,c:0,}],\r\n      [{w:\"n0\",v:0.2,a:0.05,h:0.02,d:0.02,r:0.02,}],\r\n      [{w:\"n0\",v:0.4,a:1,d:1,t:0.25,}],\r\n      [{w:\"sine\",v:0.3,a:0.1,d:1,s:0.5,},{w:\"sine\",v:4,t:0,f:1.5,d:1,s:1,r:0.1,g:1,},{g:1,w:\"sine\",v:4,t:0,f:2,a:0.6,h:0,d:0.1,s:1,r:0.1,b:0,c:0,}],\r\n      [{w:\"square\",v:0.3,t:0.25,d:11,s:1,},{w:\"square\",v:12,t:0,f:8,d:1,s:1,r:11,g:1,}],\r\n      [{w:\"n0\",v:0.4,t:0.5,a:1,d:11,s:1,r:0.5,},{w:\"square\",v:1,t:0,f:14,d:1,s:1,r:11,g:1,}],\r\n      [{w:\"sine\",t:0,f:1221,a:0.2,d:1,r:0.25,s:1,},{g:1,w:\"n0\",v:3,t:0.5,d:1,s:1,r:1,}],\r\n      [{w:\"sine\",d:0.4,r:0.4,p:0.1,t:2.5,v:1,},{w:\"n0\",v:12,t:2,d:1,r:1,g:1,}],\r\n    ],\r\n    program0:[\r\n// 1-8 : Piano\r\n      [{w:\"triangle\",v:.5,d:.7}],                   [{w:\"triangle\",v:.5,d:.7}],\r\n      [{w:\"triangle\",v:.5,d:.7}],                   [{w:\"triangle\",v:.5,d:.7}],\r\n      [{w:\"triangle\",v:.5,d:.7}],                   [{w:\"triangle\",v:.5,d:.7}],\r\n      [{w:\"sawtooth\",v:.3,d:.7}],                   [{w:\"sawtooth\",v:.3,d:.7}],\r\n/* 9-16 : Chromatic Perc*/\r\n      [{w:\"sine\",v:.5,d:.3,r:.3}],                  [{w:\"triangle\",v:.5,d:.3,r:.3}],\r\n      [{w:\"square\",v:.2,d:.3,r:.3}],                [{w:\"square\",v:.2,d:.3,r:.3}],\r\n      [{w:\"sine\",v:.5,d:.1,r:.1}],                  [{w:\"sine\",v:.5,d:.1,r:.1}],\r\n      [{w:\"square\",v:.2,d:1,r:1}],                  [{w:\"sawtooth\",v:.3,d:.7,r:.7}],\r\n/* 17-24 : Organ */\r\n      [{w:\"sine\",v:0.5,a:0.01,s:1}],                [{w:\"sine\",v:0.7,d:0.02,s:0.7}],\r\n      [{w:\"square\",v:.2,s:1}],                      [{w:\"triangle\",v:.5,a:.01,s:1}],\r\n      [{w:\"square\",v:.2,a:.02,s:1}],                [{w:\"square\",v:0.2,a:0.02,s:1}],\r\n      [{w:\"square\",v:0.2,a:0.02,s:1}],              [{w:\"square\",v:.2,a:.05,s:1}],\r\n/* 25-32 : Guitar */\r\n      [{w:\"triangle\",v:.5,d:.5}],                   [{w:\"square\",v:.2,d:.6}],\r\n      [{w:\"square\",v:.2,d:.6}],                     [{w:\"triangle\",v:.8,d:.6}],\r\n      [{w:\"triangle\",v:.4,d:.05}],                  [{w:\"square\",v:.2,d:1}],\r\n      [{w:\"square\",v:.2,d:1}],                      [{w:\"sine\",v:.4,d:.6}],\r\n/* 33-40 : Bass */\r\n      [{w:\"triangle\",v:.7,d:.4}],                   [{w:\"triangle\",v:.7,d:.7}],\r\n      [{w:\"triangle\",v:.7,d:.7}],                   [{w:\"triangle\",v:.7,d:.7}],\r\n      [{w:\"square\",v:.3,d:.2}],                     [{w:\"square\",v:.3,d:.2}],\r\n      [{w:\"square\",v:.3,d:.1,s:.2}],                [{w:\"sawtooth\",v:.4,d:.1,s:.2}],\r\n/* 41-48 : Strings */\r\n      [{w:\"sawtooth\",v:.2,a:.02,s:1}],              [{w:\"sawtooth\",v:.2,a:.02,s:1}],\r\n      [{w:\"sawtooth\",v:.2,a:.02,s:1}],              [{w:\"sawtooth\",v:.2,a:.02,s:1}],\r\n      [{w:\"sawtooth\",v:.2,a:.02,s:1}],              [{w:\"sawtooth\",v:.3,d:.1}],\r\n      [{w:\"sawtooth\",v:.3,d:.5,r:.5}],              [{w:\"triangle\",v:.6,d:.1,r:.1,h:0.03,p:0.8}],\r\n/* 49-56 : Ensamble */\r\n      [{w:\"sawtooth\",v:.2,a:.02,s:1}],              [{w:\"sawtooth\",v:.2,a:.02,s:1}],\r\n      [{w:\"sawtooth\",v:.2,a:.02,s:1}],              [{w:\"sawtooth\",v:.2,a:.02,s:1}],\r\n      [{w:\"triangle\",v:.3,a:.03,s:1}],              [{w:\"sine\",v:.3,a:.03,s:1}],\r\n      [{w:\"triangle\",v:.3,a:.05,s:1}],              [{w:\"sawtooth\",v:.5,a:.01,d:.1}],\r\n/* 57-64 : Brass */\r\n      [{w:\"square\",v:.3,a:.05,d:.2,s:.6}],          [{w:\"square\",v:.3,a:.05,d:.2,s:.6}],\r\n      [{w:\"square\",v:.3,a:.05,d:.2,s:.6}],          [{w:\"square\",v:0.2,a:.05,d:0.01,s:1}],\r\n      [{w:\"square\",v:.3,a:.05,s:1}],                [{w:\"square\",v:.3,s:.7}],\r\n      [{w:\"square\",v:.3,s:.7}],                     [{w:\"square\",v:.3,s:.7}],\r\n/* 65-72 : Reed */\r\n      [{w:\"square\",v:.3,a:.02,d:2}],                [{w:\"square\",v:.3,a:.02,d:2}],\r\n      [{w:\"square\",v:.3,a:.03,d:2}],                [{w:\"square\",v:.3,a:.04,d:2}],\r\n      [{w:\"square\",v:.3,a:.02,d:2}],                [{w:\"square\",v:.3,a:.05,d:2}],\r\n      [{w:\"square\",v:.3,a:.03,d:2}],                [{w:\"square\",v:.3,a:.03,d:2}],\r\n/* 73-80 : Pipe */\r\n      [{w:\"sine\",v:.7,a:.02,d:2}],                  [{w:\"sine\",v:.7,a:.02,d:2}],\r\n      [{w:\"sine\",v:.7,a:.02,d:2}],                  [{w:\"sine\",v:.7,a:.02,d:2}],\r\n      [{w:\"sine\",v:.7,a:.02,d:2}],                  [{w:\"sine\",v:.7,a:.02,d:2}],\r\n      [{w:\"sine\",v:.7,a:.02,d:2}],                  [{w:\"sine\",v:.7,a:.02,d:2}],\r\n/* 81-88 : SynthLead */\r\n      [{w:\"square\",v:.3,s:.7}],                     [{w:\"sawtooth\",v:.4,s:.7}],\r\n      [{w:\"triangle\",v:.5,s:.7}],                   [{w:\"sawtooth\",v:.4,s:.7}],\r\n      [{w:\"sawtooth\",v:.4,d:12}],                   [{w:\"sine\",v:.4,a:.06,d:12}],\r\n      [{w:\"sawtooth\",v:.4,d:12}],                   [{w:\"sawtooth\",v:.4,d:12}],\r\n/* 89-96 : SynthPad */\r\n      [{w:\"sawtooth\",v:.3,d:12}],                   [{w:\"triangle\",v:.5,d:12}],\r\n      [{w:\"square\",v:.3,d:12}],                     [{w:\"triangle\",v:.5,a:.08,d:11}],\r\n      [{w:\"sawtooth\",v:.5,a:.05,d:11}],             [{w:\"sawtooth\",v:.5,d:11}],\r\n      [{w:\"triangle\",v:.5,d:11}],                   [{w:\"triangle\",v:.5,d:11}],\r\n/* 97-104 : FX */\r\n      [{w:\"triangle\",v:.5,d:11}],                   [{w:\"triangle\",v:.5,d:11}],\r\n      [{w:\"square\",v:.3,d:11}],                     [{w:\"sawtooth\",v:0.5,a:0.04,d:11}],\r\n      [{w:\"sawtooth\",v:.5,d:11}],                   [{w:\"triangle\",v:.5,a:.8,d:11}],\r\n      [{w:\"triangle\",v:.5,d:11}],                   [{w:\"square\",v:.3,d:11}],\r\n/* 105-112 : Ethnic */\r\n      [{w:\"sawtooth\",v:.3,d:1,r:1}],                [{w:\"sawtooth\",v:.5,d:.3}],\r\n      [{w:\"sawtooth\",v:.5,d:.3,r:.3}],              [{w:\"sawtooth\",v:.5,d:.3,r:.3}],\r\n      [{w:\"square\",v:.3,d:.2,r:.2}],                [{w:\"square\",v:.3,a:.02,d:2}],\r\n      [{w:\"sawtooth\",v:.2,a:.02,d:.7}],             [{w:\"triangle\",v:.5,d:1}],\r\n/* 113-120 : Percussive */\r\n      [{w:\"sawtooth\",v:.3,d:.3,r:.3}],              [{w:\"sine\",v:.8,d:.1,r:.1}],\r\n      [{w:\"square\",v:.2,d:.1,r:.1,p:1.05}],         [{w:\"sine\",v:.8,d:.05,r:.05}],\r\n      [{w:\"triangle\",v:0.5,d:0.1,r:0.1,p:0.96}],    [{w:\"triangle\",v:0.5,d:0.1,r:0.1,p:0.97}],\r\n      [{w:\"square\",v:.3,d:.1,r:.1,}],               [{w:\"n1\",v:0.3,a:1,s:1,d:0.15,r:0,t:0.5,}],\r\n/* 121-128 : SE */\r\n      [{w:\"triangle\",v:0.5,d:0.03,t:0,f:1332,r:0.001,p:1.1}],\r\n      [{w:\"n0\",v:0.2,t:0.1,d:0.02,a:0.05,h:0.02,r:0.02}],\r\n      [{w:\"n0\",v:0.4,a:1,d:1,t:0.25,}],\r\n      [{w:\"sine\",v:0.3,a:0.8,d:1,t:0,f:1832}],\r\n      [{w:\"triangle\",d:0.5,t:0,f:444,s:1,}],\r\n      [{w:\"n0\",v:0.4,d:1,t:0,f:22,s:1,}],\r\n      [{w:\"n0\",v:0.5,a:0.2,d:11,t:0,f:44}],\r\n      [{w:\"n0\",v:0.5,t:0.25,d:0.4,r:0.4}],\r\n    ],\r\n    drummap1:[\r\n/*35*/  [{w:\"triangle\",t:0,f:70,v:1,d:0.05,h:0.03,p:0.9,q:0.1,},{w:\"n0\",g:1,t:6,v:17,r:0.01,h:0,p:0,}],\r\n        [{w:\"triangle\",t:0,f:88,v:1,d:0.05,h:0.03,p:0.5,q:0.1,},{w:\"n0\",g:1,t:5,v:42,r:0.01,h:0,p:0,}],\r\n        [{w:\"n0\",f:222,p:0,t:0,r:0.01,h:0,}],\r\n        [{w:\"triangle\",v:0.3,f:180,d:0.05,t:0,h:0.03,p:0.9,q:0.1,},{w:\"n0\",v:0.6,t:0,f:70,h:0.02,r:0.01,p:0,},{g:1,w:\"square\",v:2,t:0,f:360,r:0.01,b:0,c:0,}],\r\n        [{w:\"square\",f:1150,v:0.34,t:0,r:0.03,h:0.025,d:0.03,},{g:1,w:\"n0\",t:0,f:13,h:0.025,d:0.1,s:1,r:0.1,v:1,}],\r\n/*40*/  [{w:\"triangle\",f:200,v:1,d:0.06,t:0,r:0.06,},{w:\"n0\",g:1,t:0,f:400,v:12,r:0.02,d:0.02,}],\r\n        [{w:\"triangle\",f:100,v:0.9,d:0.12,h:0.02,p:0.5,t:0,r:0.12,},{g:1,w:\"n0\",v:5,t:0.4,h:0.015,d:0.005,r:0.005,}],\r\n        [{w:\"n1\",f:390,v:0.25,r:0.01,t:0,}],\r\n        [{w:\"triangle\",f:120,v:0.9,d:0.12,h:0.02,p:0.5,t:0,r:0.12,},{g:1,w:\"n0\",v:5,t:0.5,h:0.015,d:0.005,r:0.005,}],\r\n        [{w:\"n1\",v:0.25,f:390,r:0.03,t:0,h:0.005,d:0.03,}],\r\n/*45*/  [{w:\"triangle\",f:140,v:0.9,d:0.12,h:0.02,p:0.5,t:0,r:0.12,},{g:1,w:\"n0\",v:5,t:0.3,h:0.015,d:0.005,r:0.005,}],\r\n        [{w:\"n1\",v:0.25,f:390,t:0,d:0.2,r:0.2,},{w:\"n0\",v:0.3,t:0,c:0,f:440,h:0.005,d:0.05,}],\r\n        [{w:\"triangle\",f:155,v:0.9,d:0.12,h:0.02,p:0.5,t:0,r:0.12,},{g:1,w:\"n0\",v:5,t:0.3,h:0.015,d:0.005,r:0.005,}],\r\n        [{w:\"triangle\",f:180,v:0.9,d:0.12,h:0.02,p:0.5,t:0,r:0.12,},{g:1,w:\"n0\",v:5,t:0.3,h:0.015,d:0.005,r:0.005,}],\r\n        [{w:\"n1\",v:0.3,f:1200,d:0.2,r:0.2,h:0.05,t:0,},{w:\"n1\",t:0,v:1,d:0.1,r:0.1,p:1.2,f:440,}],\r\n/*50*/  [{w:\"triangle\",f:220,v:0.9,d:0.12,h:0.02,p:0.5,t:0,r:0.12,},{g:1,w:\"n0\",v:5,t:0.3,h:0.015,d:0.005,r:0.005,}],\r\n        [{w:\"n1\",f:500,v:0.15,d:0.4,r:0.4,h:0,t:0,},{w:\"n0\",v:0.1,t:0,r:0.01,f:440,}],\r\n        [{w:\"n1\",v:0.3,f:800,d:0.2,r:0.2,h:0.05,t:0,},{w:\"square\",t:0,v:1,d:0.1,r:0.1,p:0.1,f:220,g:1,}],\r\n        [{w:\"sine\",f:1651,v:0.15,d:0.2,r:0.2,h:0,t:0,},{w:\"sawtooth\",g:1,t:1.21,v:7.2,d:0.1,r:11,h:1,},{g:1,w:\"n0\",v:3.1,t:0.152,d:0.002,r:0.002,}],\r\n        null,\r\n/*55*/  [{w:\"n1\",v:.3,f:1200,d:0.2,r:0.2,h:0.05,t:0,},{w:\"n1\",t:0,v:1,d:0.1,r:0.1,p:1.2,f:440,}],\r\n        null,\r\n        [{w:\"n1\",v:0.3,f:555,d:0.25,r:0.25,h:0.05,t:0,},{w:\"n1\",t:0,v:1,d:0.1,r:0.1,f:440,a:0.005,h:0.02,}],\r\n        [{w:\"sawtooth\",f:776,v:0.2,d:0.3,t:0,r:0.3,},{g:1,w:\"n0\",v:2,t:0,f:776,a:0.005,h:0.02,d:0.1,s:1,r:0.1,c:0,},{g:11,w:\"sine\",v:0.1,t:0,f:22,d:0.3,r:0.3,b:0,c:0,}],\r\n        [{w:\"n1\",f:440,v:0.15,d:0.4,r:0.4,h:0,t:0,},{w:\"n0\",v:0.4,t:0,r:0.01,f:440,}],\r\n/*60*/  null,null,null,null,null,\r\n/*65*/  null,null,null,null,null,\r\n/*70*/  null,null,null,null,null,\r\n/*75*/  null,null,null,null,null,\r\n/*80*/  [{w:\"sine\",f:1720,v:0.3,d:0.02,t:0,r:0.02,},{w:\"square\",g:1,t:0,f:2876,v:6,d:0.2,s:1,r:0.2,}],\r\n        [{w:\"sine\",f:1720,v:0.3,d:0.25,t:0,r:0.25,},{w:\"square\",g:1,t:0,f:2876,v:6,d:0.2,s:1,r:0.2,}],\r\n    ],\r\n    drummap0:[\r\n/*35*/[{w:\"triangle\",t:0,f:110,v:1,d:0.05,h:0.02,p:0.1,}],\r\n      [{w:\"triangle\",t:0,f:150,v:0.8,d:0.1,p:0.1,h:0.02,r:0.01,}],\r\n      [{w:\"n0\",f:392,v:0.5,d:0.01,p:0,t:0,r:0.05}],\r\n      [{w:\"n0\",f:33,d:0.05,t:0,}],\r\n      [{w:\"n0\",f:100,v:0.7,d:0.03,t:0,r:0.03,h:0.02,}],\r\n/*40*/[{w:\"n0\",f:44,v:0.7,d:0.02,p:0.1,t:0,h:0.02,}],\r\n      [{w:\"triangle\",f:240,v:0.9,d:0.1,h:0.02,p:0.1,t:0,}],\r\n      [{w:\"n0\",f:440,v:0.2,r:0.01,t:0,}],\r\n      [{w:\"triangle\",f:270,v:0.9,d:0.1,h:0.02,p:0.1,t:0,}],\r\n      [{w:\"n0\",f:440,v:0.2,d:0.04,r:0.04,t:0,}],\r\n/*45*/[{w:\"triangle\",f:300,v:0.9,d:0.1,h:0.02,p:0.1,t:0,}],\r\n      [{w:\"n0\",f:440,v:0.2,d:0.1,r:0.1,h:0.02,t:0,}],\r\n      [{w:\"triangle\",f:320,v:0.9,d:0.1,h:0.02,p:0.1,t:0,}],\r\n      [{w:\"triangle\",f:360,v:0.9,d:0.1,h:0.02,p:0.1,t:0,}],\r\n      [{w:\"n0\",f:150,v:0.2,d:0.1,r:0.1,h:0.05,t:0,p:0.1,}],\r\n/*50*/[{w:\"triangle\",f:400,v:0.9,d:0.1,h:0.02,p:0.1,t:0,}],\r\n      [{w:\"n0\",f:150,v:0.2,d:0.1,r:0.01,h:0.05,t:0,p:0.1}],\r\n      [{w:\"n0\",f:150,v:0.2,d:0.1,r:0.01,h:0.05,t:0,p:0.1}],\r\n      [{w:\"n0\",f:440,v:0.3,d:0.1,p:0.9,t:0,r:0.1,}],\r\n      [{w:\"n0\",f:200,v:0.2,d:0.05,p:0.9,t:0,}],\r\n/*55*/[{w:\"n0\",f:440,v:0.3,d:0.12,p:0.9,t:0,}],\r\n      [{w:\"sine\",f:800,v:0.4,d:0.06,t:0,}],\r\n      [{w:\"n0\",f:150,v:0.2,d:0.1,r:0.01,h:0.05,t:0,p:0.1}],\r\n      [{w:\"n0\",f:33,v:0.3,d:0.2,p:0.9,t:0,}],\r\n      [{w:\"n0\",f:300,v:0.3,d:0.14,p:0.9,t:0,}],\r\n/*60*/[{w:\"sine\",f:200,d:0.06,t:0,}],\r\n      [{w:\"sine\",f:150,d:0.06,t:0,}],\r\n      [{w:\"sine\",f:300,t:0,}],\r\n      [{w:\"sine\",f:300,d:0.06,t:0,}],\r\n      [{w:\"sine\",f:250,d:0.06,t:0,}],\r\n/*65*/[{w:\"square\",f:300,v:.3,d:.06,p:.8,t:0,}],\r\n      [{w:\"square\",f:260,v:.3,d:.06,p:.8,t:0,}],\r\n      [{w:\"sine\",f:850,v:.5,d:.07,t:0,}],\r\n      [{w:\"sine\",f:790,v:.5,d:.07,t:0,}],\r\n      [{w:\"n0\",f:440,v:0.3,a:0.05,t:0,}],\r\n/*70*/[{w:\"n0\",f:440,v:0.3,a:0.05,t:0,}],\r\n      [{w:\"triangle\",f:1800,v:0.4,p:0.9,t:0,h:0.03,}],\r\n      [{w:\"triangle\",f:1800,v:0.3,p:0.9,t:0,h:0.13,}],\r\n      [{w:\"n0\",f:330,v:0.3,a:0.02,t:0,r:0.01,}],\r\n      [{w:\"n0\",f:330,v:0.3,a:0.02,t:0,h:0.04,r:0.01,}],\r\n/*75*/[{w:\"n0\",f:440,v:0.3,t:0,}],\r\n      [{w:\"sine\",f:800,t:0,}],\r\n      [{w:\"sine\",f:700,t:0,}],\r\n      [{w:\"n0\",f:330,v:0.3,t:0,}],\r\n      [{w:\"n0\",f:330,v:0.3,t:0,h:0.1,r:0.01,p:0.7,}],\r\n/*80*/[{w:\"sine\",t:0,f:1200,v:0.3,r:0.01,}],\r\n      [{w:\"sine\",t:0,f:1200,v:0.3,d:0.2,r:0.2,}],\r\n\r\n    ],\r\n    /**/\r\n    ready:function(){\r\n      var i;\r\n      this.pg=[]; this.vol=[]; this.ex=[]; this.bend=[]; this.rpnidx=[]; this.brange=[];\r\n      this.sustain=[]; this.notetab=[]; this.rhythm=[];\r\n      this.masterTuningC=0; this.masterTuningF=0; this.tuningC=[]; this.tuningF=[]; this.scaleTuning=[];\r\n      this.maxTick=0, this.playTick=0, this.playing=0; this.releaseRatio=3.5;\r\n      for(var i=0;i<16;++i){\r\n        this.pg[i]=0; this.vol[i]=3*100*100/(127*127);\r\n        this.bend[i]=0; this.brange[i]=0x100;\r\n        this.tuningC[i]=0; this.tuningF[i]=0;\r\n        this.scaleTuning[i]=[0,0,0,0,0,0,0,0,0,0,0,0];\r\n        this.rhythm[i]=0;\r\n      }\r\n      this.rhythm[9]=1;\r\n      /**/\r\n      this.preroll=0.2;\r\n      this.relcnt=0;\r\n      /* istanbul ignore next */\r\n      setInterval(\r\n        function(){\r\n          if(++this.relcnt>=3){\r\n            this.relcnt=0;\r\n            for(var i=this.notetab.length-1;i>=0;--i){\r\n              var nt=this.notetab[i];\r\n              if(this.actx.currentTime>nt.e){\r\n                this._pruneNote(nt);\r\n                this.notetab.splice(i,1);\r\n              }\r\n            }\r\n            /**/\r\n          }\r\n          if(this.playing && this.song.ev.length>0){\r\n            var e=this.song.ev[this.playIndex];\r\n            while(this.actx.currentTime+this.preroll>this.playTime){\r\n              if(e.m[0]==0xff51){\r\n                this.song.tempo=e.m[1];\r\n                this.tick2Time=4*60/this.song.tempo/this.song.timebase;\r\n              }\r\n              else\r\n                this.send(e.m,this.playTime);\r\n              ++this.playIndex;\r\n              if(this.playIndex>=this.song.ev.length){\r\n                if(this.loop){\r\n                  e=this.song.ev[this.playIndex=0];\r\n                  this.playTick=e.t;\r\n                }\r\n                else{\r\n                  this.playTick=this.maxTick;\r\n                  this.playing=0;\r\n                  break;\r\n                }\r\n              }\r\n              else{\r\n                e=this.song.ev[this.playIndex];\r\n                this.playTime+=(e.t-this.playTick)*this.tick2Time;\r\n                this.playTick=e.t;\r\n              }\r\n            }\r\n          }\r\n        }.bind(this),60\r\n      );\r\n      //if(this.internalcontext){\r\n      //  window.AudioContext = window.AudioContext || window.webkitAudioContext;\r\n      //  this.setAudioContext(new AudioContext());\r\n      //}\r\n      this.isReady=1;\r\n    },\r\n    setMasterVol:function(v){\r\n      if(v!=undefined)\r\n        this.masterVol=v;\r\n      if(this.out)\r\n        this.out.gain.value=this.masterVol;\r\n    },\r\n    setReverbLev:function(v){\r\n      if(v!=undefined)\r\n        this.reverbLev=v;\r\n      var r=parseFloat(this.reverbLev);\r\n      if(this.rev&&!isNaN(r))\r\n        this.rev.gain.value=r*8;\r\n    },\r\n    setLoop:function(f){\r\n      this.loop=f;\r\n    },\r\n    setVoices:function(v){\r\n      this.voices=v;\r\n    },\r\n    reset:function(){\r\n      for(var i=0;i<16;++i){\r\n        this.setProgram(i,0);\r\n        this.setBendRange(i,0x100);\r\n        this.setModulation(i,0);\r\n        this.setChVol(i,100);\r\n        this.setPan(i,64);\r\n        this.resetAllControllers(i);\r\n        this.allSoundOff(i);\r\n        this.rhythm[i]=0;\r\n        this.tuningC[i]=0;\r\n        this.tuningF[i]=0;\r\n        this.scaleTuning[i]=[0,0,0,0,0,0,0,0,0,0,0,0];\r\n      }\r\n      this.masterTuningC=0;\r\n      this.masterTuningF=0;\r\n      this.rhythm[9]=1;\r\n    },\r\n    setQuality:function(q){\r\n      var i,k,n,p;\r\n      if(q!=undefined)\r\n        this.quality=q;\r\n      for(i=0;i<128;++i)\r\n        this.setTimbre(0,i,this.program0[i]);\r\n      for(i=0;i<this.drummap0.length;++i)\r\n        this.setTimbre(1,i+35,this.drummap0[i]);\r\n      if(this.quality){\r\n        for(i=0;i<this.program1.length;++i)\r\n          this.setTimbre(0,i,this.program1[i]);\r\n        for(i=0;i<this.drummap.length;++i){\r\n          if(this.drummap1[i])\r\n            this.setTimbre(1,i+35,this.drummap1[i]);\r\n        }\r\n      }\r\n    },\r\n    setTimbre:function(m,n,p){\r\n      var defp={g:0,w:\"sine\",t:1,f:0,v:0.5,a:0,h:0.01,d:0.01,s:0,r:0.05,p:1,q:1,k:0};\r\n      function filldef(p){\r\n        for(n=0;n<p.length;++n){\r\n          for(k in defp){\r\n            if(!p[n].hasOwnProperty(k) || typeof(p[n][k])==\"undefined\")\r\n              p[n][k]=defp[k];\r\n          }\r\n        }\r\n        return p;\r\n      }\r\n      if(m && n>=35 && n<=81)\r\n        this.drummap[n-35] = filldef(p);\r\n      if(m==0 && n>=0 && n<=127)\r\n        this.program[n] = filldef(p);\r\n    },\r\n    _pruneNote:function(nt){\r\n      for(var k=nt.o.length-1;k>=0;--k){\r\n        if(nt.o[k].frequency){\r\n          nt.o[k].frequency.cancelScheduledValues(0);\r\n        }\r\n        else{\r\n          nt.o[k].playbackRate.cancelScheduledValues(0);\r\n        }\r\n        nt.g[k].gain.cancelScheduledValues(0);\r\n\r\n        nt.o[k].stop();\r\n        if(nt.o[k].detune) {\r\n          try {\r\n            this.chmod[nt.ch].disconnect(nt.o[k].detune);\r\n          } catch (c) {}\r\n        }\r\n        nt.g[k].gain.value = 0;\r\n      }\r\n    },\r\n    _limitVoices:function(ch,n){\r\n      this.notetab.sort(function(n1,n2){\r\n        if(n1.f!=n2.f) return n1.f-n2.f;\r\n        if(n1.e!=n2.e) return n2.e-n1.e;\r\n        return n2.t-n1.t;\r\n      });\r\n      for(var i=this.notetab.length-1;i>=0;--i){\r\n        var nt=this.notetab[i];\r\n        if(this.actx.currentTime>nt.e || i>=(this.voices-1)){\r\n          this._pruneNote(nt);\r\n          this.notetab.splice(i,1);\r\n        }\r\n      }\r\n    },\r\n    _note:function(t,ch,n,v,p){\r\n      var out,sc,pn;\r\n      var o=[],g=[],vp=[],fp=[],r=[];\r\n      var f=440*Math.pow(2,(n-69 + this.masterTuningC + this.tuningC[ch] + (this.masterTuningF + this.tuningF[ch]/8192 + this.scaleTuning[ch][n%12]))/12);\r\n      this._limitVoices(ch,n);\r\n      for(var i=0;i<p.length;++i){\r\n        pn=p[i];\r\n        var dt=t+pn.a+pn.h;\r\n        if(pn.g==0)\r\n          out=this.chvol[ch], sc=v*v/16384, fp[i]=f*pn.t+pn.f;\r\n        else if(pn.g>10)\r\n          out=g[pn.g-11].gain, sc=1, fp[i]=fp[pn.g-11]*pn.t+pn.f;\r\n        else if(o[pn.g-1].frequency)\r\n          out=o[pn.g-1].frequency, sc=fp[pn.g-1], fp[i]=fp[pn.g-1]*pn.t+pn.f;\r\n        else\r\n          out=o[pn.g-1].playbackRate, sc=fp[pn.g-1]/440, fp[i]=fp[pn.g-1]*pn.t+pn.f;\r\n        switch(pn.w[0]){\r\n        case \"n\":\r\n          o[i]=this.actx.createBufferSource();\r\n          o[i].buffer=this.noiseBuf[pn.w];\r\n          o[i].loop=true;\r\n          o[i].playbackRate.value=fp[i]/440;\r\n          if(pn.p!=1)\r\n            this._setParamTarget(o[i].playbackRate,fp[i]/440*pn.p,t,pn.q);\r\n          if (o[i].detune) {\r\n            this.chmod[ch].connect(o[i].detune);\r\n            o[i].detune.value=this.bend[ch];\r\n          }\r\n          break;\r\n        default:\r\n          o[i]=this.actx.createOscillator();\r\n          o[i].frequency.value=fp[i];\r\n          if(pn.p!=1)\r\n            this._setParamTarget(o[i].frequency,fp[i]*pn.p,t,pn.q);\r\n          if(pn.w[0]==\"w\")\r\n            o[i].setPeriodicWave(this.wave[pn.w]);\r\n          else\r\n            o[i].type=pn.w;\r\n          if (o[i].detune) {\r\n            this.chmod[ch].connect(o[i].detune);\r\n            o[i].detune.value=this.bend[ch];\r\n          }\r\n          break;\r\n        }\r\n        g[i]=this.actx.createGain();\r\n        r[i]=pn.r;\r\n        o[i].connect(g[i]); g[i].connect(out);\r\n        vp[i]=sc*pn.v;\r\n        if(pn.k)\r\n          vp[i]*=Math.pow(2,(n-60)/12*pn.k);\r\n        if(pn.a){\r\n          g[i].gain.value=0;\r\n          g[i].gain.setValueAtTime(0,t);\r\n          g[i].gain.linearRampToValueAtTime(vp[i],t+pn.a);\r\n        }\r\n        else\r\n          g[i].gain.setValueAtTime(vp[i],t);\r\n        this._setParamTarget(g[i].gain,pn.s*vp[i],dt,pn.d);\r\n        o[i].start(t);\r\n        if(this.rhythm[ch]){\r\n          // difference between '()=>' and 'function()': need to pack parameters\r\n          o[i].onended = function(a, b) { return function() { if (b) a.disconnect(b); }; }(this.chmod[ch], o[i].detune);\r\n          o[i].stop(t+p[0].d*this.releaseRatio);\r\n        }\r\n      }\r\n      if(!this.rhythm[ch])\r\n        this.notetab.push({t:t,e:99999,ch:ch,n:n,o:o,g:g,t2:t+pn.a,v:vp,r:r,f:0});\r\n    },\r\n    _setParamTarget:function(p,v,t,d){\r\n      if(d!=0)\r\n        p.setTargetAtTime(v,t,d);\r\n      else\r\n        p.setValueAtTime(v,t);\r\n    },\r\n    _releaseNote:function(nt,t){\r\n      if(nt.ch!=9){\r\n        for(var k=nt.g.length-1;k>=0;--k){\r\n          nt.g[k].gain.cancelScheduledValues(t);\r\n          if(t==nt.t2)\r\n            nt.g[k].gain.setValueAtTime(nt.v[k],t);\r\n          else if(t<nt.t2)\r\n            nt.g[k].gain.setValueAtTime(nt.v[k]*(t-nt.t)/(nt.t2-nt.t),t);\r\n          this._setParamTarget(nt.g[k].gain,0,t,nt.r[k]);\r\n        }\r\n      }\r\n      nt.e=t+nt.r[0]*this.releaseRatio;\r\n      nt.f=1;\r\n    },\r\n    setModulation:function(ch,v,t){\r\n      this.chmod[ch].gain.setValueAtTime(v*100/127,this._tsConv(t));\r\n    },\r\n    setChVol:function(ch,v,t){\r\n      this.vol[ch]=3*v*v/(127*127);\r\n      this.chvol[ch].gain.setValueAtTime(this.vol[ch]*this.ex[ch],this._tsConv(t));\r\n    },\r\n    setPan:function(ch,v,t){\r\n      if(this.chpan[ch])\r\n        this.chpan[ch].pan.setValueAtTime((v-64)/64,this._tsConv(t));\r\n    },\r\n    setExpression:function(ch,v,t){\r\n      this.ex[ch]=v*v/(127*127);\r\n      this.chvol[ch].gain.setValueAtTime(this.vol[ch]*this.ex[ch],this._tsConv(t));\r\n    },\r\n    setSustain:function(ch,v,t){\r\n      this.sustain[ch]=v;\r\n      t=this._tsConv(t);\r\n      if(v<64){\r\n        for(var i=this.notetab.length-1;i>=0;--i){\r\n          var nt=this.notetab[i];\r\n          if(t>=nt.t && nt.ch==ch && nt.f==1)\r\n            this._releaseNote(nt,t);\r\n        }\r\n      }\r\n    },\r\n    allSoundOff:function(ch){\r\n      for(var i=this.notetab.length-1;i>=0;--i){\r\n        var nt=this.notetab[i];\r\n        if(nt.ch==ch){\r\n          this._pruneNote(nt);\r\n          this.notetab.splice(i,1);\r\n        }\r\n      }\r\n    },\r\n    resetAllControllers:function(ch){\r\n      this.bend[ch]=0; this.ex[ch]=1.0;\r\n      this.rpnidx[ch]=0x3fff; this.sustain[ch]=0;\r\n      if(this.chvol[ch]){\r\n        this.chvol[ch].gain.value=this.vol[ch]*this.ex[ch];\r\n        this.chmod[ch].gain.value=0;\r\n      }\r\n    },\r\n    setBendRange:function(ch,v){\r\n      this.brange[ch]=v;\r\n    },\r\n    setProgram:function(ch,v){\r\n      if(this.debug)\r\n        console.log(\"Pg(\"+ch+\")=\"+v);\r\n      this.pg[ch]=v;\r\n    },\r\n    setBend:function(ch,v,t){\r\n      t=this._tsConv(t);\r\n      var br=this.brange[ch]*100/127;\r\n      this.bend[ch]=(v-8192)*br/8192;\r\n      for(var i=this.notetab.length-1;i>=0;--i){\r\n        var nt=this.notetab[i];\r\n        if(nt.ch==ch){\r\n          for(var k=nt.o.length-1;k>=0;--k){\r\n            if(nt.o[k].frequency)\r\n              if (nt.o[k].detune) nt.o[k].detune.setValueAtTime(this.bend[ch],t);\r\n          }\r\n        }\r\n      }\r\n    },\r\n    noteOn:function(ch,n,v,t){\r\n      if(v==0){\r\n        this.noteOff(ch,n,t);\r\n        return;\r\n      }\r\n      t=this._tsConv(t);\r\n      if(this.rhythm[ch]){\r\n        if(n>=35&&n<=81)\r\n          this._note(t,ch,n,v,this.drummap[n-35]);\r\n        return;\r\n      }\r\n      this._note(t,ch,n,v,this.program[this.pg[ch]]);\r\n    },\r\n    noteOff:function(ch,n,t){\r\n      if(this.rhythm[ch])\r\n        return;\r\n      t=this._tsConv(t);\r\n      for(var i=this.notetab.length-1;i>=0;--i){\r\n        var nt=this.notetab[i];\r\n        if(t>=nt.t && nt.ch==ch && nt.n==n && nt.f==0){\r\n          nt.f=1;\r\n          if(this.sustain[ch]<64)\r\n            this._releaseNote(nt,t);\r\n        }\r\n      }\r\n    },\r\n    _tsConv:function(t){\r\n      if(t==undefined||t<=0){\r\n        t=0;\r\n        if(this.actx)\r\n          t=this.actx.currentTime;\r\n      }\r\n      else{\r\n        if(this.tsmode)\r\n          t=t*.001-this.tsdiff;\r\n      }\r\n      return t;\r\n    },\r\n    setTsMode:function(tsmode){\r\n      this.tsmode=tsmode;\r\n    },\r\n    send:function(msg,t){    /* send midi message */\r\n      var ch=msg[0]&0xf;\r\n      var cmd=msg[0]&~0xf;\r\n      if(cmd<0x80||cmd>=0x100)\r\n        return;\r\n      if(this.audioContext.state==\"suspended\"){\r\n        this.audioContext.resume();\r\n      }\r\n      switch(cmd){\r\n      case 0xb0:  /* ctl change */\r\n        switch(msg[1]){\r\n        case 1:  this.setModulation(ch,msg[2],t); break;\r\n        case 7:  this.setChVol(ch,msg[2],t); break;\r\n        case 10: this.setPan(ch,msg[2],t); break;\r\n        case 11: this.setExpression(ch,msg[2],t); break;\r\n        case 64: this.setSustain(ch,msg[2],t); break;\r\n        case 98:  case 99: this.rpnidx[ch]=0x3fff; break; /* nrpn lsb/msb */\r\n        case 100: this.rpnidx[ch]=(this.rpnidx[ch]&0x3f80)|msg[2]; break; /* rpn lsb */\r\n        case 101: this.rpnidx[ch]=(this.rpnidx[ch]&0x7f)|(msg[2]<<7); break; /* rpn msb */\r\n        case 6:  /* data entry msb */\r\n          switch (this.rpnidx[ch]) {\r\n            case 0:\r\n              this.brange[ch]=(msg[2]<<7)+(this.brange[ch]&0x7f);\r\n              break;\r\n            case 1:\r\n              this.tuningF[ch]=(msg[2]<<7)+((this.tuningF[ch]+0x2000)&0x7f)-0x2000;\r\n              break;\r\n            case 2:\r\n              this.tuningC[ch]=msg[2]-0x40;\r\n              break;\r\n          }\r\n          break;\r\n        case 38:  /* data entry lsb */\r\n          switch (this.rpnidx[ch]) {\r\n            case 0:\r\n              this.brange[ch]=(this.brange[ch]&0x3f80)|msg[2];\r\n              break;\r\n            case 1:\r\n              this.tuningF[ch]=(((this.tuningF[ch]+0x2000)&0x3f80)|msg[2])-0x2000;\r\n              break;\r\n            case 2: break;\r\n          }\r\n          break;\r\n        case 120:  /* all sound off */\r\n        case 123:  /* all notes off */\r\n        case 124: case 125: case 126: case 127: /* omni off/on mono/poly */\r\n          this.allSoundOff(ch);\r\n          break;\r\n        case 121: this.resetAllControllers(ch); break;\r\n        }\r\n        break;\r\n      case 0xc0: this.setProgram(ch,msg[1]); break;\r\n      case 0xe0: this.setBend(ch,(msg[1]+(msg[2]<<7)),t); break;\r\n      case 0x90: this.noteOn(ch,msg[1],msg[2],t); break;\r\n      case 0x80: this.noteOff(ch,msg[1],t); break;\r\n      case 0xf0:\r\n        if (msg[0] == 0xff) {\r\n          this.reset();\r\n          break;\r\n        }\r\n        if(msg[0]!=254 && this.debug){\r\n          var ds=[];\r\n          for(var ii=0;ii<msg.length;++ii)\r\n            ds.push(msg[ii].toString(16));\r\n        }\r\n        if (msg[0]==0xf0) {\r\n          if (msg[1]==0x7f && msg[3]==4) {\r\n            if (msg[4]==3 && msg.length >= 8) { // Master Fine Tuning\r\n              this.masterTuningF = (msg[6]*0x80 + msg[5] - 8192) / 8192;\r\n            }\r\n            if (msg[4]==4 && msg.length >= 8) { // Master Coarse Tuning\r\n              this.masterTuningC = msg[6]-0x40;\r\n            }\r\n          }\r\n          if (msg[1]==0x41 && msg[3]==0x42 && msg[4]==0x12 &&msg[5]==0x40) { // GS\r\n            if ((msg[6]&0xf0)==0x10 && msg.length==11) {\r\n              var c=[9,0,1,2,3,4,5,6,7,8,10,11,12,13,14,15][msg[6]&0xf];\r\n              if (msg[7]==0x15) {\r\n                this.rhythm[c]=msg[8];\r\n              }\r\n              else if (msg[7] >= 0x40 && msg[7] <= 0x4b) { // Scale Tuning\r\n                this.scaleTuning[c][msg[7]-0x40] = (msg[8]-0x40) / 100;\r\n              }\r\n            }\r\n            else if (msg[6]==0) {\r\n              if (msg[7]==0 && msg.length==14) { // Master Tuning\r\n                this.masterTuningF = (msg[8]*0x1000 + msg[9]*0x100 + msg[10]*0x10 + msg[11] - 0x400) / 1000;\r\n              }\r\n              else if (msg[7]==5 && msg.length==11) { // Master Transpose\r\n                this.masterTuningC = msg[8]-0x40;\r\n              }\r\n            }\r\n          }\r\n        }\r\n        break;\r\n      }\r\n    },\r\n    _createWave:function(w){\r\n      var imag=new Float32Array(w.length);\r\n      var real=new Float32Array(w.length);\r\n      for(var i=1;i<w.length;++i)\r\n        imag[i]=w[i];\r\n      return this.actx.createPeriodicWave(real,imag);\r\n    },\r\n    getAudioContext:function(){\r\n      return this.actx;\r\n    },\r\n    setAudioContext:function(actx,dest){\r\n      this.audioContext=this.actx=actx;\r\n      this.dest=dest;\r\n      if(!dest)\r\n        this.dest=actx.destination;\r\n      this.tsdiff=performance.now()*.001-this.actx.currentTime;\r\n      this.out=this.actx.createGain();\r\n      this.comp=this.actx.createDynamicsCompressor();\r\n      var blen=this.actx.sampleRate*.5|0;\r\n      this.convBuf=this.actx.createBuffer(2,blen,this.actx.sampleRate);\r\n      this.noiseBuf={};\r\n      this.noiseBuf.n0=this.actx.createBuffer(1,blen,this.actx.sampleRate);\r\n      this.noiseBuf.n1=this.actx.createBuffer(1,blen,this.actx.sampleRate);\r\n      var d1=this.convBuf.getChannelData(0);\r\n      var d2=this.convBuf.getChannelData(1);\r\n      var dn=this.noiseBuf.n0.getChannelData(0);\r\n      var dr=this.noiseBuf.n1.getChannelData(0);\r\n      for(var i=0;i<blen;++i){\r\n        if(i/blen<Math.random()){\r\n          d1[i]=Math.exp(-3*i/blen)*(Math.random()-.5)*.5;\r\n          d2[i]=Math.exp(-3*i/blen)*(Math.random()-.5)*.5;\r\n        }\r\n        dn[i]=Math.random()*2-1;\r\n      }\r\n      for(var jj=0;jj<64;++jj){\r\n        var r1=Math.random()*10+1;\r\n        var r2=Math.random()*10+1;\r\n        for(i=0;i<blen;++i){\r\n          var dd=Math.sin((i/blen)*2*Math.PI*440*r1)*Math.sin((i/blen)*2*Math.PI*440*r2);\r\n          dr[i]+=dd/8;\r\n        }\r\n      }\r\n      if(this.useReverb){\r\n        this.conv=this.actx.createConvolver();\r\n        this.conv.buffer=this.convBuf;\r\n        this.rev=this.actx.createGain();\r\n        this.rev.gain.value=this.reverbLev;\r\n        this.out.connect(this.conv);\r\n        this.conv.connect(this.rev);\r\n        this.rev.connect(this.comp);\r\n      }\r\n      this.setMasterVol();\r\n      this.out.connect(this.comp);\r\n      this.comp.connect(this.dest);\r\n      this.chvol=[]; this.chmod=[]; this.chpan=[];\r\n      this.wave={\"w9999\":this._createWave(\"w9999\")};\r\n      this.lfo=this.actx.createOscillator();\r\n      this.lfo.frequency.value=5;\r\n      this.lfo.start(0);\r\n      for(i=0;i<16;++i){\r\n        this.chvol[i]=this.actx.createGain();\r\n        if(this.actx.createStereoPanner){\r\n          this.chpan[i]=this.actx.createStereoPanner();\r\n          this.chvol[i].connect(this.chpan[i]);\r\n          this.chpan[i].connect(this.out);\r\n        }\r\n        else{\r\n          this.chpan[i]=null;\r\n          this.chvol[i].connect(this.out);\r\n        }\r\n        this.chmod[i]=this.actx.createGain();\r\n        this.lfo.connect(this.chmod[i]);\r\n        this.pg[i]=0;\r\n        this.resetAllControllers(i);\r\n      }\r\n      this.setReverbLev();\r\n      this.reset();\r\n    },\r\n  }\r\n/* webaudio-tinysynth coreobject */\r\n\r\n;\r\n  for(var k in this.sy.properties)\r\n    this[k]=this.sy.properties[k].value;\r\n  this.setQuality(1);\r\n  if(opt){\r\n    if(opt.useReverb!=undefined)\r\n      this.useReverb=opt.useReverb;\r\n    if(opt.quality!=undefined)\r\n      this.setQuality(opt.quality);\r\n    if(opt.voices!=undefined)\r\n      this.setVoices(opt.voices);\r\n  }\r\n  this.ready();\r\n}\r\n\r\n  function _clone(obj, key, val) {\r\n    if (typeof key == 'undefined') return _clone(obj, [], []);\r\n    if (obj instanceof Object) {\r\n      for (var i = 0; i < key.length; i++) if (key[i] === obj) return val[i];\r\n      var ret;\r\n      if (obj instanceof Array) ret = []; else ret = {};\r\n      key.push(obj); val.push(ret);\r\n      for(var k in obj) if (obj.hasOwnProperty(k)) ret[k] = _clone(obj[k], key, val);\r\n      return ret;\r\n    }\r\n    return obj;\r\n  }\r\n\r\n  var _ac;\r\n  function initAC() {\r\n    if (!_ac) _ac = JZZ.lib.getAudioContext();\r\n    return !!_ac;\r\n  }\r\n\r\n  var _synth = {};\r\n  var _noname = [];\r\n  var _engine = {};\r\n\r\n  _engine._info = function(name) {\r\n    if (!name) name = 'JZZ.synth.Tiny';\r\n    return {\r\n      type: 'Web Audio',\r\n      name: name,\r\n      manufacturer: 'virtual',\r\n      version: _version\r\n    };\r\n  };\r\n\r\n  _engine._openOut = function(port, name) {\r\n    initAC();\r\n    /* istanbul ignore next */\r\n    if (!_ac) {\r\n      port._crash('AudioContext not supported');\r\n      return;\r\n    }\r\n    var synth;\r\n    if (typeof name !== 'undefined') {\r\n      name = '' + name;\r\n      if (!_synth[name]) _synth[name] = new WebAudioTinySynth();\r\n      synth = _synth[name];\r\n    }\r\n    else {\r\n      synth = new WebAudioTinySynth();\r\n      _noname.push(synth);\r\n    }\r\n    synth.setAudioContext(_ac);\r\n    port.plug = function(dest) {\r\n      if (dest && (dest.context instanceof AudioContext || dest.context instanceof webkitAudioContext)) {\r\n        synth.setAudioContext(dest.context, dest);\r\n      }\r\n    };\r\n    port.setSynth = function(n, s, k) { synth.setTimbre(!!k, n, _clone(s)); };\r\n    port.getSynth = function(n, k) { return k ? _clone(synth.drummap[n - 35]) : _clone(synth.program[n]); };\r\n    port._info = _engine._info(name);\r\n    port._receive = function(msg) { synth.send(msg); };\r\n    port._resume();\r\n  };\r\n\r\n  JZZ.synth.Tiny = function(name) {\r\n    return JZZ.lib.openMidiOut(name, _engine);\r\n  };\r\n\r\n  JZZ.synth.Tiny.register = function(name) {\r\n    return initAC() ? JZZ.lib.registerMidiOut(name, _engine) : false;\r\n  };\r\n\r\n  JZZ.synth.Tiny.version = function() { return _version; };\r\n\r\n});","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","(function(global, factory) {\r\n  /* istanbul ignore next */\r\n  if (typeof exports === 'object' && typeof module !== 'undefined') {\r\n    module.exports = factory;\r\n  }\r\n  else if (typeof define === 'function' && define.amd) {\r\n    define('JZZ.midi.SMF', ['JZZ'], factory);\r\n  }\r\n  else {\r\n    factory(JZZ);\r\n  }\r\n})(this, function(JZZ) {\r\n\r\n  /* istanbul ignore next */\r\n  if (JZZ.MIDI.SMF) return;\r\n\r\n  var _ver = '1.6.9';\r\n\r\n  var _now = JZZ.lib.now;\r\n  function _error(s) { throw new Error(s); }\r\n\r\n  function _num(n) {\r\n    var s = '';\r\n    if (n > 0x1fffff) s += String.fromCharCode(((n >> 21) & 0x7f) + 0x80);\r\n    if (n > 0x3fff) s += String.fromCharCode(((n >> 14) & 0x7f) + 0x80);\r\n    if (n > 0x7f) s += String.fromCharCode(((n >> 7) & 0x7f) + 0x80);\r\n    s += String.fromCharCode(n & 0x7f);\r\n    return s;\r\n  }\r\n  function _num2(n) {\r\n    return String.fromCharCode(n >> 8) + String.fromCharCode(n & 0xff);\r\n  }\r\n  function _num4(n) {\r\n    return String.fromCharCode((n >> 24) & 0xff) + String.fromCharCode((n >> 16) & 0xff) + String.fromCharCode((n >> 8) & 0xff) + String.fromCharCode(n & 0xff);\r\n  }\r\n  function _num4le(n) {\r\n    return String.fromCharCode(n & 0xff) + String.fromCharCode((n >> 8) & 0xff) + String.fromCharCode((n >> 16) & 0xff) + String.fromCharCode((n >> 24) & 0xff);\r\n  }\r\n  function _u8a2s(u) {\r\n    var s = '';\r\n    var len = u.byteLength;\r\n    // String.fromCharCode.apply(null, u) throws \"RangeError: Maximum call stack size exceeded\" on large files\r\n    for (var i = 0; i < len; i++) s += String.fromCharCode(u[i]);\r\n    return s;\r\n  }\r\n\r\n  function SMF() {\r\n    var self = this;\r\n    if (!(self instanceof SMF)) {\r\n      self = new SMF();\r\n      delete self.ppqn;\r\n    }\r\n    var type = 1;\r\n    var ppqn = 96;\r\n    var fps;\r\n    var ppf;\r\n    if (arguments.length == 1) {\r\n      if (arguments[0] instanceof SMF) {\r\n        return arguments[0].copy();\r\n      }\r\n      if (arguments[0] instanceof SYX) {\r\n        self.type = 0;\r\n        self.ppqn = ppqn;\r\n        self.push(new MTrk());\r\n        for (var i = 0; i < arguments[0].length; i++) self[0].add(0, arguments[0][i]);\r\n        return self;\r\n      }\r\n      var data;\r\n      try {\r\n        if (arguments[0] instanceof ArrayBuffer) {\r\n          data = _u8a2s(new Uint8Array(arguments[0]));\r\n        }\r\n      }\r\n      catch (err) {/**/}\r\n      try {\r\n        if (arguments[0] instanceof Uint8Array || arguments[0] instanceof Int8Array) {\r\n          data = _u8a2s(new Uint8Array(arguments[0]));\r\n        }\r\n      }\r\n      catch (err) {/**/}\r\n      try {\r\n        /* istanbul ignore next */\r\n        if (arguments[0] instanceof Buffer) {\r\n          data = arguments[0].toString('binary');\r\n        }\r\n      }\r\n      catch (err) {/**/}\r\n      if (typeof arguments[0] == 'string' && arguments[0] != '0' && arguments[0] != '1' && arguments[0] != '2') {\r\n        data = arguments[0];\r\n      }\r\n      if (data) {\r\n        self.load(data);\r\n        return self;\r\n      }\r\n      type = parseInt(arguments[0]);\r\n    }\r\n    else if (arguments.length == 2) {\r\n      type = parseInt(arguments[0]);\r\n      ppqn = parseInt(arguments[1]);\r\n    }\r\n    else if (arguments.length == 3) {\r\n      type = parseInt(arguments[0]);\r\n      fps = parseInt(arguments[1]);\r\n      ppf = parseInt(arguments[2]);\r\n    }\r\n    else if (arguments.length) _error('Invalid parameters');\r\n    if (isNaN(type) || type < 0 || type > 2) _error('Invalid parameters');\r\n    self.type = type;\r\n    if (typeof fps == 'undefined') {\r\n      if (isNaN(ppqn) || ppqn < 0 || ppqn > 0xffff) _error('Invalid parameters');\r\n      self.ppqn = ppqn;\r\n    }\r\n    else {\r\n      if (fps != 24 && fps != 25 && fps != 29 && fps != 30) _error('Invalid parameters');\r\n      if (isNaN(ppf) || ppf < 0 || ppf > 0xff) _error('Invalid parameters');\r\n      self.fps = fps;\r\n      self.ppf = ppf;\r\n    }\r\n    return self;\r\n  }\r\n  SMF.version = function() { return _ver; };\r\n\r\n  SMF.prototype = [];\r\n  SMF.prototype.constructor = SMF;\r\n  SMF.prototype.copy = function() {\r\n    var smf = new SMF();\r\n    smf.type = this.type;\r\n    smf.ppqn = this.ppqn;\r\n    smf.fps = this.fps;\r\n    smf.ppf = this.ppf;\r\n    smf.rmi = this.rmi;\r\n    smf.ntrk = this.ntrk;\r\n    for (var i = 0; i < this.length; i++) smf.push(this[i].copy());\r\n    return smf;\r\n  };\r\n\r\n  function _issue(off, msg, data, tick, track) {\r\n    var w = { off: off, msg: msg, data: data };\r\n    if (typeof tick != 'undefined') w.tick = tick;\r\n    if (typeof track != 'undefined') w.track = track;\r\n    return w;\r\n  }\r\n  SMF.prototype._complain = function(off, msg, data) {\r\n    if (!this._warn) this._warn = [];\r\n    this._warn.push(_issue(off, msg, data));\r\n  };\r\n  SMF.prototype.load = function(s) {\r\n    var off = 0;\r\n    if (s.substr(0, 4) == 'RIFF' && s.substr(8, 8) == 'RMIDdata') {\r\n      this.rmi = true;\r\n      off = 20;\r\n      s = s.substr(20, s.charCodeAt(16) + s.charCodeAt(17) * 0x100 + s.charCodeAt(18) * 0x10000 + s.charCodeAt(19) * 0x1000000);\r\n    }\r\n    this.loadSMF(s, off);\r\n  };\r\n\r\n  var MThd0006 = 'MThd' + String.fromCharCode(0) + String.fromCharCode(0) + String.fromCharCode(0) + String.fromCharCode(6);\r\n  SMF.prototype.loadSMF = function(s, off) {\r\n    if (!s.length) _error('Empty file');\r\n    if (s.substr(0, 8) != MThd0006) {\r\n      var z = s.indexOf(MThd0006);\r\n      if (z != -1) {\r\n        s = s.substr(z);\r\n        this._complain(off, 'Extra leading characters', z);\r\n        off += z;\r\n      }\r\n      else _error('Not a MIDI file');\r\n    }\r\n    this._off = off;\r\n    this.type = s.charCodeAt(8) * 16 + s.charCodeAt(9);\r\n    this._off_type = off + 8;\r\n    this.ntrk = s.charCodeAt(10) * 16 + s.charCodeAt(11);\r\n    this._off_ntrk = off + 10;\r\n    if (s.charCodeAt(12) > 0x7f) {\r\n      this.fps = 0x100 - s.charCodeAt(12);\r\n      this.ppf = s.charCodeAt(13);\r\n      this._off_fps = off + 12;\r\n      this._off_ppf = off + 13;\r\n    }\r\n    else{\r\n      this.ppqn = s.charCodeAt(12) * 256 + s.charCodeAt(13);\r\n      this._off_ppqn = off + 12;\r\n    }\r\n    if (this.type > 2) this._complain(8 + off, 'Invalid MIDI file type', this.type);\r\n    else if (this.type == 0 && this.ntrk > 1) this._complain(10 + off, 'Wrong number of tracks for the type 0 MIDI file', this.ntrk);\r\n    if (!this.ppf && !this.ppqn) _error('Invalid MIDI header');\r\n    var n = 0;\r\n    var p = 14;\r\n    while (p < s.length - 8) {\r\n      var offset = p + off;\r\n      var type = s.substr(p, 4);\r\n      if (type == 'MTrk') n++;\r\n      var len = (s.charCodeAt(p + 4) << 24) + (s.charCodeAt(p + 5) << 16) + (s.charCodeAt(p + 6) << 8) + s.charCodeAt(p + 7);\r\n      if (len <= 0) { // broken file\r\n        len = s.length - p - 8;\r\n        this._complain(p + off + 4, 'Invalid track length', s.charCodeAt(p + 4) + '/' + s.charCodeAt(p + 5) + '/' + s.charCodeAt(p + 6) + '/' + s.charCodeAt(p + 7));\r\n      }\r\n      p += 8;\r\n      var data = s.substr(p, len);\r\n      this.push(new Chunk(type, data, offset));\r\n      if (type == 'MThd') this._complain(offset, 'Unexpected chunk type', 'MThd');\r\n      p += len;\r\n    }\r\n    if (n != this.ntrk) {\r\n      this._complain(off + 10, 'Incorrect number of tracks', this.ntrk);\r\n      this.ntrk = n;\r\n    }\r\n    if (!this.ntrk)  _error('No MIDI tracks');\r\n    if (!this.type && this.ntrk > 1 || this.type > 2)  this.type = 1;\r\n    if (p < s.length) this._complain(off + p, 'Extra trailing characters', s.length - p);\r\n    if (p > s.length) this._complain(off + s.length, 'Incomplete data', p - s.length);\r\n  };\r\n\r\n  function Warn(obj) {\r\n    if (!(this instanceof Warn)) return new Warn(obj);\r\n    for (var k in obj) if (obj.hasOwnProperty(k)) this[k] = obj[k];\r\n  }\r\n  Warn.prototype.toString = function() {\r\n    var a = [];\r\n    if (typeof this.off != 'undefined') a.push('offset ' + this.off);\r\n    if (typeof this.track != 'undefined') a.push('track ' + this.track);\r\n    if (typeof this.tick != 'undefined') a.push('tick ' + this.tick);\r\n    return a.join(' ') + ' -- ' + this.msg + ' (' + this.data + ')';\r\n  };\r\n\r\n  SMF.prototype.tracks = function() {\r\n    var t = 0;\r\n    for (var i = 0; i < this.length; i++) if (this[i] instanceof MTrk) t++;\r\n    return t;\r\n  };\r\n\r\n  function _reset_state(w, s) {\r\n    var i;\r\n    for (i = 0; i < 16; i++) {\r\n      if (s[i]) {\r\n        if (s[i].rm && s[i].rl && s[i].rm[0][2] == 0x7f && s[i].rl[0][2] == 0x7f) {\r\n          s[i].rm[1] = true;\r\n          s[i].rl[1] = true;\r\n        }\r\n        _check_unused(w, s, i, 'bm');\r\n        _check_unused(w, s, i, 'bl');\r\n        _check_unused(w, s, i, 'nm');\r\n        _check_unused(w, s, i, 'nl');\r\n        _check_unused(w, s, i, 'rm');\r\n        _check_unused(w, s, i, 'rl');\r\n      }\r\n      s[i] = {};\r\n    }\r\n  }\r\n  function _update_state(w, s, msg) {\r\n    if (!msg.length || msg[0] < 0x80) return;\r\n    if (msg.isGmReset() || msg.isGsReset() || msg.isXgReset()) {\r\n      _reset_state(w, s);\r\n      return;\r\n    }\r\n    var st = msg[0] >> 4;\r\n    var ch = msg[0] & 15;\r\n    var m;\r\n    if (st == 0xb) {\r\n      switch (msg[1]) {\r\n        case 0:\r\n          _check_unused(w, s, ch, 'bm');\r\n          s[ch].bm = [msg, false];\r\n          break;\r\n        case 0x20:\r\n          _check_unused(w, s, ch, 'bl');\r\n          s[ch].bl = [msg, false];\r\n          break;\r\n        case 0x62:\r\n          _check_unused(w, s, ch, 'nl');\r\n          _check_unused(w, s, ch, 'rm');\r\n          _check_unused(w, s, ch, 'rl');\r\n          s[ch].nl = [msg, false];\r\n          break;\r\n        case 0x63:\r\n          _check_unused(w, s, ch, 'nm');\r\n          _check_unused(w, s, ch, 'rm');\r\n          _check_unused(w, s, ch, 'rl');\r\n          s[ch].nm = [msg, false];\r\n          break;\r\n        case 0x64:\r\n          _check_unused(w, s, ch, 'rl');\r\n          _check_unused(w, s, ch, 'nm');\r\n          _check_unused(w, s, ch, 'nl');\r\n          s[ch].rl = [msg, false];\r\n          break;\r\n        case 0x65:\r\n          _check_unused(w, s, ch, 'rm');\r\n          _check_unused(w, s, ch, 'nm');\r\n          _check_unused(w, s, ch, 'nl');\r\n          s[ch].rm = [msg, false];\r\n          break;\r\n        case 0x6: case 0x26: case 0x60: case 0x61:\r\n          if (s[ch].rm && s[ch].rl) {\r\n            s[ch].rm[1] = true;\r\n            s[ch].rl[1] = true;\r\n          }\r\n          if (s[ch].rm && !s[ch].rl && !s[ch].rm[1]) {\r\n            m = s[ch].rm[0];\r\n            w.push(_issue(m._off, 'No matching RPN LSB', m.toString(), m.tt, m.track));\r\n            s[ch].rm[1] = true;\r\n          }\r\n          if (!s[ch].rm && s[ch].rl && !s[ch].rl[1]) {\r\n            m = s[ch].rl[0];\r\n            w.push(_issue(m._off, 'No matching RPN MSB', m.toString(), m.tt, m.track));\r\n            s[ch].rl[1] = true;\r\n          }\r\n          if (s[ch].nm && s[ch].nl) {\r\n            s[ch].nm[1] = true;\r\n            s[ch].nl[1] = true;\r\n          }\r\n          if (s[ch].nm && !s[ch].nl && !s[ch].nm[1]) {\r\n            m = s[ch].nm[0];\r\n            w.push(_issue(m._off, 'No matching NRPN LSB', m.toString(), m.tt, m.track));\r\n            s[ch].nm[1] = true;\r\n          }\r\n          if (!s[ch].nm && s[ch].nl && !s[ch].nl[1]) {\r\n            m = s[ch].nl[0];\r\n            w.push(_issue(m._off, 'No matching NRPN MSB', m.toString(), m.tt, m.track));\r\n            s[ch].nl[1] = true;\r\n          }\r\n          if (!s[ch].rm && !s[ch].rl && !s[ch].nm && !s[ch].nl) {\r\n            w.push(_issue(msg._off, 'RPN/NRPN not set', msg.toString(), msg.tt, msg.track));\r\n          }\r\n          if (s[ch].rm && s[ch].rl && s[ch].rm[0][2] == 0x7f && s[ch].rl[0][2] == 0x7f) {\r\n            w.push(_issue(msg._off, 'RPN/NRPN not set', msg.toString(), msg.tt, msg.track));\r\n          }\r\n          break;\r\n      }\r\n      return;\r\n    }\r\n    if (st == 0xc) {\r\n      if (s[ch].bm) s[ch].bm[1] = true;\r\n      if (s[ch].bl) s[ch].bl[1] = true;\r\n      if (s[ch].bl && !s[ch].bm) {\r\n        m = s[ch].bl[0];\r\n        w.push(_issue(m._off, 'No matching Bank Select MSB', m.toString(), m.tt, m.track));\r\n      }\r\n      if (s[ch].bm && !s[ch].bl) {\r\n        m = s[ch].bm[0];\r\n        w.push(_issue(m._off, 'No matching Bank Select LSB', m.toString(), m.tt, m.track));\r\n      }\r\n    }\r\n  }\r\n  function _check_unused(w, s, c, x) {\r\n    if (s[c][x] && !s[c][x][1]) {\r\n      var str;\r\n      switch (x) {\r\n        case 'bm': case 'bl': str = 'Unnecessary Bank Select'; break;\r\n        case 'nm': case 'nl': str = 'Unnecessary NRPN'; break;\r\n        case 'rm': case 'rl': str = 'Unnecessary RPN'; break;\r\n      }\r\n      var m = s[c][x][0];\r\n      w.push(_issue(m._off, str, m.toString(), m.tt, m.track));\r\n      delete s[c][x];\r\n    }\r\n  }\r\n  SMF.prototype.validate = function() {\r\n    var i, k, z;\r\n    var w = [];\r\n    if (this._warn) for (i = 0; i < this._warn.length; i++) w.push(Warn(this._warn[i]));\r\n    var mm = _sort(this);\r\n    k = 0;\r\n    for (i = 0; i < this.length; i++) if (this[i] instanceof MTrk) {\r\n      this[i]._validate(w, k);\r\n      k++;\r\n    }\r\n    var st = {};\r\n    _reset_state(w, st);\r\n    for (i = 0; i < mm.length; i++) {\r\n      z = _validate_midi(mm[i], this.type == 1);\r\n      if (z) {\r\n        z.track = mm[i].track;\r\n        w.push(z);\r\n      }\r\n      _update_state(w, st, mm[i]);\r\n    }\r\n    _reset_state(w, st);\r\n    w.sort(function(a, b) {\r\n      return (a.off || 0) - (b.off || 0) || (a.track || 0) - (b.track || 0) || (a.tick || 0) - (b.tick || 0);\r\n    });\r\n    if (w.length) {\r\n      for (i = 0; i < w.length; i++) w[i] = Warn(w[i]);\r\n      return w;\r\n    }\r\n  };\r\n  SMF.prototype.dump = function(rmi) {\r\n    var s = '';\r\n    if (rmi) {\r\n      s = this.dump();\r\n      return 'RIFF' + _num4le(s.length + 12) + 'RMIDdata' + _num4le(s.length) + s;\r\n    }\r\n    this.ntrk = 0;\r\n    for (var i = 0; i < this.length; i++) {\r\n      if (this[i] instanceof MTrk) this.ntrk++;\r\n      s += this[i].dump();\r\n    }\r\n    s = (this.ppqn ? _num2(this.ppqn) : String.fromCharCode(0x100 - this.fps) + String.fromCharCode(this.ppf)) + s;\r\n    s = MThd0006 + String.fromCharCode(0) + String.fromCharCode(this.type) + _num2(this.ntrk) + s;\r\n    return s;\r\n  };\r\n  SMF.prototype.toBuffer = function(rmi) {\r\n    return Buffer.from(this.dump(rmi), 'binary');\r\n  };\r\n  SMF.prototype.toUint8Array = function(rmi) {\r\n    var str = this.dump(rmi);\r\n    var buf = new ArrayBuffer(str.length);\r\n    var arr = new Uint8Array(buf);\r\n    for (var i = 0; i < str.length; i++) arr[i] = str.charCodeAt(i);\r\n    return arr;\r\n  };\r\n  SMF.prototype.toArrayBuffer = function(rmi) {\r\n    return this.toUint8Array(rmi).buffer;\r\n  };\r\n  SMF.prototype.toInt8Array = function(rmi) {\r\n    return new Int8Array(this.toArrayBuffer(rmi));\r\n  };\r\n  SMF.prototype.toString = function() {\r\n    var i;\r\n    this.ntrk = 0;\r\n    for (i = 0; i < this.length; i++) if (this[i] instanceof MTrk) this.ntrk++;\r\n    var a = ['SMF:', '  type: ' + this.type];\r\n    if (this.ppqn) a.push('  ppqn: ' + this.ppqn);\r\n    else a.push('  fps: ' + this.fps, '  ppf: ' + this.ppf);\r\n    a.push('  tracks: ' + this.ntrk);\r\n    for (i = 0; i < this.length; i++) {\r\n      a.push(this[i].toString());\r\n    }\r\n    return a.join('\\n');\r\n  };\r\n\r\n  function _var2num(s) {\r\n    if (!s.length) return 0; // missing last byte\r\n    if (s.charCodeAt(0) < 0x80) return [1, s.charCodeAt(0)];\r\n    var x = s.charCodeAt(0) & 0x7f;\r\n    x <<= 7;\r\n    if (s.charCodeAt(1) < 0x80) return [2, x + s.charCodeAt(1)];\r\n    x += s.charCodeAt(1) & 0x7f;\r\n    x <<= 7;\r\n    if (s.charCodeAt(2) < 0x80) return [3, x + s.charCodeAt(2)];\r\n    x += s.charCodeAt(2) & 0x7f;\r\n    x <<= 7;\r\n    x += s.charCodeAt(3) & 0x7f;\r\n    return [4, s.charCodeAt(3) < 0x80 ? x : -x];\r\n  }\r\n  function _msglen(n) {\r\n    switch (n & 0xf0) {\r\n      case 0x80: case 0x90: case 0xa0: case 0xb0: case 0xe0: return 2;\r\n      case 0xc0: case 0xD0: return 1;\r\n    }\r\n    switch (n) {\r\n      case 0xf1: case 0xf3: return 1;\r\n      case 0xf2: return 2;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  function _sort(smf) {\r\n    var i, j;\r\n    var tt = [];\r\n    var mm = [];\r\n    for (i = 0; i < smf.length; i++) if (smf[i] instanceof MTrk) tt.push(smf[i]);\r\n    if (smf.type != 1) {\r\n      for (i = 0; i < tt.length; i++) {\r\n        for (j = 0; j < tt[i].length; j++) {\r\n          tt[i][j].track = i;\r\n          mm.push(tt[i][j]);\r\n        }\r\n      }\r\n    }\r\n    else {\r\n      var t = 0;\r\n      var pp = [];\r\n      for (i = 0; i < tt.length; i++) pp[i] = 0;\r\n      while (true) {\r\n        var b = true;\r\n        var m = 0;\r\n        for (i = 0; i < tt.length; i++) {\r\n          while (pp[i] < tt[i].length && tt[i][pp[i]].tt == t) {\r\n            tt[i][pp[i]].track = i;\r\n            mm.push(tt[i][pp[i]]);\r\n            pp[i]++;\r\n          }\r\n          if (pp[i] >= tt[i].length) continue;\r\n          if (b) m = tt[i][pp[i]].tt;\r\n          b = false;\r\n          if (m > tt[i][pp[i]].tt) m = tt[i][pp[i]].tt;\r\n        }\r\n        t = m;\r\n        if (b) break;\r\n      }\r\n    }\r\n    return mm;\r\n  }\r\n\r\n  SMF.prototype.annotate = function() {\r\n    var mm = _sort(this);\r\n    var ctxt = JZZ.Context();\r\n    for (var i = 0; i < mm.length; i++) {\r\n      if (mm[i].lbl) mm[i].lbl = undefined;\r\n      ctxt._read(mm[i]);\r\n    }\r\n    return this;\r\n  };\r\n\r\n  SMF.prototype.player = function() {\r\n    var pl = new Player();\r\n    pl.ppqn = this.ppqn;\r\n    pl.fps = this.fps;\r\n    pl.ppf = this.ppf;\r\n    var i;\r\n    var e;\r\n    var mm = _sort(this);\r\n    if (this.type == 2) {\r\n      var tr = 0;\r\n      var m = 0;\r\n      var t = 0;\r\n      for (i = 0; i < mm.length; i++) {\r\n        e = JZZ.MIDI(mm[i]);\r\n        if (tr != e.track) {\r\n          tr = e.track;\r\n          m = t;\r\n        }\r\n        t = e.tt + m;\r\n        e.tt = t;\r\n        pl._data.push(e);\r\n      }\r\n    }\r\n    else {\r\n      for (i = 0; i < mm.length; i++) {\r\n        e = JZZ.MIDI(mm[i]);\r\n        pl._data.push(e);\r\n      }\r\n    }\r\n    pl._type = this.type;\r\n    pl._tracks = this.tracks();\r\n    pl._timing();\r\n    return pl;\r\n  };\r\n\r\n  function Chunk(t, d, off) {\r\n    if (!(this instanceof Chunk)) return new Chunk(t, d, off);\r\n    var i;\r\n    if (this.sub[t]) return this.sub[t](t, d, off);\r\n    if (typeof t != 'string' || t.length != 4) _error(\"Invalid chunk type: \" + t);\r\n    for (i = 0; i < t.length; i++) if (t.charCodeAt(i) < 0 || t.charCodeAt(i) > 255) _error(\"Invalid chunk type: \" + t);\r\n    if (typeof d != 'string') _error(\"Invalid data type: \" + d);\r\n    for (i = 0; i < d.length; i++) if (d.charCodeAt(i) < 0 || d.charCodeAt(i) > 255) _error(\"Invalid data character: \" + d[i]);\r\n    this.type = t;\r\n    this.data = d;\r\n    this._off = off;\r\n  }\r\n  SMF.Chunk = Chunk;\r\n  Chunk.prototype = [];\r\n  Chunk.prototype.constructor = Chunk;\r\n  Chunk.prototype.copy = function() { return new Chunk(this.type, this.data); };\r\n\r\n  Chunk.prototype.sub = {\r\n    'MTrk': function(t, d, off) { return new MTrk(d, off); }\r\n  };\r\n  Chunk.prototype.dump = function() {\r\n    return this.type + _num4(this.data.length) + this.data;\r\n  };\r\n  Chunk.prototype.toString = function() {\r\n    return this.type + ': ' + this.data.length + ' bytes';\r\n  };\r\n\r\n  function _validate_msg_data(trk, s, p, m, t, off) {\r\n    var x = s.substr(p, m);\r\n    if (x.length < m) {\r\n      trk._complain(off, 'Incomplete track data', m - x.length, t);\r\n      x = (x + '\\x00\\x00').substr(0, m);\r\n    }\r\n    for (var i = 0; i < m; i++) if (x.charCodeAt(i) > 127) {\r\n      trk._complain(off + i, 'Bad MIDI value set to 0', x.charCodeAt(i), t);\r\n      x = x.substr(0, i) + '\\x00' + x.substr(i + 1);\r\n    }\r\n    return x;\r\n  }\r\n  function _validate_number(trk, s, off, t, tt) {\r\n    var nn = _var2num(s);\r\n    if (tt) t += nn[1];\r\n    if (nn[1] < 0) {\r\n      nn[1] = -nn[1];\r\n      trk._complain(off, \"Bad byte sequence\", s.charCodeAt(0) + '/' + s.charCodeAt(1) + '/' + s.charCodeAt(2) + '/' + s.charCodeAt(3), t);\r\n    }\r\n    else if (nn[0] == 4 && nn[1] < 0x200000) {\r\n      trk._complain(off, \"Long VLQ value\", s.charCodeAt(0) + '/' + s.charCodeAt(1) + '/' + s.charCodeAt(2) + '/' + s.charCodeAt(3), t);\r\n    }\r\n    else if (nn[0] == 3 && nn[1] < 0x4000) {\r\n      trk._complain(off, \"Long VLQ value\", s.charCodeAt(0) + '/' + s.charCodeAt(1) + '/' + s.charCodeAt(2), t);\r\n    }\r\n    else if (nn[0] == 2 && nn[1] < 0x80) {\r\n      trk._complain(off, \"Long VLQ value\", s.charCodeAt(0) + '/' + s.charCodeAt(1), t);\r\n    }\r\n    return nn;\r\n  }\r\n\r\n  function MTrk(s, off) {\r\n    if (!(this instanceof MTrk)) return new MTrk(s, off);\r\n    this._off = off;\r\n    this._orig = this;\r\n    this._tick = 0;\r\n    if(typeof s == 'undefined') {\r\n      this.push(new Event(0, '\\xff\\x2f', ''));\r\n      return;\r\n    }\r\n    var t = 0;\r\n    var p = 0;\r\n    var w = '';\r\n    var st;\r\n    var m;\r\n    off += 8;\r\n    var offset = p + off;\r\n    while (p < s.length) {\r\n      m = _validate_number(this, s.substr(p, 4), offset, t, true);\r\n      p += m[0];\r\n      t += m[1];\r\n      offset = p + off;\r\n      if (s.charCodeAt(p) == 0xff) {\r\n        st = s.substr(p, 2);\r\n        if (st.length < 2) {\r\n          this._complain(offset, 'Incomplete track data', 3 - st.length, t);\r\n          st = '\\xff\\x2f';\r\n        }\r\n        p += 2;\r\n        m = _validate_number(this, s.substr(p, 4), offset + 2, t);\r\n        p += m[0];\r\n        this.push (new Event(t, st, s.substr(p, m[1]), offset));\r\n        p += m[1];\r\n      }\r\n      else if (s.charCodeAt(p) == 0xf0 || s.charCodeAt(p) == 0xf7) {\r\n        st = s.substr(p, 1);\r\n        p += 1;\r\n        m = _validate_number(this, s.substr(p, 4), offset + 1, t);\r\n        p += m[0];\r\n        this.push(new Event(t, st, s.substr(p, m[1]), offset));\r\n        p += m[1];\r\n      }\r\n      else if (s.charCodeAt(p) & 0x80) {\r\n        w = s.substr(p, 1);\r\n        p += 1;\r\n        m = _msglen(w.charCodeAt(0));\r\n        if (w.charCodeAt(0) > 0xf0) this._complain(offset, 'Unexpected MIDI message', w.charCodeAt(0).toString(16), t);\r\n        this.push(new Event(t, w, _validate_msg_data(this, s, p, m, t, offset + 1), offset));\r\n        p += m;\r\n      }\r\n      else if (w.charCodeAt(0) & 0x80) { // running status\r\n        m = _msglen(w.charCodeAt(0));\r\n        if (w.charCodeAt(0) > 0xf0) this._complain(offset, 'Unexpected MIDI message', w.charCodeAt(0).toString(16), t);\r\n        this.push(new Event(t, w, _validate_msg_data(this, s, p, m, t, offset), offset));\r\n        p += m;\r\n      }\r\n    }\r\n  }\r\n  SMF.MTrk = MTrk;\r\n\r\n  MTrk.prototype = [];\r\n  MTrk.prototype.constructor = MTrk;\r\n  MTrk.prototype.type = 'MTrk';\r\n  MTrk.prototype.copy = function() {\r\n    var trk = new MTrk();\r\n    trk.length = 0;\r\n    for (var i = 0; i < this.length; i++) trk.push(new JZZ.MIDI(this[i]));\r\n    return trk;\r\n  };\r\n  function _shortmsg(msg) {\r\n    var s = msg.toString();\r\n    if (s.length > 80) {\r\n      s = s.substr(0, 78);\r\n      s = s.substr(0, s.lastIndexOf(' ')) + ' ...';\r\n    }\r\n    return s;\r\n  }\r\n  function _metaevent_len(msg, name, len) {\r\n    if (msg.dd.length < len) return _issue(msg._off, 'Invalid ' + name + ' meta event: ' + (msg.dd.length ? 'data too short' : 'no data'), _shortmsg(msg), msg.tt);\r\n    if (msg.dd.length > len) return _issue(msg._off, 'Invalid ' + name + ' meta event: data too long', _shortmsg(msg), msg.tt);\r\n  }\r\n  function _timing_first_track(msg, name) {\r\n    return _issue(msg._off, name + ' meta events must be in the first track', _shortmsg(msg), msg.tt);\r\n  }\r\n  function _validate_midi(msg, t1) {\r\n    var issue;\r\n    if (typeof msg.ff != 'undefined') {\r\n      if (msg.ff > 0x7f) return _issue(msg._off, 'Invalid meta event', _shortmsg(msg), msg.tt);\r\n      else if (msg.ff == 0) {\r\n        issue = _metaevent_len(msg, 'Sequence Number', 2); if (issue) return issue;\r\n      }\r\n      else if (msg.ff < 10) {\r\n        if (!msg.dd.length) return _issue(msg._off, 'Invalid Text meta event: no data', _shortmsg(msg), msg.tt);\r\n      }\r\n      else if (msg.ff == 32) {\r\n        issue = _metaevent_len(msg, 'Channel Prefix', 1); if (issue) return issue;\r\n        if (msg.dd.charCodeAt(0) > 15) return _issue(msg._off, 'Invalid Channel Prefix meta event: incorrect data', _shortmsg(msg), msg.tt);\r\n      }\r\n      else if (msg.ff == 33) {\r\n        issue = _metaevent_len(msg, 'MIDI Port', 1); if (issue) return issue;\r\n        if (msg.dd.charCodeAt(0) > 127) return _issue(msg._off, 'Invalid MIDI Port meta event: incorrect data', _shortmsg(msg), msg.tt);\r\n      }\r\n      else if (msg.ff == 47) {\r\n        issue = _metaevent_len(msg, 'End of Track', 0); if (issue) return issue;\r\n      }\r\n      else if (msg.ff == 81) {\r\n        issue = _metaevent_len(msg, 'Tempo', 3); if (issue) return issue;\r\n        if (t1 && msg.track) return _timing_first_track(msg, 'Tempo');\r\n      }\r\n      else if (msg.ff == 84) {\r\n        issue = _metaevent_len(msg, 'SMPTE', 5); if (issue) return issue;\r\n        if ((msg.dd.charCodeAt(0) & 0x1f) >= 24 || msg.dd.charCodeAt(1) >= 60 || msg.dd.charCodeAt(2) >= 60 || msg.dd.charCodeAt(3) >= 30 || msg.dd.charCodeAt(4) >= 200 || msg.dd.charCodeAt(4) % 25) return _issue(msg._off, 'Invalid SMPTE meta event: incorrect data', _shortmsg(msg), msg.tt);\r\n        else if ((msg.dd.charCodeAt(0) >> 5) > 3) return _issue(msg._off, 'Invalid SMPTE meta event: incorrect format', msg.dd.charCodeAt(0) >> 5, msg.tt);\r\n        if (t1 && msg.track) return _timing_first_track(msg, 'SMPTE');\r\n      }\r\n      else if (msg.ff == 88) {\r\n        issue = _metaevent_len(msg, 'Time Signature', 4); if (issue) return issue;\r\n        if (msg.dd.charCodeAt(1) > 8) return _issue(msg._off, 'Invalid Time Signature meta event: incorrect data', _shortmsg(msg), msg.tt);\r\n        if (t1 && msg.track) return _timing_first_track(msg, 'Time Signature');\r\n      }\r\n      else if (msg.ff == 89) {\r\n        issue = _metaevent_len(msg, 'Key Signature', 2); if (issue) return issue;\r\n        if (msg.dd.charCodeAt(1) > 1 || msg.dd.charCodeAt(0) > 255 || (msg.dd.charCodeAt(0) > 7 && msg.dd.charCodeAt(0) < 249)) return _issue(msg._off, 'Invalid Key Signature meta event: incorrect data', msg.toString(), msg.tt);\r\n      }\r\n      else if (msg.ff == 127) {\r\n        // Sequencer Specific meta event\r\n      }\r\n      else {\r\n        return _issue(msg._off, 'Unknown meta event', _shortmsg(msg), msg.tt);\r\n      }\r\n    }\r\n    else {\r\n      //\r\n    }\r\n  }\r\n  MTrk.prototype._validate = function(w, k) {\r\n    var i, z;\r\n    if (this._warn) for (i = 0; i < this._warn.length; i++) {\r\n      z = Warn(this._warn[i]);\r\n      z.track = k;\r\n      w.push(z);\r\n    }\r\n  };\r\n  MTrk.prototype._complain = function(off, msg, data, tick) {\r\n    if (!this._warn) this._warn = [];\r\n    this._warn.push(_issue(off, msg, data, tick));\r\n  };\r\n  MTrk.prototype.dump = function() {\r\n    var s = '';\r\n    var t = 0;\r\n    var m = '';\r\n    var i, j;\r\n    for (i = 0; i < this.length; i++) {\r\n      s += _num(this[i].tt - t);\r\n      t = this[i].tt;\r\n      if (typeof this[i].dd != 'undefined') {\r\n        s += '\\xff';\r\n        s += String.fromCharCode(this[i].ff);\r\n        s += _num(this[i].dd.length);\r\n        s += this[i].dd;\r\n      }\r\n      else if (this[i][0] == 0xf0 || this[i][0] == 0xf7) {\r\n        s += String.fromCharCode(this[i][0]);\r\n        s += _num(this[i].length - 1);\r\n        for (j = 1; j < this[i].length; j++) s += String.fromCharCode(this[i][j]);\r\n      }\r\n      else {\r\n        if (this[i][0] != m) {\r\n          m = this[i][0];\r\n          s += String.fromCharCode(this[i][0]);\r\n        }\r\n        for (j = 1; j < this[i].length; j++) s += String.fromCharCode(this[i][j]);\r\n      }\r\n    }\r\n    return 'MTrk' + _num4(s.length) + s;\r\n  };\r\n  MTrk.prototype.toString = function() {\r\n    var a = ['MTrk:'];\r\n    for (var i = 0; i < this.length; i++) {\r\n      a.push(this[i].tt + ': ' + this[i].toString());\r\n    }\r\n    return a.join('\\n  ');\r\n  };\r\n\r\n  MTrk.prototype.add = function(t, msg) {\r\n    t = parseInt(t);\r\n    if(isNaN(t) || t < 0) _error('Invalid parameter');\r\n    msg = JZZ.MIDI(msg);\r\n    msg.tt = t;\r\n    if (this[this._orig.length - 1].tt < t) this[this._orig.length - 1].tt = t; // end of track\r\n    if (msg.ff == 0x2f || msg[0] > 0xf0 && msg[0] != 0xf7) return this;\r\n    var i;\r\n    for (i = 0; i < this._orig.length - 1; i++) {\r\n      if (this._orig[i].tt > t) break;\r\n    }\r\n    this._orig.splice(i, 0, msg);\r\n    return this;\r\n  };\r\n\r\n  MTrk.prototype._ch = undefined;\r\n  MTrk.prototype._sxid = 0x7f;\r\n  MTrk.prototype._image = function() {\r\n    var F = function() {}; F.prototype = this._orig;\r\n    var img = new F();\r\n    img._ch = this._ch;\r\n    img._sxid = this._sxid;\r\n    img._tick = this._tick;\r\n    return img;\r\n  };\r\n  MTrk.prototype.send = function(msg) { this._orig.add(this._tick, msg); return this; };\r\n  MTrk.prototype.tick = function(t) {\r\n    if (t != parseInt(t) || t < 0) throw RangeError('Bad tick value: ' + t);\r\n    if (!t) return this;\r\n    var img = this._image();\r\n    img._tick = this._tick + t;\r\n    return img;\r\n  };\r\n  MTrk.prototype.sxId = function(id) {\r\n    if (typeof id == 'undefined') id = MTrk.prototype._sxid;\r\n    if (id == this._sxid) return this;\r\n    if (id != parseInt(id) || id < 0 || id > 0x7f) throw RangeError('Bad MIDI value: ' + id);\r\n    var img = this._image();\r\n    img._sxid = id;\r\n    return img;\r\n  };\r\n  MTrk.prototype.ch = function(c) {\r\n    if (c == this._ch || typeof c == 'undefined' && typeof this._ch == 'undefined') return this;\r\n    if (typeof c != 'undefined') {\r\n      if (c != parseInt(c) || c < 0 || c > 15) throw RangeError('Bad channel value: ' + c  + ' (must be from 0 to 15)');\r\n    }\r\n    var img = this._image();\r\n    img._ch = c;\r\n    return img;\r\n  };\r\n  MTrk.prototype.note = function(c, n, v, t) {\r\n    this.noteOn(c, n, v);\r\n    if (typeof this._ch == 'undefined') {\r\n      if (t > 0) this.tick(t).noteOff(c, n);\r\n    }\r\n    else {\r\n      if (v > 0) this.tick(v).noteOff(c);\r\n    }\r\n    return this;\r\n  };\r\n  JZZ.lib.copyMidiHelpers(MTrk);\r\n\r\n  function Event(t, s, d, off) {\r\n    var midi;\r\n    if (s.charCodeAt(0) == 0xff) {\r\n      midi = JZZ.MIDI.smf(s.charCodeAt(1), d);\r\n    }\r\n    else {\r\n      var a = [s.charCodeAt(0)];\r\n      for (var i = 0; i < d.length; i++) a.push(d.charCodeAt(i));\r\n      midi = JZZ.MIDI(a);\r\n    }\r\n    if (typeof off != 'undefined') midi._off = off;\r\n    midi.tt = t;\r\n    return midi;\r\n  }\r\n\r\n  function Player() {\r\n    var self = new JZZ.Widget();\r\n    self._info.name = 'MIDI Player';\r\n    self._info.manufacturer = 'Jazz-Soft';\r\n    self._info.version = _ver;\r\n    self.playing = false;\r\n    self._loop = 0;\r\n    self._data = [];\r\n    self._pos = 0;\r\n    self._tick = (function(x) { return function(){ x.tick(); }; })(self);\r\n    for (var k in Player.prototype) if (Player.prototype.hasOwnProperty(k)) self[k] = Player.prototype[k];\r\n    return self;\r\n  }\r\n  Player.prototype.onEnd = function() {};\r\n  Player.prototype.loop = function(n) {\r\n    if (n == parseInt(n) && n > 0) this._loop = n;\r\n    else this._loop = n ? -1 : 0;\r\n  };\r\n  Player.prototype.play = function() {\r\n    this.event = undefined;\r\n    this.playing = true;\r\n    this.paused = false;\r\n    this._ptr = 0;\r\n    this._pos = 0;\r\n    this._p0 = 0;\r\n    this._t0 = _now();\r\n    this.tick();\r\n  };\r\n  Player.prototype.stop = function() {\r\n    this._pos = 0;\r\n    this.playing = false;\r\n    this.event = 'stop';\r\n    this.paused = undefined;\r\n  };\r\n  Player.prototype.pause = function() {\r\n    this.event = 'pause';\r\n  };\r\n  Player.prototype.resume = function() {\r\n    if (this.playing) return;\r\n    if (this.paused) {\r\n      this.event = undefined;\r\n      this._t0 = _now();\r\n      this.playing = true;\r\n      this.paused = false;\r\n      this.tick();\r\n    }\r\n    else this.play();\r\n  };\r\n  Player.prototype.sndOff = function() {\r\n    var c;\r\n    for (c = 0; c < 16; c++) this._emit(JZZ.MIDI.allSoundOff(c));\r\n    for (c = 0; c < 16; c++) this._emit(JZZ.MIDI.resetAllControllers(c));\r\n  };\r\n  function _filter(e) { this._receive(e); }\r\n  Player.prototype._filter = _filter;\r\n  Player.prototype.filter = function(f) {\r\n    this._filter = f instanceof Function ? f : _filter;\r\n  };\r\n  function _div(s) { return (s.charCodeAt(0) << 16) + (s.charCodeAt(1) << 8) + s.charCodeAt(2); }\r\n  Player.prototype._receive = function(e) {\r\n    if (e.ff == 0x51 && this.ppqn) {\r\n      this._mul = this.ppqn * 1000.0 / _div(e.dd);\r\n      this.mul = this._mul * this._speed;\r\n      this._t0 = _now();\r\n      this._p0 = this._pos;\r\n    }\r\n    this._emit(e);\r\n  };\r\n  Player.prototype.tick = function() {\r\n    var t = _now();\r\n    var e;\r\n    this._pos = this._p0 + (t - this._t0) * this.mul;\r\n    for(; this._ptr < this._data.length; this._ptr++) {\r\n      e = this._data[this._ptr];\r\n      if (e.tt > this._pos) break;\r\n      this._filter(e);\r\n    }\r\n    if (this._ptr >= this._data.length) {\r\n      if (this._loop && this._loop != -1) this._loop--;\r\n      if (this._loop) {\r\n        this._ptr = 0;\r\n        this._p0 = 0;\r\n        this._t0 = t;\r\n      }\r\n      else this.stop();\r\n      this.onEnd();\r\n    }\r\n    if (this.event == 'stop') {\r\n      this.playing = false;\r\n      this.paused = false;\r\n      this._pos = 0;\r\n      this._ptr = 0;\r\n      this.sndOff();\r\n      this.event = undefined;\r\n    }\r\n    if (this.event == 'pause') {\r\n      this.playing = false;\r\n      this.paused = true;\r\n      if (this._pos >= this._duration) this._pos = this._duration - 1;\r\n      this._p0 = this._pos;\r\n      this.sndOff();\r\n      this.event = undefined;\r\n    }\r\n    if (this.playing) JZZ.lib.schedule(this._tick);\r\n  };\r\n  Player.prototype.trim = function() {\r\n    var i, j, e;\r\n    var data = [];\r\n    j = 0;\r\n    for (i = 0; i < this._data.length; i++) {\r\n      e = this._data[i];\r\n      if (e.length || e.ff == 1 || e.ff == 5) {\r\n        for (; j <= i; j++) data.push(this._data[j]);\r\n      }\r\n    }\r\n    var dt = (i ? this._data[i - 1].tt : 0) - (j ? this._data[j - 1].tt : 0);\r\n    this._data = data;\r\n    this._timing();\r\n    return dt;\r\n  };\r\n  Player.prototype._timing = function() {\r\n    var i, m, t, e;\r\n    this._duration = this._data.length ? this._data[this._data.length - 1].tt : 0;\r\n    this._ttt = [];\r\n    if (this.ppqn) {\r\n      this._mul = this.ppqn / 500.0; // 120 bpm\r\n      m = this._mul;\r\n      t = 0;\r\n      this._durationMS = 0;\r\n      this._ttt.push({ t: 0, m: m, ms: 0 });\r\n      for (i = 0; i < this._data.length; i++) {\r\n        e = this._data[i];\r\n        if (e.ff == 0x51) {\r\n          this._durationMS += (e.tt - t) / m;\r\n          t = e.tt;\r\n          m = this.ppqn * 1000.0 / _div(e.dd);\r\n          this._ttt.push({ t: t, m: m, ms: this._durationMS });\r\n        }\r\n      }\r\n      this._durationMS += (this._duration - t) / m;\r\n    }\r\n    else {\r\n      this._mul = this.fps * this.ppf / 1000.0; // 1s = fps*ppf ticks\r\n      this._ttt.push({ t: 0, m: this._mul, ms: 0 });\r\n      this._durationMS = this._duration / this._mul;\r\n    }\r\n    this._speed = 1;\r\n    this.mul = this._mul;\r\n    this._ttt.push({ t: this._duration, m: 0, ms: this._durationMS });\r\n    if (!this._durationMS) this._durationMS = 1;\r\n  };\r\n  Player.prototype.speed = function(x) {\r\n    if (typeof x != 'undefined') {\r\n      if (isNaN(parseFloat(x)) || x <= 0) x = 1;\r\n      this._speed = x;\r\n      this.mul = this._mul * this._speed;\r\n      this._p0 = this._pos - (_now() - this._t0) * this.mul;\r\n    }\r\n    return this._speed;\r\n  };\r\n  Player.prototype.type = function() { return this._type; };\r\n  Player.prototype.tracks = function() { return this._tracks; };\r\n  Player.prototype.duration = function() { return this._duration; };\r\n  Player.prototype.durationMS = function() { return this._durationMS; };\r\n  Player.prototype.position = function() { return this._pos; };\r\n  Player.prototype.positionMS = function() { return this.tick2ms(this._pos); };\r\n  Player.prototype.jump = function(t) {\r\n    if (isNaN(parseFloat(t))) _error('Not a number: ' + t);\r\n    if (t < 0) t = 0.0;\r\n    if (t >= this._duration) t = this._duration - 1;\r\n    this._goto(t);\r\n  };\r\n  Player.prototype.jumpMS = function(ms) {\r\n    if (isNaN(parseFloat(ms))) _error('Not a number: ' + ms);\r\n    if (ms < 0) ms = 0.0;\r\n    if (ms >= this._durationMS) ms = this._durationMS - 1;\r\n    this._goto(this._ms2t(ms));\r\n  };\r\n  Player.prototype._t2ms = function(t) {\r\n    if (!t) return 0.0;\r\n    var i;\r\n    for (i = 0; this._ttt[i].t < t; i++) ;\r\n    i--;\r\n    return this._ttt[i].ms + (t - this._ttt[i].t) / this._ttt[i].m;\r\n  };\r\n  Player.prototype._ms2t = function(ms) {\r\n    if (!ms) return 0.0;\r\n    var i;\r\n    for (i = 0; this._ttt[i].ms < ms; i++) ;\r\n    i--;\r\n    return this._ttt[i].t + (ms - this._ttt[i].ms) * this._ttt[i].m;\r\n  };\r\n  Player.prototype._goto = function(t) {\r\n    this._pos = t;\r\n    if (!this.playing) this.paused = !!t;\r\n    this._toPos();\r\n    if (this.playing) this.sndOff();\r\n  };\r\n  Player.prototype._toPos = function() {\r\n    for(this._ptr = 0; this._ptr < this._data.length; this._ptr++) {\r\n      var e = this._data[this._ptr];\r\n      if (e.tt >= this._pos) break;\r\n      if (e.ff == 0x51 && this.ppqn) this._mul = this.ppqn * 1000.0 / _div(e.dd);\r\n    }\r\n    this.mul = this._mul * this._speed;\r\n    this._t0 = _now();\r\n    this._p0 = this._pos;\r\n  };\r\n  Player.prototype.tick2ms = function(t) {\r\n    if (isNaN(parseFloat(t))) _error('Not a number: ' + t);\r\n    if (t <= 0) return 0.0;\r\n    if (t >= this._duration) return this._durationMS;\r\n    return this._t2ms(t);\r\n  };\r\n  Player.prototype.ms2tick = function(t) {\r\n    if (isNaN(parseFloat(t))) _error('Not a number: ' + t);\r\n    if (t <= 0) return 0.0;\r\n    if (t >= this._durationMS) return this._duration;\r\n    return this._ms2t(t);\r\n  };\r\n  JZZ.MIDI.SMF = SMF;\r\n\r\n  function _not_a_syx() { _error('Not a SYX file'); }\r\n\r\n  function SYX(arg) {\r\n    var self = this instanceof SYX ? this : self = new SYX();\r\n    self._orig = self;\r\n    if (typeof arg != 'undefined') {\r\n      if (arg instanceof SMF) {\r\n        self.copy(arg.player()._data);\r\n        return self;\r\n      }\r\n      if (arg instanceof SYX) {\r\n        self.copy(arg);\r\n        return self;\r\n      }\r\n      try {\r\n        if (arg instanceof ArrayBuffer) {\r\n          arg = _u8a2s(new Uint8Array(arg));\r\n        }\r\n      }\r\n      catch (err) {/**/}\r\n      try {\r\n        if (arg instanceof Uint8Array || arg instanceof Int8Array) {\r\n          arg = _u8a2s(new Uint8Array(arg));\r\n        }\r\n      }\r\n      catch (err) {/**/}\r\n      try {\r\n        /* istanbul ignore next */\r\n        if (arg instanceof Buffer) {\r\n          arg = arg.toString('binary');\r\n        }\r\n      }\r\n      catch (err) {/**/}\r\n      if (typeof arg != 'string') {\r\n        arg = String.fromCharCode.apply(null, arg);\r\n      }\r\n      var x;\r\n      var msg = [];\r\n      var i = 0;\r\n      var off = 0;\r\n      while (i < arg.length) {\r\n        if (arg.charCodeAt(i) != 0xf0) _not_a_syx();\r\n        while (i < arg.length) {\r\n          x = arg.charCodeAt(i);\r\n          msg.push(x);\r\n          if (x == 0xf7) {\r\n            msg = JZZ.MIDI(msg);\r\n            msg._off = off;\r\n            self.push(JZZ.MIDI(msg));\r\n            msg = [];\r\n            off = i + 1;\r\n            break;\r\n          }\r\n          i++;\r\n        }\r\n        i++;\r\n      }\r\n      if (msg.length) _not_a_syx();\r\n      return self;\r\n    }\r\n    return self;\r\n  }\r\n  SYX.version = function() { return _ver; };\r\n  SYX.prototype = [];\r\n  SYX.prototype.constructor = SYX;\r\n\r\n  SYX.prototype.copy = function(data) {\r\n    for (var i = 0; i < data.length; i++) if (!data[i].isSMF()) {\r\n      if (data[i].isFullSysEx()) this.push(JZZ.MIDI(data[i]));\r\n      else _not_a_syx();\r\n    }\r\n  };\r\n  SYX.prototype.validate = function() { return []; };\r\n  SYX.prototype.dump = function() {\r\n    var i, j, s = '';\r\n    for (i = 0; i < this.length; i++) for (j = 0; j < this[i].length; j++) s += String.fromCharCode(this[i][j]);\r\n    return s;\r\n  };\r\n  SYX.prototype.toBuffer = function() {\r\n    return Buffer.from(this.dump(), 'binary');\r\n  };\r\n  SYX.prototype.toUint8Array = function() {\r\n    var str = this.dump();\r\n    var buf = new ArrayBuffer(str.length);\r\n    var arr = new Uint8Array(buf);\r\n    for (var i = 0; i < str.length; i++) arr[i] = str.charCodeAt(i);\r\n    return arr;\r\n  };\r\n  SYX.prototype.toArrayBuffer = function() {\r\n    return this.toUint8Array().buffer;\r\n  };\r\n  SYX.prototype.toInt8Array = function() {\r\n    return new Int8Array(this.toArrayBuffer());\r\n  };\r\n  SYX.prototype.toString = function() {\r\n    var i;\r\n    var a = ['SYX:'];\r\n    for (i = 0; i < this.length; i++) {\r\n      a.push(this[i].toString());\r\n    }\r\n    return a.join('\\n  ');\r\n  };\r\n  SYX.prototype.annotate = function() {\r\n    var ctxt = JZZ.Context();\r\n    for (var i = 0; i < this.length; i++) {\r\n      if (this[i].lbl) this[i].lbl = undefined;\r\n      ctxt._read(this[i]);\r\n    }\r\n    return this;\r\n  };\r\n  SYX.prototype.player = function() {\r\n    var pl = new Player();\r\n    pl.ppqn = 96;\r\n    var i;\r\n    for (i = 0; i < this.length; i++) {\r\n      var e = JZZ.MIDI(this[i]);\r\n      e.tt = 0;\r\n      pl._data.push(e);\r\n    }\r\n    pl._type = 0;\r\n    pl._tracks = 1;\r\n    pl._timing();\r\n    pl.sndOff = function() {};\r\n    return pl;\r\n  };\r\n\r\n  SYX.prototype._ch = undefined;\r\n  SYX.prototype._sxid = 0x7f;\r\n  SYX.prototype._image = function() {\r\n    var F = function() {}; F.prototype = this._orig;\r\n    var img = new F();\r\n    img._ch = this._ch;\r\n    img._sxid = this._sxid;\r\n    return img;\r\n  };\r\n  SYX.prototype.add = function(msg) {\r\n    msg = JZZ.MIDI(msg);\r\n    if (msg.isFullSysEx()) this._orig.push(msg);\r\n    return this;\r\n  };\r\n  SYX.prototype.send = function(msg) { return this.add(msg); };\r\n  SYX.prototype.sxId = function(id) {\r\n    if (typeof id == 'undefined') id = SYX.prototype._sxid;\r\n    if (id == this._sxid) return this;\r\n    if (id != parseInt(id) || id < 0 || id > 0x7f) throw RangeError('Bad MIDI value: ' + id);\r\n    var img = this._image();\r\n    img._sxid = id;\r\n    return img;\r\n  };\r\n  SYX.prototype.ch = function(c) {\r\n    if (c == this._ch || typeof c == 'undefined' && typeof this._ch == 'undefined') return this;\r\n    if (typeof c != 'undefined') {\r\n      if (c != parseInt(c) || c < 0 || c > 15) throw RangeError('Bad channel value: ' + c  + ' (must be from 0 to 15)');\r\n    }\r\n    var img = this._image();\r\n    img._ch = c;\r\n    return img;\r\n  };\r\n  JZZ.lib.copyMidiHelpers(SYX);\r\n\r\n  JZZ.MIDI.SYX = SYX;\r\n});\r\n",null,"(function(global, factory) {\r\n  /* istanbul ignore next */\r\n  if (typeof exports === 'object' && typeof module !== 'undefined') {\r\n    module.exports = factory;\r\n  }\r\n  else if (typeof define === 'function' && define.amd) {\r\n    define('JZZ.gui.Player', ['JZZ', 'JZZ.midi.SMF'], factory);\r\n  }\r\n  else {\r\n    factory(JZZ);\r\n  }\r\n})(this, function(JZZ) {\r\n\r\n  if (!JZZ.gui) JZZ.gui = {};\r\n  if (JZZ.gui.Player) return;\r\n\r\n  /* istanbul ignore next */\r\n  function nop() {}\r\n  var _noBtn = { on: nop, off: nop, disable: nop, title: nop, div: {} };\r\n\r\n  function Btn(html) {\r\n    this.div = document.createElement('div');\r\n    this.div.style.display = 'inline-block';\r\n    this.div.style.position = 'absolute';\r\n    this.div.style.boxSizing = 'content-box';\r\n    this.div.style.top = '8px';\r\n    this.div.style.margin = '0';\r\n    this.div.style.padding = '2px';\r\n    this.div.style.borderStyle = 'solid';\r\n    this.div.style.borderWidth = '1px';\r\n    this.div.style.borderColor = '#aaa';\r\n    this.div.style.backgroundColor = '#888';\r\n    this.div.style.lineHeight = '0';\r\n    this.div.style.lineSpasing = '0';\r\n    this.div.style.width = '18px';\r\n    this.div.style.height = '18px';\r\n    this.div.innerHTML = html;\r\n  }\r\n  Btn.prototype.on = function() {\r\n    this.div.style.backgroundColor = '#ddd';\r\n    this.div.style.borderColor = '#ccc';\r\n    this.div.firstChild.style.fill = '#000';\r\n  };\r\n  Btn.prototype.off = function() {\r\n    this.div.style.backgroundColor = '#aaa';\r\n    this.div.style.borderColor = '#ccc';\r\n    this.div.firstChild.style.fill = '#000';\r\n  };\r\n  Btn.prototype.disable = function() {\r\n    this.div.style.backgroundColor = '#888';\r\n    this.div.style.borderColor = '#aaa';\r\n    this.div.firstChild.style.fill = '#555';\r\n  };\r\n  Btn.prototype.title = function(s) { this.div.title = s; };\r\n  var svg_play = '<svg fill=\"#555\" height=\"18\" viewBox=\"0 0 24 24\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8 5v14l11-7z\"/><path d=\"M0 0h24v24H0z\" fill=\"none\"/></svg>';\r\n  var svg_pause = '<svg fill=\"#555\" height=\"18\" viewBox=\"0 0 24 24\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M6 19h4V5H6v14zm8-14v14h4V5h-4z\"/><path d=\"M0 0h24v24H0z\" fill=\"none\"/></svg>';\r\n  var svg_stop = '<svg fill=\"#555\" height=\"18\" viewBox=\"0 0 24 24\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M6 6h12v12H6z\"/></svg>';\r\n  var svg_loop = '<svg fill=\"#555\" height=\"18\" viewBox=\"0 0 24 24\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z\"/></svg>';\r\n  var svg_more = '<svg fill=\"#555\" height=\"18\" viewBox=\"0 0 24 24\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M12 3v9.28c-.47-.17-.97-.28-1.5-.28C8.01 12 6 14.01 6 16.5S8.01 21 10.5 21c2.31 0 4.2-1.75 4.45-4H15V6h4V3h-7z\"/></svg>';\r\n  var svg_open = '<svg fill=\"#555\" xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M10 4H2v16h20V6H12l-2-2z\"/></svg>';\r\n  var svg_link = '<svg fill=\"#555\" xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z\"/><path fill=\"none\" d=\"M0 0h24v24H0z\"/></svg>';\r\n  var svg_close = '<svg stroke=\"#ff8\" xmlns=\"http://www.w3.org/2000/svg\" width=\"7\" height=\"7\" viewBox=\"0 0 7 7\"><line x1=\"1\" y1=\"1\" x2=\"6\" y2=\"6\"/><line x1=\"1\" y1=\"6\" x2=\"6\" y2=\"1\"/></svg>';\r\n\r\n  function _stopProp(e) { e.stopPropagation(); e.preventDefault(); }\r\n\r\n  function _createGUI(self, arg) {\r\n    self.gui = document.createElement('div');\r\n    self.gui.style.display = 'inline-block';\r\n    self.gui.style.position = 'relative';\r\n    self.gui.style.boxSizing = 'content-box';\r\n    self.gui.style.margin = '0px';\r\n    self.gui.style.padding = '0px';\r\n    self.gui.style.borderStyle = 'none';\r\n    self.gui.style.backgroundColor = '#888';\r\n    self.gui.style.width = '270px';\r\n    self.gui.style.height = '40px';\r\n\r\n    var left = 8;\r\n    var right = 238;\r\n    var step = 28;\r\n\r\n    if (arg.play) {\r\n      self.playBtn = new Btn(svg_play);\r\n      self.playBtn.div.style.left = left + 'px';\r\n      left += step;\r\n      self.playBtn.div.title = 'play';\r\n      self.playBtn.div.addEventListener('click', function() { self.play(); });\r\n      self.gui.appendChild(self.playBtn.div);\r\n    }\r\n    else self.playBtn = _noBtn;\r\n\r\n    if (arg.pause) {\r\n      self.pauseBtn = new Btn(svg_pause);\r\n      self.pauseBtn.div.style.left = left + 'px';\r\n      left += step;\r\n      self.pauseBtn.div.title = 'pause';\r\n      self.pauseBtn.div.addEventListener('click', function() { self.pause(); });\r\n      self.gui.appendChild(self.pauseBtn.div);\r\n    }\r\n    else self.pauseBtn = _noBtn;\r\n\r\n    if (arg.stop) {\r\n      self.stopBtn = new Btn(svg_stop);\r\n      self.stopBtn.div.style.left = left + 'px';\r\n      left += step;\r\n      self.stopBtn.div.title = 'stop';\r\n      self.stopBtn.div.addEventListener('click', function() { self.stop(); });\r\n      self.gui.appendChild(self.stopBtn.div);\r\n    }\r\n    else self.stopBtn = _noBtn;\r\n\r\n    if (arg.loop) {\r\n      self.loopBtn = new Btn(svg_loop);\r\n      self.loopBtn.div.style.left = left + 'px';\r\n      left += step;\r\n      self.loopBtn.div.title = 'loop';\r\n      self.loopBtn.div.addEventListener('click', function() { self.loop(); });\r\n      self.gui.appendChild(self.loopBtn.div);\r\n    }\r\n    else self.loopBtn = _noBtn;\r\n\r\n    if (arg.midi) {\r\n      self.midiBtn = new Btn(svg_more);\r\n      self.midiBtn.div.style.left = right + 'px';\r\n      right -= step;\r\n      self.midiBtn.div.title = 'midi';\r\n      self.midiBtn.div.addEventListener('click', function() { self.settings(); });\r\n      self.gui.appendChild(self.midiBtn.div);\r\n\r\n      self.sel = document.createElement('select');\r\n      self.sel.style.position = 'absolute';\r\n      self.sel.style.top = '30px';\r\n      self.sel.style.left = '40px';\r\n      self.sel.style.width = '230px';\r\n      self.sel.style.display = 'none';\r\n      self.sel.style.zIndex = 1;\r\n      self.sel.addEventListener('click', function() { self._selected(); });\r\n      self.sel.addEventListener('keydown', function(e) { self._keydown(e); });\r\n      self.sel.addEventListener('focusout', function() { self._closeselect(); });\r\n\r\n      self.gui.appendChild(self.sel);\r\n    }\r\n    else self.midiBtn = _noBtn;\r\n\r\n    if (arg.link) {\r\n      self.linkBtn = new Btn(svg_link);\r\n      self.linkBtn.div.style.left = right + 'px';\r\n      right -= step;\r\n      self.linkBtn.div.title = 'link';\r\n      self.gui.appendChild(self.linkBtn.div);\r\n    }\r\n\r\n    if (arg.file) {\r\n      self.fileBtn = new Btn(svg_open);\r\n      self.fileBtn.div.style.left = right + 'px';\r\n      right -= step;\r\n      self.fileBtn.div.title = 'file';\r\n      self.gui.appendChild(self.fileBtn.div);\r\n\r\n      self.fileInput = document.createElement('input');\r\n      self.fileInput.type = 'file';\r\n      self.fileInput.style.position = 'fixed';\r\n      self.fileInput.style.top = '-1000px';\r\n      self.fileInput.accept = '.mid, .midi, .kar, .rmi, .syx';\r\n      self.gui.appendChild(self.fileInput);\r\n\r\n      if (window.FileReader) {\r\n        self.fileBtn.off();\r\n        self.fileBtn.div.addEventListener('click', function() { self.fileInput.click(); });\r\n        self.fileInput.addEventListener('change', function(e) { _stopProp(e); if (e.target.files[0]) self.readFile(e.target.files[0]); });\r\n        self.gui.addEventListener('drop', function(e) { _stopProp(e); self.fileBtn.off(); self.readFile(e.dataTransfer.files[0]); });\r\n        self.gui.addEventListener('dragover', function(e) { _stopProp(e); self.fileBtn.on(); e.dataTransfer.dropEffect = 'copy'; });\r\n        self.gui.addEventListener('dragexit', function(e) { _stopProp(e); self.fileBtn.off(); });\r\n      }\r\n    }\r\n    else self.fileBtn = _noBtn;\r\n\r\n    if (arg.close) {\r\n      self.closeBtn = document.createElement('div');\r\n      self.closeBtn.style.display = 'inline-block';\r\n      self.closeBtn.style.position = 'absolute';\r\n      self.closeBtn.style.boxSizing = 'content-box';\r\n      self.closeBtn.style.top = '1px';\r\n      self.closeBtn.style.left = '262px';\r\n      self.closeBtn.style.margin = '0';\r\n      self.closeBtn.style.padding = '0';\r\n      self.closeBtn.style.backgroundColor = '#f44';\r\n      self.closeBtn.style.width = '7px';\r\n      self.closeBtn.style.height = '7px';\r\n      self.closeBtn.style.lineHeight = '0';\r\n      self.closeBtn.style.lineSpasing = '0';\r\n      self.closeBtn.innerHTML = svg_close;\r\n      self.closeBtn.title = 'close';\r\n      self.closeBtn.addEventListener('click', function() { self.destroy(); });\r\n      self.gui.appendChild(self.closeBtn);\r\n    }\r\n\r\n    self.rlen = right - left + 10;\r\n\r\n    self.lbl = document.createElement('div');\r\n    self.lbl.style.display = 'inline-block';\r\n    self.lbl.style.position = 'absolute';\r\n    self.lbl.style.top = '26px';\r\n    self.lbl.style.left = left + 'px';\r\n    self.lbl.style.width = (self.rlen + 10) + 'px';\r\n    self.lbl.style.height = '12px';\r\n    self.lbl.style.padding = '0';\r\n    self.lbl.style.textAlign = 'center';\r\n    self.lbl.style.color = '#aaa';\r\n    self.lbl.style.fontSize = '12px';\r\n    self.lbl.style.fontFamily = 'Arial, Helvetica, sans-serif';\r\n    self.gui.appendChild(self.lbl);\r\n\r\n    self.rail = document.createElement('div');\r\n    self.rail.style.display = 'inline-block';\r\n    self.rail.style.position = 'absolute';\r\n    self.rail.style.boxSizing = 'content-box';\r\n    self.rail.style.top = '19px';\r\n    self.rail.style.left = (left + 5) + 'px';\r\n    self.rail.style.width = self.rlen + 'px';\r\n    self.rail.style.height = '0';\r\n    self.rail.style.padding = '1px';\r\n    self.rail.style.borderStyle = 'solid';\r\n    self.rail.style.borderWidth = '1px';\r\n    self.rail.style.borderRadius = '2px';\r\n    self.rail.style.borderColor = '#aaa';\r\n    self.rail.style.backgroundColor = '#888';\r\n    self.gui.appendChild(self.rail);\r\n\r\n    self.caret = document.createElement('div');\r\n    self.caret.style.display = 'inline-block';\r\n    self.caret.style.position = 'absolute';\r\n    self.caret.style.boxSizing = 'content-box';\r\n    self.caret.style.width = '2px';\r\n    self.caret.style.height = '2px';\r\n    self.caret.style.top = '-5px';\r\n    self.caret.style.left = '-5px';\r\n    self.caret.style.padding = '4px';\r\n    self.caret.style.borderStyle = 'solid';\r\n    self.caret.style.borderWidth = '1px';\r\n    self.caret.style.borderRadius = '6px';\r\n    self.caret.style.borderColor = '#aaa';\r\n    self.caret.style.backgroundColor = '#888';\r\n    self.caret.addEventListener('mousedown', function(e) { self._mousedown(e); });\r\n    self.rail.appendChild(self.caret);\r\n\r\n    window.addEventListener('mousemove', function(e) { self._mousemove(e); });\r\n    window.addEventListener('mouseup', function(e) { self._mouseup(e); });\r\n  }\r\n\r\n  var _floating = 0;\r\n  function Player(x, y) {\r\n    if (!(this instanceof Player)) return new Player(x, y);\r\n    var arg = {\r\n      at: undefined,\r\n      x: undefined,\r\n      y: undefined,\r\n      play: true,\r\n      record: false,\r\n      pause: true,\r\n      stop: true,\r\n      loop: true,\r\n      file: false,\r\n      link: false,\r\n      midi: true,\r\n      close: false,\r\n      sndoff: true,\r\n      ports: [undefined, /MIDI Through/i],\r\n      connect: true\r\n    };\r\n    if (typeof x == 'object') for (var k in arg) if (arg.hasOwnProperty(k) && typeof x[k] != 'undefined') arg[k] = x[k];\r\n    if (typeof arg.at == 'undefined') arg.at = x;\r\n    if (typeof arg.x == 'undefined') arg.x = x;\r\n    if (typeof arg.y == 'undefined') arg.y = y;\r\n    _createGUI(this, arg);\r\n    if (!(arg.ports instanceof Array)) arg.ports = [arg.ports];\r\n    arg.ports.push(undefined);\r\n    this._ports = arg.ports;\r\n    this._conn = arg.connect;\r\n    this._sndoff = arg.sndoff;\r\n    this.disable();\r\n\r\n    if (typeof arg.at == 'string') {\r\n      try {\r\n        document.getElementById(arg.at).appendChild(this.gui);\r\n        return this;\r\n      }\r\n      catch(e) {}\r\n    }\r\n    try {\r\n      arg.at.appendChild(this.gui);\r\n      return this;\r\n    }\r\n    catch(e) {}\r\n\r\n    if (arg.x != parseInt(arg.x) || arg.y != parseInt(arg.y)) {\r\n      arg.x = _floating * 15 + 5;\r\n      arg.y = _floating * 45 + 5;\r\n      _floating++;\r\n    }\r\n    this.gui.style.position = 'fixed';\r\n    this.gui.style.top = arg.y + 'px';\r\n    this.gui.style.left = arg.x + 'px';\r\n    this.gui.style.opacity = 0.9;\r\n    var self = this;\r\n    this.gui.addEventListener('mousedown', function(e) { self._startmove(e); });\r\n    document.body.appendChild(this.gui);\r\n  }\r\n  Player.prototype = new JZZ.Widget();\r\n  Player.prototype.constructor = Player;\r\n\r\n  Player.prototype.label = function(html) {\r\n    this.lbl.innerHTML = html;\r\n  };\r\n  Player.prototype.disable = function() {\r\n    this.playBtn.disable();\r\n    this.pauseBtn.disable();\r\n    this.stopBtn.disable();\r\n    this.loopBtn.disable();\r\n    this.midiBtn.disable();\r\n    if (this._conn) this.midiBtn.off();\r\n    this.fileBtn.off();\r\n    this.rail.style.borderColor = '#aaa';\r\n    this.rail.style.backgroundColor = '#888';\r\n    this.caret.style.borderColor = '#aaa';\r\n    this.caret.style.backgroundColor = '#888';\r\n  };\r\n  Player.prototype.enable = function() {\r\n    this.playBtn.off();\r\n    this.pauseBtn.off();\r\n    this.stopBtn.off();\r\n    this.loopBtn.off();\r\n    if (this._conn) this.midiBtn.off();\r\n    this.rail.style.borderColor = '#ccc';\r\n    this.caret.style.backgroundColor = '#aaa';\r\n    this.caret.style.borderColor = '#ccc';\r\n  };\r\n  Player.prototype.load = function(smf) {\r\n    var self = this;\r\n    this._player = smf.player();\r\n    this._player.trim();\r\n    this._player.connect(this);\r\n    this._player.onEnd = function() { self._onEnd(); };\r\n    this._player.filter(this._setfilter);\r\n    if (!this._sndoff) this._player.sndOff = nop;\r\n    this.enable();\r\n    this.onLoad(smf);\r\n  };\r\n  Player.prototype.filter = function(f) {\r\n    this._setfilter = f instanceof Function ? f : undefined;\r\n    if (this._player) this._player.filter(this._setfilter);\r\n  };\r\n  Player.prototype.onSelect = nop;\r\n  Player.prototype.onEnd = nop;\r\n  Player.prototype.onLoad = nop;\r\n  Player.prototype._onEnd = function() {\r\n    this.onEnd();\r\n    if (this._loop && this._loop != -1) this._loop--;\r\n    if (!this._loop) {\r\n      if (this._moving) clearInterval(this._moving);\r\n      this._move();\r\n      this._playing = false;\r\n      this.playBtn.off();\r\n    }\r\n    else {\r\n      if (this._loop == 1) {\r\n        this._loop = 0;\r\n        this.loopBtn.off();\r\n        this.loopBtn.title('loop');\r\n      }\r\n      else this.loopBtn.title('loop: ' + (this._loop == -1 ? '\\u221e' : this._loop));\r\n    }\r\n  };\r\n  Player.prototype._move = function() {\r\n    var off = Math.round(this._player.positionMS() * this.rlen / this._player.durationMS()) - 5;\r\n    this.caret.style.left = off + 'px';\r\n  };\r\n  Player.prototype.onPlay = nop;\r\n  Player.prototype.onResume = nop;\r\n  Player.prototype._resume = function() {\r\n    var self = this;\r\n    this._player.resume();\r\n    this._moving = setInterval(function() { self._move(); }, 100);\r\n  };\r\n  Player.prototype.play = function() {\r\n    if (this._player) {\r\n      var self = this;\r\n      this.playBtn.on();\r\n      this.pauseBtn.off();\r\n      if (this._playing) return;\r\n      if (this._paused) this.onResume();\r\n      else this.onPlay();\r\n      this._playing = true;\r\n      this._paused = false;\r\n      if (this._out || !this._conn) {\r\n        this._resume();\r\n      }\r\n      else if (!this._waiting) {\r\n        this._waiting = true;\r\n        JZZ().openMidiOut(self._ports).and(function() {\r\n          self._out = this;\r\n          self._outname = this.name();\r\n          self.midiBtn.title(self._outname);\r\n          self._connect(this);\r\n          self._waiting = false;\r\n          self.onSelect(self._outname);\r\n          if (self._playing) {\r\n            self._resume();\r\n          }\r\n        }).or(function() {\r\n          self._waiting = false;\r\n          self._resume();\r\n        });\r\n      }\r\n    }\r\n  };\r\n  Player.prototype.onStop = nop;\r\n  Player.prototype.stop = function() {\r\n    if (this._player) {\r\n      var self = this;\r\n      this._player.stop();\r\n      JZZ.lib.schedule(function() { self.onStop(); });\r\n      if (this._moving) clearInterval(this._moving);\r\n      this._playing = false;\r\n      this._paused = false;\r\n      this.playBtn.off();\r\n      this.pauseBtn.off();\r\n      this._move();\r\n    }\r\n  };\r\n  Player.prototype.onPause = nop;\r\n  Player.prototype.pause = function(p) {\r\n    if (this._player) {\r\n      var self = this;\r\n      if (this._paused) {\r\n        if (typeof p == 'undefined' || p) {\r\n          if (this._out) {\r\n            this._resume();\r\n            this.onResume();\r\n            this._playing = true;\r\n            this._paused = false;\r\n            this.playBtn.on();\r\n            this.pauseBtn.off();\r\n          }\r\n          else this.play();\r\n        }\r\n      }\r\n      else if (this._playing) {\r\n        if (typeof p == 'undefined' || !p) {\r\n          this._player.pause();\r\n          JZZ.lib.schedule(function() { self.onPause(); });\r\n          if (this._moving) clearInterval(this._moving);\r\n          this._playing = false;\r\n          this._paused = true;\r\n          this.playBtn.off();\r\n          this.pauseBtn.on();\r\n        }\r\n      }\r\n    }\r\n  };\r\n  Player.prototype.loop = function(n) {\r\n    if (this._player) {\r\n      if (typeof n == 'undefined') n = !this._loop;\r\n      if (n == parseInt(n) && n > 0) this._loop = n;\r\n      else this._loop = n ? -1 : 0;\r\n      if (this._loop == 1) this._loop = 0;\r\n      this._player.loop(this._loop);\r\n      if (this._loop) {\r\n        this.loopBtn.on();\r\n        this.loopBtn.title('loop: ' + (this._loop == -1 ? '\\u221e' : this._loop));\r\n      }\r\n      else {\r\n        this.loopBtn.off();\r\n        this.loopBtn.title('loop');\r\n      }\r\n    }\r\n  };\r\n  Player.prototype.onClose = nop;\r\n  Player.prototype.destroy = function() {\r\n    this.stop();\r\n    if (this._out) {\r\n      var out = this._out;\r\n      JZZ.lib.schedule(function() { out.close(); });\r\n    }\r\n    this.gui.parentNode.removeChild(this.gui);\r\n    this.onClose();\r\n  };\r\n\r\n  Player.prototype.setUrl = function(url, name) {\r\n    if (this.linkBtn) {\r\n      if (this._url) {\r\n        this.linkBtn.div.appendChild(this._url.firstChild);\r\n        this.linkBtn.div.removeChild(this._url);\r\n        this._url = undefined;\r\n      }\r\n      if (typeof url == 'undefined') this.linkBtn.disable();\r\n      else {\r\n        this.linkBtn.off();\r\n        this._url = document.createElement('a');\r\n        this._url.target = '_blank';\r\n        this._url.appendChild(this.linkBtn.div.firstChild);\r\n        this.linkBtn.div.appendChild(this._url);\r\n        this._url.href = url;\r\n        if (!this._url.dataset) this._url.dataset = {};\r\n        this._url.dataset.jzzGuiPlayer = true;\r\n        if (typeof name != 'undefined') this._url.download = name;\r\n      }\r\n    }\r\n  };\r\n\r\n  Player.prototype.readFile = function(f) {\r\n    var self = this;\r\n    var reader = new FileReader();\r\n    reader.onload = function(e) {\r\n      var data = '';\r\n      var bytes = new Uint8Array(e.target.result);\r\n      for (var i = 0; i < bytes.length; i++) data += String.fromCharCode(bytes[i]);\r\n      var smf;\r\n      try {\r\n        smf = new JZZ.MIDI.SYX(data);\r\n      }\r\n      catch (err) {}\r\n      try {\r\n        if (!smf) smf = new JZZ.MIDI.SMF(data);\r\n        self.stop();\r\n        JZZ.lib.schedule(function() { self.load(smf); });\r\n        if (self.linkBtn) self.setUrl('data:audio/midi;base64,' + JZZ.lib.toBase64(data), f.name);\r\n      }\r\n      catch (err) { console.log(err.message); }\r\n    };\r\n    reader.readAsArrayBuffer(f);\r\n  };\r\n\r\n  // selecting MIDI\r\n\r\n  Player.prototype.onSelect = nop;\r\n  Player.prototype._closeselect = function() {\r\n    this.midiBtn.off();\r\n    this.sel.style.display = 'none';\r\n    this._more = false;\r\n  };\r\n  Player.prototype.settings = function() {\r\n    if (this._more || !this._conn) return;\r\n    var self = this;\r\n    this._more = true;\r\n    this.midiBtn.on();\r\n    this.sel.style.display = 'inline-block';\r\n    JZZ().refresh().and(function() {\r\n      var outs = this.info().outputs;\r\n      var i;\r\n      for (i = 0; i < self.sel.options.length; i++) self.sel.remove(i);\r\n      for (i = 0; i < outs.length; i++) self.sel[i] = new Option(outs[i].name, outs[i].name, outs[i].name == self._outname, outs[i].name == self._outname);\r\n      self.sel.size = outs.length < 2 ? 2 : outs.length;\r\n      self.sel.focus();\r\n    });\r\n  };\r\n  Player.prototype._selectMidi = function() {\r\n    var self = this;\r\n    JZZ().openMidiOut(this._newname).or(function() {\r\n      self._newname = undefined;\r\n      self._closeselect();\r\n    }).and(function() {\r\n      self._newname = undefined;\r\n      if (self._outname != this.name()) {\r\n        self._outname = this.name();\r\n        self._closeselect();\r\n        if (self._out) {\r\n          if (self._playing) for (var c = 0; c < 16; c++) self._out._receive(JZZ.MIDI.allSoundOff(c));\r\n          self._disconnect(self._out);\r\n          self._out.close();\r\n        }\r\n        self._out = this;\r\n        self._connect(this);\r\n        self.midiBtn.title(self._outname);\r\n        self.onSelect(self._outname);\r\n        setTimeout(function() { self.onSelect(self._outname); }, 0);\r\n      }\r\n    });\r\n  };\r\n  Player.prototype.select = function(name) {\r\n    var self = this;\r\n    this._newname = name || 0;\r\n    if (this._newname == this._outname) {\r\n      this._newname = undefined;\r\n      this._closeselect();\r\n    }\r\n    else {\r\n      setTimeout(function() { self._selectMidi(); }, 0);\r\n    }\r\n  };\r\n  Player.prototype._selected = function() {\r\n    var selected = this.sel.options[this.sel.selectedIndex];\r\n    if (selected) this.select(selected.value);\r\n  };\r\n  Player.prototype._keydown = function(e) {\r\n    if (e.keyCode == 13 || e.keyCode == 32) this._selected();\r\n  };\r\n\r\n  Player.prototype.type = function() { return this._player ? this._player.type() : 0; };\r\n  Player.prototype.tracks = function() { return this._player ? this._player.tracks() : 0; };\r\n  Player.prototype.duration = function() { return this._player ? this._player.duration() : 0; };\r\n  Player.prototype.durationMS = function() { return this._player ? this._player.durationMS() : 0; };\r\n  Player.prototype.position = function() { return this._player ? this._player.position() : 0; };\r\n  Player.prototype.positionMS = function() { return this._player ? this._player.positionMS() : 0; };\r\n  Player.prototype.tick2ms = function() { return this._player ? this._player.tick2ms() : 0; };\r\n  Player.prototype.ms2tick = function() { return this._player ? this._player.ms2tick() : 0; };\r\n  Player.prototype.onJump = nop;\r\n  Player.prototype.jump = function(pos) {\r\n    if (this._player) {\r\n      this._player.jump(pos);\r\n      this._move();\r\n      if (!this._playing) {\r\n        if (pos) {\r\n          this._paused = true;\r\n          this.playBtn.off();\r\n          this.pauseBtn.on();\r\n        }\r\n        else {\r\n          this._paused = false;\r\n          this.playBtn.off();\r\n          this.pauseBtn.off();\r\n        }\r\n      }\r\n      this.onJump(this._player.position());\r\n    }\r\n  };\r\n  Player.prototype.jumpMS = function(pos) {\r\n    if (this._player) {\r\n      this._player.jumpMS(pos);\r\n      this._move();\r\n      if (!this._playing) {\r\n        if (pos) {\r\n          this._paused = true;\r\n          this.playBtn.off();\r\n          this.pauseBtn.on();\r\n        }\r\n        else {\r\n          this._paused = false;\r\n          this.playBtn.off();\r\n          this.pauseBtn.off();\r\n        }\r\n      }\r\n      this.onJump(this._player.position());\r\n    }\r\n  };\r\n\r\n  Player.prototype.speed = function(x) { return this._player ? this._player.speed(x) : 1; };\r\n\r\n  // mouse dragging\r\n  function _lftBtnDn(e) { return typeof e.buttons == 'undefined' ? !e.button : e.buttons & 1; }\r\n\r\n  Player.prototype._mousedown = function(e) {\r\n    if (_lftBtnDn(e) && this._player) {\r\n      if (!this._more) e.preventDefault();\r\n      this.caret.style.backgroundColor = '#ddd';\r\n      this._wasPlaying = this._playing;\r\n      this._player.pause();\r\n      this._caretX = e.clientX;\r\n      this._caretPos = parseInt(this.caret.style.left) + 5;\r\n    }\r\n  };\r\n  Player.prototype._startmove = function(e) {\r\n    if (_lftBtnDn(e)) {\r\n      if (!this._more) e.preventDefault();\r\n      this._startX = parseInt(this.gui.style.left);\r\n      this._startY = parseInt(this.gui.style.top);\r\n      this._clickX = e.clientX;\r\n      this._clickY = e.clientY;\r\n    }\r\n  };\r\n  Player.prototype._mouseup = function() {\r\n    if (this._player) {\r\n      if (typeof this._caretX != 'undefined') {\r\n        if (this._wasPlaying) {\r\n          this._wasPlaying = undefined;\r\n          this._player.resume();\r\n        }\r\n        this.caret.style.backgroundColor = '#aaa';\r\n        this._caretX = undefined;\r\n      }\r\n    }\r\n    if (typeof this._startX != 'undefined') {\r\n      this._startX = undefined;\r\n      this._startY = undefined;\r\n      this._clickX = undefined;\r\n      this._clickY = undefined;\r\n    }\r\n  };\r\n  Player.prototype._mousemove = function(e) {\r\n    if (this._more) {\r\n      this._startX = undefined;\r\n      this._startY = undefined;\r\n      this._clickX = undefined;\r\n      this._clickY = undefined;\r\n    }\r\n    if (this._player && typeof this._caretX != 'undefined') {\r\n      e.preventDefault();\r\n      var to = this._caretPos + e.clientX - this._caretX;\r\n      if (to < 0) to = 0;\r\n      if (to > this.rlen) to = this.rlen;\r\n      this.jumpMS(this.durationMS() * to * 1.0 / this.rlen);\r\n    }\r\n    else if (typeof this._startX != 'undefined') {\r\n      e.preventDefault();\r\n      this.gui.style.left = this._startX - this._clickX + e.clientX + 'px';\r\n      this.gui.style.top = this._startY - this._clickY + e.clientY + 'px';\r\n    }\r\n  };\r\n\r\n  Player.prototype._connect = Player.prototype.connect;\r\n  Player.prototype._disconnect = Player.prototype.disconnect;\r\n\r\n  Player.prototype.connect = function(port) {\r\n    if (port == this) {\r\n      this._conn = true;\r\n      this.midiBtn.off();\r\n    }\r\n    else {\r\n      this._connect(port);\r\n    }\r\n  };\r\n  Player.prototype.disconnect = function(port) {\r\n    if (port == this) {\r\n      this._conn = false;\r\n      if (this._out) this._disconnect(this._out);\r\n      this._outname = undefined;\r\n      this.midiBtn.disable();\r\n    }\r\n    else {\r\n      this._disconnect(port);\r\n    }\r\n  };\r\n  Player.prototype.connected = function() { return this._outname; };\r\n\r\n  JZZ.gui.Player = Player;\r\n});\r\n",null],"names":["Victor","x","y","this","module","exports","fromArray","arr","fromObject","obj","prototype","addX","vec","addY","add","addScalar","scalar","addScalarX","addScalarY","subtractX","subtractY","subtract","subtractScalar","subtractScalarX","subtractScalarY","divideX","vector","divideY","divide","divideScalar","divideScalarX","divideScalarY","invertX","invertY","invert","multiplyX","multiplyY","multiply","multiplyScalar","multiplyScalarX","multiplyScalarY","normalize","length","norm","limit","max","factor","Math","abs","randomize","topLeft","bottomRight","randomizeX","randomizeY","min","random","randomizeAny","round","unfloat","toFixed","precision","mixX","amount","mixY","mix","clone","copyX","copyY","copy","zero","dot","vec2","cross","projectOnto","coeff","horizontalAngle","atan2","horizontalAngleDeg","radian2degrees","verticalAngle","verticalAngleDeg","angle","angleDeg","direction","rotate","nx","cos","sin","ny","rotateDeg","degrees2radian","rotateTo","rotation","rotateToDeg","rotateBy","rotateByDeg","distanceX","absDistanceX","distanceY","absDistanceY","distance","sqrt","distanceSq","dx","dy","lengthSq","magnitude","isZero","isEqualTo","toString","toArray","toObject","degrees","PI","floor","rad","deg","$6556881a28bccb49$var$path","$6556881a28bccb49$var$v","$jR6xi","versions","node","split","platform","arch","require","package","$6556881a28bccb49$var$__dirname","$e7480974824575b3$var$cachedSetTimeout","$e7480974824575b3$var$cachedClearTimeout","$e7480974824575b3$var$process","$e7480974824575b3$var$defaultSetTimout","Error","$e7480974824575b3$var$defaultClearTimeout","$e7480974824575b3$var$runTimeout","fun","setTimeout","e","call","e1","clearTimeout","$e7480974824575b3$var$currentQueue","$e7480974824575b3$var$queue","$e7480974824575b3$var$draining","$e7480974824575b3$var$queueIndex","$e7480974824575b3$var$cleanUpNextTick","concat","$e7480974824575b3$var$drainQueue","timeout","len","run","marker","$e7480974824575b3$var$runClearTimeout","$e7480974824575b3$var$Item","array","$e7480974824575b3$var$noop","nextTick","args","Array","arguments","i","push","apply","title","browser","env","argv","version","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","parcelRequire","register","JSON","parse","$1fb7f46a868df69e$var$ReflectOwnKeys","$1fb7f46a868df69e$var$R","Reflect","$1fb7f46a868df69e$var$ReflectApply","target","receiver","Function","ownKeys","Object","getOwnPropertySymbols","getOwnPropertyNames","$1fb7f46a868df69e$var$NumberIsNaN","Number","isNaN","value","$1fb7f46a868df69e$var$EventEmitter","init","$1fb7f46a868df69e$exports","emitter","Promise","resolve","reject","errorListener","err","resolver","slice","$1fb7f46a868df69e$var$eventTargetAgnosticAddListener","handler","flags","$1fb7f46a868df69e$var$addErrorHandlerIfEventEmitter","EventEmitter","_events","undefined","_eventsCount","_maxListeners","$1fb7f46a868df69e$var$defaultMaxListeners","$1fb7f46a868df69e$var$checkListener","listener","TypeError","$1fb7f46a868df69e$var$_getMaxListeners","that","defaultMaxListeners","$1fb7f46a868df69e$var$_addListener","type","prepend","m","events","existing","warning","create","newListener","unshift","warned","w","String","count","console","warn","$1fb7f46a868df69e$var$onceWrapper","fired","wrapFn","$1fb7f46a868df69e$var$_onceWrap","state","wrapped","bind","$1fb7f46a868df69e$var$_listeners","unwrap","evlistener","ret","$1fb7f46a868df69e$var$unwrapListeners","$1fb7f46a868df69e$var$arrayClone","$1fb7f46a868df69e$var$listenerCount","n","addEventListener","wrapListener","arg","removeEventListener","defineProperty","enumerable","get","set","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","error","er","message","context","list","position","originalListener","shift","index","pop","$1fb7f46a868df69e$var$spliceOne","key","keys","rawListeners","listenerCount","eventNames","$4101224ddda142b7$var$defaultOptions","channelMask","$4101224ddda142b7$var$eventNames","$4101224ddda142b7$export$2e2bcd8739ae039","constructor","options","super","process","data","handleMidiMessageData","handleEvent","event","handleMidiMessageEvent","status","subtype","channel","handleMidiChannelMessage","subtype1","handleMidiSystemMessage","channelMessageFunc1Map","channelMessageFunc2Map","handleNoteOffMessage","handleNoteOnMessage","handleControlChangeMessage2","useChannel","channelBit","func","func1","systemMessageFuncMap","handleResetMessage","handleMidiControlChangeMessage","controller","controllerFunc","controllerFuncMap","handleControlChangeHoldMessage","handleControlChangeSostenutoMessage","handleControlChangeAllSoundsOffMessage","handleControlChangeAllNotesOffMessage","handleControlChangeAllControllersOffMessage","note","velocity","$9c81ef709b97fbe8$export$2e2bcd8739ae039","port","processor","inputPort","handlePortStateChange","static","midiAccess","midiInputPortName","portFilterPredicate","midiPorts","inputs","values","filter","handleStateChange","isInputPort","open","getProcessor","$eec37f165b564a52$export$2e2bcd8739ae039","attack","decay","release","gateDuration","inMin","inMax","outMin","outMax","LINEAR","curveLinear","EXPONENTIAL","curveExponential","attackDuration","attackCurve","CURVES","peakLevel","decayDuration","decayCurve","sustainDuration","Infinity","sustainLevel","releaseDuration","releaseCurve","DEFAULTS","duration","targetLevel","curve","_valueAtADS","elapsedTime","timeInSection","sourceLevel","forEach","_valueAtR","elapsedTimeSinceRelease","levelAtReleaseTime","_minReleaseTime","releaseTime","valueAt","minReleaseTime","timeInReleaseSection","isOver","$lTkkF","$adda4ef23e80f8e9$export$2e2bcd8739ae039","midiNote","midiVelocity","envelope","startTime","holdState","sustainState","shouldRelease","performance","now","sustain","enable","isHeld","isOff","forceOff","isSustained","hold","getVolume","$f4f0b831ae33b4f4$export$c8f2e574698899d6","splat","$89c2b19e645a7485$export$2e2bcd8739ae039","angleOffset","color","lastCoords","secondsPerRotation","$7OQi3","isRGBColor","getPointerCoordinates","update","getInterpolationParameter","t","$kms2t","default","MIDI_VELOCITY_FACTOR","MIDI_VELOCITY_OFFSET","radius","RADIUS","splatRadius","SPLAT_RADIUS","center","$parcel$interopDefault","start","end","volume","p","d","$24c7f5dde983a434$var$adsrEnvelope","$24c7f5dde983a434$var$channelEnvelopes","fill","$24c7f5dde983a434$var$channelNoteSplashLists","map","$24c7f5dde983a434$var$channelHold","$24c7f5dde983a434$export$a2b6353e9736276b","midiChannel","midiControllerValue","ns","$24c7f5dde983a434$export$5221a85567936f4c","sostenuto","$24c7f5dde983a434$export$7f6bb5bc0648b12b","$24c7f5dde983a434$export$306c625fe25b743e","$24c7f5dde983a434$export$68745e1e5efda758","$24c7f5dde983a434$var$releaseADSRNoteSplash","force","turnOff","$24c7f5dde983a434$export$a6328a4d8d615e7a","$24c7f5dde983a434$export$e03a6f121205184b","noteSplashList","adsr","generateRandomColor","noteSplash","$24c7f5dde983a434$var$addADSRNoteSplash","$24c7f5dde983a434$export$aad8462122ac592b","$cYGg1","splice","startNow","$5400dca7e3fb7514$exports","j","k","_scope","window","$parcel$global","_version","_time","Date","getTime","_startTime","_now","_schedule","f","_nop","_func","_R","_orig","_ready","_queue","_log","_then","good","bad","_bad","_err","_wait","delay","_crash","_resume","_kick","_break","_rechain","self","_image","_push","_and","q","log","_or","_close","_tryAny","_slip","_repair","_pop","_J","_for","hasOwnProperty","_clone","val","_exec","_pause","_dup","F","_thenable","then","wait","and","or","_info","info","engine","sysex","close","ver","outputs","_jzz","_outs","_ins","_outsW","_insW","_postRefresh","_engine","_type","_sysex","_allOuts","_allIns","id","manufacturer","_virtual","_watcher","_handles","diff","_diff","removed","_inMap","_closeAll","_outMap","_fireW","_refresh","_filterList","before","after","etc","a","RegExp","test","_notFound","msg","_openMidiOut","pack","_openOut","_openMidiIn","_openIn","_onChange","watcher","_connectW","_M","_receive","_emit","_connect","_disconnect","_mpe","MPE","setup","_validateChannel","c","parseInt","_W","_watch","_disconnectW","_unwatch","_changed","x0","y0","x1","y1","ax","ay","rx","ry","h","added","refresh","openMidiOut","_openMidiOutNR","openMidiIn","_openMidiInNR","onChange","_filter","out","outs","send","MIDI","v","noteOn","_ch","_master","noteOff","_stamp","_stamped","connect","disconnect","connected","dup","_sxid","_band","sxId","_7b","img","ch","mpe","validate","_navigator","_requestMIDIAccess","_tryNODE","_initNode","_tryJazzPlugin","div","document","createElement","style","visibility","body","appendChild","width","height","classid","isJazz","_initJazzPlugin","_findMidiAccess","navigator","requestMIDIAccess","indexOf","_tryWebMIDI","onGood","midi","_initWebMIDI","onBad","opt","_tryWebMIDIsysex","_tryCRX","inst","eventHandle","getElementById","innerText","_initCRX","dispatchEvent","Event","_zeroBreak","_filterEngines","_filterEngineNames","degrade","_initNONE","web","none","head","tail","toLowerCase","_initJZZ","_options","_initEngineJP","clients","_inArr","_outArr","_main","MidiOutInfo","MidiInInfo","impl","_pool","_newPlugin","_closeOut","plugin","MidiOutRaw","s","MidiOutOpen","MidiOutClose","_impl","_closeIn","handle","makeHandle","onmidi","MidiInOpen","MidiInClose","setInterval","clearInterval","plg","access","_access","found","dev","evt","onmidimessage","onstatechange","refreshClients","_msg","CustomEvent","detail","ready","client","_start","output","input","ins","JZZ","Widget","SMPTE","reset","_fixDropFrame","second","frame","minute","_825","_mtc","backwards","quarter","decrFrame","incrFrame","hour","_hrtype","_dec","_smptetxt","join","_from","noteValue","programValue","_throw","addMidiIn","widget","lib","registerMidiIn","addMidiOut","registerMidiOut","setType","getType","setHour","getHour","setMinute","getMinute","setSecond","getSecond","setFrame","getFrame","setQuarter","getQuarter","isFullFrame","incrQF","decrQF","read","_","_b","_f","_a","_noteNum","_float","parseFloat","_MIDI","octaveValue","freq","_7bn","pow","f0","log2","to7b","to14b","to21b","_noteMap","g","b","_oor","_8b","_14b","_16b","_21b","_lsb","_msb","_8bs","charCodeAt","_to777","_01","_rt","_ntu","kkk","vvv","sort","_f2ntu","_hz2ntu","_12x7","_12x14","_helperMPE","aftertouch","_helperCH","control","program","pressure","pitchBend","l","pitchBendF","bankMSB","bankLSB","modMSB","modLSB","breathMSB","breathLSB","footMSB","footLSB","portamentoMSB","portamentoLSB","dataMSB","dataLSB","volumeMSB","volumeLSB","balanceMSB","balanceLSB","panMSB","panLSB","expressionMSB","expressionLSB","damper","portamento","soft","legato","hold2","soundVariation","filterResonance","attackTime","brightness","decayTime","vibratoRate","vibratoDepth","vibratoDelay","ptc","dataIncr","dataDecr","nrpnLSB","nrpnMSB","rpnLSB","rpnMSB","allSoundOff","resetAllControllers","localControl","allNotesOff","omni","mono","poly","_splitMasterTuning","_gsxg12b","_helperNC","mtc","songPosition","songSelect","tune","clock","continue","stop","active","sxIdRequest","sxTuningDumpRequest","sxFullFrame","sxMasterVolume","sxMasterVolumeF","sxMasterFineTuning","sxMasterFineTuningF","sxMasterCoarseTuning","sxMasterCoarseTuningF","sxNoteTuning","sxNoteTuningF","sxNoteTuningHZ","sxScaleTuning1","sxScaleTuning1F","sxScaleTuning2","sxScaleTuning2F","sxGM","gm","sxGS","sxXG","sxid","sxMidiSoft","gsMasterVolume","gsMasterVolumeF","gsMasterFineTuning","gsMasterFineTuningF","gsMasterCoarseTuning","gsMasterCoarseTuningF","gsOctaveTuning","gsOctaveTuningF","xgMasterVolume","xgMasterVolumeF","xgMasterFineTuning","xgMasterFineTuningF","xgMasterCoarseTuning","xgMasterCoarseTuningF","xgOctaveTuning","xgOctaveTuningF","sxScaleTuning","sxScaleTuningF","sxMasterTranspose","sxMasterTransposeF","gsMasterTranspose","gsMasterTransposeF","xgMasterTranspose","xgMasterTransposeF","_helperGCH","bank","modF","mod","breathF","breath","footF","foot","portamentoTimeF","portamentoTime","dataF","volumeF","balanceF","balance","panF","pan","expressionF","expression","nrpn","rpn","rpnPitchBendRange","rpnPitchBendRangeF","rpnFineTuning","rpnFineTuningF","rpnCoarseTuning","rpnCoarseTuningF","rpnTuning","rpnTuningF","rpnTuningA","rpnSelectTuningProgram","rpnSelectTuningBank","rpnSelectTuning","rpnModulationDepthRange","rpnModulationDepthRangeF","rpnNull","mode1","mode2","mode3","mode4","_helperGNC","sxMasterTuning","sxMasterTuningF","gsMasterTuningF","xgMasterTuningF","sxMasterTuningA","gsMasterTuningA","xgMasterTuningA","gsScaleTuning","gsScaleTuningF","xgScaleTuning","xgScaleTuningF","_smf","ff","dd","_helperSMF","smf","_2s","smfSeqNumber","fromCharCode","_smftxt","smfText","toUTF8","smfCopyright","smfSeqName","smfInstrName","smfLyric","smfMarker","smfCuePoint","smfProgName","smfDevName","smfChannelPrefix","smfMidiPort","smfEndOfTrack","smfTempo","smfBPM","bpm","smfSMPTE","smfTimeSignature","nn","cc","bb","match","smfKeySignature","sf","CB","GB","DB","AB","EB","BB","C","G","D","A","E","B","H","toUpperCase","mi","MAJ","MAJOR","DUR","M","MIN","MINOR","MOLL","smfSequencer","_helpers","_copyHelperNC","_copyHelperSMF","_copyHelperGNC","_copyHelperMPE","_copyHelperCH","chan","_copyHelperGCH","_copyMidiHelpers","_ac","_channelMap","_is_yamaha_smf","_is_yamaha_chord","_yamaha_chord","_s2a","_a2s","_s2n","__hex","_hex","_toLine","_smfhex","fromUTF8","_clear_ctxt","_cc","_rpn_txt","msb","lsb","_nrpn_txt","_read_ctxt","_clear","st","_bm","bm","_bl","bl","programName","label","nl","rn","nm","rl","rm","_rm","_rl","_nm","_nl","isFullSysEx","_gm","Context","_read","_initAudioContext","AudioContext","webkitAudioContext","createGain","createGainNode","_activateAudioContext","resume","osc","createOscillator","gain","setTargetAtTime","currentTime","destination","getChannel","setChannel","getNote","setNote","getVelocity","setVelocity","getSysExId","setSysExId","getData","setData","getText","isMidiSoft","setText","getTempo","getBPM","ms","getTimeSignature","getKeySignature","isNoteOn","isNoteOff","isSysEx","isSMF","isEOT","isTempo","isTimeSignature","isKeySignature","isGmReset","isGsReset","isXgReset","lbl","_str","ss","ks","substr","_unstamp","band","master","last","notes","schedule","copyMidiHelpers","getAudioContext","_b64","fromBase64","chr1","chr2","chr3","enc2","enc3","enc4","replace","charAt","toBase64","h1","h2","h3","h4","bits","ac","enc","r","_wma","_outputMap","_inputMap","DOMException","code","MIDIConnectionEvent","bubbles","cancelBubble","cancelable","currentTarget","defaultPrevented","eventPhase","path","returnValue","srcElement","timeStamp","MIDIMessageEvent","receivedTime","_statechange","MIDIInput","_open","_ochng","_onmsg","man","proxy","freeze","_split","_datalen","_InputProxy","ports","pending","queue","Uint8Array","executor","connection","reconnect","_epr","_validate","MIDIOutput","clear","timestamp","sysexEnabled","_OutputProxy","_Maplike","has","Map","entries","MIDIInputMap","_inputs","MIDIOutputMap","_outputs","_wm_watch","MIDIAccess","_onstatechange","wma","factory","$1bcc2fcf9e858133$exports","synth","Tiny","_synth","_noname","initAC","WebAudioTinySynth","setAudioContext","plug","dest","setSynth","setTimbre","getSynth","drummap","__proto__","sy","is","properties","masterVol","observer","reverbLev","quality","debug","src","loop","tsmode","voices","useReverb","program1","program0","drummap1","drummap0","pg","vol","ex","bend","rpnidx","brange","notetab","rhythm","masterTuningC","masterTuningF","tuningC","tuningF","scaleTuning","maxTick","playTick","playing","releaseRatio","preroll","relcnt","nt","actx","_pruneNote","song","ev","playIndex","playTime","tempo","tick2Time","timebase","isReady","setMasterVol","setReverbLev","rev","setLoop","setVoices","setProgram","setBendRange","setModulation","setChVol","setPan","setQuality","defp","filldef","o","frequency","cancelScheduledValues","playbackRate","detune","chmod","_limitVoices","n1","n2","_note","sc","pn","vp","fp","dt","chvol","createBufferSource","buffer","noiseBuf","_setParamTarget","setPeriodicWave","wave","setValueAtTime","linearRampToValueAtTime","onended","t2","_releaseNote","_tsConv","chpan","setExpression","setSustain","setBend","br","tsdiff","setTsMode","cmd","audioContext","ds","ii","_createWave","imag","Float32Array","real","createPeriodicWave","comp","createDynamicsCompressor","blen","sampleRate","convBuf","createBuffer","n0","d1","getChannelData","d2","dn","dr","exp","jj","r1","r2","conv","createConvolver","w9999","lfo","createStereoPanner","$c6c9f8fe7dc14ed2$export$a143d493d941bafc","$0e5ce94b6105624d$export$d622b2ad8d90c771","$0e5ce94b6105624d$export$6100ba28696e12de","b64","tmp","lens","$0e5ce94b6105624d$var$getLens","validLen","placeHoldersLen","$0e5ce94b6105624d$var$Arr","$0e5ce94b6105624d$var$_byteLength","curByte","$0e5ce94b6105624d$var$revLookup","uint8","extraBytes","parts","maxChunkLength","len2","$0e5ce94b6105624d$var$encodeChunk","$0e5ce94b6105624d$var$lookup","$f7f5953bafcc993a$export$aafa59e2e03f2942","$f7f5953bafcc993a$export$68d8715fc104d294","$0e5ce94b6105624d$var$code","$0e5ce94b6105624d$var$i","$0e5ce94b6105624d$var$len","num","offset","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","LN2","$c6c9f8fe7dc14ed2$var$customInspectSymbol","Symbol","$c6c9f8fe7dc14ed2$var$Buffer","$c6c9f8fe7dc14ed2$var$K_MAX_LENGTH","$c6c9f8fe7dc14ed2$var$createBuffer","buf","setPrototypeOf","encodingOrOffset","$c6c9f8fe7dc14ed2$var$allocUnsafe","$c6c9f8fe7dc14ed2$var$from","string","encoding","isEncoding","$c6c9f8fe7dc14ed2$var$byteLength","actual","write","$c6c9f8fe7dc14ed2$var$fromString","ArrayBuffer","isView","arrayView","$c6c9f8fe7dc14ed2$var$isInstance","$c6c9f8fe7dc14ed2$var$fromArrayBuffer","byteOffset","byteLength","$c6c9f8fe7dc14ed2$var$fromArrayLike","$c6c9f8fe7dc14ed2$var$fromArrayView","SharedArrayBuffer","valueOf","from","isBuffer","$c6c9f8fe7dc14ed2$var$checked","$c6c9f8fe7dc14ed2$var$numberIsNaN","isArray","$c6c9f8fe7dc14ed2$var$fromObject","toPrimitive","$c6c9f8fe7dc14ed2$var$assertSize","size","mustMatch","loweredCase","$c6c9f8fe7dc14ed2$var$utf8ToBytes","$c6c9f8fe7dc14ed2$var$base64ToBytes","$c6c9f8fe7dc14ed2$var$slowToString","$c6c9f8fe7dc14ed2$var$hexSlice","$c6c9f8fe7dc14ed2$var$utf8Slice","$c6c9f8fe7dc14ed2$var$asciiSlice","$c6c9f8fe7dc14ed2$var$latin1Slice","$c6c9f8fe7dc14ed2$var$base64Slice","$c6c9f8fe7dc14ed2$var$utf16leSlice","$c6c9f8fe7dc14ed2$var$swap","$c6c9f8fe7dc14ed2$var$bidirectionalIndexOf","$c6c9f8fe7dc14ed2$var$arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","readUInt16BE","foundIndex","$c6c9f8fe7dc14ed2$var$hexWrite","remaining","strLen","parsed","$c6c9f8fe7dc14ed2$var$utf8Write","$c6c9f8fe7dc14ed2$var$blitBuffer","$c6c9f8fe7dc14ed2$var$asciiWrite","str","byteArray","$c6c9f8fe7dc14ed2$var$asciiToBytes","$c6c9f8fe7dc14ed2$var$base64Write","$c6c9f8fe7dc14ed2$var$ucs2Write","units","hi","lo","$c6c9f8fe7dc14ed2$var$utf16leToBytes","res","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","codePoints","$c6c9f8fe7dc14ed2$var$MAX_ARGUMENTS_LENGTH","$c6c9f8fe7dc14ed2$var$decodeCodePointsArray","TYPED_ARRAY_SUPPORT","proto","foo","$c6c9f8fe7dc14ed2$var$typedArraySupport","poolSize","alloc","$c6c9f8fe7dc14ed2$var$alloc","allocUnsafe","allocUnsafeSlow","_isBuffer","compare","pos","swap16","swap32","swap64","toLocaleString","equals","inspect","trim","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","_arr","$c6c9f8fe7dc14ed2$var$hexSliceLookupTable","bytes","$c6c9f8fe7dc14ed2$var$checkOffset","ext","$c6c9f8fe7dc14ed2$var$checkInt","$c6c9f8fe7dc14ed2$var$wrtBigUInt64LE","$c6c9f8fe7dc14ed2$var$checkIntBI","BigInt","$c6c9f8fe7dc14ed2$var$wrtBigUInt64BE","$c6c9f8fe7dc14ed2$var$checkIEEE754","$c6c9f8fe7dc14ed2$var$writeFloat","littleEndian","noAssert","$c6c9f8fe7dc14ed2$var$writeDouble","newBuf","subarray","readUintLE","readUIntLE","mul","readUintBE","readUIntBE","readUint8","readUInt8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readBigUInt64LE","$c6c9f8fe7dc14ed2$var$defineBigIntMethod","$c6c9f8fe7dc14ed2$var$validateNumber","first","$c6c9f8fe7dc14ed2$var$boundsError","readBigUInt64BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readBigInt64LE","readBigInt64BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUIntLE","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeBigUInt64LE","writeBigUInt64BE","writeIntLE","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeBigInt64LE","writeBigInt64BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","$c6c9f8fe7dc14ed2$var$errors","$c6c9f8fe7dc14ed2$var$E","sym","getMessage","Base","writable","configurable","stack","$c6c9f8fe7dc14ed2$var$addNumericalSeparator","range","ERR_OUT_OF_RANGE","$c6c9f8fe7dc14ed2$var$checkBounds","ERR_INVALID_ARG_TYPE","ERR_BUFFER_OUT_OF_BOUNDS","received","isInteger","$c6c9f8fe7dc14ed2$var$INVALID_BASE64_RE","leadSurrogate","$c6c9f8fe7dc14ed2$var$base64clean","dst","alphabet","table","i16","fn","$c6c9f8fe7dc14ed2$var$BufferBigIntNotDefined","$a14b19f763d635b3$exports","SMF","_ver","ppqn","fps","ppf","rmi","ntrk","_complain","_warn","_issue","load","loadSMF","MThd0006","_error","z","_off","_off_type","_off_ntrk","_off_fps","_off_ppf","_off_ppqn","Chunk","Warn","track","tick","tracks","MTrk","mm","_sort","_reset_state","_validate_midi","_update_state","dump","_num4le","_num2","toBuffer","$a14b19f763d635b3$require$Buffer","toUint8Array","toArrayBuffer","toInt8Array","Int8Array","annotate","ctxt","player","pl","Player","tr","tt","_data","_tracks","_timing","_num4","trk","_num","_tick","onEnd","_loop","play","paused","_ptr","_pos","_p0","_t0","pause","sndOff","_mul","_div","_speed","_duration","_ttt","_durationMS","speed","durationMS","positionMS","tick2ms","jump","_goto","jumpMS","_ms2t","_t2ms","_toPos","ms2tick","SYX","_not_a_syx","_u8a2s","u","err1","err2","_check_unused","_var2num","_msglen","pp","_validate_msg_data","_validate_number","_shortmsg","_metaevent_len","_timing_first_track","t1","issue","$a76531d9385b7993$export$7fcbfffcfc3be87c","containerElement","midiMessageCallback","midiPlayerOptions","at","file","gui","$2be265479f816d2f$exports","_noBtn","nop","disable","Btn","backgroundColor","borderColor","firstChild","svg_play","svg_pause","svg_stop","svg_loop","svg_more","svg_open","svg_link","svg_close","_floating","html","innerHTML","playBtn","pauseBtn","stopBtn","loopBtn","midiBtn","_conn","fileBtn","rail","caret","_player","_onEnd","_setfilter","_sndoff","onLoad","onSelect","_moving","_move","_playing","rlen","left","onPlay","onResume","_paused","_out","_waiting","_ports","_outname","onStop","onPause","onClose","destroy","parentNode","removeChild","setUrl","url","linkBtn","_url","href","dataset","jzzGuiPlayer","download","readFile","reader","FileReader","onload","result","readAsArrayBuffer","_closeselect","sel","display","_more","settings","remove","Option","focus","_selectMidi","_newname","select","_selected","selected","selectedIndex","_keydown","keyCode","onJump","_mousedown","_lftBtnDn","preventDefault","_wasPlaying","_caretX","clientX","_caretPos","_startmove","_startX","_startY","top","_clickX","_clickY","clientY","_mouseup","_mousemove","to","boxSizing","margin","padding","borderStyle","borderWidth","lineHeight","lineSpasing","_stopProp","stopPropagation","_createGUI","right","step","zIndex","link","fileInput","accept","click","files","dataTransfer","dropEffect","closeBtn","textAlign","fontSize","fontFamily","borderRadius","record","sndoff","opacity","buttons","button","async","$9b70b939346e275c$var$setupMidiPlayer","midiProcessorOptions","playerContainerElementSelector","playerContainerElement","querySelector","midiProcessor","midiDataCallback","playerAutoHideTimeout","showPlayer","$bO9Zm","midiChannelMask","midiPortName","midiInput","createOnceAvailable","$9b70b939346e275c$var$setupMidiInput","$9b70b939346e275c$var$registerMidiMessageEventHandlers","$9b70b939346e275c$var$main","catch"],"version":3,"file":"midi-viz.57eb93c5.js.map"}