{"mappings":"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","sources":["node_modules/victor/index.js","node_modules/jazz-midi/index.js","node_modules/process/browser.js","node_modules/@parcel/runtime-js/lib/runtime-71bdfe7f47c8abd4.js","node_modules/events/events.js","midi-message-processor.ts","midi-input.ts","adsr-envelope.ts","note-envelope-splash.ts","note.ts","script.ts","note-splasher.ts","node_modules/jzz/javascript/JZZ.js","node_modules/jzz-synth-tiny/javascript/JZZ.synth.Tiny.js","node_modules/buffer/index.js","node_modules/base64-js/index.js","node_modules/ieee754/index.js","node_modules/jzz-midi-smf/javascript/JZZ.midi.SMF.js","jzz.ts","node_modules/jzz-gui-player/javascript/JZZ.gui.Player.js","midi-viz.ts"],"sourcesContent":["exports = module.exports = Victor;\n\n/**\n * # Victor - A JavaScript 2D vector class with methods for common vector operations\n */\n\n/**\n * Constructor. Will also work without the `new` keyword\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 50);\n *     var vec2 = Victor(42, 1337);\n *\n * @param {Number} x Value of the x axis\n * @param {Number} y Value of the y axis\n * @return {Victor}\n * @api public\n */\nfunction Victor (x, y) {\n\tif (!(this instanceof Victor)) {\n\t\treturn new Victor(x, y);\n\t}\n\n\t/**\n\t * The X axis\n\t *\n\t * ### Examples:\n\t *     var vec = new Victor.fromArray(42, 21);\n\t *\n\t *     vec.x;\n\t *     // => 42\n\t *\n\t * @api public\n\t */\n\tthis.x = x || 0;\n\n\t/**\n\t * The Y axis\n\t *\n\t * ### Examples:\n\t *     var vec = new Victor.fromArray(42, 21);\n\t *\n\t *     vec.y;\n\t *     // => 21\n\t *\n\t * @api public\n\t */\n\tthis.y = y || 0;\n};\n\n/**\n * # Static\n */\n\n/**\n * Creates a new instance from an array\n *\n * ### Examples:\n *     var vec = Victor.fromArray([42, 21]);\n *\n *     vec.toString();\n *     // => x:42, y:21\n *\n * @name Victor.fromArray\n * @param {Array} array Array with the x and y values at index 0 and 1 respectively\n * @return {Victor} The new instance\n * @api public\n */\nVictor.fromArray = function (arr) {\n\treturn new Victor(arr[0] || 0, arr[1] || 0);\n};\n\n/**\n * Creates a new instance from an object\n *\n * ### Examples:\n *     var vec = Victor.fromObject({ x: 42, y: 21 });\n *\n *     vec.toString();\n *     // => x:42, y:21\n *\n * @name Victor.fromObject\n * @param {Object} obj Object with the values for x and y\n * @return {Victor} The new instance\n * @api public\n */\nVictor.fromObject = function (obj) {\n\treturn new Victor(obj.x || 0, obj.y || 0);\n};\n\n/**\n * # Manipulation\n *\n * These functions are chainable.\n */\n\n/**\n * Adds another vector's X axis to this one\n *\n * ### Examples:\n *     var vec1 = new Victor(10, 10);\n *     var vec2 = new Victor(20, 30);\n *\n *     vec1.addX(vec2);\n *     vec1.toString();\n *     // => x:30, y:10\n *\n * @param {Victor} vector The other vector you want to add to this one\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.addX = function (vec) {\n\tthis.x += vec.x;\n\treturn this;\n};\n\n/**\n * Adds another vector's Y axis to this one\n *\n * ### Examples:\n *     var vec1 = new Victor(10, 10);\n *     var vec2 = new Victor(20, 30);\n *\n *     vec1.addY(vec2);\n *     vec1.toString();\n *     // => x:10, y:40\n *\n * @param {Victor} vector The other vector you want to add to this one\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.addY = function (vec) {\n\tthis.y += vec.y;\n\treturn this;\n};\n\n/**\n * Adds another vector to this one\n *\n * ### Examples:\n *     var vec1 = new Victor(10, 10);\n *     var vec2 = new Victor(20, 30);\n *\n *     vec1.add(vec2);\n *     vec1.toString();\n *     // => x:30, y:40\n *\n * @param {Victor} vector The other vector you want to add to this one\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.add = function (vec) {\n\tthis.x += vec.x;\n\tthis.y += vec.y;\n\treturn this;\n};\n\n/**\n * Adds the given scalar to both vector axis\n *\n * ### Examples:\n *     var vec = new Victor(1, 2);\n *\n *     vec.addScalar(2);\n *     vec.toString();\n *     // => x: 3, y: 4\n *\n * @param {Number} scalar The scalar to add\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.addScalar = function (scalar) {\n\tthis.x += scalar;\n\tthis.y += scalar;\n\treturn this;\n};\n\n/**\n * Adds the given scalar to the X axis\n *\n * ### Examples:\n *     var vec = new Victor(1, 2);\n *\n *     vec.addScalarX(2);\n *     vec.toString();\n *     // => x: 3, y: 2\n *\n * @param {Number} scalar The scalar to add\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.addScalarX = function (scalar) {\n\tthis.x += scalar;\n\treturn this;\n};\n\n/**\n * Adds the given scalar to the Y axis\n *\n * ### Examples:\n *     var vec = new Victor(1, 2);\n *\n *     vec.addScalarY(2);\n *     vec.toString();\n *     // => x: 1, y: 4\n *\n * @param {Number} scalar The scalar to add\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.addScalarY = function (scalar) {\n\tthis.y += scalar;\n\treturn this;\n};\n\n/**\n * Subtracts the X axis of another vector from this one\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 50);\n *     var vec2 = new Victor(20, 30);\n *\n *     vec1.subtractX(vec2);\n *     vec1.toString();\n *     // => x:80, y:50\n *\n * @param {Victor} vector The other vector you want subtract from this one\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.subtractX = function (vec) {\n\tthis.x -= vec.x;\n\treturn this;\n};\n\n/**\n * Subtracts the Y axis of another vector from this one\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 50);\n *     var vec2 = new Victor(20, 30);\n *\n *     vec1.subtractY(vec2);\n *     vec1.toString();\n *     // => x:100, y:20\n *\n * @param {Victor} vector The other vector you want subtract from this one\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.subtractY = function (vec) {\n\tthis.y -= vec.y;\n\treturn this;\n};\n\n/**\n * Subtracts another vector from this one\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 50);\n *     var vec2 = new Victor(20, 30);\n *\n *     vec1.subtract(vec2);\n *     vec1.toString();\n *     // => x:80, y:20\n *\n * @param {Victor} vector The other vector you want subtract from this one\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.subtract = function (vec) {\n\tthis.x -= vec.x;\n\tthis.y -= vec.y;\n\treturn this;\n};\n\n/**\n * Subtracts the given scalar from both axis\n *\n * ### Examples:\n *     var vec = new Victor(100, 200);\n *\n *     vec.subtractScalar(20);\n *     vec.toString();\n *     // => x: 80, y: 180\n *\n * @param {Number} scalar The scalar to subtract\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.subtractScalar = function (scalar) {\n\tthis.x -= scalar;\n\tthis.y -= scalar;\n\treturn this;\n};\n\n/**\n * Subtracts the given scalar from the X axis\n *\n * ### Examples:\n *     var vec = new Victor(100, 200);\n *\n *     vec.subtractScalarX(20);\n *     vec.toString();\n *     // => x: 80, y: 200\n *\n * @param {Number} scalar The scalar to subtract\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.subtractScalarX = function (scalar) {\n\tthis.x -= scalar;\n\treturn this;\n};\n\n/**\n * Subtracts the given scalar from the Y axis\n *\n * ### Examples:\n *     var vec = new Victor(100, 200);\n *\n *     vec.subtractScalarY(20);\n *     vec.toString();\n *     // => x: 100, y: 180\n *\n * @param {Number} scalar The scalar to subtract\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.subtractScalarY = function (scalar) {\n\tthis.y -= scalar;\n\treturn this;\n};\n\n/**\n * Divides the X axis by the x component of given vector\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *     var vec2 = new Victor(2, 0);\n *\n *     vec.divideX(vec2);\n *     vec.toString();\n *     // => x:50, y:50\n *\n * @param {Victor} vector The other vector you want divide by\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.divideX = function (vector) {\n\tthis.x /= vector.x;\n\treturn this;\n};\n\n/**\n * Divides the Y axis by the y component of given vector\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *     var vec2 = new Victor(0, 2);\n *\n *     vec.divideY(vec2);\n *     vec.toString();\n *     // => x:100, y:25\n *\n * @param {Victor} vector The other vector you want divide by\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.divideY = function (vector) {\n\tthis.y /= vector.y;\n\treturn this;\n};\n\n/**\n * Divides both vector axis by a axis values of given vector\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *     var vec2 = new Victor(2, 2);\n *\n *     vec.divide(vec2);\n *     vec.toString();\n *     // => x:50, y:25\n *\n * @param {Victor} vector The vector to divide by\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.divide = function (vector) {\n\tthis.x /= vector.x;\n\tthis.y /= vector.y;\n\treturn this;\n};\n\n/**\n * Divides both vector axis by the given scalar value\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.divideScalar(2);\n *     vec.toString();\n *     // => x:50, y:25\n *\n * @param {Number} The scalar to divide by\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.divideScalar = function (scalar) {\n\tif (scalar !== 0) {\n\t\tthis.x /= scalar;\n\t\tthis.y /= scalar;\n\t} else {\n\t\tthis.x = 0;\n\t\tthis.y = 0;\n\t}\n\n\treturn this;\n};\n\n/**\n * Divides the X axis by the given scalar value\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.divideScalarX(2);\n *     vec.toString();\n *     // => x:50, y:50\n *\n * @param {Number} The scalar to divide by\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.divideScalarX = function (scalar) {\n\tif (scalar !== 0) {\n\t\tthis.x /= scalar;\n\t} else {\n\t\tthis.x = 0;\n\t}\n\treturn this;\n};\n\n/**\n * Divides the Y axis by the given scalar value\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.divideScalarY(2);\n *     vec.toString();\n *     // => x:100, y:25\n *\n * @param {Number} The scalar to divide by\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.divideScalarY = function (scalar) {\n\tif (scalar !== 0) {\n\t\tthis.y /= scalar;\n\t} else {\n\t\tthis.y = 0;\n\t}\n\treturn this;\n};\n\n/**\n * Inverts the X axis\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.invertX();\n *     vec.toString();\n *     // => x:-100, y:50\n *\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.invertX = function () {\n\tthis.x *= -1;\n\treturn this;\n};\n\n/**\n * Inverts the Y axis\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.invertY();\n *     vec.toString();\n *     // => x:100, y:-50\n *\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.invertY = function () {\n\tthis.y *= -1;\n\treturn this;\n};\n\n/**\n * Inverts both axis\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.invert();\n *     vec.toString();\n *     // => x:-100, y:-50\n *\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.invert = function () {\n\tthis.invertX();\n\tthis.invertY();\n\treturn this;\n};\n\n/**\n * Multiplies the X axis by X component of given vector\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *     var vec2 = new Victor(2, 0);\n *\n *     vec.multiplyX(vec2);\n *     vec.toString();\n *     // => x:200, y:50\n *\n * @param {Victor} vector The vector to multiply the axis with\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.multiplyX = function (vector) {\n\tthis.x *= vector.x;\n\treturn this;\n};\n\n/**\n * Multiplies the Y axis by Y component of given vector\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *     var vec2 = new Victor(0, 2);\n *\n *     vec.multiplyX(vec2);\n *     vec.toString();\n *     // => x:100, y:100\n *\n * @param {Victor} vector The vector to multiply the axis with\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.multiplyY = function (vector) {\n\tthis.y *= vector.y;\n\treturn this;\n};\n\n/**\n * Multiplies both vector axis by values from a given vector\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *     var vec2 = new Victor(2, 2);\n *\n *     vec.multiply(vec2);\n *     vec.toString();\n *     // => x:200, y:100\n *\n * @param {Victor} vector The vector to multiply by\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.multiply = function (vector) {\n\tthis.x *= vector.x;\n\tthis.y *= vector.y;\n\treturn this;\n};\n\n/**\n * Multiplies both vector axis by the given scalar value\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.multiplyScalar(2);\n *     vec.toString();\n *     // => x:200, y:100\n *\n * @param {Number} The scalar to multiply by\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.multiplyScalar = function (scalar) {\n\tthis.x *= scalar;\n\tthis.y *= scalar;\n\treturn this;\n};\n\n/**\n * Multiplies the X axis by the given scalar\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.multiplyScalarX(2);\n *     vec.toString();\n *     // => x:200, y:50\n *\n * @param {Number} The scalar to multiply the axis with\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.multiplyScalarX = function (scalar) {\n\tthis.x *= scalar;\n\treturn this;\n};\n\n/**\n * Multiplies the Y axis by the given scalar\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.multiplyScalarY(2);\n *     vec.toString();\n *     // => x:100, y:100\n *\n * @param {Number} The scalar to multiply the axis with\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.multiplyScalarY = function (scalar) {\n\tthis.y *= scalar;\n\treturn this;\n};\n\n/**\n * Normalize\n *\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.normalize = function () {\n\tvar length = this.length();\n\n\tif (length === 0) {\n\t\tthis.x = 1;\n\t\tthis.y = 0;\n\t} else {\n\t\tthis.divide(Victor(length, length));\n\t}\n\treturn this;\n};\n\nVictor.prototype.norm = Victor.prototype.normalize;\n\n/**\n * If the absolute vector axis is greater than `max`, multiplies the axis by `factor`\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.limit(80, 0.9);\n *     vec.toString();\n *     // => x:90, y:50\n *\n * @param {Number} max The maximum value for both x and y axis\n * @param {Number} factor Factor by which the axis are to be multiplied with\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.limit = function (max, factor) {\n\tif (Math.abs(this.x) > max){ this.x *= factor; }\n\tif (Math.abs(this.y) > max){ this.y *= factor; }\n\treturn this;\n};\n\n/**\n * Randomizes both vector axis with a value between 2 vectors\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.randomize(new Victor(50, 60), new Victor(70, 80`));\n *     vec.toString();\n *     // => x:67, y:73\n *\n * @param {Victor} topLeft first vector\n * @param {Victor} bottomRight second vector\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.randomize = function (topLeft, bottomRight) {\n\tthis.randomizeX(topLeft, bottomRight);\n\tthis.randomizeY(topLeft, bottomRight);\n\n\treturn this;\n};\n\n/**\n * Randomizes the y axis with a value between 2 vectors\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.randomizeX(new Victor(50, 60), new Victor(70, 80`));\n *     vec.toString();\n *     // => x:55, y:50\n *\n * @param {Victor} topLeft first vector\n * @param {Victor} bottomRight second vector\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.randomizeX = function (topLeft, bottomRight) {\n\tvar min = Math.min(topLeft.x, bottomRight.x);\n\tvar max = Math.max(topLeft.x, bottomRight.x);\n\tthis.x = random(min, max);\n\treturn this;\n};\n\n/**\n * Randomizes the y axis with a value between 2 vectors\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.randomizeY(new Victor(50, 60), new Victor(70, 80`));\n *     vec.toString();\n *     // => x:100, y:66\n *\n * @param {Victor} topLeft first vector\n * @param {Victor} bottomRight second vector\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.randomizeY = function (topLeft, bottomRight) {\n\tvar min = Math.min(topLeft.y, bottomRight.y);\n\tvar max = Math.max(topLeft.y, bottomRight.y);\n\tthis.y = random(min, max);\n\treturn this;\n};\n\n/**\n * Randomly randomizes either axis between 2 vectors\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.randomizeAny(new Victor(50, 60), new Victor(70, 80));\n *     vec.toString();\n *     // => x:100, y:77\n *\n * @param {Victor} topLeft first vector\n * @param {Victor} bottomRight second vector\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.randomizeAny = function (topLeft, bottomRight) {\n\tif (!! Math.round(Math.random())) {\n\t\tthis.randomizeX(topLeft, bottomRight);\n\t} else {\n\t\tthis.randomizeY(topLeft, bottomRight);\n\t}\n\treturn this;\n};\n\n/**\n * Rounds both axis to an integer value\n *\n * ### Examples:\n *     var vec = new Victor(100.2, 50.9);\n *\n *     vec.unfloat();\n *     vec.toString();\n *     // => x:100, y:51\n *\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.unfloat = function () {\n\tthis.x = Math.round(this.x);\n\tthis.y = Math.round(this.y);\n\treturn this;\n};\n\n/**\n * Rounds both axis to a certain precision\n *\n * ### Examples:\n *     var vec = new Victor(100.2, 50.9);\n *\n *     vec.unfloat();\n *     vec.toString();\n *     // => x:100, y:51\n *\n * @param {Number} Precision (default: 8)\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.toFixed = function (precision) {\n\tif (typeof precision === 'undefined') { precision = 8; }\n\tthis.x = this.x.toFixed(precision);\n\tthis.y = this.y.toFixed(precision);\n\treturn this;\n};\n\n/**\n * Performs a linear blend / interpolation of the X axis towards another vector\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 100);\n *     var vec2 = new Victor(200, 200);\n *\n *     vec1.mixX(vec2, 0.5);\n *     vec.toString();\n *     // => x:150, y:100\n *\n * @param {Victor} vector The other vector\n * @param {Number} amount The blend amount (optional, default: 0.5)\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.mixX = function (vec, amount) {\n\tif (typeof amount === 'undefined') {\n\t\tamount = 0.5;\n\t}\n\n\tthis.x = (1 - amount) * this.x + amount * vec.x;\n\treturn this;\n};\n\n/**\n * Performs a linear blend / interpolation of the Y axis towards another vector\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 100);\n *     var vec2 = new Victor(200, 200);\n *\n *     vec1.mixY(vec2, 0.5);\n *     vec.toString();\n *     // => x:100, y:150\n *\n * @param {Victor} vector The other vector\n * @param {Number} amount The blend amount (optional, default: 0.5)\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.mixY = function (vec, amount) {\n\tif (typeof amount === 'undefined') {\n\t\tamount = 0.5;\n\t}\n\n\tthis.y = (1 - amount) * this.y + amount * vec.y;\n\treturn this;\n};\n\n/**\n * Performs a linear blend / interpolation towards another vector\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 100);\n *     var vec2 = new Victor(200, 200);\n *\n *     vec1.mix(vec2, 0.5);\n *     vec.toString();\n *     // => x:150, y:150\n *\n * @param {Victor} vector The other vector\n * @param {Number} amount The blend amount (optional, default: 0.5)\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.mix = function (vec, amount) {\n\tthis.mixX(vec, amount);\n\tthis.mixY(vec, amount);\n\treturn this;\n};\n\n/**\n * # Products\n */\n\n/**\n * Creates a clone of this vector\n *\n * ### Examples:\n *     var vec1 = new Victor(10, 10);\n *     var vec2 = vec1.clone();\n *\n *     vec2.toString();\n *     // => x:10, y:10\n *\n * @return {Victor} A clone of the vector\n * @api public\n */\nVictor.prototype.clone = function () {\n\treturn new Victor(this.x, this.y);\n};\n\n/**\n * Copies another vector's X component in to its own\n *\n * ### Examples:\n *     var vec1 = new Victor(10, 10);\n *     var vec2 = new Victor(20, 20);\n *     var vec2 = vec1.copyX(vec1);\n *\n *     vec2.toString();\n *     // => x:20, y:10\n *\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.copyX = function (vec) {\n\tthis.x = vec.x;\n\treturn this;\n};\n\n/**\n * Copies another vector's Y component in to its own\n *\n * ### Examples:\n *     var vec1 = new Victor(10, 10);\n *     var vec2 = new Victor(20, 20);\n *     var vec2 = vec1.copyY(vec1);\n *\n *     vec2.toString();\n *     // => x:10, y:20\n *\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.copyY = function (vec) {\n\tthis.y = vec.y;\n\treturn this;\n};\n\n/**\n * Copies another vector's X and Y components in to its own\n *\n * ### Examples:\n *     var vec1 = new Victor(10, 10);\n *     var vec2 = new Victor(20, 20);\n *     var vec2 = vec1.copy(vec1);\n *\n *     vec2.toString();\n *     // => x:20, y:20\n *\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.copy = function (vec) {\n\tthis.copyX(vec);\n\tthis.copyY(vec);\n\treturn this;\n};\n\n/**\n * Sets the vector to zero (0,0)\n *\n * ### Examples:\n *     var vec1 = new Victor(10, 10);\n *\t\t var1.zero();\n *     vec1.toString();\n *     // => x:0, y:0\n *\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.zero = function () {\n\tthis.x = this.y = 0;\n\treturn this;\n};\n\n/**\n * Calculates the dot product of this vector and another\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 50);\n *     var vec2 = new Victor(200, 60);\n *\n *     vec1.dot(vec2);\n *     // => 23000\n *\n * @param {Victor} vector The second vector\n * @return {Number} Dot product\n * @api public\n */\nVictor.prototype.dot = function (vec2) {\n\treturn this.x * vec2.x + this.y * vec2.y;\n};\n\nVictor.prototype.cross = function (vec2) {\n\treturn (this.x * vec2.y ) - (this.y * vec2.x );\n};\n\n/**\n * Projects a vector onto another vector, setting itself to the result.\n *\n * ### Examples:\n *     var vec = new Victor(100, 0);\n *     var vec2 = new Victor(100, 100);\n *\n *     vec.projectOnto(vec2);\n *     vec.toString();\n *     // => x:50, y:50\n *\n * @param {Victor} vector The other vector you want to project this vector onto\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.projectOnto = function (vec2) {\n    var coeff = ( (this.x * vec2.x)+(this.y * vec2.y) ) / ((vec2.x*vec2.x)+(vec2.y*vec2.y));\n    this.x = coeff * vec2.x;\n    this.y = coeff * vec2.y;\n    return this;\n};\n\n\nVictor.prototype.horizontalAngle = function () {\n\treturn Math.atan2(this.y, this.x);\n};\n\nVictor.prototype.horizontalAngleDeg = function () {\n\treturn radian2degrees(this.horizontalAngle());\n};\n\nVictor.prototype.verticalAngle = function () {\n\treturn Math.atan2(this.x, this.y);\n};\n\nVictor.prototype.verticalAngleDeg = function () {\n\treturn radian2degrees(this.verticalAngle());\n};\n\nVictor.prototype.angle = Victor.prototype.horizontalAngle;\nVictor.prototype.angleDeg = Victor.prototype.horizontalAngleDeg;\nVictor.prototype.direction = Victor.prototype.horizontalAngle;\n\nVictor.prototype.rotate = function (angle) {\n\tvar nx = (this.x * Math.cos(angle)) - (this.y * Math.sin(angle));\n\tvar ny = (this.x * Math.sin(angle)) + (this.y * Math.cos(angle));\n\n\tthis.x = nx;\n\tthis.y = ny;\n\n\treturn this;\n};\n\nVictor.prototype.rotateDeg = function (angle) {\n\tangle = degrees2radian(angle);\n\treturn this.rotate(angle);\n};\n\nVictor.prototype.rotateTo = function(rotation) {\n\treturn this.rotate(rotation-this.angle());\n};\n\nVictor.prototype.rotateToDeg = function(rotation) {\n\trotation = degrees2radian(rotation);\n\treturn this.rotateTo(rotation);\n};\n\nVictor.prototype.rotateBy = function (rotation) {\n\tvar angle = this.angle() + rotation;\n\n\treturn this.rotate(angle);\n};\n\nVictor.prototype.rotateByDeg = function (rotation) {\n\trotation = degrees2radian(rotation);\n\treturn this.rotateBy(rotation);\n};\n\n/**\n * Calculates the distance of the X axis between this vector and another\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 50);\n *     var vec2 = new Victor(200, 60);\n *\n *     vec1.distanceX(vec2);\n *     // => -100\n *\n * @param {Victor} vector The second vector\n * @return {Number} Distance\n * @api public\n */\nVictor.prototype.distanceX = function (vec) {\n\treturn this.x - vec.x;\n};\n\n/**\n * Same as `distanceX()` but always returns an absolute number\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 50);\n *     var vec2 = new Victor(200, 60);\n *\n *     vec1.absDistanceX(vec2);\n *     // => 100\n *\n * @param {Victor} vector The second vector\n * @return {Number} Absolute distance\n * @api public\n */\nVictor.prototype.absDistanceX = function (vec) {\n\treturn Math.abs(this.distanceX(vec));\n};\n\n/**\n * Calculates the distance of the Y axis between this vector and another\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 50);\n *     var vec2 = new Victor(200, 60);\n *\n *     vec1.distanceY(vec2);\n *     // => -10\n *\n * @param {Victor} vector The second vector\n * @return {Number} Distance\n * @api public\n */\nVictor.prototype.distanceY = function (vec) {\n\treturn this.y - vec.y;\n};\n\n/**\n * Same as `distanceY()` but always returns an absolute number\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 50);\n *     var vec2 = new Victor(200, 60);\n *\n *     vec1.distanceY(vec2);\n *     // => 10\n *\n * @param {Victor} vector The second vector\n * @return {Number} Absolute distance\n * @api public\n */\nVictor.prototype.absDistanceY = function (vec) {\n\treturn Math.abs(this.distanceY(vec));\n};\n\n/**\n * Calculates the euclidean distance between this vector and another\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 50);\n *     var vec2 = new Victor(200, 60);\n *\n *     vec1.distance(vec2);\n *     // => 100.4987562112089\n *\n * @param {Victor} vector The second vector\n * @return {Number} Distance\n * @api public\n */\nVictor.prototype.distance = function (vec) {\n\treturn Math.sqrt(this.distanceSq(vec));\n};\n\n/**\n * Calculates the squared euclidean distance between this vector and another\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 50);\n *     var vec2 = new Victor(200, 60);\n *\n *     vec1.distanceSq(vec2);\n *     // => 10100\n *\n * @param {Victor} vector The second vector\n * @return {Number} Distance\n * @api public\n */\nVictor.prototype.distanceSq = function (vec) {\n\tvar dx = this.distanceX(vec),\n\t\tdy = this.distanceY(vec);\n\n\treturn dx * dx + dy * dy;\n};\n\n/**\n * Calculates the length or magnitude of the vector\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.length();\n *     // => 111.80339887498948\n *\n * @return {Number} Length / Magnitude\n * @api public\n */\nVictor.prototype.length = function () {\n\treturn Math.sqrt(this.lengthSq());\n};\n\n/**\n * Squared length / magnitude\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.lengthSq();\n *     // => 12500\n *\n * @return {Number} Length / Magnitude\n * @api public\n */\nVictor.prototype.lengthSq = function () {\n\treturn this.x * this.x + this.y * this.y;\n};\n\nVictor.prototype.magnitude = Victor.prototype.length;\n\n/**\n * Returns a true if vector is (0, 0)\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *     vec.zero();\n *\n *     // => true\n *\n * @return {Boolean}\n * @api public\n */\nVictor.prototype.isZero = function() {\n\treturn this.x === 0 && this.y === 0;\n};\n\n/**\n * Returns a true if this vector is the same as another\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 50);\n *     var vec2 = new Victor(100, 50);\n *     vec1.isEqualTo(vec2);\n *\n *     // => true\n *\n * @return {Boolean}\n * @api public\n */\nVictor.prototype.isEqualTo = function(vec2) {\n\treturn this.x === vec2.x && this.y === vec2.y;\n};\n\n/**\n * # Utility Methods\n */\n\n/**\n * Returns an string representation of the vector\n *\n * ### Examples:\n *     var vec = new Victor(10, 20);\n *\n *     vec.toString();\n *     // => x:10, y:20\n *\n * @return {String}\n * @api public\n */\nVictor.prototype.toString = function () {\n\treturn 'x:' + this.x + ', y:' + this.y;\n};\n\n/**\n * Returns an array representation of the vector\n *\n * ### Examples:\n *     var vec = new Victor(10, 20);\n *\n *     vec.toArray();\n *     // => [10, 20]\n *\n * @return {Array}\n * @api public\n */\nVictor.prototype.toArray = function () {\n\treturn [ this.x, this.y ];\n};\n\n/**\n * Returns an object representation of the vector\n *\n * ### Examples:\n *     var vec = new Victor(10, 20);\n *\n *     vec.toObject();\n *     // => { x: 10, y: 20 }\n *\n * @return {Object}\n * @api public\n */\nVictor.prototype.toObject = function () {\n\treturn { x: this.x, y: this.y };\n};\n\n\nvar degrees = 180 / Math.PI;\n\nfunction random (min, max) {\n    return Math.floor(Math.random() * (max - min + 1) + min);\n}\n\nfunction radian2degrees (rad) {\n\treturn rad * degrees;\n}\n\nfunction degrees2radian (deg) {\n\treturn deg / degrees;\n}\n","var path='./bin/';\r\nvar v=process.versions.node.split('.');\r\nif (v[0]<=10) path+='10_15/';\r\nelse if (v[0]<=11) path+='11_15/';\r\nif(process.platform==\"win32\"&&process.arch==\"ia32\") path+='win32/jazz';\r\nelse if(process.platform==\"win32\"&&process.arch==\"x64\") path+='win64/jazz';\r\nelse if(process.platform==\"darwin\"&&process.arch==\"x64\") path+='macos64/jazz';\r\nelse if(process.platform==\"linux\"&&process.arch==\"x64\") path+='linux64/jazz';\r\nelse if(process.platform==\"linux\"&&process.arch==\"arm\") path+='linuxa7/jazz';\r\nmodule.exports=require(path);\r\nmodule.exports.package=require(__dirname + '/package.json');\r\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"h97mt\\\":\\\"midi-viz.d8553cc0.js\\\",\\\"9GrO7\\\":\\\"LDR_LLL1_0.e58f35bf.png\\\"}\"));","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n",null,null,null,null,null,null,null,"(function(global, factory) {\r\n  /* istanbul ignore next */\r\n  if (typeof exports === 'object' && typeof module !== 'undefined') {\r\n    module.exports = factory();\r\n  }\r\n  else if (typeof define === 'function' && define.amd) {\r\n    define('JZZ', [], factory);\r\n  }\r\n  else {\r\n    if (!global) global = window;\r\n    if (global.JZZ && global.JZZ.MIDI) return;\r\n    global.JZZ = factory();\r\n  }\r\n})(this, function() {\r\n\r\n  var _scope = typeof window === 'undefined' ? global : window;\r\n  var _version = '1.5.2';\r\n  var i, j, k, m, n;\r\n\r\n  /* istanbul ignore next */\r\n  var _time = Date.now || function () { return new Date().getTime(); };\r\n  var _startTime = _time();\r\n  /* istanbul ignore next */\r\n  var _now = typeof performance != 'undefined' && performance.now ?\r\n    function() { return performance.now(); } : function() { return _time() - _startTime; };\r\n  var _schedule = function(f) {\r\n    setTimeout(f, 0);\r\n  };\r\n  function _nop() {}\r\n  function _func(f) { return typeof f == 'function'; }\r\n\r\n  // _R: common root for all async objects\r\n  function _R() {\r\n    this._orig = this;\r\n    this._ready = false;\r\n    this._queue = [];\r\n    this._log = [];\r\n  }\r\n  _R.prototype._exec = function() {\r\n    while (this._ready && this._queue.length) {\r\n      var x = this._queue.shift();\r\n      x[0].apply(this, x[1]);\r\n    }\r\n  };\r\n  _R.prototype._push = function(func, arg) { this._queue.push([func, arg]); _R.prototype._exec.apply(this); };\r\n  _R.prototype._slip = function(func, arg) { this._queue.unshift([func, arg]); };\r\n  _R.prototype._pause = function() { this._ready = false; };\r\n  _R.prototype._resume = function() { this._ready = true; _R.prototype._exec.apply(this); };\r\n  _R.prototype._break = function(err) { this._orig._bad = true; this._orig._log.push(err || 'Unknown JZZ error'); };\r\n  _R.prototype._repair = function() { this._orig._bad = false; };\r\n  _R.prototype._crash = function(err) { this._break(err); this._resume(); };\r\n  _R.prototype._err = function() { return this._log[this._log.length - 1]; };\r\n  _R.prototype.log = function() { return _clone(this._log); };\r\n  _R.prototype._dup = function() {\r\n    var F = function() {};\r\n    F.prototype = this._orig;\r\n    var ret = new F();\r\n    ret._ready = false;\r\n    ret._queue = [];\r\n    return ret;\r\n  };\r\n  _R.prototype._image = function() { return this._dup(); };\r\n  _R.prototype._thenable = function() {\r\n    if (this.then) return this;\r\n    var self = this;\r\n    var F = function() {}; F.prototype = self;\r\n    var ret = new F();\r\n    ret.then = function(good, bad) { self._push(_then, [good, bad]); return this; };      \r\n    return ret;\r\n  };\r\n  function _then(good, bad) {\r\n    if (this._bad) {\r\n      if (_func(bad)) bad.apply(this, [new Error(this._err())]);\r\n    }\r\n    else {\r\n      if (_func(good)) good.apply(this, [this]);\r\n    }\r\n  }\r\n  function _wait(obj, delay) {\r\n    if (this._bad) obj._crash(this._err());\r\n    else setTimeout(function() { obj._resume(); }, delay);\r\n  }\r\n  _R.prototype.wait = function(delay) {\r\n    if (!delay) return this;\r\n    var ret = this._image();\r\n    this._push(_wait, [ret, delay]);\r\n    return ret._thenable();\r\n  };\r\n  function _kick(obj) { if (this._bad) obj._break(this._err()); obj._resume(); }\r\n  function _rechain(self, obj, name) {\r\n    self[name] = function() {\r\n      var arg = arguments;\r\n      var ret = obj._image();\r\n      this._push(_kick, [ret]);\r\n      return ret[name].apply(ret, arg);\r\n    };\r\n  }\r\n  function _and(q) {\r\n    if (!this._bad) {\r\n      if (_func(q)) q.apply(this); else console.log(q);\r\n    }\r\n  }\r\n  _R.prototype.and = function(func) { this._push(_and, [func]); return this._thenable(); };\r\n  function _or(q) {\r\n    if (this._bad) {\r\n      if (_func(q)) q.apply(this); else console.log(q);\r\n    }\r\n  }\r\n  _R.prototype.or = function(func) { this._push(_or, [func]); return this._thenable(); };\r\n\r\n  _R.prototype._info = {};\r\n  _R.prototype.info = function() {\r\n    var info = _clone(this._orig._info);\r\n    if (typeof info.engine == 'undefined') info.engine = 'none';\r\n    if (typeof info.sysex == 'undefined') info.sysex = true;\r\n    return info;\r\n  };\r\n  _R.prototype.name = function() { return this.info().name; };\r\n\r\n  function _close(obj) {\r\n    if (this._bad) obj._crash(this._err());\r\n    else {\r\n      this._break('Closed');\r\n      obj._resume();\r\n    }\r\n  }\r\n  _R.prototype.close = function() {\r\n    var ret = new _R();\r\n    if (this._close) this._push(this._close, []);\r\n    this._push(_close, [ret]);\r\n    return ret._thenable();\r\n  };\r\n\r\n  function _tryAny(arr) {\r\n    if (!arr.length) {\r\n      this._break();\r\n      return;\r\n    }\r\n    var func = arr.shift();\r\n    if (arr.length) {\r\n      var self = this;\r\n      this._slip(_or, [ function() { _tryAny.apply(self, [arr]); } ]);\r\n    }\r\n    try {\r\n      this._repair();\r\n      func.apply(this);\r\n    }\r\n    catch (err) {\r\n      this._break(err.toString());\r\n    }\r\n  }\r\n\r\n  function _push(arr, obj) {\r\n    for (var i = 0; i < arr.length; i++) if (arr[i] === obj) return;\r\n    arr.push(obj);\r\n  }\r\n  function _pop(arr, obj) {\r\n    for (var i = 0; i < arr.length; i++) if (arr[i] === obj) {\r\n      arr.splice(i, 1);\r\n      return;\r\n    }\r\n  }\r\n\r\n  // _J: JZZ object\r\n  function _J() {\r\n    _R.apply(this);\r\n  }\r\n  _J.prototype = new _R();\r\n\r\n  function _for(x, f) {\r\n    for(var k in x) if (x.hasOwnProperty(k)) f.call(this, k);\r\n  }\r\n  function _clone(obj, key, val) {\r\n    if (typeof key == 'undefined') return _clone(obj, [], []);\r\n    if (obj instanceof Object) {\r\n      for (var i = 0; i < key.length; i++) if (key[i] === obj) return val[i];\r\n      var ret;\r\n      if (obj instanceof Array) ret = []; else ret = {};\r\n      key.push(obj); val.push(ret);\r\n      _for(obj, function(k) { ret[k] = _clone(obj[k], key, val); });\r\n      return ret;\r\n    }\r\n    return obj;\r\n  }\r\n  _J.prototype._info = { name: 'JZZ.js', ver: _version, version: _version, inputs: [], outputs: [] };\r\n\r\n  var _outs = [];\r\n  var _ins = [];\r\n  var _outsW = [];\r\n  var _insW = [];\r\n\r\n  function _postRefresh() {\r\n    _jzz._info.engine = _engine._type;\r\n    _jzz._info.version = _engine._version;\r\n    _jzz._info.sysex = _engine._sysex;\r\n    _jzz._info.inputs = [];\r\n    _jzz._info.outputs = [];\r\n    _outs = [];\r\n    _ins = [];\r\n    _engine._allOuts = {};\r\n    _engine._allIns = {};\r\n    var i, x;\r\n    for (i = 0; i < _engine._outs.length; i++) {\r\n      x = _engine._outs[i];\r\n      x.engine = _engine;\r\n      _engine._allOuts[x.name] = x;\r\n      _jzz._info.outputs.push({\r\n        id: x.name,\r\n        name: x.name,\r\n        manufacturer: x.manufacturer,\r\n        version: x.version,\r\n        engine: _engine._type\r\n      });\r\n      _outs.push(x);\r\n    }\r\n    for (i = 0; i < _virtual._outs.length; i++) {\r\n      x = _virtual._outs[i];\r\n      _jzz._info.outputs.push({\r\n        id: x.name,\r\n        name: x.name,\r\n        manufacturer: x.manufacturer,\r\n        version: x.version,\r\n        engine: x.type\r\n      });\r\n      _outs.push(x);\r\n    }\r\n    for (i = 0; i < _engine._ins.length; i++) {\r\n      x = _engine._ins[i];\r\n      x.engine = _engine;\r\n      _engine._allIns[x.name] = x;\r\n      _jzz._info.inputs.push({\r\n        id: x.name,\r\n        name: x.name,\r\n        manufacturer: x.manufacturer,\r\n        version: x.version,\r\n        engine: _engine._type\r\n      });\r\n      _ins.push(x);\r\n    }\r\n    for (i = 0; i < _virtual._ins.length; i++) {\r\n      x = _virtual._ins[i];\r\n      _jzz._info.inputs.push({\r\n        id: x.name,\r\n        name: x.name,\r\n        manufacturer: x.manufacturer,\r\n        version: x.version,\r\n        engine: x.type\r\n      });\r\n      _ins.push(x);\r\n    }\r\n    if (_jzz._watcher && _jzz._watcher._handles.length) {\r\n      var diff = _diff(_insW, _outsW, _jzz._info.inputs, _jzz._info.outputs);\r\n       if (diff) {\r\n        for (j = 0; j < diff.inputs.removed.length; j++) {\r\n          x = _engine._inMap[diff.inputs.removed[j].name];\r\n          if (x) x._closeAll();\r\n        }\r\n        for (j = 0; j < diff.outputs.removed.length; j++) {\r\n          x = _engine._outMap[diff.outputs.removed[j].name];\r\n          if (x) x._closeAll();\r\n        }\r\n        _fireW(diff);\r\n      }\r\n    }\r\n    _insW = _jzz._info.inputs;\r\n    _outsW = _jzz._info.outputs;\r\n  }\r\n  function _refresh() {\r\n    if (!this._bad) _engine._refresh(this);\r\n  }\r\n  _J.prototype.refresh = function() {\r\n    this._push(_refresh, []);\r\n    return this._thenable();\r\n  };\r\n\r\n  function _filterList(q, arr) {\r\n    var i, n;\r\n    if (_func(q)) q = q(arr);\r\n    if (!(q instanceof Array)) q = [q];\r\n    var before = [];\r\n    var after = [];\r\n    var etc = arr.slice();\r\n    var a = before;\r\n    for (i = 0; i < q.length; i++) {\r\n      if (typeof q[i] == 'undefined') a = after;\r\n      else if (q[i] instanceof RegExp) for (n = 0; n < etc.length; n++) {\r\n        if (q[i].test(etc[n].name)) {\r\n          a.push(etc[n]);\r\n          etc.splice(n, 1);\r\n          n--;\r\n        }\r\n      }\r\n      else {\r\n        for (n = 0; n < etc.length; n++) if (q[i] + '' === n + '' || q[i] === etc[n].name || (q[i] instanceof Object && q[i].name === etc[n].name)) {\r\n          a.push(etc[n]);\r\n          etc.splice(n, 1);\r\n          n--;\r\n        }\r\n      }\r\n    }\r\n    return a == before ? before : before.concat(etc).concat(after);\r\n  }\r\n\r\n  function _notFound(port, q) {\r\n    var msg;\r\n    if (q instanceof RegExp) msg = 'Port matching ' + q + ' not found';\r\n    else if (q instanceof Object || typeof q == 'undefined') msg = 'Port not found';\r\n    else msg = 'Port \"' + q + '\" not found';\r\n    port._crash(msg);\r\n  }\r\n  function _openMidiOut(port, arg) {\r\n    if (this._bad) port._crash(this._err());\r\n    else {\r\n      var arr = _filterList(arg, _outs);\r\n      if (!arr.length) { _notFound(port, arg); return; }\r\n      var pack = function(x) { return function() { x.engine._openOut(this, x.name); }; };\r\n      for (var i = 0; i < arr.length; i++) arr[i] = pack(arr[i]);\r\n      port._slip(_tryAny, [arr]);\r\n      port._resume();\r\n    }\r\n  }\r\n  _J.prototype.openMidiOut = function(arg) {\r\n    var port = new _M();\r\n    this._push(_refresh, []);\r\n    this._push(_openMidiOut, [port, arg]);\r\n    return port._thenable();\r\n  };\r\n  _J.prototype._openMidiOutNR = function(arg) {\r\n    var port = new _M();\r\n    this._push(_openMidiOut, [port, arg]);\r\n    return port._thenable();\r\n  };\r\n\r\n  function _openMidiIn(port, arg) {\r\n    if (this._bad) port._crash(this._err());\r\n    else {\r\n      var arr = _filterList(arg, _ins);\r\n      if (!arr.length) { _notFound(port, arg); return; }\r\n      var pack = function(x) { return function() { x.engine._openIn(this, x.name); }; };\r\n      for (var i = 0; i < arr.length; i++) arr[i] = pack(arr[i]);\r\n      port._slip(_tryAny, [arr]);\r\n      port._resume();\r\n    }\r\n  }\r\n  _J.prototype.openMidiIn = function(arg) {\r\n    var port = new _M();\r\n    this._push(_refresh, []);\r\n    this._push(_openMidiIn, [port, arg]);\r\n    return port._thenable();\r\n  };\r\n  _J.prototype._openMidiInNR = function(arg) {\r\n    var port = new _M();\r\n    this._push(_openMidiIn, [port, arg]);\r\n    return port._thenable();\r\n  };\r\n\r\n  function _onChange(watcher, arg) {\r\n    if (this._bad) watcher._crash();\r\n    else {\r\n      watcher._slip(_connectW, [arg]);\r\n      watcher._resume();\r\n    }\r\n  }\r\n  _J.prototype.onChange = function(arg) {\r\n    if (!this._orig._watcher) this._orig._watcher = new _W();\r\n    var watcher = this._orig._watcher._image();\r\n    this._push(_onChange, [watcher, arg]);\r\n    return watcher._thenable();\r\n  };\r\n\r\n  _J.prototype._close = function() {\r\n    _engine._close();\r\n  };\r\n\r\n  // _M: MIDI-In/Out object\r\n  function _M() {\r\n    _R.apply(this);\r\n    this._handles = [];\r\n    this._outs = [];\r\n  }\r\n  _M.prototype = new _R();\r\n  _M.prototype._filter = function(msg) {\r\n    if (this._orig._mpe) {\r\n      var out;\r\n      var outs = 0;\r\n      if (this._handles && this._handles.length) {\r\n        outs = this._handles.length;\r\n        out = this._handles[0];\r\n      }\r\n      if (this._outs && this._outs.length) {\r\n        outs = this._outs.length;\r\n        out = this._outs[0];\r\n      }\r\n      if (outs == 1 && !out._mpe) {\r\n        msg = this._orig._mpe.filter(msg);\r\n      }\r\n    }\r\n    return msg;\r\n  };\r\n  _M.prototype._receive = function(msg) { this._emit(this._filter(msg)); };\r\n  function _receive(msg) { if (!this._bad) this._receive(msg); }\r\n  _M.prototype.send = function() {\r\n    this._push(_receive, [MIDI.apply(null, arguments)]);\r\n    return this._thenable();\r\n  };\r\n  _M.prototype.note = function(c, n, v, t) {\r\n    this.noteOn(c, n, v);\r\n    if (typeof this._ch == 'undefined' && typeof this._master == 'undefined') {\r\n      if (t > 0) this.wait(t).noteOff(c, n);\r\n    }\r\n    else {\r\n      if (v > 0) this.wait(v).noteOff(c);\r\n    }\r\n    return this._thenable();\r\n  };\r\n  _M.prototype._emit = function(msg) {\r\n    var i;\r\n    for (i = 0; i < this._handles.length; i++) this._handles[i].apply(this, [MIDI(msg)._stamp(this)]);\r\n    for (i = 0; i < this._outs.length; i++) {\r\n      var m = MIDI(msg);\r\n      if (!m._stamped(this._outs[i])) this._outs[i].send(m._stamp(this));\r\n    }\r\n  };\r\n  function _emit(msg) { this._emit(msg); }\r\n  _M.prototype.emit = function(msg) {\r\n    this._push(_emit, [msg]);\r\n    return this._thenable();\r\n  };\r\n  function _connect(arg) {\r\n    if (_func(arg)) _push(this._orig._handles, arg);\r\n    else _push(this._orig._outs, arg);\r\n  }\r\n  function _disconnect(arg) {\r\n    if (typeof arg == 'undefined') {\r\n      this._orig._handles = [];\r\n      this._orig._outs = [];\r\n    }\r\n    else if (_func(arg)) _pop(this._orig._handles, arg);\r\n    else _pop(this._orig._outs, arg);\r\n  }\r\n  _M.prototype.connect = function(arg) {\r\n    this._push(_connect, [arg]);\r\n    return this._thenable();\r\n  };\r\n  _M.prototype.disconnect = function(arg) {\r\n    this._push(_disconnect, [arg]);\r\n    return this._thenable();\r\n  };\r\n  _M.prototype.connected = function() {\r\n    return this._orig._handles.length + this._orig._outs.length;\r\n  };\r\n  _M.prototype._image = function() {\r\n    var dup = this._dup();\r\n    dup._ch = this._ch;\r\n    dup._sxid = this._sxid;\r\n    dup._master = this._master;\r\n    dup._band = this._band;\r\n    return dup;\r\n  };\r\n  _M.prototype._ch = undefined;\r\n  _M.prototype._sxid = 0x7f;\r\n  _M.prototype._master = undefined;\r\n  _M.prototype._band = undefined;\r\n\r\n  _M.prototype.sxId = function(id) {\r\n    if (typeof id == 'undefined') id = _M.prototype._sxid;\r\n    if (id == this._sxid) return this._thenable();\r\n    id = _7b(id);\r\n    var img = this._image();\r\n    img._sxid = id;\r\n    this._push(_kick, [img]);\r\n    return img._thenable();\r\n  };\r\n  _M.prototype.ch = function(c) {\r\n    if (c == this._ch || typeof c == 'undefined' && typeof this._ch == 'undefined') return this._thenable();\r\n    var img = this._image();\r\n    if (typeof c != 'undefined') c = _ch(c);\r\n    img._ch = c;\r\n    img._master = undefined;\r\n    img._band = undefined;\r\n    this._push(_kick, [img]);\r\n    return img._thenable();\r\n  };\r\n\r\n  function _mpe(m, n) {\r\n    if (!this._orig._mpe) this._orig._mpe = new MPE();\r\n    this._orig._mpe.setup(m, n);\r\n  }\r\n  _M.prototype.mpe = function(m, n) {\r\n    if (m == this._master && n == this._band || typeof m == 'undefined' && typeof this._master == 'undefined') return this._thenable();\r\n    if (typeof m != 'undefined') MPE.validate(m, n);\r\n    if (!n) return this.ch(m);\r\n    var img = this._image();\r\n    img._ch = undefined;\r\n    img._master = m;\r\n    img._band = n;\r\n    this._push(_mpe, [m, n]);\r\n    this._push(_kick, [img]);\r\n    return img._thenable();\r\n  };\r\n  function _validateChannel(c) {\r\n    if (c != parseInt(c) || c < 0 || c > 15)\r\n      throw RangeError('Bad channel value (must not be less than 0 or more than 15): ' + c);\r\n  }\r\n\r\n  // _W: Watcher object ~ MIDIAccess.onstatechange\r\n  function _W() {\r\n    _R.apply(this);\r\n    this._handles = [];\r\n    _rechain(this, _jzz, 'refresh');\r\n    _rechain(this, _jzz, 'openMidiOut');\r\n    _rechain(this, _jzz, 'openMidiIn');\r\n    _rechain(this, _jzz, 'onChange');\r\n    _rechain(this, _jzz, 'close');\r\n  }\r\n  _W.prototype = new _R();\r\n  function _connectW(arg) {\r\n    if (_func(arg)) {\r\n      if (!this._orig._handles.length) _engine._watch();\r\n      _push(this._orig._handles, arg);\r\n    }\r\n  }\r\n  function _disconnectW(arg) {\r\n    if (typeof arg == 'undefined') this._orig._handles = [];\r\n    else _pop(this._orig._handles, arg);\r\n    if (!this._orig._handles.length) _engine._unwatch();\r\n  }\r\n  _W.prototype.connect = function(arg) {\r\n    this._push(_connectW, [arg]);\r\n    return this._thenable();\r\n  };\r\n  _W.prototype.disconnect = function(arg) {\r\n    this._push(_disconnectW, [arg]);\r\n    return this._thenable();\r\n  };\r\n  function _changed(x0, y0, x1, y1) {\r\n    var i;\r\n    if (x0.length != x1.length || y0.length != y1.length) return true;\r\n    for (i = 0; i < x0.length; i++) if (x0[i].name != x1[i].name) return true;\r\n    for (i = 0; i < y0.length; i++) if (y0[i].name != y1[i].name) return true;\r\n    return false;\r\n  }\r\n  function _diff(x0, y0, x1, y1) {\r\n    if (!_changed(x0, y0, x1, y1)) return;\r\n    var ax = []; // added\r\n    var ay = [];\r\n    var rx = []; // removed\r\n    var ry = [];\r\n    var i;\r\n    var h = {};\r\n    for (i = 0; i < x0.length; i++) h[x0[i].name] = true;\r\n    for (i = 0; i < x1.length; i++) if (!h[x1[i].name]) ax.push(x1[i]);\r\n    h = {};\r\n    for (i = 0; i < x1.length; i++) h[x1[i].name] = true;\r\n    for (i = 0; i < x0.length; i++) if (!h[x0[i].name]) rx.push(x0[i]);\r\n    h = {};\r\n    for (i = 0; i < y0.length; i++) h[y0[i].name] = true;\r\n    for (i = 0; i < y1.length; i++) if (!h[y1[i].name]) ay.push(y1[i]);\r\n    h = {};\r\n    for (i = 0; i < y1.length; i++) h[y1[i].name] = true;\r\n    for (i = 0; i < y0.length; i++) if (!h[y0[i].name]) ry.push(y0[i]);\r\n    return { inputs: { added: ax, removed: rx }, outputs: { added: ay, removed: ry } };\r\n  }\r\n  function _fireW(arg) {\r\n    for (i = 0; i < _jzz._watcher._handles.length; i++) _jzz._watcher._handles[i].apply(_jzz, [arg]);\r\n  }\r\n\r\n  var _jzz;\r\n  var _engine = { _outs: [], _ins: [] };\r\n  var _virtual = { _outs: [], _ins: [] };\r\n\r\n  // Node.js\r\n  function _tryNODE() {\r\n    if (typeof module != 'undefined' && module.exports) {\r\n      _initNode(require('jazz-midi'));\r\n      return;\r\n    }\r\n    this._break();\r\n  }\r\n  // Jazz-Plugin\r\n  function _tryJazzPlugin() {\r\n    var div = document.createElement('div');\r\n    div.style.visibility = 'hidden';\r\n    document.body.appendChild(div);\r\n    var obj = document.createElement('object');\r\n    obj.style.visibility = 'hidden';\r\n    obj.style.width = '0px'; obj.style.height = '0px';\r\n    obj.classid = 'CLSID:1ACE1618-1C7D-4561-AEE1-34842AA85E90';\r\n    obj.type = 'audio/x-jazz';\r\n    document.body.appendChild(obj);\r\n    /* istanbul ignore next */\r\n    if (obj.isJazz) {\r\n      _initJazzPlugin(obj);\r\n      return;\r\n    }\r\n    this._break();\r\n  }\r\n\r\n  // Web MIDI API\r\n  var _navigator;\r\n  var _requestMIDIAccess;\r\n  function _findMidiAccess() {\r\n    if (typeof navigator !== 'undefined' && navigator.requestMIDIAccess) {\r\n      _navigator = navigator;\r\n      _requestMIDIAccess = navigator.requestMIDIAccess;\r\n      try {\r\n        if (_requestMIDIAccess.toString().indexOf('JZZ(') != -1) _requestMIDIAccess = undefined;\r\n      }\r\n      catch (err) {}\r\n    }\r\n  }\r\n  function _tryWebMIDI() {\r\n    _findMidiAccess();\r\n    if (_requestMIDIAccess) {\r\n      var self = this;\r\n      var onGood = function(midi) {\r\n        _initWebMIDI(midi);\r\n        self._resume();\r\n      };\r\n      var onBad = function(msg) {\r\n        self._crash(msg);\r\n      };\r\n      var opt = {};\r\n      _requestMIDIAccess.call(_navigator, opt).then(onGood, onBad);\r\n      this._pause();\r\n      return;\r\n    }\r\n    this._break();\r\n  }\r\n  function _tryWebMIDIsysex() {\r\n    _findMidiAccess();\r\n    if (_requestMIDIAccess) {\r\n      var self = this;\r\n      var onGood = function(midi) {\r\n        _initWebMIDI(midi, true);\r\n        self._resume();\r\n      };\r\n      var onBad = function(msg) {\r\n        self._crash(msg);\r\n      };\r\n      var opt = { sysex:true };\r\n      _requestMIDIAccess.call(_navigator, opt).then(onGood, onBad);\r\n      this._pause();\r\n      return;\r\n    }\r\n    this._break();\r\n  }\r\n\r\n  // Web-extension\r\n  function _tryCRX() {\r\n    var self = this;\r\n    var inst;\r\n    var msg;\r\n    function eventHandle() {\r\n      inst = true;\r\n      if (!msg) msg = document.getElementById('jazz-midi-msg');\r\n      if (!msg) return;\r\n      var a = [];\r\n      try { a = JSON.parse(msg.innerText); } catch (err) {}\r\n      msg.innerText = '';\r\n      document.removeEventListener('jazz-midi-msg', eventHandle);\r\n      if (a[0] === 'version') {\r\n        _initCRX(msg, a[2]);\r\n        self._resume();\r\n      }\r\n      else {\r\n        self._crash();\r\n      }\r\n    }\r\n    this._pause();\r\n    document.addEventListener('jazz-midi-msg', eventHandle);\r\n    try { document.dispatchEvent(new Event('jazz-midi')); } catch (err) {}\r\n    _schedule(function() { if (!inst) self._crash(); });\r\n  }\r\n\r\n  /* istanbul ignore next */\r\n  function _zeroBreak() {\r\n    this._pause();\r\n    var self = this;\r\n    _schedule(function() { self._crash(); });\r\n  }\r\n\r\n  function _filterEngines(opt) {\r\n    var ret = [];\r\n    var arr = _filterEngineNames(opt);\r\n    for (var i = 0; i < arr.length; i++) {\r\n      if (arr[i] == 'webmidi') {\r\n        if (opt && opt.sysex === true) ret.push(_tryWebMIDIsysex);\r\n        if (!opt || opt.sysex !== true || opt.degrade === true) ret.push(_tryWebMIDI);\r\n      }\r\n      else if (arr[i] == 'node') { ret.push(_tryNODE); ret.push(_zeroBreak); }\r\n      else if (arr[i] == 'extension') ret.push(_tryCRX);\r\n      else if (arr[i] == 'plugin') ret.push(_tryJazzPlugin);\r\n    }\r\n    ret.push(_initNONE);\r\n    return ret;\r\n  }\r\n\r\n  function _filterEngineNames(opt) {\r\n    var web = ['node', 'extension', 'plugin', 'webmidi'];\r\n    if (!opt || !opt.engine) return web;\r\n    var arr = opt.engine instanceof Array ? opt.engine : [opt.engine];\r\n    var dup = {};\r\n    var none;\r\n    var etc;\r\n    var head = [];\r\n    var tail = [];\r\n    var i;\r\n    for (i = 0; i < arr.length; i++) {\r\n      var name = arr[i].toString().toLowerCase();\r\n      if (dup[name]) continue;\r\n      dup[name] = true;\r\n      if (name === 'none') none = true;\r\n      if (name === 'etc' || typeof name == 'undefined') etc = true;\r\n      if (etc) tail.push(name); else head.push(name);\r\n      _pop(web, name);\r\n    }\r\n    if (etc || head.length || tail.length) none = false;\r\n    return none ? [] : head.concat(etc ? web : tail);\r\n  }\r\n\r\n  function _initJZZ(opt) {\r\n    _jzz = new _J();\r\n    _jzz._options = opt;\r\n    _jzz._push(_tryAny, [_filterEngines(opt)]);\r\n    _jzz.refresh();\r\n    _jzz._resume();\r\n  }\r\n\r\n  function _initNONE() {\r\n    _engine._type = 'none';\r\n    _engine._version = _version;\r\n    _engine._sysex = true;\r\n    _engine._outs = [];\r\n    _engine._ins = [];\r\n    _engine._refresh = function() { _postRefresh(); };\r\n    _engine._watch = _nop;\r\n    _engine._unwatch = _nop;\r\n    _engine._close = _nop;\r\n  }\r\n  // common initialization for Jazz-Plugin and jazz-midi\r\n  function _initEngineJP() {\r\n    _engine._inArr = [];\r\n    _engine._outArr = [];\r\n    _engine._inMap = {};\r\n    _engine._outMap = {};\r\n    _engine._outsW = [];\r\n    _engine._insW = [];\r\n    _engine._version = _engine._main.version;\r\n    _engine._sysex = true;\r\n    var watcher;\r\n    function _closeAll() {\r\n      for (var i = 0; i < this.clients.length; i++) this._close(this.clients[i]);\r\n    }\r\n    _engine._refresh = function() {\r\n      _engine._outs = [];\r\n      _engine._ins = [];\r\n      var i, x;\r\n      for (i = 0; (x = _engine._main.MidiOutInfo(i)).length; i++) {\r\n        _engine._outs.push({ type: _engine._type, name: x[0], manufacturer: x[1], version: x[2] });\r\n      }\r\n      for (i = 0; (x = _engine._main.MidiInInfo(i)).length; i++) {\r\n        _engine._ins.push({ type: _engine._type, name: x[0], manufacturer: x[1], version: x[2] });\r\n      }\r\n      _postRefresh();\r\n    };\r\n    _engine._openOut = function(port, name) {\r\n      var impl = _engine._outMap[name];\r\n      if (!impl) {\r\n        if (_engine._pool.length <= _engine._outArr.length) _engine._pool.push(_engine._newPlugin());\r\n        impl = {\r\n          name: name,\r\n          clients: [],\r\n          info: {\r\n            name: name,\r\n            manufacturer: _engine._allOuts[name].manufacturer,\r\n            version: _engine._allOuts[name].version,\r\n            type: 'MIDI-out',\r\n            sysex: _engine._sysex,\r\n            engine: _engine._type\r\n          },\r\n          _close: function(port) { _engine._closeOut(port); },\r\n          _closeAll: _closeAll,\r\n          _receive: function(a) { if (a.length) this.plugin.MidiOutRaw(a.slice()); }\r\n        };\r\n        var plugin = _engine._pool[_engine._outArr.length];\r\n        impl.plugin = plugin;\r\n        _engine._outArr.push(impl);\r\n        _engine._outMap[name] = impl;\r\n      }\r\n      if (!impl.open) {\r\n        var s = impl.plugin.MidiOutOpen(name);\r\n        if (s !== name) {\r\n          if (s) impl.plugin.MidiOutClose();\r\n          port._break(); return;\r\n        }\r\n        impl.open = true;\r\n      }\r\n      port._orig._impl = impl;\r\n      _push(impl.clients, port._orig);\r\n      port._info = impl.info;\r\n      port._receive = function(arg) { impl._receive(arg); };\r\n      port._close = function() { impl._close(this); };\r\n    };\r\n    _engine._openIn = function(port, name) {\r\n      var impl = _engine._inMap[name];\r\n      if (!impl) {\r\n        if (_engine._pool.length <= _engine._inArr.length) _engine._pool.push(_engine._newPlugin());\r\n        impl = {\r\n          name: name,\r\n          clients: [],\r\n          info: {\r\n            name: name,\r\n            manufacturer: _engine._allIns[name].manufacturer,\r\n            version: _engine._allIns[name].version,\r\n            type: 'MIDI-in',\r\n            sysex: _engine._sysex,\r\n            engine: _engine._type\r\n          },\r\n          _close: function(port) { _engine._closeIn(port); },\r\n          _closeAll: _closeAll,\r\n          handle: function(t, a) {\r\n            for (var i = 0; i < this.clients.length; i++) {\r\n              var msg = MIDI(a);\r\n              this.clients[i]._emit(msg);\r\n            }\r\n          }\r\n        };\r\n        var makeHandle = function(x) { return function(t, a) { x.handle(t, a); }; };\r\n        impl.onmidi = makeHandle(impl);\r\n        var plugin = _engine._pool[_engine._inArr.length];\r\n        impl.plugin = plugin;\r\n        _engine._inArr.push(impl);\r\n        _engine._inMap[name] = impl;\r\n      }\r\n      if (!impl.open) {\r\n        var s = impl.plugin.MidiInOpen(name, impl.onmidi);\r\n        if (s !== name) {\r\n          if (s) impl.plugin.MidiInClose();\r\n          port._break(); return;\r\n        }\r\n        impl.open = true;\r\n      }\r\n      port._orig._impl = impl;\r\n      _push(impl.clients, port._orig);\r\n      port._info = impl.info;\r\n      port._close = function() { impl._close(this); };\r\n    };\r\n    _engine._closeOut = function(port) {\r\n      var impl = port._impl;\r\n      _pop(impl.clients, port._orig);\r\n      if (!impl.clients.length && impl.open) {\r\n        impl.open = false;\r\n        impl.plugin.MidiOutClose();\r\n      }\r\n    };\r\n    _engine._closeIn = function(port) {\r\n      var impl = port._impl;\r\n      _pop(impl.clients, port._orig);\r\n      if (!impl.clients.length && impl.open) {\r\n        impl.open = false;\r\n        impl.plugin.MidiInClose();\r\n      }\r\n    };\r\n    _engine._close = function() {\r\n      for (var i = 0; i < _engine._inArr.length; i++) if (_engine._inArr[i].open) _engine._inArr[i].plugin.MidiInClose();\r\n      _engine._unwatch();\r\n    };\r\n    _engine._watch = function() {\r\n      if (!watcher) watcher = setInterval(function() { _engine._refresh(); }, 250);\r\n    };\r\n    _engine._unwatch = function() {\r\n      if (watcher) clearInterval(watcher);\r\n      watcher = undefined;\r\n    };\r\n  }\r\n\r\n  function _initNode(obj) {\r\n    _engine._type = 'node';\r\n    _engine._main = obj;\r\n    _engine._pool = [];\r\n    _engine._newPlugin = function() { return new obj.MIDI(); };\r\n    _initEngineJP();\r\n  }\r\n  /* istanbul ignore next */\r\n  function _initJazzPlugin(obj) {\r\n    _engine._type = 'plugin';\r\n    _engine._main = obj;\r\n    _engine._pool = [obj];\r\n    _engine._newPlugin = function() {\r\n      var plg = document.createElement('object');\r\n      plg.style.visibility = 'hidden';\r\n      plg.style.width = '0px'; obj.style.height = '0px';\r\n      plg.classid = 'CLSID:1ACE1618-1C7D-4561-AEE1-34842AA85E90';\r\n      plg.type = 'audio/x-jazz';\r\n      document.body.appendChild(plg);\r\n      return plg.isJazz ? plg : undefined;\r\n    };\r\n    _initEngineJP();\r\n  }\r\n  function _initWebMIDI(access, sysex) {\r\n    _engine._type = 'webmidi';\r\n    _engine._version = 43;\r\n    _engine._sysex = !!sysex;\r\n    _engine._access = access;\r\n    _engine._inMap = {};\r\n    _engine._outMap = {};\r\n    _engine._outsW = [];\r\n    _engine._insW = [];\r\n    var watcher;\r\n    function _closeAll() {\r\n      for (var i = 0; i < this.clients.length; i++) this._close(this.clients[i]);\r\n    }\r\n    _engine._refresh = function() {\r\n      _engine._outs = [];\r\n      _engine._ins = [];\r\n      _engine._access.outputs.forEach(function(port) {\r\n        _engine._outs.push({type: _engine._type, name: port.name, manufacturer: port.manufacturer, version: port.version});\r\n      });\r\n      _engine._access.inputs.forEach(function(port) {\r\n        _engine._ins.push({type: _engine._type, name: port.name, manufacturer: port.manufacturer, version: port.version});\r\n      });\r\n      _postRefresh();\r\n    };\r\n    _engine._openOut = function(port, name) {\r\n      var impl = _engine._outMap[name];\r\n      if (!impl) {\r\n        impl = {\r\n          name: name,\r\n          clients: [],\r\n          info: {\r\n            name: name,\r\n            manufacturer: _engine._allOuts[name].manufacturer,\r\n            version: _engine._allOuts[name].version,\r\n            type: 'MIDI-out',\r\n            sysex: _engine._sysex,\r\n            engine: _engine._type\r\n          },\r\n          _close: function(port) { _engine._closeOut(port); },\r\n          _closeAll: _closeAll,\r\n          _receive: function(a) { if (impl.dev && a.length) this.dev.send(a.slice()); }\r\n        };\r\n      }\r\n      var found;\r\n      _engine._access.outputs.forEach(function(dev) {\r\n        if (dev.name === name) found = dev;\r\n      });\r\n      if (found) {\r\n        impl.dev = found;\r\n        _engine._outMap[name] = impl;\r\n        port._orig._impl = impl;\r\n        _push(impl.clients, port._orig);\r\n        port._info = impl.info;\r\n        port._receive = function(arg) { impl._receive(arg); };\r\n        port._close = function() { impl._close(this); };\r\n        if (impl.dev.open) {\r\n          port._pause();\r\n          impl.dev.open().then(function() {\r\n            port._resume();\r\n          }, function() {\r\n            port._crash();\r\n          });\r\n        }\r\n      }\r\n      else port._break();\r\n    };\r\n    _engine._openIn = function(port, name) {\r\n      var impl = _engine._inMap[name];\r\n      if (!impl) {\r\n        impl = {\r\n          name: name,\r\n          clients: [],\r\n          info: {\r\n            name: name,\r\n            manufacturer: _engine._allIns[name].manufacturer,\r\n            version: _engine._allIns[name].version,\r\n            type: 'MIDI-in',\r\n            sysex: _engine._sysex,\r\n            engine: _engine._type\r\n          },\r\n          _close: function(port) { _engine._closeIn(port); },\r\n          _closeAll: _closeAll,\r\n          handle: function(evt) {\r\n            for (var i = 0; i < this.clients.length; i++) {\r\n              var msg = MIDI([].slice.call(evt.data));\r\n              this.clients[i]._emit(msg);\r\n            }\r\n          }\r\n        };\r\n      }\r\n      var found;\r\n      _engine._access.inputs.forEach(function(dev) {\r\n        if (dev.name === name) found = dev;\r\n      });\r\n      if (found) {\r\n        impl.dev = found;\r\n        var makeHandle = function(x) { return function(evt) { x.handle(evt); }; };\r\n        impl.dev.onmidimessage = makeHandle(impl);\r\n        _engine._inMap[name] = impl;\r\n        port._orig._impl = impl;\r\n        _push(impl.clients, port._orig);\r\n        port._info = impl.info;\r\n        port._close = function() { impl._close(this); };\r\n        if (impl.dev.open) {\r\n          port._pause();\r\n          impl.dev.open().then(function() {\r\n            port._resume();\r\n          }, function() {\r\n            port._crash();\r\n          });\r\n        }\r\n      }\r\n      else port._break();\r\n    };\r\n    _engine._closeOut = function(port) {\r\n      var impl = port._impl;\r\n      _pop(impl.clients, port._orig);\r\n      if (!impl.clients.length) {\r\n        if (impl.dev && impl.dev.close) impl.dev.close();\r\n        impl.dev = undefined;\r\n      }\r\n    };\r\n    _engine._closeIn = function(port) {\r\n      var impl = port._impl;\r\n      _pop(impl.clients, port._orig);\r\n      if (!impl.clients.length) {\r\n        if (impl.dev) {\r\n          impl.dev.onmidimessage = null;\r\n          if (impl.dev.close) impl.dev.close();\r\n        }\r\n        impl.dev = undefined;\r\n      }\r\n    };\r\n    _engine._close = function() {\r\n      _engine._unwatch();\r\n    };\r\n    _engine._watch = function() {\r\n      _engine._access.onstatechange = function() {\r\n        watcher = true;\r\n        _schedule(function() {\r\n          if (watcher) {\r\n            _engine._refresh();\r\n            watcher = false;\r\n          }\r\n        });\r\n      };\r\n    };\r\n    _engine._unwatch = function() {\r\n      _engine._access.onstatechange = undefined;\r\n    };\r\n  }\r\n  function _initCRX(msg, ver) {\r\n    _engine._type = 'extension';\r\n    _engine._version = ver;\r\n    _engine._sysex = true;\r\n    _engine._pool = [];\r\n    _engine._outs = [];\r\n    _engine._ins = [];\r\n    _engine._inArr = [];\r\n    _engine._outArr = [];\r\n    _engine._inMap = {};\r\n    _engine._outMap = {};\r\n    _engine._outsW = [];\r\n    _engine._insW = [];\r\n    _engine.refreshClients = [];\r\n    _engine._msg = msg;\r\n    _engine._newPlugin = function() {\r\n      var plugin = { id: _engine._pool.length };\r\n      _engine._pool.push(plugin);\r\n      if (!plugin.id) plugin.ready = true;\r\n      else document.dispatchEvent(new CustomEvent('jazz-midi', { detail: ['new'] }));\r\n    };\r\n    _engine._newPlugin();\r\n    _engine._refresh = function(client) {\r\n      _engine.refreshClients.push(client);\r\n      client._pause();\r\n      _schedule(function() {\r\n        document.dispatchEvent(new CustomEvent('jazz-midi', { detail: ['refresh'] }));\r\n      });\r\n    };\r\n    function _closeAll() {\r\n      for (var i = 0; i < this.clients.length; i++) this._close(this.clients[i]);\r\n    }\r\n    _engine._openOut = function(port, name) {\r\n      var impl = _engine._outMap[name];\r\n      if (!impl) {\r\n        if (_engine._pool.length <= _engine._outArr.length) _engine._newPlugin();\r\n        var plugin = _engine._pool[_engine._outArr.length];\r\n        impl = {\r\n          name: name,\r\n          clients: [],\r\n          info: {\r\n            name: name,\r\n            manufacturer: _engine._allOuts[name].manufacturer,\r\n            version: _engine._allOuts[name].version,\r\n            type: 'MIDI-out',\r\n            sysex: _engine._sysex,\r\n            engine: _engine._type\r\n          },\r\n          _start: function() { document.dispatchEvent(new CustomEvent('jazz-midi', { detail: ['openout', plugin.id, name] })); },\r\n          _close: function(port) { _engine._closeOut(port); },\r\n          _closeAll: _closeAll,\r\n          _receive: function(a) { if (a.length) { var v = a.slice(); v.splice(0, 0, 'play', plugin.id); document.dispatchEvent(new CustomEvent('jazz-midi', {detail: v})); } }\r\n        };\r\n        impl.plugin = plugin;\r\n        plugin.output = impl;\r\n        _engine._outArr.push(impl);\r\n        _engine._outMap[name] = impl;\r\n      }\r\n      port._orig._impl = impl;\r\n      _push(impl.clients, port._orig);\r\n      port._info = impl.info;\r\n      port._receive = function(arg) { impl._receive(arg); };\r\n      port._close = function() { impl._close(this); };\r\n      if (!impl.open) {\r\n        port._pause();\r\n        if (impl.plugin.ready) impl._start();\r\n      }\r\n    };\r\n    _engine._openIn = function(port, name) {\r\n      var impl = _engine._inMap[name];\r\n      if (!impl) {\r\n        if (_engine._pool.length <= _engine._inArr.length) _engine._newPlugin();\r\n        var plugin = _engine._pool[_engine._inArr.length];\r\n        impl = {\r\n          name: name,\r\n          clients: [],\r\n          info: {\r\n            name: name,\r\n            manufacturer: _engine._allIns[name].manufacturer,\r\n            version: _engine._allIns[name].version,\r\n            type: 'MIDI-in',\r\n            sysex: _engine._sysex,\r\n            engine: _engine._type\r\n          },\r\n          _start: function() { document.dispatchEvent(new CustomEvent('jazz-midi', { detail: ['openin', plugin.id, name] })); },\r\n          _close: function(port) { _engine._closeIn(port); },\r\n          _closeAll: _closeAll\r\n        };\r\n        impl.plugin = plugin;\r\n        plugin.input = impl;\r\n        _engine._inArr.push(impl);\r\n        _engine._inMap[name] = impl;\r\n      }\r\n      port._orig._impl = impl;\r\n      _push(impl.clients, port._orig);\r\n      port._info = impl.info;\r\n      port._close = function() { impl._close(this); };\r\n      if (!impl.open) {\r\n        port._pause();\r\n        if (impl.plugin.ready) impl._start();\r\n      }\r\n    };\r\n    _engine._closeOut = function(port) {\r\n      var impl = port._impl;\r\n      _pop(impl.clients, port._orig);\r\n      if (!impl.clients.length && impl.open) {\r\n        impl.open = false;\r\n        document.dispatchEvent(new CustomEvent('jazz-midi', { detail: ['closeout', impl.plugin.id] }));\r\n      }\r\n    };\r\n    _engine._closeIn = function(port) {\r\n      var impl = port._impl;\r\n      _pop(impl.clients, port._orig);\r\n      if (!impl.clients.length && impl.open) {\r\n        impl.open = false;\r\n        document.dispatchEvent(new CustomEvent('jazz-midi', { detail: ['closein', impl.plugin.id] }));\r\n      }\r\n    };\r\n    _engine._close = function() {\r\n      _engine._unwatch();\r\n    };\r\n    var watcher;\r\n    _engine._watch = function() {\r\n      _engine._insW = _engine._ins;\r\n      _engine._outsW = _engine._outs;\r\n      watcher = setInterval(function() {\r\n        document.dispatchEvent(new CustomEvent('jazz-midi', {detail:['refresh']}));\r\n      }, 250);\r\n    };\r\n    _engine._unwatch = function() {\r\n      clearInterval(watcher);\r\n      watcher = undefined;\r\n    };\r\n    document.addEventListener('jazz-midi-msg', function() {\r\n      var v = _engine._msg.innerText.split('\\n');\r\n      var impl, i, j;\r\n      _engine._msg.innerText = '';\r\n      for (i = 0; i < v.length; i++) {\r\n        var a = [];\r\n        try { a = JSON.parse(v[i]); } catch (err) {}\r\n        if (!a.length) continue;\r\n        if (a[0] === 'refresh') {\r\n          if (a[1].ins) {\r\n            for (j = 0; j < a[1].ins.length; j++) a[1].ins[j].type = _engine._type;\r\n            _engine._ins = a[1].ins;\r\n          }\r\n          if (a[1].outs) {\r\n            for (j = 0; j < a[1].outs.length; j++) a[1].outs[j].type = _engine._type;\r\n            _engine._outs = a[1].outs;\r\n          }\r\n          _postRefresh();\r\n          for (j = 0; j < _engine.refreshClients.length; j++) _engine.refreshClients[j]._resume();\r\n          _engine.refreshClients = [];\r\n        }\r\n        else if (a[0] === 'version') {\r\n          var plugin = _engine._pool[a[1]];\r\n          if (plugin) {\r\n            plugin.ready = true;\r\n            if (plugin.input) plugin.input._start();\r\n            if (plugin.output) plugin.output._start();\r\n          }\r\n        }\r\n        else if (a[0] === 'openout') {\r\n          impl = _engine._pool[a[1]].output;\r\n          if (impl) {\r\n            if (a[2] == impl.name) {\r\n              impl.open = true;\r\n              if (impl.clients) for (j = 0; j < impl.clients.length; j++) impl.clients[j]._resume();\r\n            }\r\n            else if (impl.clients) for (j = 0; j < impl.clients.length; j++) impl.clients[j]._crash();\r\n          }\r\n        }\r\n        else if (a[0] === 'openin') {\r\n          impl = _engine._pool[a[1]].input;\r\n          if (impl) {\r\n            if (a[2] == impl.name) {\r\n              impl.open = true;\r\n              if (impl.clients) for (j = 0; j < impl.clients.length; j++) impl.clients[j]._resume();\r\n            }\r\n            else if (impl.clients) for (j = 0; j < impl.clients.length; j++) impl.clients[j]._crash();\r\n          }\r\n        }\r\n        else if (a[0] === 'midi') {\r\n          impl = _engine._pool[a[1]].input;\r\n          if (impl && impl.clients) {\r\n            for (j = 0; j < impl.clients.length; j++) {\r\n              var msg = MIDI(a.slice(3));\r\n              impl.clients[j]._emit(msg);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  var JZZ = function(opt) {\r\n    if (!_jzz) _initJZZ(opt);\r\n    return _jzz._thenable();\r\n  };\r\n  JZZ.JZZ = JZZ;\r\n  JZZ.version = _version;\r\n  JZZ.info = function() { return _J.prototype.info(); };\r\n\r\n  function Widget(arg) {\r\n    var self = new _M();\r\n    if (arg instanceof Object) _for(arg, function(k) { self[k] = arg[k]; });\r\n    self._resume();\r\n    return self;\r\n  }\r\n  JZZ.Widget = Widget;\r\n  _J.prototype.Widget = JZZ.Widget;\r\n  JZZ.addMidiIn = function(name, widget) {\r\n    var info = _clone(widget._info || {});\r\n    info.name = name;\r\n    info.type = info.type || 'javascript';\r\n    info.manufacturer = info.manufacturer || 'virtual';\r\n    info.version = info.version || '0.0';\r\n    var engine = {\r\n      _info: function() { return info; },\r\n      _openIn: function(port) {\r\n        port._pause();\r\n        port._info = _clone(info);\r\n        port._close = function() { widget.disconnect(port); };\r\n        widget.connect(port);\r\n        port._resume();\r\n      }\r\n    };\r\n    return JZZ.lib.registerMidiIn(name, engine);\r\n  };\r\n  JZZ.addMidiOut = function(name, widget) {\r\n    var info = _clone(widget._info || {});\r\n    info.name = name;\r\n    info.type = info.type || 'javascript';\r\n    info.manufacturer = info.manufacturer || 'virtual';\r\n    info.version = info.version || '0.0';\r\n    var engine = {\r\n      _info: function() { return info; },\r\n      _openOut: function(port) {\r\n        port._pause();\r\n        port._info = _clone(info);\r\n        port._close = function() { port.disconnect(); };\r\n        _connect.apply(port, [widget]);\r\n        port._resume();\r\n      }\r\n    };\r\n    return JZZ.lib.registerMidiOut(name, engine);\r\n  };\r\n\r\n  // JZZ.SMPTE\r\n\r\n  function SMPTE() {\r\n    var self = this instanceof SMPTE ? this : self = new SMPTE();\r\n    SMPTE.prototype.reset.apply(self, arguments);\r\n    return self;\r\n  }\r\n  SMPTE.prototype.reset = function(arg) {\r\n    if (arg instanceof SMPTE) {\r\n      this.setType(arg.getType());\r\n      this.setHour(arg.getHour());\r\n      this.setMinute(arg.getMinute());\r\n      this.setSecond(arg.getSecond());\r\n      this.setFrame(arg.getFrame());\r\n      this.setQuarter(arg.getQuarter());\r\n      return this;\r\n    }\r\n    var arr = arg instanceof Array ? arg : arguments;\r\n    this.setType(arr[0]);\r\n    this.setHour(arr[1]);\r\n    this.setMinute(arr[2]);\r\n    this.setSecond(arr[3]);\r\n    this.setFrame(arr[4]);\r\n    this.setQuarter(arr[5]);\r\n    return this;\r\n  };\r\n  function _fixDropFrame() { if (this.type == 29.97 && !this.second && this.frame < 2 && this.minute % 10) this.frame = 2; }\r\n  SMPTE.prototype.isFullFrame = function() { return this.quarter == 0 || this.quarter == 4; };\r\n  SMPTE.prototype.getType = function() { return this.type; };\r\n  SMPTE.prototype.getHour = function() { return this.hour; };\r\n  SMPTE.prototype.getMinute = function() { return this.minute; };\r\n  SMPTE.prototype.getSecond = function() { return this.second; };\r\n  SMPTE.prototype.getFrame = function() { return this.frame; };\r\n  SMPTE.prototype.getQuarter = function() { return this.quarter; };\r\n  SMPTE.prototype.setType = function(x) {\r\n    if (typeof x == 'undefined' || x == 24) this.type = 24;\r\n    else if (x == 25) this.type = 25;\r\n    else if (x == 29.97) { this.type = 29.97; _fixDropFrame.apply(this); }\r\n    else if (x == 30) this.type = 30;\r\n    else throw RangeError('Bad SMPTE frame rate: ' + x);\r\n    if (this.frame >= this.type) this.frame = this.type - 1; // could not be more than 29\r\n    return this;\r\n  };\r\n  SMPTE.prototype.setHour = function(x) {\r\n    if (typeof x == 'undefined') x = 0;\r\n    if (x != parseInt(x) || x < 0 || x >= 24) throw RangeError('Bad SMPTE hours value: ' + x);\r\n    this.hour = x;\r\n    return this;\r\n  };\r\n  SMPTE.prototype.setMinute = function(x) {\r\n    if (typeof x == 'undefined') x = 0;\r\n    if (x != parseInt(x) || x < 0 || x >= 60) throw RangeError('Bad SMPTE minutes value: ' + x);\r\n    this.minute = x;\r\n    _fixDropFrame.apply(this);\r\n    return this;\r\n  };\r\n  SMPTE.prototype.setSecond = function(x) {\r\n    if (typeof x == 'undefined') x = 0;\r\n    if (x != parseInt(x) || x < 0 || x >= 60) throw RangeError('Bad SMPTE seconds value: ' + x);\r\n    this.second = x;\r\n    _fixDropFrame.apply(this);\r\n    return this;\r\n  };\r\n  SMPTE.prototype.setFrame = function(x) {\r\n    if (typeof x == 'undefined') x = 0;\r\n    if (x != parseInt(x) || x < 0 || x >= this.type) throw RangeError('Bad SMPTE frame number: ' + x);\r\n    this.frame = x;\r\n    _fixDropFrame.apply(this);\r\n    return this;\r\n  };\r\n  SMPTE.prototype.setQuarter = function(x) {\r\n    if (typeof x == 'undefined') x = 0;\r\n    if (x != parseInt(x) || x < 0 || x >= 8) throw RangeError('Bad SMPTE quarter frame: ' + x);\r\n    this.quarter = x;\r\n    return this;\r\n  };\r\n  SMPTE.prototype.incrFrame = function() {\r\n    this.frame++;\r\n    if (this.frame >= this.type) {\r\n      this.frame = 0;\r\n      this.second++;\r\n      if (this.second >= 60) {\r\n        this.second = 0;\r\n        this.minute++;\r\n        if (this.minute >= 60) {\r\n          this.minute = 0;\r\n          this.hour = this.hour >= 23 ? 0 : this.hour + 1;\r\n        }\r\n      }\r\n    }\r\n    _fixDropFrame.apply(this);\r\n    return this;\r\n  };\r\n  SMPTE.prototype.decrFrame = function() {\r\n    if (!this.second && this.frame == 2 && this.type == 29.97 && this.minute % 10) this.frame = 0; // drop-frame\r\n    this.frame--;\r\n    if (this.frame < 0) {\r\n      this.frame = this.type == 29.97 ? 29 : this.type - 1;\r\n      this.second--;\r\n      if (this.second < 0) {\r\n        this.second = 59;\r\n        this.minute--;\r\n        if (this.minute < 0) {\r\n          this.minute = 59;\r\n          this.hour = this.hour ? this.hour - 1 : 23;\r\n        }\r\n      }\r\n    }\r\n    return this;\r\n  };\r\n  SMPTE.prototype.incrQF = function() {\r\n    this.backwards = false;\r\n    this.quarter = (this.quarter + 1) & 7;\r\n    if (this.quarter == 0 || this.quarter == 4) this.incrFrame();\r\n    return this;\r\n  };\r\n  SMPTE.prototype.decrQF = function() {\r\n    this.backwards = true;\r\n    this.quarter = (this.quarter + 7) & 7;\r\n    if (this.quarter == 3 || this.quarter == 7) this.decrFrame();\r\n    return this;\r\n  };\r\n  function _825(a) { return [[24, 25, 29.97, 30][(a[7] >> 1) & 3], ((a[7] & 1) << 4) | a[6], (a[5] << 4) | a[4], (a[3] << 4) | a[2], (a[1] << 4) | a[0]]; }\r\n  SMPTE.prototype.read = function(m) {\r\n    if (!(m instanceof MIDI)) m = MIDI.apply(null, arguments);\r\n    if (m[0] == 0xf0 && m[1] == 0x7f && m[3] == 1 && m[4] == 1 && m[9] == 0xf7) {\r\n      this.type = [24, 25, 29.97, 30][(m[5] >> 5) & 3];\r\n      this.hour = m[5] & 31;\r\n      this.minute = m[6];\r\n      this.second = m[7];\r\n      this.frame = m[8];\r\n      this.quarter = 0;\r\n      this._ = undefined;\r\n      this._b = undefined;\r\n      this._f = undefined;\r\n      return true;\r\n    }\r\n    if (m[0] == 0xf1 && typeof m[1] != 'undefined') {\r\n      var q = m[1] >> 4;\r\n      var n = m[1] & 15;\r\n      if (q == 0) {\r\n        if (this._ == 7) {\r\n          if (this._f == 7) {\r\n            this.reset(_825(this._a));\r\n            this.incrFrame();\r\n          }\r\n          this.incrFrame();\r\n        }\r\n      }\r\n      else if (q == 3) {\r\n        if (this._ == 4) {\r\n          this.decrFrame();\r\n        }\r\n      }\r\n      else if (q == 4) {\r\n        if (this._ == 3) {\r\n          this.incrFrame();\r\n        }\r\n      }\r\n      else if (q == 7) {\r\n        if (this._ === 0) {\r\n          if (this._b === 0) {\r\n            this.reset(_825(this._a));\r\n            this.decrFrame();\r\n          }\r\n          this.decrFrame();\r\n        }\r\n      }\r\n      if (!this._a) this._a = [];\r\n      this._a[q] = n;\r\n      this._f = this._f === q - 1 || q == 0 ? q : undefined;\r\n      this._b = this._b === q + 1 || q == 7 ? q : undefined;\r\n      this._ = q;\r\n      this.quarter = q;\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n  function _mtc(t) {\r\n    if (!t.backwards && t.quarter >= 4) t.decrFrame(); // continue encoding previous frame\r\n    else if (t.backwards && t.quarter < 4) t.incrFrame();\r\n    var ret;\r\n    switch (t.quarter >> 1) {\r\n      case 0: ret = t.frame; break;\r\n      case 1: ret = t.second; break;\r\n      case 2: ret = t.minute; break;\r\n      default: ret = t.hour;\r\n    }\r\n    if (t.quarter & 1) ret >>= 4;\r\n    else ret &= 15;\r\n    if (t.quarter == 7) {\r\n      if (t.type == 25) ret |= 2;\r\n      else if (t.type == 29.97) ret |= 4;\r\n      else if (t.type == 30) ret |= 6;\r\n    }\r\n    // restore original t\r\n    if (!t.backwards && t.quarter >= 4) t.incrFrame();\r\n    else if (t.backwards && t.quarter < 4) t.decrFrame();\r\n    return ret | (t.quarter << 4);\r\n  }\r\n  function _hrtype(t) {\r\n    if (t.type == 25) return t.hour | 0x20;\r\n    if (t.type == 29.97) return t.hour | 0x40;\r\n    if (t.type == 30) return t.hour | 0x60;\r\n    return t.hour;\r\n  }\r\n  function _dec(x) { return x < 10 ? '0' + x : x; }\r\n  function _smptetxt(x) {\r\n    var arr = [];\r\n    for (var i = 0; i < x.length; i++) arr[i] = _dec(i ? x[i] : x[i] & 0x1f);\r\n    return arr.join(':');\r\n  }\r\n  SMPTE.prototype.toString = function() { return _smptetxt([this.hour, this.minute, this.second, this.frame]); };\r\n  JZZ.SMPTE = SMPTE;\r\n  _J.prototype.SMPTE = SMPTE;\r\n\r\n  // JZZ.MIDI\r\n\r\n  function MIDI(arg) {\r\n    var self = this instanceof MIDI ? this : self = new MIDI();\r\n    var i;\r\n    if (arg instanceof MIDI) {\r\n      self._from = arg._from.slice();\r\n      _for(arg, function(i) { if (i != '_from') self[i] = arg[i]; });\r\n      return self;\r\n    }\r\n    else self._from = [];\r\n    if (typeof arg == 'undefined') return self;\r\n    var arr = arg instanceof Array ? arg : arguments;\r\n    for (i = 0; i < arr.length; i++) {\r\n      n = arr[i];\r\n      if (i == 1) {\r\n        if (self[0] >= 0x80 && self[0] <= 0xAF) n = MIDI.noteValue(n);\r\n        if (self[0] >= 0xC0 && self[0] <= 0xCF) n = MIDI.programValue(n);\r\n      }\r\n      if (n != parseInt(n) || n < 0 || n > 255) _throw(arr[i]);\r\n      self.push(n);\r\n    }\r\n    return self;\r\n  }\r\n  MIDI.prototype = [];\r\n  MIDI.prototype.constructor = MIDI;\r\n  var _noteNum = {};\r\n  MIDI.noteValue = function(x) { return typeof x == 'undefined' ? undefined : _noteNum[x.toString().toLowerCase()]; };\r\n  MIDI.programValue = function(x) { return x; };\r\n  MIDI.octaveValue = function(x) {\r\n    var n = _noteNum[x.toString().toLowerCase()];\r\n    if (typeof n == 'undefined') n = _noteNum[x.toString().toLowerCase() + '1'];\r\n    return typeof n == 'undefined' ? undefined : n % 12;\r\n  };\r\n  MIDI.freq = function(n, a) {\r\n    if (typeof a == 'undefined') a = 440.0;\r\n    _float(a);\r\n    if (n != parseFloat(n)) n = _7bn(n);\r\n    return (a * Math.pow(2, (n - 69.0) / 12.0));\r\n  };\r\n  function _float(x) { if (x != parseFloat(x)) throw TypeError('Not a number: ' + x); }\r\n  MIDI.shift = function(f, f0) {\r\n    if (typeof f0 == 'undefined') f0 = 440;\r\n    _float(f);\r\n    _float(f0);\r\n    return Math.log2(f / f0) * 12;\r\n  };\r\n  MIDI.midi = function(f, f0) {\r\n    if (f != parseFloat(f)) return _7bn(f);\r\n    return MIDI.shift(f, f0) + 69;\r\n  };\r\n  MIDI.to7b = function(x) {\r\n    _float(x);\r\n    return x <= 0 ? 0 : x >= 1 ? 0x7f : Math.floor(x * 0x80);\r\n  };\r\n  MIDI.to14b = function(x) {\r\n    _float(x);\r\n    return x <= 0 ? 0 : x >= 1 ? 0x3fff : Math.floor(x * 0x4000);\r\n  };\r\n  MIDI.to21b = function(x) {\r\n    if (typeof x == 'undefined') return 0x1fffff;\r\n    _float(x);\r\n    if (x <= 0) return 0;\r\n    x = (Math.floor(x) << 14) + MIDI.to14b(x - Math.floor(x));\r\n    return x < 0x1fffff ? x : 0x1ffffe;\r\n  };\r\n  function _MIDI() {}\r\n  _MIDI.prototype = MIDI;\r\n  MIDI._sxid = 0x7f;\r\n  MIDI.sxId = function(id) {\r\n    if (typeof id == 'undefined') id = MIDI._sxid;\r\n    if (id == this._sxid) return this;\r\n    id = _7b(id);\r\n    var ret = new _MIDI();\r\n    ret._ch = this._ch;\r\n    ret._sxid = id;\r\n    return ret;\r\n  };\r\n  MIDI.ch = function(c) {\r\n    if (c == this._ch || typeof c == 'undefined' && typeof this._ch == 'undefined') return this;\r\n    var ret = new _MIDI();\r\n    if (typeof c != 'undefined') c = _ch(c);\r\n    ret._ch = c;\r\n    ret._sxid = this._sxid;\r\n    return ret;\r\n  };\r\n\r\n  var _noteMap = { c:0, d:2, e:4, f:5, g:7, a:9, b:11, h:11 };\r\n  _for(_noteMap, function(k) {\r\n    for (n = 0; n < 12; n++) {\r\n      m = _noteMap[k] + n * 12;\r\n      if (m > 127) break;\r\n      _noteNum[k + n] = m; _noteNum[k + '' + n] = m;\r\n      if (m > 0) {\r\n        _noteNum[k + 'b' + n] = m - 1; _noteNum[k + '' + n] = m - 1;\r\n        _noteNum[k + 'bb' + n] = m - 2; _noteNum[k + '' + n] = m - 2; _noteNum[k + '' + n] = m - 2;\r\n      }\r\n      if (m < 127) {\r\n        _noteNum[k + '#' + n] = m + 1; _noteNum[k + '' + n] = m + 1;\r\n        _noteNum[k + '##' + n] = m + 2; _noteNum[k + '' + n] = m + 2; _noteNum[k + '' + n] = m + 2;\r\n      }\r\n    }\r\n  });\r\n  for (n = 0; n < 128; n++) _noteNum[n] = n;\r\n  function _throw(x) { throw RangeError('Bad MIDI value: ' + x); }\r\n  function _bad(x) { throw TypeError('Invalid value: ' + x); }\r\n  function _oor(x) { throw RangeError('Out of range: ' + x); }\r\n  function _ch(c) { _validateChannel(c); return parseInt(c); }\r\n  function _7b(n, m) { if (n != parseInt(n) || n < 0 || n > 0x7f) _throw(typeof m == 'undefined' ? n : m); return parseInt(n); }\r\n  function _8b(n) { if (n != parseInt(n) || n < 0 || n > 0xff) _throw(n); return parseInt(n); }\r\n  function _14b(n) { if (n != parseInt(n) || n < 0 || n > 0x3fff) _throw(n); return parseInt(n); }\r\n  function _16b(n) { if (n != parseInt(n) || n < 0 || n > 0xffff) throw RangeError('Expected a 16-bit value: ' + n); return parseInt(n); }\r\n  function _21b(n) { if (n != parseInt(n) || n < 0 || n > 0x1fffff) _throw(n); return parseInt(n); }\r\n  function _7bn(n) { return _7b(MIDI.noteValue(n), n); }\r\n  function _lsb(n) { return _14b(n) & 0x7f; }\r\n  function _msb(n) { return _14b(n) >> 7; }\r\n  function _8bs(s) { s = '' + s; for (var i = 0; i < s.length; i++) if (s.charCodeAt(i) > 255) _throw(s[i]); return s; }\r\n  function _to777(n) { return [n >> 14, (n >> 7) & 0x7f, n & 0x7f]; }\r\n  function _01(x, y) {\r\n    if (x != parseFloat(x)) _bad(typeof y == 'undefined' ? x : y);\r\n    if (x < 0 || x > 1) _oor(typeof y == 'undefined' ? x : y);\r\n    return parseFloat(x);\r\n }\r\n  function _rt(b) { return typeof b != 'undefined' && !b ? 0x7E : 0x7F; }\r\n  function _ntu(x) {\r\n    var k, m;\r\n    var kkk = [];\r\n    var vvv = {};\r\n    _for(x, function(k) {\r\n      m = _21b(x[k]);\r\n      k = _7bn(k);\r\n      if (k in vvv) throw RangeError('Duplicate MIDI value: ' + k);\r\n      kkk.push(k);\r\n      vvv[k] = m;\r\n    });\r\n    kkk.sort();\r\n    var out = [kkk.length];\r\n    for (k = 0; k < kkk.length; k++) out = out.concat([kkk[k]], _to777(vvv[kkk[k]]));\r\n    return out;\r\n  }\r\n  function _f2ntu(x) {\r\n    var out = {};\r\n    _for (x, function(k) { out[k] = MIDI.to21b(x[k] == parseFloat(x[k]) ? x[k] : _7bn(x[k])); });\r\n    return out;\r\n  }\r\n  function _hz2ntu(x) {\r\n    var out = {};\r\n    _for (x, function(k) { out[k] = MIDI.to21b(MIDI.midi(x[k])); });\r\n    return out;\r\n  }\r\n  function _12x7(a) {\r\n    var out = [];\r\n    if (!(a instanceof Array) || a.length != 12) throw TypeError('Expected an array of size 12');\r\n    for (var i = 0; i < 12; i++) out.push(_7b(a[i]));\r\n    return out;\r\n  }\r\n  function _12x14(a) {\r\n    var out = [];\r\n    if (!(a instanceof Array) || a.length != 12) throw TypeError('Expected an array of size 12');\r\n    for (var i = 0; i < 12; i++) {\r\n      out.push(_msb(a[i]));\r\n      out.push(_lsb(a[i]));\r\n    }\r\n    return out;\r\n  }\r\n  var _helperMPE = {\r\n    noteOff: function(c, n, v) { if (typeof v == 'undefined') v = 64; return [0x80 + _ch(c), _7bn(n), _7b(v)]; },\r\n    noteOn: function(c, n, v) { if (typeof v == 'undefined') v = 127; return [0x90 + _ch(c), _7bn(n), _7b(v)]; },\r\n    aftertouch: function(c, n, v) { return [0xA0 + _ch(c), _7bn(n), _7b(v)]; },\r\n  };\r\n  var _helperCH = {\r\n    control: function(c, n, v) { return [0xB0 + _ch(c), _7b(n), _7b(v)]; },\r\n    program: function(c, n) { return [0xC0 + _ch(c), _7b(MIDI.programValue(n), n)]; },\r\n    pressure: function(c, n) { return [0xD0 + _ch(c), _7b(n)]; },\r\n    pitchBend: function(c, n, l) { return typeof l == 'undefined' ? [0xE0 + _ch(c), _lsb(n), _msb(n)] : [0xE0 + _ch(c), _7b(l), _7b(n)]; },\r\n    pitchBendF: function(c, x) { return _helperCH.pitchBend(c, MIDI.to14b((x + 1) / 2)); },\r\n    bankMSB: function(c, n) { return [0xB0 + _ch(c), 0x00, _7b(n)]; },\r\n    bankLSB: function(c, n) { return [0xB0 + _ch(c), 0x20, _7b(n)]; },\r\n    modMSB: function(c, n) { return [0xB0 + _ch(c), 0x01, _7b(n)]; },\r\n    modLSB: function(c, n) { return [0xB0 + _ch(c), 0x21, _7b(n)]; },\r\n    breathMSB: function(c, n) { return [0xB0 + _ch(c), 0x02, _7b(n)]; },\r\n    breathLSB: function(c, n) { return [0xB0 + _ch(c), 0x22, _7b(n)]; },\r\n    footMSB: function(c, n) { return [0xB0 + _ch(c), 0x04, _7b(n)]; },\r\n    footLSB: function(c, n) { return [0xB0 + _ch(c), 0x24, _7b(n)]; },\r\n    portamentoMSB: function(c, n) { return [0xB0 + _ch(c), 0x05, _7b(n)]; },\r\n    portamentoLSB: function(c, n) { return [0xB0 + _ch(c), 0x25, _7b(n)]; },\r\n    dataMSB: function(c, n) { return [0xB0 + _ch(c), 0x06, _7b(n)]; },\r\n    dataLSB: function(c, n) { return [0xB0 + _ch(c), 0x26, _7b(n)]; },\r\n    volumeMSB: function(c, n) { return [0xB0 + _ch(c), 0x07, _7b(n)]; },\r\n    volumeLSB: function(c, n) { return [0xB0 + _ch(c), 0x27, _7b(n)]; },\r\n    balanceMSB: function(c, n) { return [0xB0 + _ch(c), 0x08, _7b(n)]; },\r\n    balanceLSB: function(c, n) { return [0xB0 + _ch(c), 0x28, _7b(n)]; },\r\n    panMSB: function(c, n) { return [0xB0 + _ch(c), 0x0A, _7b(n)]; },\r\n    panLSB: function(c, n) { return [0xB0 + _ch(c), 0x2A, _7b(n)]; },\r\n    expressionMSB: function(c, n) { return [0xB0 + _ch(c), 0x0B, _7b(n)]; },\r\n    expressionLSB: function(c, n) { return [0xB0 + _ch(c), 0x2B, _7b(n)]; },\r\n    damper: function(c, b) { if (typeof b == 'undefined') b = true; return [0xB0 + _ch(c), 0x40, b ? 127 : 0]; },\r\n    portamento: function(c, b) { if (typeof b == 'undefined') b = true; return [0xB0 + _ch(c), 0x41, b ? 127 : 0]; },\r\n    sostenuto: function(c, b) { if (typeof b == 'undefined') b = true; return [0xB0 + _ch(c), 0x42, b ? 127 : 0]; },\r\n    soft: function(c, b) { if (typeof b == 'undefined') b = true; return [0xB0 + _ch(c), 0x43, b ? 127 : 0]; },\r\n    legato: function(c, b) { if (typeof b == 'undefined') b = true; return [0xB0 + _ch(c), 0x44, b ? 127 : 0]; },\r\n    hold2: function(c, b) { if (typeof b == 'undefined') b = true; return [0xB0 + _ch(c), 0x45, b ? 127 : 0]; },\r\n    soundVariation: function(c, n) { return [0xB0 + _ch(c), 0x46, _7bn(n)]; },\r\n    filterResonance: function(c, n) { return [0xB0 + _ch(c), 0x47, _7bn(n)]; },\r\n    releaseTime: function(c, n) { return [0xB0 + _ch(c), 0x48, _7bn(n)]; },\r\n    attackTime: function(c, n) { return [0xB0 + _ch(c), 0x49, _7bn(n)]; },\r\n    brightness: function(c, n) { return [0xB0 + _ch(c), 0x4A, _7bn(n)]; },\r\n    decayTime: function(c, n) { return [0xB0 + _ch(c), 0x4B, _7bn(n)]; },\r\n    vibratoRate: function(c, n) { return [0xB0 + _ch(c), 0x4C, _7bn(n)]; },\r\n    vibratoDepth: function(c, n) { return [0xB0 + _ch(c), 0x4D, _7bn(n)]; },\r\n    vibratoDelay: function(c, n) { return [0xB0 + _ch(c), 0x4E, _7bn(n)]; },\r\n    ptc: function(c, n) { return [0xB0 + _ch(c), 0x54, _7bn(n)]; },\r\n    dataIncr: function(c) { return [0xB0 + _ch(c), 0x60, 0]; },\r\n    dataDecr: function(c) { return [0xB0 + _ch(c), 0x61, 0]; },\r\n    nrpnLSB: function(c, n) { return [0xB0 + _ch(c), 0x62, _7b(n)]; },\r\n    nrpnMSB: function(c, n) { return [0xB0 + _ch(c), 0x63, _7b(n)]; },\r\n    rpnLSB: function(c, n) { return [0xB0 + _ch(c), 0x64, _7b(n)]; },\r\n    rpnMSB: function(c, n) { return [0xB0 + _ch(c), 0x65, _7b(n)]; },\r\n    allSoundOff: function(c) { return [0xB0 + _ch(c), 0x78, 0]; },\r\n    resetAllControllers: function(c) { return [0xB0 + _ch(c), 0x79, 0]; },\r\n    localControl: function(c, b) { if (typeof b == 'undefined') b = true; return [0xB0 + _ch(c), 0x7a, b ? 127 : 0]; },\r\n    allNotesOff: function(c) { return [0xB0 + _ch(c), 0x7b, 0]; },\r\n    omni: function(c, b) { if (typeof b == 'undefined') b = true; return [0xB0 + _ch(c), b ? 0x7d : 0x7c, 0]; },\r\n    mono: function(c, n) { if (typeof n == 'undefined') n = 1; return [0xB0 + _ch(c), 0x7e, _7b(n)]; },\r\n    poly: function(c) { return [0xB0 + _ch(c), 0x7f, 0]; },\r\n  };\r\n  function _splitMasterTuning(a, b, c, d) {\r\n    if (typeof b != 'undefined') return [_7b(a), _7b(b), _7b(c), _7b(d)];\r\n    if (a != parseInt(a) || a < 0 || n > 0xffff) _bad(a);\r\n    a = parseInt(a);\r\n    return [(a >> 12) & 0xf, (a >> 8) & 0xf, (a >> 4) & 0xf, a & 0xf];\r\n  }\r\n  function _gsxg12b(x) { // -1 <= x <= 1\r\n    _float(x);\r\n    return Math.round(x * 1000 + 0x400);\r\n  }\r\n  var _helperNC = { // no channel\r\n    mtc: function(t) { return [0xF1, _mtc(t)]; },\r\n    songPosition: function(n, l) { return typeof l == 'undefined' ? [0xF2, _lsb(n), _msb(n)] : [0xF2, _7b(l), _7b(n)]; },\r\n    songSelect: function(n) { return [0xF3, _7b(n)]; },\r\n    tune: function() { return [0xF6]; },\r\n    clock: function() { return [0xF8]; },\r\n    start: function() { return [0xFA]; },\r\n    continue: function() { return [0xFB]; },\r\n    stop: function() { return [0xFC]; },\r\n    active: function() { return [0xFE]; },\r\n    sxIdRequest: function() { return [0xF0, 0x7E, this._sxid, 0x06, 0x01, 0xF7]; },\r\n    sxTuningDumpRequest: function(n, k) { return typeof k == 'undefined' ?\r\n      [0xF0, 0x7E, this._sxid, 0x08, 0x00, _7b(n), 0xF7] : [0xF0, 0x7E, this._sxid, 0x08, 0x03, _7b(n), _7b(k), 0xF7]; },\r\n    sxFullFrame: function(t) { return [0xF0, 0x7F, this._sxid, 0x01, 0x01, _hrtype(t), t.getMinute(), t.getSecond(), t.getFrame(), 0xF7]; },\r\n    sxMasterVolume: function(n, l) { return typeof l == 'undefined' ?\r\n      [0xF0, 0x7F, this._sxid, 0x04, 0x01, _lsb(n), _msb(n), 0xF7] : [0xF0, 0x7F, this._sxid, 0x04, 0x01, _7b(l), _7b(n), 0xF7]; },\r\n    sxMasterVolumeF: function(x) { return _helperNC.sxMasterVolume.call(this, MIDI.to14b(_01(x))); },\r\n    sxMasterFineTuning: function(n, l) { return typeof l == 'undefined' ?\r\n      [0xF0, 0x7F, this._sxid, 0x04, 0x03, _lsb(n), _msb(n), 0xF7] : [0xF0, 0x7F, this._sxid, 0x04, 0x03, _7b(l), _7b(n), 0xF7]; },\r\n    sxMasterFineTuningF: function(x) { return _helperNC.sxMasterFineTuning.call(this, MIDI.to14b(_01((x % 1 + 1) / 2, x))); },\r\n    sxMasterCoarseTuning: function(n) { return [0xF0, 0x7F, this._sxid, 0x04, 0x04, 0x00, _7b(n), 0xF7]; },\r\n    sxMasterCoarseTuningF: function(x) { return _helperNC.sxMasterCoarseTuning.call(this, 0x40 + (x - x % 1)); },\r\n    sxNoteTuning: function(a, b, c, d) { return b == parseInt(b) ?\r\n      [0xF0, _rt(d), this._sxid, 0x08, 0x07, _7b(a), _7b(b)].concat(_ntu(c), [0xF7]) :\r\n      [0xF0, 0x7F, this._sxid, 0x08, 0x02, _7b(a)].concat(_ntu(b), [0xF7]); },\r\n    sxNoteTuningF: function(a, b, c, d) { return b == parseInt(b) ?\r\n      _helperNC.sxNoteTuning.call(this, a, b, _f2ntu(c), d) : _helperNC.sxNoteTuning.call(this, a, _f2ntu(b)); },\r\n    sxNoteTuningHZ: function(a, b, c, d) { return b == parseInt(b) ?\r\n      _helperNC.sxNoteTuning.call(this, a, b, _hz2ntu(c), d) : _helperNC.sxNoteTuning.call(this, a, _hz2ntu(b)); },\r\n    sxScaleTuning1: function(a, b, c) { return a == parseInt(a) ?\r\n      [0xF0, _rt(c), this._sxid, 0x08, 0x08].concat(_to777(_16b(a)), _12x7(b), [0xF7]) :\r\n      _helperNC.sxScaleTuning1.call(this, 0xffff, a, b); },\r\n    sxScaleTuning1F: function(a, b, c) { if (a != parseInt(a)) return _helperNC.sxScaleTuning1F.call(this, 0xffff, a, b);\r\n      var v = []; for (var i = 0; i < b.length; i++) {\r\n        if (b[i] < -0.64 || b[i] > 0.63) throw RangeError('Out of range: ' + b[i]);\r\n        v.push(Math.floor(b[i] * 100 + 64)); }\r\n      return _helperNC.sxScaleTuning1.call(this, a, v, c); },\r\n    sxScaleTuning2: function(a, b, c) { return a == parseInt(a) ?\r\n      [0xF0, _rt(c), this._sxid, 0x08, 0x09].concat(_to777(_16b(a)), _12x14(b), [0xF7]) :\r\n      _helperNC.sxScaleTuning2.call(this, 0xffff, a, b); },\r\n    sxScaleTuning2F: function(a, b, c) { if (a != parseInt(a)) return _helperNC.sxScaleTuning2F.call(this, 0xffff, a, b);\r\n      var v = []; for (var i = 0; i < b.length; i++) {\r\n        var x = (b[i] + 1) / 2;\r\n        if (x < -1 || x > 1) throw RangeError('Out of range: ' + b[i]);\r\n        v.push(MIDI.to14b((b[i] + 1) / 2)); }\r\n      return _helperNC.sxScaleTuning2.call(this, a, v, c); },\r\n    sxGM: function(gm) { if (typeof gm == 'undefined') gm = 1; return [0xF0, 0x7E, this._sxid, 0x09, gm ? gm == 2 ? 3 : 1 : 2, 0xf7]; },\r\n    sxGS: function(arg) { var arr = typeof arg == 'undefined' ? [0x40, 0, 0x7F, 0] : arg instanceof Array ? arg : arguments;\r\n      var c = 0; var a = [0xF0, 0x41, this._sxid, 0x42, 0x12];\r\n      for (var i = 0; i < arr.length; i++) { var x = _7b(arr[i]); a.push(x); c += x; }\r\n      c %= 128; a.push(c ? 128 - c : 0); a.push(0xf7); return a; },\r\n    sxXG: function(arg) { var arr = typeof arg == 'undefined' ? [0, 0, 0x7E, 0] : arg instanceof Array ? arg : arguments;\r\n      var sxid = this._sxid == 0x7f ? 0 : this._sxid;\r\n      if (sxid > 15) _throw('Bad Yamaha device number: ' + sxid);\r\n      var a = [0xf0, 0x43, 16 + sxid, 0x4c];\r\n      for (var i = 0; i < arr.length; i++) a.push(_7b(arr[i])); a.push(0xf7); return a; },\r\n    sxMidiSoft: function(n, s) {\r\n      var a = [0xf0, 0x00, 0x20, 0x24, 0x00, _7b(n || 0)];\r\n      s = typeof s == 'undefined' ? '' : '' + s;\r\n      for (var i = 0; i < s.length; i++) a.push(_7b(s.charCodeAt(i)));\r\n      a.push(0xf7); return a; },\r\n    gsMasterVolume: function(n) { return _helperNC.sxGS.call(this, [0x40, 0, 4, _7b(n)]); },\r\n    gsMasterVolumeF: function(x) { return _helperNC.gsMasterVolume.call(this, MIDI.to7b(_01(x))); },\r\n    gsMasterFineTuning: function(a, b, c, d) { a = _splitMasterTuning(a, b, c, d); return _helperNC.sxGS.call(this, [0x40, 0, 0, a[0], a[1], a[2], a[3]]); },\r\n    gsMasterFineTuningF: function(x) { return _helperNC.gsMasterFineTuning.call(this, _gsxg12b(x % 1)); },\r\n    gsMasterCoarseTuning: function(n) { return _helperNC.sxGS.call(this, [0x40, 0, 5, _7b(n)]); },\r\n    gsMasterCoarseTuningF: function(x) { return _helperNC.gsMasterCoarseTuning.call(this, 0x40 + (x - x % 1)); },\r\n    gsOctaveTuning: function(c, n, x) { return _helperNC.sxGS.call(this, [0x40, 0x10 + [1, 2, 3, 4, 5, 6, 7, 8, 9, 0, 11, 12, 13, 14, 15][_ch(c)], 0x40 + MIDI.octaveValue(n), _7b(x)]); },\r\n    gsOctaveTuningF: function(c, n, x) { if (x < -0.64 || x > 0.63) throw RangeError('Out of range: ' + x);\r\n      return _helperNC.gsOctaveTuning.call(this, c, n, Math.floor(x * 100 + 64)); },\r\n    xgMasterVolume: function(n) { return _helperNC.sxXG.call(this, [0, 0, 4, _7b(n)]); },\r\n    xgMasterVolumeF: function(x) { return _helperNC.xgMasterVolume.call(this, MIDI.to7b(_01(x))); },\r\n    xgMasterFineTuning: function(a, b, c, d) { a = _splitMasterTuning(a, b, c, d); return _helperNC.sxXG.call(this, [0, 0, 0, a[0], a[1], a[2], a[3]]); },\r\n    xgMasterFineTuningF: function(x) { return _helperNC.xgMasterFineTuning.call(this, _gsxg12b(x % 1)); },\r\n    xgMasterCoarseTuning: function(n) { return _helperNC.sxXG.call(this, [0, 0, 6, _7b(n)]); },\r\n    xgMasterCoarseTuningF: function(x) { return _helperNC.xgMasterCoarseTuning.call(this, 0x40 + (x - x % 1)); },\r\n    xgOctaveTuning: function(c, n, x) { return _helperNC.sxXG.call(this, [8, _ch(c), 0x41 + MIDI.octaveValue(n), _7b(x)]); },\r\n    xgOctaveTuningF: function(c, n, x) { if (x < -0.64 || x > 0.63) throw RangeError('Out of range: ' + x);\r\n      return _helperNC.xgOctaveTuning.call(this, c, n, Math.floor(x * 100 + 64)); },\r\n    reset: function() { return [0xFF]; },\r\n  };\r\n  _helperNC.sxScaleTuning = _helperNC.sxScaleTuning2;\r\n  _helperNC.sxScaleTuningF = _helperNC.sxScaleTuning2F;\r\n  _helperNC.sxMasterTranspose = _helperNC.sxMasterCoarseTuning;\r\n  _helperNC.sxMasterTransposeF = _helperNC.sxMasterCoarseTuningF;\r\n  _helperNC.gsMasterTranspose = _helperNC.gsMasterCoarseTuning;\r\n  _helperNC.gsMasterTransposeF = _helperNC.gsMasterCoarseTuningF;\r\n  _helperNC.xgMasterTranspose = _helperNC.xgMasterCoarseTuning;\r\n  _helperNC.xgMasterTransposeF = _helperNC.xgMasterCoarseTuningF;\r\n  var _helperGCH = { // compound messages\r\n    bank: function(c, m, l) { return typeof l == 'undefined' ?\r\n      [_helperCH.bankMSB(c, _msb(m)), _helperCH.bankLSB(c, _lsb(m))] : [_helperCH.bankMSB(c, m), _helperCH.bankLSB(c, l)]; },\r\n    modF: function(c, x) { return _helperGCH.mod(c, MIDI.to14b(x)); },\r\n    mod: function(c, m, l) { return typeof l == 'undefined' ?\r\n      [_helperCH.modMSB(c, _msb(m)), _helperCH.modLSB(c, _lsb(m))] : [_helperCH.modMSB(c, m), _helperCH.modLSB(c, l)]; },\r\n    breathF: function(c, x) { return _helperGCH.breath(c, MIDI.to14b(x)); },\r\n    breath: function(c, m, l) { return typeof l == 'undefined' ?\r\n      [_helperCH.breathMSB(c, _msb(m)), _helperCH.breathLSB(c, _lsb(m))] : [_helperCH.breathMSB(c, m), _helperCH.breathLSB(c, l)]; },\r\n    footF: function(c, x) { return _helperGCH.foot(c, MIDI.to14b(x)); },\r\n    foot: function(c, m, l) { return typeof l == 'undefined' ?\r\n      [_helperCH.footMSB(c, _msb(m)), _helperCH.footLSB(c, _lsb(m))] : [_helperCH.footMSB(c, m), _helperCH.footLSB(c, l)]; },\r\n    portamentoTimeF: function(c, x) { return _helperGCH.portamentoTime(c, MIDI.to14b(x)); },\r\n    portamentoTime: function(c, m, l) { return typeof l == 'undefined' ?\r\n      [_helperCH.portamentoMSB(c, _msb(m)), _helperCH.portamentoLSB(c, _lsb(m))] : [_helperCH.portamentoMSB(c, m), _helperCH.portamentoLSB(c, l)]; },\r\n    dataF: function(c, x) { return _helperGCH.data(c, MIDI.to14b(x)); },\r\n    data: function(c, m, l) { return typeof l == 'undefined' ?\r\n      [_helperCH.dataMSB(c, _msb(m)), _helperCH.dataLSB(c, _lsb(m))] : [_helperCH.dataMSB(c, m), _helperCH.dataLSB(c, l)]; },\r\n    volumeF: function(c, x) { return _helperGCH.volume(c, MIDI.to14b(x)); },\r\n    volume: function(c, m, l) { return typeof l == 'undefined' ?\r\n      [_helperCH.volumeMSB(c, _msb(m)), _helperCH.volumeLSB(c, _lsb(m))] : [_helperCH.volumeMSB(c, m), _helperCH.volumeLSB(c, l)]; },\r\n    balanceF: function(c, x) { return _helperGCH.balance(c, MIDI.to14b((x + 1) / 2)); },\r\n    balance: function(c, m, l) { return typeof l == 'undefined' ?\r\n      [_helperCH.balanceMSB(c, _msb(m)), _helperCH.balanceLSB(c, _lsb(m))] : [_helperCH.balanceMSB(c, m), _helperCH.balanceLSB(c, l)]; },\r\n    panF: function(c, x) { return _helperGCH.pan(c, MIDI.to14b((x + 1) / 2)); },\r\n    pan: function(c, m, l) { return typeof l == 'undefined' ?\r\n      [_helperCH.panMSB(c, _msb(m)), _helperCH.panLSB(c, _lsb(m))] : [_helperCH.panMSB(c, m), _helperCH.panLSB(c, l)]; },\r\n    expressionF: function(c, x) { return _helperGCH.expression(c, MIDI.to14b(x)); },\r\n    expression: function(c, m, l) { return typeof l == 'undefined' ?\r\n      [_helperCH.expressionMSB(c, _msb(m)), _helperCH.expressionLSB(c, _lsb(m))] : [_helperCH.expressionMSB(c, m), _helperCH.expressionLSB(c, l)]; },\r\n    nrpn: function(c, m, l) { return typeof l == 'undefined' ?\r\n      [_helperCH.nrpnMSB(c, _msb(m)), _helperCH.nrpnLSB(c, _lsb(m))] : [_helperCH.nrpnMSB(c, m), _helperCH.nrpnLSB(c, l)]; },\r\n    rpn: function(c, m, l) { return typeof l == 'undefined' ?\r\n      [_helperCH.rpnMSB(c, _msb(m)), _helperCH.rpnLSB(c, _lsb(m))] : [_helperCH.rpnMSB(c, m), _helperCH.rpnLSB(c, l)]; },\r\n    rpnPitchBendRange: function(c, m, l) { return _helperGCH.rpn(c, 0, 0).concat(_helperGCH.data(c, m, l)); },\r\n    rpnPitchBendRangeF: function(c, x) { return _helperGCH.rpnPitchBendRange(c, _7b(x - x % 1), Math.floor((x % 1) * 100)); },\r\n    rpnFineTuning: function(c, m, l) { return _helperGCH.rpn(c, 0, 1).concat(_helperGCH.data(c, m, l)); },\r\n    rpnFineTuningF: function(c, x) { return _helperGCH.rpn(c, 0, 1).concat(_helperGCH.dataF(c, (x % 1 + 1) / 2)); },\r\n    rpnCoarseTuning: function(c, m) { return _helperGCH.rpn(c, 0, 2).concat([_helperCH.dataMSB(c, m)]); },\r\n    rpnCoarseTuningF: function(c, x) { return _helperGCH.rpn(c, 0, 2).concat([_helperCH.dataMSB(c, 0x40 + (x - x % 1))]); },\r\n    rpnTuning: function(c, n, m, l) { return _helperGCH.rpnCoarseTuning(c, n).concat(_helperGCH.rpnFineTuning(c, m, l)); },\r\n    rpnTuningF: function(c, x) { return _helperGCH.rpnCoarseTuningF(c, x).concat(_helperGCH.rpnFineTuningF(c, x)); },\r\n    rpnTuningA: function(c, a) { return _helperGCH.rpnTuningF(c, MIDI.shift(a)); },\r\n    rpnSelectTuningProgram: function(c, n) { return _helperGCH.rpn(c, 0, 3).concat([_helperCH.dataMSB(c, n)]); },\r\n    rpnSelectTuningBank: function(c, n) { return _helperGCH.rpn(c, 0, 4).concat([_helperCH.dataMSB(c, n)]); },\r\n    rpnSelectTuning: function(c, n, k) { return typeof k == 'undefined' ?\r\n      _helperGCH.rpnSelectTuningProgram(c, n) : _helperGCH.rpnSelectTuningBank(c, n).concat(_helperGCH.rpnSelectTuningProgram(c, k)); },\r\n    rpnModulationDepthRange: function(c, m, l) { return _helperGCH.rpn(c, 0, 5).concat(_helperGCH.data(c, m, l)); },\r\n    rpnModulationDepthRangeF: function(c, x) { return _helperGCH.rpnModulationDepthRange(c, _7b(x - x % 1), Math.floor((x % 1) * 128)); },\r\n    rpnNull: function(c) { return _helperGCH.rpn(c, 0x7f, 0x7f); },\r\n    mode1: function(c) { return [ _helperCH.omni(c, true), _helperCH.poly(c) ]; },\r\n    mode2: function(c) { return [ _helperCH.omni(c, true), _helperCH.mono(c) ]; },\r\n    mode3: function(c) { return [ _helperCH.omni(c, false), _helperCH.poly(c) ]; },\r\n    mode4: function(c) { return [ _helperCH.omni(c, false), _helperCH.mono(c) ]; },\r\n  };\r\n  var _helperGNC = { // compound messages no channel\r\n    sxMasterTuning: function(n, m, l) { return [_helperNC.sxMasterCoarseTuning.call(this, n), _helperNC.sxMasterFineTuning.call(this, m, l)]; },\r\n    sxMasterTuningF: function(x) { return [_helperNC.sxMasterCoarseTuningF.call(this, x), _helperNC.sxMasterFineTuningF.call(this, x)]; },\r\n    gsMasterTuningF: function(x) { return [_helperNC.gsMasterCoarseTuningF.call(this, x), _helperNC.gsMasterFineTuningF.call(this, x)]; },\r\n    xgMasterTuningF: function(x) { return [_helperNC.xgMasterCoarseTuningF.call(this, x), _helperNC.xgMasterFineTuningF.call(this, x)]; },\r\n    sxMasterTuningA: function(a) { return _helperGNC.sxMasterTuningF.call(this, MIDI.shift(a)); },\r\n    gsMasterTuningA: function(a) { return _helperGNC.gsMasterTuningF.call(this, MIDI.shift(a)); },\r\n    xgMasterTuningA: function(a) { return _helperGNC.xgMasterTuningF.call(this, MIDI.shift(a)); },\r\n    gsScaleTuning: function(c, a) { var out = []; if (a.length != 12) throw RangeError('Wrong input size: ' + a.length);\r\n      for (var i = 0; i < 12; i++) out.push(_helperNC.gsOctaveTuning.call(this, c, i, a[i])); return out; },\r\n    gsScaleTuningF: function(c, a) { var out = []; if (a.length != 12) throw RangeError('Wrong input size: ' + a.length);\r\n      for (var i = 0; i < 12; i++) out.push(_helperNC.gsOctaveTuningF.call(this, c, i, a[i])); return out; },\r\n    xgScaleTuning: function(c, a) { var out = []; if (a.length != 12) throw RangeError('Wrong input size: ' + a.length);\r\n      for (var i = 0; i < 12; i++) out.push(_helperNC.xgOctaveTuning.call(this, c, i, a[i])); return out; },\r\n    xgScaleTuningF: function(c, a) { var out = []; if (a.length != 12) throw RangeError('Wrong input size: ' + a.length);\r\n      for (var i = 0; i < 12; i++) out.push(_helperNC.xgOctaveTuningF.call(this, c, i, a[i])); return out; },\r\n  };\r\n  function _smf(ff, dd) {\r\n    var midi = new MIDI();\r\n    midi.ff = _8b(ff);\r\n    midi.dd = typeof dd == 'undefined' ? '' : _8bs(dd);\r\n    return midi;\r\n  }\r\n  var _helperSMF = { // Standard MIDI File events\r\n    smf: function(arg) {\r\n      if (arg instanceof MIDI) return new MIDI(arg);\r\n      var arr = arg instanceof Array ? arg : arguments;\r\n      var ff = _8b(arr[0]);\r\n      var dd = '';\r\n      if (arr.length == 2) dd = _2s(arr[1]);\r\n      else if (arr.length > 2) dd = _2s(Array.prototype.slice.call(arr, 1));\r\n      return _smf(ff, dd);\r\n    },\r\n    smfSeqNumber: function(dd) {\r\n      if (dd == parseInt(dd)) {\r\n        if (dd < 0 || dd > 0xffff) throw RangeError('Sequence number out of range: ' + dd);\r\n        dd = String.fromCharCode(dd >> 8) + String.fromCharCode(dd & 0xff);\r\n      }\r\n      else {\r\n        dd = '' + dd;\r\n        if (dd.length == 0) dd = '\\x00\\x00';\r\n        else if (dd.length == 1) dd = '\\x00' + dd;\r\n        else if (dd.length > 2) throw RangeError('Sequence number out of range' + _smftxt(dd));\r\n      }\r\n      return _smf(0, dd);\r\n    },\r\n    smfText: function(dd) { return _smf(1, JZZ.lib.toUTF8(dd)); },\r\n    smfCopyright: function(dd) { return _smf(2, JZZ.lib.toUTF8(dd)); },\r\n    smfSeqName: function(dd) { return _smf(3, JZZ.lib.toUTF8(dd)); },\r\n    smfInstrName: function(dd) { return _smf(4, JZZ.lib.toUTF8(dd)); },\r\n    smfLyric: function(dd) { return _smf(5, JZZ.lib.toUTF8(dd)); },\r\n    smfMarker: function(dd) { return _smf(6, JZZ.lib.toUTF8(dd)); },\r\n    smfCuePoint: function(dd) { return _smf(7, JZZ.lib.toUTF8(dd)); },\r\n    smfProgName: function(dd) { return _smf(8, JZZ.lib.toUTF8(dd)); },\r\n    smfDevName: function(dd) { return _smf(9, JZZ.lib.toUTF8(dd)); },\r\n    smfChannelPrefix: function(dd) {\r\n      if (dd == parseInt(dd)) {\r\n        _validateChannel(dd);\r\n        dd = String.fromCharCode(dd);\r\n      }\r\n      else {\r\n        dd = '' + dd;\r\n        if (dd.length == 0) dd = '\\x00';\r\n        else if (dd.length > 1 || dd.charCodeAt(0) > 15) throw RangeError('Channel number out of range' + _smftxt(dd));\r\n      }\r\n      return _smf(32, dd);\r\n    },\r\n    smfMidiPort: function(dd) {\r\n      if (dd == parseInt(dd)) {\r\n        if (dd < 0 || dd > 127) throw RangeError('Port number out of range: ' + dd);\r\n        dd = String.fromCharCode(dd);\r\n      }\r\n      else {\r\n        dd = '' + dd;\r\n        if (dd.length == 0) dd = '\\x00';\r\n        else if (dd.length > 1 || dd.charCodeAt(0) > 127) throw RangeError('Port number out of range' + _smftxt(dd));\r\n      }\r\n      return _smf(33, dd);\r\n    },\r\n    smfEndOfTrack: function(dd) {\r\n      if (_2s(dd) != '') throw RangeError('Unexpected data' + _smftxt(_2s(dd)));\r\n      return _smf(47);\r\n    },\r\n    smfTempo: function(dd) { // microseconds per quarter note\r\n      if (('' + dd).length == 3) return _smf(81, dd);\r\n      if (dd == parseInt(dd) && dd > 0 && dd <= 0xffffff) {\r\n        return _smf(81, String.fromCharCode(dd >> 16) + String.fromCharCode((dd >> 8) & 0xff) + String.fromCharCode(dd & 0xff));\r\n      }\r\n      throw RangeError('Out of range' + _smftxt(_2s(dd)));\r\n    },\r\n    smfBPM: function(bpm) { return _helperSMF.smfTempo(Math.round(60000000.0 / bpm)); },\r\n    smfSMPTE: function(dd) {\r\n      if (dd instanceof SMPTE) return _smf(84, String.fromCharCode(dd.hour) + String.fromCharCode(dd.minute) + String.fromCharCode(dd.second) + String.fromCharCode(dd.frame) + String.fromCharCode((dd.quarter % 4) * 25));\r\n      var s = '' + dd;\r\n      if (s.length == 5) {\r\n        return _smf(84, dd);\r\n      }\r\n      var arr = dd instanceof Array ? dd : Array.prototype.slice.call(arguments);\r\n      arr.splice(0, 0, 30);\r\n      return _helperSMF.smfSMPTE(new SMPTE(arr));\r\n    },\r\n    smfTimeSignature: function(a, b, c, d) {\r\n      var nn, dd, cc, bb;\r\n      var m = ('' + a ).match(/^\\s*(\\d+)\\s*\\/\\s*(\\d+)\\s*$/);\r\n      if (m) {\r\n        nn = parseInt(m[1]);\r\n        dd = parseInt(m[2]);\r\n        if (nn > 0 && nn < 0x100 && dd > 0 && !(dd & (dd - 1))) {\r\n          cc = dd; dd = 0;\r\n          for (cc >>= 1; cc; cc >>= 1) dd++;\r\n          cc = b == parseInt(b) ? b : 24;\r\n          bb = c == parseInt(c) ? c : 8;\r\n          return _smf(88, String.fromCharCode(nn) + String.fromCharCode(dd) + String.fromCharCode(cc) + String.fromCharCode(bb));\r\n        }\r\n        else if (('' + a ).length == 4) return _smf(88, a);\r\n      }\r\n      else if (a == parseInt(a) && b == parseInt(b)) {\r\n        if (a > 0 && a < 0x100 && b > 0 && !(b & (b - 1))) {\r\n          nn = a;\r\n          dd = 0;\r\n          cc = b;\r\n          for (cc >>= 1; cc; cc >>= 1) dd++;\r\n          cc = c == parseInt(c) ? c : 24;\r\n          bb = d == parseInt(d) ? d : 8;\r\n          return _smf(88, String.fromCharCode(nn) + String.fromCharCode(dd) + String.fromCharCode(cc) + String.fromCharCode(bb));\r\n        }\r\n        else if (('' + a ).length == 4) return _smf(88, a);\r\n        a = a + '/' + b;\r\n      }\r\n      else if (('' + a ).length == 4) return _smf(88, a);\r\n      throw RangeError('Wrong time signature' + _smftxt(_2s('' + a)));\r\n    },\r\n    smfKeySignature: function(dd) {\r\n      dd = '' + dd;\r\n      var m = dd.match(/^\\s*([A-H][b#]?)\\s*(|maj|major|dur|m|min|minor|moll)\\s*$/i);\r\n      if (m) {\r\n        var sf = {\r\n          CB: 0, GB: 1, DB: 2, AB: 3, EB: 4, BB: 5, F: 6, C: 7, G: 8, D: 9, A: 10,\r\n          E:11, B: 12, H: 12, 'F#': 13, 'C#': 14, 'G#': 15, 'D#': 16, 'A#': 17\r\n        }[m[1].toUpperCase()];\r\n        var mi = { '': 0, MAJ: 0, MAJOR: 0, DUR: 0, M: 1, MIN: 1, MINOR: 1, MOLL: 1}[m[2].toUpperCase()];\r\n        if (typeof sf != 'undefined' && typeof mi != 'undefined') {\r\n          if (mi) sf -= 3;\r\n          sf -= 7;\r\n          if (sf >= -7 && sf < 0) dd = String.fromCharCode(256 + sf) + String.fromCharCode(mi);\r\n          else if (sf >= 0 && sf <= 7) dd = String.fromCharCode(sf) + String.fromCharCode(mi);\r\n        }\r\n      }\r\n      if (dd.length == 2 && dd.charCodeAt(1) <= 1 && (dd.charCodeAt(0) <= 7 || dd.charCodeAt(0) <= 255 && dd.charCodeAt(0) >= 249)) return _smf(89, dd);\r\n      throw RangeError('Incorrect key signature' + _smftxt(dd));\r\n    },\r\n    smfSequencer: function(dd) { return _smf(127, _2s(dd)); }\r\n  };\r\n\r\n  var _helpers = {};\r\n  function _copyHelperNC(name, func) {\r\n    MIDI[name] = function() { return new MIDI(func.apply(this, arguments)); };\r\n    _helpers[name] = function() { return this.send(func.apply(this, arguments)); };\r\n  }\r\n  function _copyHelperSMF(name, func) {\r\n    MIDI[name] = function() { return func.apply(this, arguments); };\r\n    _helpers[name] = function() { return this.send(func.apply(this, arguments)); };\r\n  }\r\n  function _copyHelperGNC(name, func) {\r\n    MIDI[name] = function() {\r\n      var i;\r\n      var g = [];\r\n      var a = func.apply(this, arguments);\r\n      for (i = 0; i < a.length; i++) g.push(new MIDI(a[i]));\r\n      return g;\r\n    };\r\n    _helpers[name] = function() {\r\n      var a = func.apply(this, arguments);\r\n      var g = this;\r\n      for (var i = 0; i < a.length; i++) g = g.send(a[i]);\r\n      return g;\r\n    };\r\n  }\r\n  function _copyHelperMPE(name, func) {\r\n    MIDI[name] = function() {\r\n      return new MIDI(func.apply(this, typeof this._ch == 'undefined' ? arguments : [this._ch].concat(Array.prototype.slice.call(arguments))));\r\n    };\r\n    _helpers[name] = function() {\r\n      if (typeof this._master != 'undefined') {\r\n        var msg = new MIDI(func.apply(this, [this._master].concat(Array.prototype.slice.call(arguments))));\r\n        msg._mpe = msg[1];\r\n        return this.send(msg);\r\n      }\r\n      return this.send(func.apply(this, typeof this._ch == 'undefined' ? arguments : [this._ch].concat(Array.prototype.slice.call(arguments))));\r\n    };\r\n  }\r\n  function _copyHelperCH(name, func) {\r\n    MIDI[name] = function() {\r\n      return new MIDI(func.apply(this, typeof this._ch == 'undefined' ? arguments : [this._ch].concat(Array.prototype.slice.call(arguments))));\r\n    };\r\n    _helpers[name] = function() {\r\n      if (typeof this._master != 'undefined') {\r\n        var chan;\r\n        var args = Array.prototype.slice.call(arguments);\r\n        if (args.length < func.length) args = [this._master].concat(args);\r\n        else {\r\n          chan = _7bn(args[0]);\r\n          args[0] = this._master;\r\n        }\r\n        var msg = new MIDI(func.apply(this, args));\r\n        msg._mpe = chan;\r\n        return this.send(msg);\r\n      }\r\n      return this.send(func.apply(this, typeof this._ch == 'undefined' ? arguments : [this._ch].concat(Array.prototype.slice.call(arguments))));\r\n    };\r\n  }\r\n  function _copyHelperGCH(name, func) {\r\n    MIDI[name] = function() {\r\n      var i;\r\n      var g = [];\r\n      var a = func.apply(this, typeof this._ch == 'undefined' ? arguments : [this._ch].concat(Array.prototype.slice.call(arguments)));\r\n      for (i = 0; i < a.length; i++) g.push(new MIDI(a[i]));\r\n      return g;\r\n    };\r\n    _helpers[name] = function() {\r\n      var i;\r\n      var a;\r\n      var g;\r\n      if (typeof this._master != 'undefined') {\r\n        var chan;\r\n        var args = Array.prototype.slice.call(arguments);\r\n        if (args.length < func.length) args = [this._master].concat(args);\r\n        else {\r\n          chan = _7bn(args[0]);\r\n          args[0] = this._master;\r\n        }\r\n        a = func.apply(this, args);\r\n        g = this;\r\n        for (i = 0; i < a.length; i++) {\r\n          var msg = MIDI(a[i]);\r\n          msg._mpe = chan;\r\n          g = g.send(msg);\r\n        }\r\n        return g;\r\n      }\r\n      a = func.apply(this, typeof this._ch == 'undefined' ? arguments : [this._ch].concat(Array.prototype.slice.call(arguments)));\r\n      g = this;\r\n      for (i = 0; i < a.length; i++) g = g.send(a[i]);\r\n      return g;\r\n    };\r\n  }\r\n\r\n  _for(_helperNC, function(n) { _copyHelperNC(n, _helperNC[n]); });\r\n  _for(_helperSMF, function(n) { _copyHelperSMF(n, _helperSMF[n]); });\r\n  _for(_helperGNC, function(n) { _copyHelperGNC(n, _helperGNC[n]); });\r\n  _for(_helperMPE, function(n) { _copyHelperMPE(n, _helperMPE[n]); });\r\n  _for(_helperCH, function(n) { _copyHelperCH(n, _helperCH[n]); });\r\n  _for(_helperGCH, function(n) { _copyHelperGCH(n, _helperGCH[n]); });\r\n\r\n  function _copyMidiHelpers(M) {\r\n    _for(_helpers, function(n) { M.prototype[n] = _helpers[n]; });\r\n  }\r\n  _copyMidiHelpers(_M);\r\n\r\n  var _channelMap = { a:10, b:11, c:12, d:13, e:14, f:15, A:10, B:11, C:12, D:13, E:14, F:15 };\r\n  for (k = 0; k < 16; k++) _channelMap[k] = k;\r\n  MIDI.prototype.getChannel = function() {\r\n    if (this.ff == 0x20 && this.dd.length == 1 && this.dd.charCodeAt(0) < 16) return this.dd.charCodeAt(0);\r\n    var c = this[0];\r\n    if (typeof c == 'undefined' || c < 0x80 || c > 0xef) return;\r\n    return c & 15;\r\n  };\r\n  MIDI.prototype.setChannel = function(x) {\r\n    x = _channelMap[x];\r\n    if (typeof x == 'undefined') return this;\r\n    if (this.ff == 0x20) this.dd = String.fromCharCode(x);\r\n    else {\r\n      var c = this[0];\r\n      if (typeof c != 'undefined' && c >= 0x80 && c <= 0xef) this[0] = (c & 0xf0) | x;\r\n    }\r\n    return this;\r\n  };\r\n  MIDI.prototype.getNote = function() {\r\n    var c = this[0];\r\n    if (typeof c == 'undefined' || c < 0x80 || c > 0xaf) return;\r\n    return this[1];\r\n  };\r\n  MIDI.prototype.setNote = function(x) {\r\n    var c = this[0];\r\n    if (typeof c == 'undefined' || c < 0x80 || c > 0xaf) return this;\r\n    x = MIDI.noteValue(x);\r\n    if (typeof x != 'undefined') this[1] = x;\r\n    return this;\r\n  };\r\n  MIDI.prototype.getVelocity = function() {\r\n    var c = this[0];\r\n    if (typeof c == 'undefined' || c < 0x80 || c > 0x9f) return;\r\n    return this[2];\r\n  };\r\n  MIDI.prototype.setVelocity = function(x) {\r\n    var c = this[0];\r\n    if (typeof c == 'undefined' || c < 0x80 || c > 0x9f) return this;\r\n    x = parseInt(x);\r\n    if (x >= 0 && x < 128) this[2] = x;\r\n    return this;\r\n  };\r\n  MIDI.prototype.getSysExId = function() {\r\n    if (this[0] == 0xf0) return this[2];\r\n  };\r\n  MIDI.prototype.setSysExId = function(x) {\r\n    if (this[0] == 0xf0 && this.length > 2) {\r\n      x = parseInt(x);\r\n      if (x >= 0 && x < 128) this[2] = x;\r\n    }\r\n    return this;\r\n  };\r\n  MIDI.prototype.getData = function() {\r\n    if (typeof this.dd != 'undefined') return this.dd.toString();\r\n  };\r\n  MIDI.prototype.setData = function(dd) {\r\n    this.dd = _2s(dd);\r\n    return this;\r\n  };\r\n  function _is_yamaha_smf(ff, dd) { return ff == 0x7f && typeof dd != 'undefined' && dd.charCodeAt(0) == 0x43 && dd.charCodeAt(1) == 0x7b; }\r\n  function _is_yamaha_chord(ff, dd) { return _is_yamaha_smf(ff, dd) && dd.charCodeAt(2) == 1; }\r\n  function _yamaha_chord(a, b) {\r\n    if (a >= 0 && a <= 0x7f && b >= 0 && b <= 0x7f) {\r\n      var c = a & 0xf;\r\n      var d = a >> 4;\r\n      if (c > 0 && c < 8 && d < 7) c = ['C', 'D', 'E', 'F', 'G', 'A', 'B'][c - 1] + ['bbb', 'bb', 'b', '', '#', '##', '###'][d];\r\n      else return '-';\r\n      if (b > 34) return c + '?';\r\n      else return c + [\r\n        '', '6', 'Maj7', 'Maj7(#11)', '(9)', 'Maj7(9)', '6(9)', 'aug', 'm', 'm6', 'm7', 'm7b5',\r\n        'm(9)', 'm7(9)', 'm7(11)', 'm+7', 'm+7(9)', 'dim', 'dim7', '7', '7sus4', '7b5', '7(9)',\r\n        '7(#11)', '7(13)', '7(b9)', '7(b13)', '7(#9)', 'Maj7aug', '7aug', '1+8', '1+5', 'sus4', '1+2+5', 'cc'][b];\r\n    }\r\n    return '-';\r\n  }\r\n  MIDI.prototype.getText = function() {\r\n    if (typeof this.dd != 'undefined') {\r\n      if (_is_yamaha_chord(this.ff, this.dd)) return _yamaha_chord(this.dd.charCodeAt(3), this.dd.charCodeAt(4));\r\n      else return JZZ.lib.fromUTF8(this.dd);\r\n    }\r\n    if (this.isMidiSoft()) {\r\n      var s = [];\r\n      for (var i = 6; i < this.length - 1; i++) s.push(String.fromCharCode(this[i]));\r\n      return s.join('');\r\n    }\r\n  };\r\n  MIDI.prototype.setText = function(dd) {\r\n    this.dd = JZZ.lib.toUTF8(dd);\r\n    return this;\r\n  };\r\n  MIDI.prototype.getTempo = function() {\r\n    if (this.ff == 0x51 && typeof this.dd != 'undefined') {\r\n      return this.dd.charCodeAt(0) * 65536 + this.dd.charCodeAt(1) * 256 + this.dd.charCodeAt(2);\r\n    }\r\n  };\r\n  MIDI.prototype.getBPM = function() {\r\n    var ms = this.getTempo();\r\n    if (ms) return 60000000 / ms;\r\n  };\r\n  MIDI.prototype.getTimeSignature = function() {\r\n    if (this.ff == 0x58 && typeof this.dd != 'undefined') {\r\n       return [this.dd.charCodeAt(0), 1 << this.dd.charCodeAt(1)];\r\n    }\r\n  };\r\n  MIDI.prototype.getKeySignature = function() {\r\n    if (this.ff == 0x59 && typeof this.dd != 'undefined') {\r\n      var sf = this.dd.charCodeAt(0);\r\n      var mi = this.dd.charCodeAt(1);\r\n      if (sf & 0x80) sf = sf - 0x100;\r\n      if (sf >= -7 && sf <= 7 && mi >= 0 && mi <= 1) {\r\n        return [sf,\r\n          ['Cb', 'Gb', 'Db', 'Ab', 'Eb', 'Bb', 'F', 'C', 'G', 'D', 'A', 'E', 'B', 'F#', 'C#', 'G#', 'D#', 'A#'][mi ? sf + 10 : sf + 7],\r\n          !!mi\r\n        ];\r\n      }\r\n    }\r\n  };\r\n\r\n  MIDI.prototype.isNoteOn = function() {\r\n    var c = this[0];\r\n    if (typeof c == 'undefined' || c < 0x90 || c > 0x9f) return false;\r\n    return this[2] > 0 ? true : false;\r\n  };\r\n  MIDI.prototype.isNoteOff = function() {\r\n    var c = this[0];\r\n    if (typeof c == 'undefined' || c < 0x80 || c > 0x9f) return false;\r\n    if (c < 0x90) return true;\r\n    return this[2] == 0 ? true : false;\r\n  };\r\n  MIDI.prototype.isSysEx = function() {\r\n    return this[0] == 0xf0;\r\n  };\r\n  MIDI.prototype.isFullSysEx = function() {\r\n    return this[0] == 0xf0 && this[this.length - 1] == 0xf7;\r\n  };\r\n  MIDI.prototype.isMidiSoft = function() {\r\n    return this.isFullSysEx() && this[1] == 0 && this[2] == 0x20 && this[3] == 0x24 && this[4] == 0;\r\n  };\r\n  MIDI.prototype.isSMF = function() {\r\n    return this.ff >= 0 && this.ff <= 0x7f;\r\n  };\r\n  MIDI.prototype.isEOT = function() {\r\n    return this.ff == 0x2f;\r\n  };\r\n  MIDI.prototype.isTempo = function() {\r\n    return this.ff == 0x51;\r\n  };\r\n  MIDI.prototype.isTimeSignature = function() {\r\n    return this.ff == 0x58;\r\n  };\r\n  MIDI.prototype.isKeySignature = function() {\r\n    return this.ff == 0x59;\r\n  };\r\n  MIDI.prototype.isGmReset = function() {\r\n    return this.match([0xf0, 0x7e, [0, 0], 0x09, [0, 0], 0xf7]);\r\n  };\r\n  MIDI.prototype.isGsReset = function() {\r\n    return this.match([0xf0, 0x41, [0, 0], 0x42, 0x12, 0x40, 0, 0x7f, 0, 0x41, 0xf7]);\r\n  };\r\n  MIDI.prototype.isXgReset = function() {\r\n    return this.match([0xf0, 0x43, [0x10, 0xf0], 0x4c, 0, 0, 0x7e, 0, 0xf7]);\r\n  };\r\n  MIDI.prototype.match = function(a) {\r\n    var i, m;\r\n    for (i = 0; i < a.length; i++) {\r\n      m = a[i][1];\r\n      if (typeof m == 'undefined') {\r\n        if (this[i] != a[i]) return false;\r\n      }\r\n      else {\r\n        if ((this[i] & m) != (a[i][0] & m)) return false;\r\n      }\r\n    }\r\n    return true;\r\n  };\r\n\r\n  function _s2a(x) {\r\n    var a = [];\r\n    for (var i = 0; i < x.length; i++) {\r\n      a[i] = x.charCodeAt(i);\r\n    }\r\n    return a;\r\n  }\r\n  function _a2s(x) {\r\n    var a = '';\r\n    for (var i = 0; i < x.length; i++) {\r\n      a += String.fromCharCode(x[i]);\r\n    }\r\n    return a;\r\n  }\r\n  function _2s(x) {\r\n    return x instanceof Array ? _a2s(x) : typeof x == 'undefined' ? '' : '' + x;\r\n  }\r\n  function _s2n(x) {\r\n    var n = 0;\r\n    for (var i = 0; i < x.length; i++) n = (n << 8) + x.charCodeAt(i);\r\n    return n;\r\n  }\r\n\r\n  function __hex(x) { return (x < 16 ? '0' : '') + x.toString(16); }\r\n  function _hex(x) {\r\n    var a = [];\r\n    for (var i = 0; i < x.length; i++) {\r\n      a[i] = __hex(x[i]);\r\n    }\r\n    return a.join(' ');\r\n  }\r\n  function _toLine(s) {\r\n    var out = '';\r\n    for (var i = 0; i < s.length; i++) {\r\n      if (s[i] == '\\n') out += '\\\\n';\r\n      else if (s[i] == '\\r') out += '\\\\r';\r\n      else if (s[i] == '\\t') out += '\\\\t';\r\n      else if (s.charCodeAt(i) < 32) out += '\\\\x' + __hex(s.charCodeAt(i));\r\n      else out += s[i];\r\n    }\r\n    return out;\r\n  }\r\n  function _smfhex(dd) {\r\n    return dd.length ? ': ' + _hex(_s2a(dd)) : '';\r\n  }\r\n  function _smftxt(dd) {\r\n    return dd.length ? ': ' + _toLine(JZZ.lib.fromUTF8(dd)) : '';\r\n  }\r\n  MIDI.prototype.label = function(s) {\r\n    this.lbl = this.lbl ? this.lbl + ', ' + s : s;\r\n    return this;\r\n  };\r\n  MIDI.prototype.toString = function() {\r\n    return this.lbl ? this._str() + ' (' + this.lbl + ')' : this._str();\r\n  };\r\n  MIDI.prototype._str = function() {\r\n    var s;\r\n    var ss;\r\n    if (!this.length) {\r\n      if (typeof this.ff != 'undefined') {\r\n        s = 'ff' + __hex(this.ff) + ' -- ';\r\n        if (this.ff == 0) s += 'Sequence Number: ' + _s2n(this.dd);\r\n        else if (this.ff > 0 && this.ff < 10) s += ['', 'Text', 'Copyright', 'Sequence Name', 'Instrument Name', 'Lyric', 'Marker', 'Cue Point', 'Program Name', 'Device Name'][this.ff] + _smftxt(this.dd);\r\n        else if (this.ff == 32) s += 'Channel Prefix' + _smfhex(this.dd);\r\n        else if (this.ff == 33) s += 'MIDI Port' + _smfhex(this.dd);\r\n        else if (this.ff == 47) s += 'End of Track' + _smfhex(this.dd);\r\n        else if (this.ff == 81) {\r\n          var bpm = Math.round(this.getBPM() * 100) / 100;\r\n          s += 'Tempo: ' + bpm + ' bpm';\r\n        }\r\n        else if (this.ff == 84) s += 'SMPTE Offset: ' + _smptetxt(_s2a(this.dd));\r\n        else if (this.ff == 88) {\r\n          var d = 1 << this.dd.charCodeAt(1);\r\n          s += 'Time Signature: ' + this.dd.charCodeAt(0) + '/' + d;\r\n          s += ' ' + this.dd.charCodeAt(2) + ' ' + this.dd.charCodeAt(3);\r\n        }\r\n        else if (this.ff == 89) {\r\n          s += 'Key Signature: ';\r\n          var ks = this.getKeySignature();\r\n          if (ks) {\r\n            s += ks[1];\r\n            if (ks[2]) s += ' min';\r\n          }\r\n          else s+= 'invalid';\r\n        }\r\n        else if (this.ff == 127) {\r\n          if (this.dd.charCodeAt(0) == 0x43) {\r\n            if (this.dd.charCodeAt(1) == 0x7b) {\r\n              s += '[XF:' + __hex(this.dd.charCodeAt(2)) + ']';\r\n              ss = { 0: 'Version', 1: 'Chord', 2: 'Rehearsal Mark', 3: 'Phrase Mark', 4: 'Max Phrase Mark',\r\n                5: 'Fingering Number', 12: 'Guide Track Flag', 16: 'Guitar Info', 18: 'Chord Voicing',\r\n                127: 'XG Song Data Number' }[this.dd.charCodeAt(2)];\r\n              s += ss ? ' ' + ss : '';\r\n              s += ': ';\r\n              if (this.dd.charCodeAt(2) == 0) {\r\n                return s + this.dd.substr(3, 4) + ' ' + _hex(_s2a(this.dd.substr(7)));\r\n              }\r\n              if (this.dd.charCodeAt(2) == 1) {\r\n                return s + this.getText();\r\n              }\r\n              return s + _hex(_s2a(this.dd.substr(3)));\r\n            }\r\n          }\r\n          s += 'Sequencer Specific' + _smfhex(this.dd);\r\n        }\r\n        else s += 'SMF' + _smfhex(this.dd);\r\n        return s;\r\n      }\r\n      return 'empty';\r\n    }\r\n    s = _hex(this);\r\n    if (this[0] < 0x80) return s;\r\n    ss = {\r\n      241: 'MIDI Time Code',\r\n      242: 'Song Position',\r\n      243: 'Song Select',\r\n      244: 'Undefined',\r\n      245: 'Undefined',\r\n      246: 'Tune request',\r\n      248: 'Timing clock',\r\n      249: 'Undefined',\r\n      250: 'Start',\r\n      251: 'Continue',\r\n      252: 'Stop',\r\n      253: 'Undefined',\r\n      254: 'Active Sensing',\r\n      255: 'Reset'\r\n    }[this[0]];\r\n    if (ss) return s + ' -- ' + ss;\r\n    if (this.isMidiSoft()) {\r\n      ss = _toLine(this.getText());\r\n      if (ss) ss = ' ' + ss;\r\n      return s + ' -- [K:' + __hex(this[5]) + ']' + ss;\r\n    }\r\n    var c = this[0] >> 4;\r\n    ss = {8: 'Note Off', 10: 'Aftertouch', 12: 'Program Change', 13: 'Channel Aftertouch', 14: 'Pitch Wheel'}[c];\r\n    if (ss) return s + ' -- ' + ss;\r\n    if (c == 9) return s + ' -- ' + (this[2] ? 'Note On' : 'Note Off');\r\n    if (c != 11) return s;\r\n    ss = {\r\n      0: 'Bank Select MSB',\r\n      1: 'Modulation Wheel MSB',\r\n      2: 'Breath Controller MSB',\r\n      4: 'Foot Controller MSB',\r\n      5: 'Portamento Time MSB',\r\n      6: 'Data Entry MSB',\r\n      7: 'Channel Volume MSB',\r\n      8: 'Balance MSB',\r\n      10: 'Pan MSB',\r\n      11: 'Expression Controller MSB',\r\n      12: 'Effect Control 1 MSB',\r\n      13: 'Effect Control 2 MSB',\r\n      16: 'General Purpose Controller 1 MSB',\r\n      17: 'General Purpose Controller 2 MSB',\r\n      18: 'General Purpose Controller 3 MSB',\r\n      19: 'General Purpose Controller 4 MSB',\r\n      31: 'Karaoke',\r\n      32: 'Bank Select LSB',\r\n      33: 'Modulation Wheel LSB',\r\n      34: 'Breath Controller LSB',\r\n      36: 'Foot Controller LSB',\r\n      37: 'Portamento Time LSB',\r\n      38: 'Data Entry LSB',\r\n      39: 'Channel Volume LSB',\r\n      40: 'Balance LSB',\r\n      42: 'Pan LSB',\r\n      43: 'Expression Controller LSB',\r\n      44: 'Effect control 1 LSB',\r\n      45: 'Effect control 2 LSB',\r\n      48: 'General Purpose Controller 1 LSB',\r\n      49: 'General Purpose Controller 2 LSB',\r\n      50: 'General Purpose Controller 3 LSB',\r\n      51: 'General Purpose Controller 4 LSB',\r\n      64: 'Damper Pedal',\r\n      65: 'Portamento',\r\n      66: 'Sostenuto',\r\n      67: 'Soft Pedal',\r\n      68: 'Legato',\r\n      69: 'Hold 2',\r\n      70: 'Sound Variation',\r\n      71: 'Filter Resonance',\r\n      72: 'Release Time',\r\n      73: 'Attack Time',\r\n      74: 'Brightness',\r\n      75: 'Decay Time',\r\n      76: 'Vibrato Rate',\r\n      77: 'Vibrato Depth',\r\n      78: 'Vibrato Delay',\r\n      79: 'Sound Controller 10',\r\n      80: 'General Purpose Controller 5',\r\n      81: 'General Purpose Controller 6',\r\n      82: 'General Purpose Controller 7',\r\n      83: 'General Purpose Controller 8',\r\n      84: 'Portamento Control',\r\n      88: 'High Resolution Velocity Prefix',\r\n      91: 'Effects 1 Depth',\r\n      92: 'Effects 2 Depth',\r\n      93: 'Effects 3 Depth',\r\n      94: 'Effects 4 Depth',\r\n      95: 'Effects 5 Depth',\r\n      96: 'Data Increment',\r\n      97: 'Data Decrement',\r\n      98: 'Non-Registered Parameter Number LSB',\r\n      99: 'Non-Registered Parameter Number MSB',\r\n      100: 'Registered Parameter Number LSB',\r\n      101: 'Registered Parameter Number MSB',\r\n      120: 'All Sound Off',\r\n      121: 'Reset All Controllers',\r\n      122: 'Local Control On/Off',\r\n      123: 'All Notes Off',\r\n      124: 'Omni Mode Off',\r\n      125: 'Omni Mode On',\r\n      126: 'Mono Mode On',\r\n      127: 'Poly Mode On'\r\n    }[this[1]];\r\n    if (this[1] >= 64 && this[1] <= 69) ss += this[2] < 64 ? ' Off' : ' On';\r\n    if (!ss) ss = 'Undefined';\r\n    return s + ' -- ' + ss;\r\n  };\r\n  MIDI.prototype._stamp = function(obj) { this._from.push(obj._orig ? obj._orig : obj); return this; };\r\n  MIDI.prototype._unstamp = function(obj) {\r\n    if (typeof obj == 'undefined') this._from = [];\r\n    else {\r\n      if (obj._orig) obj = obj._orig;\r\n      var i = this._from.indexOf(obj);\r\n      if (i > -1) this._from.splice(i, 1);\r\n    }\r\n    return this;\r\n  };\r\n  MIDI.prototype._stamped = function(obj) {\r\n    if (obj._orig) obj = obj._orig;\r\n    for (var i = 0; i < this._from.length; i++) if (this._from[i] == obj) return true;\r\n    return false;\r\n  };\r\n\r\n  JZZ.MIDI = MIDI;\r\n  _J.prototype.MIDI = MIDI;\r\n\r\n  function _clear_ctxt() {\r\n    var i;\r\n    this._cc = [];\r\n    for (i = 0; i < 16; i++) this._cc[i] = {};\r\n  }\r\n  function _rpn_txt(msb, lsb) {\r\n    var a = typeof msb == 'undefined' ? '??' : __hex(msb);\r\n    var b = typeof lsb == 'undefined' ? '??' : __hex(lsb);\r\n    var c = {\r\n      '0000': 'Pitch Bend Sensitivity',\r\n      '0001': 'Channel Fine Tune',\r\n      '0002': 'Channel Coarse Tune',\r\n      '0003': 'Select Tuning Program',\r\n      '0004': 'Select Tuning Bank',\r\n      '0005': 'Vibrato Depth Range',\r\n      '7f7f': 'NONE'\r\n    }[a + '' + b];\r\n    return 'RPN ' + a + ' ' + b + (c ? ': ' + c : '');\r\n  }\r\n  function _nrpn_txt(msb, lsb) {\r\n    var a = typeof msb == 'undefined' ? '??' : __hex(msb);\r\n    var b = typeof lsb == 'undefined' ? '??' : __hex(lsb);\r\n    return 'NRPN ' + a + ' ' + b;\r\n  }\r\n  function _read_ctxt(msg) {\r\n    if (!msg.length || msg[0] < 0x80) return msg;\r\n    if (msg[0] == 0xff) { this._clear(); return msg; }\r\n    var ch = msg[0] & 15;\r\n    var st = msg[0] >> 4;\r\n    var s;\r\n    if (st == 12) {\r\n      msg._bm = this._cc[ch].bm;\r\n      msg._bl = this._cc[ch].bl;\r\n      if (JZZ.MIDI.programName) msg.label(JZZ.MIDI.programName(msg[1], msg._bm, msg._bl));\r\n    }\r\n    else if (st == 11) {\r\n      switch (msg[1]) {\r\n        case 0: this._cc[ch].bm = msg[2]; break;\r\n        case 32: this._cc[ch].bl = msg[2]; break;\r\n        case 98: this._cc[ch].nl = msg[2]; this._cc[ch].rn = 'n'; break;\r\n        case 99: this._cc[ch].nm = msg[2]; this._cc[ch].rn = 'n'; break;\r\n        case 100: this._cc[ch].rl = msg[2]; this._cc[ch].rn = 'r'; break;\r\n        case 101: this._cc[ch].rm = msg[2]; this._cc[ch].rn = 'r'; break;\r\n        case 6: case 38: case 96: case 97:\r\n          if (this._cc[ch].rn == 'r') {\r\n            msg._rm = this._cc[ch].rm;\r\n            msg._rl = this._cc[ch].rl;\r\n            msg.label(_rpn_txt(this._cc[ch].rm, this._cc[ch].rl));\r\n          }\r\n          if (this._cc[ch].rn == 'n') {\r\n            msg._nm = this._cc[ch].rm;\r\n            msg._nl = this._cc[ch].nl;\r\n            msg.label(_nrpn_txt(this._cc[ch].nm, this._cc[ch].nl));\r\n          }\r\n          break;\r\n      }\r\n    }\r\n    else if (msg.isFullSysEx()) {\r\n      if (msg[1] == 0x7f) {\r\n        if (msg[3] == 4) {\r\n          s = { 1: 'Master Volume', 2: 'Master Balance', 3: 'Master Fine Tuning', 4: 'Master Coarse Tuning' }[msg[4]];\r\n          if (s) msg.label(s);\r\n        }\r\n        else if (msg[3] == 8) {\r\n          s = { 2: 'Note Tuning', 7: 'Note Tuning, Bank', 8: 'Scale Tuning, 1 byte format', 9: 'Scale Tuning, 2 byte format' }[msg[4]];\r\n          if (s) msg.label(s);\r\n        }\r\n      }\r\n      else if (msg[1] == 0x7e) {\r\n        if (msg[3] == 6) {\r\n          if (msg[4] == 1) msg.label('Device ID Request');\r\n          else if (msg[4] == 2) {\r\n            msg.label('Device ID Response');\r\n          }\r\n        }\r\n        else if (msg[3] == 8) {\r\n          s = {\r\n            0: 'Bulk Tuning Dump Request', 1: 'Bulk Tuning Dump', 3: 'Bulk Tuning Dump Request, Bank', 4: 'Bulk Tuning Dump, Bank',\r\n            5: 'Scale Tuning Dump, 1 byte format', 6: 'Scale Tuning Dump, 2 byte format',\r\n            7: 'Note Tuning, Bank', 8: 'Scale Tuning, 1 byte format', 9: 'Scale Tuning, 2 byte format'\r\n          }[msg[4]];\r\n          if (s) msg.label(s);\r\n        }\r\n        else if (msg[3] == 9) {\r\n          if (msg[4] == 1) { msg.label('GM1 System On'); this._clear(); this._gm = '1'; }\r\n          else if (msg[4] == 2) { msg.label('GM System Off'); this._clear(); this._gm = '0'; }\r\n          else if (msg[4] == 3) { msg.label('GM2 System On'); this._clear(); this._gm = '2'; }\r\n        }\r\n      }\r\n      else if (msg[1] == 0x43) {\r\n        if ((msg[2] & 0xf0) == 0x10 && msg[3] == 0x4c) {\r\n          if (msg[4] == 0 && msg[5] == 0 && msg[6] == 0x7e && msg[7] == 0) {\r\n            msg.label('XG System On'); this._clear(); this._gm = 'Y';\r\n          }\r\n          else if (msg[4] == 0 && msg[5] == 0 && msg[6] == 0) msg.label('XG Master Tuning');\r\n          else if (msg[4] == 0 && msg[5] == 0 && msg[6] == 4) msg.label('XG Master Volume');\r\n          else if (msg[4] == 0 && msg[5] == 0 && msg[6] == 6) msg.label('XG Master Transpose');\r\n          else if (msg[4] == 8 && msg[5] < 16 && msg[6] >= 0x41 && msg[6] <= 0x4c) msg.label('XG Scale Tuning');\r\n          else  msg.label('XG Parameter');\r\n        }\r\n      }\r\n      else if (msg[1] == 0x41) {\r\n        if (msg[3] == 0x42 && msg[4] == 0x12) {\r\n          if (msg[5] == 0x40) {\r\n            if (msg[6] == 0) {\r\n              if (msg[7] == 0x7f && msg[8] == 0 && msg[9] == 0x41) {\r\n                msg.label('GS Reset'); this._clear(); this._gm = 'R';\r\n              }\r\n              else if (msg[7] == 0) msg.label('GS Master Tuning');\r\n              else if (msg[7] == 4) msg.label('GS Master Volume');\r\n              else if (msg[7] == 5) msg.label('GS Master Transpose');\r\n              else msg.label('GS Parameter');\r\n            }\r\n            else if ((msg[6] & 0xf0) == 0x10 && msg[7] == 0x15) msg.label('GS Drum Part Change');\r\n            else if ((msg[6] & 0xf0) == 0x10 && msg[7] >= 0x40 && msg[7] <= 0x4b) msg.label('GS Scale Tuning');\r\n            else msg.label('GS Parameter');\r\n          }\r\n          if (msg[5] == 0x41) msg.label('GS Parameter');\r\n        }\r\n      }\r\n    }\r\n    return msg;\r\n  }\r\n  function Context() {\r\n    var self = new _M();\r\n    self._clear = _clear_ctxt;\r\n    self._read = _read_ctxt;\r\n    self._receive = function(msg) { this._emit(this._read(msg)); };\r\n    self._clear();\r\n    self._resume();\r\n    return self;\r\n  }\r\n  JZZ.Context = Context;\r\n  _J.prototype.Context = Context;\r\n\r\n  function MPE() {\r\n    var self = this instanceof MPE ? this : self = new MPE();\r\n    self.reset();\r\n    if (arguments.length) MPE.prototype.setup.apply(self, arguments);\r\n    return self;\r\n  }\r\n  MPE.validate = function(arg) {\r\n    var a = arg instanceof Array ? arg : arguments;\r\n    if (a[0] != parseInt(a[0]) || a[0] < 0 || a[0] > 14) throw RangeError('Bad master channel value: ' + a[0]);\r\n    if (a[1] != parseInt(a[1]) || a[1] < 0 || a[0] + a[1] > 15) throw RangeError('Bad zone size value: ' + a[1]);\r\n  };\r\n  MPE.prototype.reset = function() { for (var n = 0; n < 16; n++) this[n] = { band: 0, master: n }; };\r\n  MPE.prototype.setup = function(m, n) {\r\n    MPE.validate(m, n);\r\n    var k;\r\n    var last = m + n;\r\n    if (this[m].master == m && this[m].band == n) return;\r\n    if (!n && !this[m].band) return;\r\n    if (this[m].band) {\r\n      k = m + this[m].band;\r\n      if (last < k) last = k;\r\n    }\r\n    else if (this[m].master == m - 1) {\r\n      k = m - 1;\r\n      k = k + this[k].band;\r\n      if (last < k) last = k;\r\n      this[m - 1] = { band: 0, master: m - 1 };\r\n    }\r\n    else if (this[m].master != m) {\r\n      k = this[m].master;\r\n      k = k + this[k].band;\r\n      if (last < k) last = k;\r\n      this[this[m].master].band = m - this[m].master - 1;\r\n    }\r\n    this[m].master = m;\r\n    this[m].band = n;\r\n    for (k = m + 1; k <= m + n; k++) {\r\n      if (this[k].band && last < k + this[k].band) last = k + this[k].band;\r\n      this[k] = { band: 0, master: m };\r\n    }\r\n    for (; k <= last; k++) this[k] = { band: 0, master: k };\r\n  };\r\n  MPE.prototype.filter = function(msg) {\r\n    var c = msg.getChannel();\r\n    if (!this[c] || !this[this[c].master].band) return msg;\r\n    var m = this[c].master;\r\n    var n = this[m].band;\r\n    var i, j, k;\r\n    if (typeof msg._mpe != 'undefined') {\r\n      k = 256;\r\n      for (i = m + 1; i <= m + n; i++) {\r\n        if (!this[i].notes) {\r\n          if (k > 0) { c = i; k = 0; }\r\n        }\r\n        else {\r\n          if (k > this[i].notes.length) { c = i; k = this[i].notes.length; }\r\n          for (j = 0; j < this[i].notes.length; j++) {\r\n            if (this[i].notes[j] == msg._mpe) { c = i; k = -1; break; }\r\n          }\r\n        }\r\n      }\r\n      msg.setChannel(c);\r\n      msg._mpe = undefined;\r\n    }\r\n    if (c == m) return msg; // bad mpe\r\n    if (msg.isNoteOn()) {\r\n      if (!this[c].notes) this[c].notes = [];\r\n      _push(this[c].notes, msg.getNote());\r\n    }\r\n    else if (msg.isNoteOff()) {\r\n      if (this[c].notes) _pop(this[c].notes, msg.getNote());\r\n    }\r\n    return msg;\r\n  };\r\n  JZZ.MPE = MPE;\r\n\r\n  JZZ.lib = {};\r\n  JZZ.lib.now = _now;\r\n  JZZ.lib.schedule = _schedule;\r\n  JZZ.lib.openMidiOut = function(name, engine) {\r\n    var port = new _M();\r\n    engine._openOut(port);\r\n    port._info = engine._info(name);\r\n    return port;\r\n  };\r\n  JZZ.lib.openMidiIn = function(name, engine) {\r\n    var port = new _M();\r\n    engine._openIn(port);\r\n    port._info = engine._info(name);\r\n    return port;\r\n  };\r\n  JZZ.lib.registerMidiOut = function(name, engine) {\r\n    var x = engine._info(name);\r\n    for (var i = 0; i < _virtual._outs.length; i++) if (_virtual._outs[i].name == x.name) return false;\r\n    x.engine = engine;\r\n    _virtual._outs.push(x);\r\n    if (_jzz) {\r\n      _postRefresh();\r\n      if (_jzz._bad) { _jzz._repair(); _jzz._resume(); }\r\n    }\r\n    return true;\r\n  };\r\n  JZZ.lib.registerMidiIn = function(name, engine) {\r\n    var x = engine._info(name);\r\n    for (var i = 0; i < _virtual._ins.length; i++) if (_virtual._ins[i].name == x.name) return false;\r\n    x.engine = engine;\r\n    _virtual._ins.push(x);\r\n    if (_jzz) {\r\n      _postRefresh();\r\n      if (_jzz._bad) { _jzz._repair(); _jzz._resume(); }\r\n    }\r\n    return true;\r\n  };\r\n  var _ac;\r\n  function _initAudioContext() {\r\n    if (!_ac && typeof window !== 'undefined') {\r\n      var AudioContext = window.AudioContext || window.webkitAudioContext;\r\n      if (AudioContext) {\r\n        _ac = new AudioContext();\r\n        if (_ac && !_ac.createGain) _ac.createGain = _ac.createGainNode;\r\n        var _activateAudioContext = function() {\r\n          if (_ac.state != 'running') {\r\n            _ac.resume();\r\n            var osc = _ac.createOscillator();\r\n            var gain = _ac.createGain();\r\n            try { gain.gain.value = 0; } catch (err) {}\r\n            gain.gain.setTargetAtTime(0, _ac.currentTime, 0.01);\r\n            osc.connect(gain);\r\n            gain.connect(_ac.destination);\r\n            if (!osc.start) osc.start = osc.noteOn;\r\n            if (!osc.stop) osc.stop = osc.noteOff;\r\n            osc.start(0.1); osc.stop(0.11);\r\n          }\r\n          else if (typeof document != 'undefined') {\r\n            document.removeEventListener('touchstart', _activateAudioContext);\r\n            document.removeEventListener('touchend', _activateAudioContext);\r\n            document.removeEventListener('mousedown', _activateAudioContext);\r\n            document.removeEventListener('keydown', _activateAudioContext);\r\n          }\r\n        };\r\n        if (typeof document != 'undefined') {\r\n          document.addEventListener('touchstart', _activateAudioContext);\r\n          document.addEventListener('touchend', _activateAudioContext);\r\n          document.addEventListener('mousedown', _activateAudioContext);\r\n          document.addEventListener('keydown', _activateAudioContext);\r\n        }\r\n        _activateAudioContext();\r\n      }\r\n    }\r\n  }\r\n  JZZ.lib.copyMidiHelpers = _copyMidiHelpers;\r\n  JZZ.lib.getAudioContext = function() { _initAudioContext(); return _ac; };\r\n  var _b64 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\r\n  JZZ.lib.fromBase64 = function(input) {\r\n    var output = '';\r\n    var chr1, chr2, chr3;\r\n    var enc1, enc2, enc3, enc4;\r\n    var i = 0;\r\n    input = input.replace(/[^A-Za-z0-9+/=]/g, '');\r\n    while (i < input.length) {\r\n      enc1 = _b64.indexOf(input.charAt(i++));\r\n      enc2 = _b64.indexOf(input.charAt(i++));\r\n      enc3 = _b64.indexOf(input.charAt(i++));\r\n      enc4 = _b64.indexOf(input.charAt(i++));\r\n      chr1 = (enc1 << 2) | (enc2 >> 4);\r\n      chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\r\n      chr3 = ((enc3 & 3) << 6) | enc4;\r\n      output = output + String.fromCharCode(chr1);\r\n      if (enc3 != 64) {\r\n        output = output + String.fromCharCode(chr2);\r\n      }\r\n      if (enc4 != 64) {\r\n        output = output + String.fromCharCode(chr3);\r\n      }\r\n    }\r\n    return output;\r\n  };\r\n  JZZ.lib.toBase64 = function(data) {\r\n    var o1, o2, o3, h1, h2, h3, h4, bits, i = 0, ac = 0, enc = '', arr = [];\r\n    if (!data) return data;\r\n    do {\r\n      o1 = data.charCodeAt(i++);\r\n      o2 = data.charCodeAt(i++);\r\n      o3 = data.charCodeAt(i++);\r\n      bits = o1 << 16 | o2 << 8 | o3;\r\n      h1 = bits >> 18 & 0x3f;\r\n      h2 = bits >> 12 & 0x3f;\r\n      h3 = bits >> 6 & 0x3f;\r\n      h4 = bits & 0x3f;\r\n      arr[ac++] = _b64.charAt(h1) + _b64.charAt(h2) + _b64.charAt(h3) + _b64.charAt(h4);\r\n    } while(i < data.length);\r\n    enc = arr.join('');\r\n    var r = data.length % 3;\r\n    return (r ? enc.slice(0, r - 3) + '==='.slice(r) : enc);\r\n  };\r\n  JZZ.lib.fromUTF8 = function(data) {\r\n    data = typeof data == 'undefined' ? '' : '' + data;\r\n    var out = '';\r\n    var i, n, m;\r\n    for (i = 0; i < data.length; i++) {\r\n      n = data.charCodeAt(i);\r\n      if (n > 0xff) return data;\r\n      if (n < 0x80) out += data[i];\r\n      else if ((n & 0xe0) == 0xc0) {\r\n        n = (n & 0x1f) << 6;\r\n        i++; if (i >= data.length) return data;\r\n        m = data.charCodeAt(i);\r\n        if ((m & 0xc0) != 0x80) return data;\r\n        n += (m & 0x3f);\r\n        out += String.fromCharCode(n);\r\n      }\r\n      else if ((n & 0xf0) == 0xe0) {\r\n        n = (n & 0x0f) << 12;\r\n        i++; if (i >= data.length) return data;\r\n        m = data.charCodeAt(i);\r\n        if ((m & 0xc0) != 0x80) return data;\r\n        n += (m & 0x3f) << 6;\r\n        i++; if (i >= data.length) return data;\r\n        m = data.charCodeAt(i);\r\n        if ((m & 0xc0) != 0x80) return data;\r\n        n += (m & 0x3f);\r\n        out += String.fromCharCode(n);\r\n      }\r\n      else if ((n & 0xf8) == 0xf0) {\r\n        n = (n & 0x07) << 18;\r\n        i++; if (i >= data.length) return data;\r\n        m = data.charCodeAt(i);\r\n        if ((m & 0xc0) != 0x80) return data;\r\n        n += (m & 0x3f) << 12;\r\n        i++; if (i >= data.length) return data;\r\n        m = data.charCodeAt(i);\r\n        if ((m & 0xc0) != 0x80) return data;\r\n        n += (m & 0x3f) << 6;\r\n        i++; if (i >= data.length) return data;\r\n        m = data.charCodeAt(i);\r\n        if ((m & 0xc0) != 0x80) return data;\r\n        n += (m & 0x3f);\r\n        if (n > 0x10ffff) return data;\r\n        n -= 0x10000;\r\n        out += String.fromCharCode(0xd800 + (n >> 10));\r\n        out += String.fromCharCode(0xdc00 + (n & 0x3ff));\r\n      }\r\n    }\r\n    return out;\r\n  };\r\n  JZZ.lib.toUTF8 = function(data) {\r\n    data = typeof data == 'undefined' ? '' : '' + data;\r\n    var out = '';\r\n    var i, n;\r\n    for (i = 0; i < data.length; i++) {\r\n      n = data.charCodeAt(i);\r\n      if (n < 0x80) out += data[i];\r\n      else if (n < 0x800) {\r\n        out += String.fromCharCode(0xc0 + (n >> 6));\r\n        out += String.fromCharCode(0x80 + (n & 0x3f));\r\n      }\r\n      else if (n < 0x10000) {\r\n        out += String.fromCharCode(0xe0 + (n >> 12));\r\n        out += String.fromCharCode(0x80 + ((n >> 6) & 0x3f));\r\n        out += String.fromCharCode(0x80 + (n & 0x3f));\r\n      }\r\n      /* istanbul ignore next */\r\n      else {\r\n        out += String.fromCharCode(0xf0 + (n >> 18));\r\n        out += String.fromCharCode(0x80 + ((n >> 12) & 0x3f));\r\n        out += String.fromCharCode(0x80 + ((n >> 6) & 0x3f));\r\n        out += String.fromCharCode(0x80 + (n & 0x3f));\r\n      }\r\n    }\r\n    return out;\r\n  };\r\n\r\n  // Web MIDI API\r\n  var _wma = [];\r\n  var _outputMap = {};\r\n  var _inputMap = {};\r\n\r\n  var Promise = _scope.Promise;\r\n  /* istanbul ignore next */\r\n  if (typeof Promise !== 'function') {\r\n    Promise = function(executor) {\r\n      this.executor = executor;\r\n    };\r\n    Promise.prototype.then = function(resolve, reject) {\r\n      if (typeof resolve !== 'function') {\r\n        resolve = _nop;\r\n      }\r\n      if (typeof reject !== 'function') {\r\n        reject = _nop;\r\n      }\r\n      this.executor(resolve, reject);\r\n    };\r\n  }\r\n  function DOMException(name, message, code) {\r\n    this.name = name;\r\n    this.message = message;\r\n    this.code = code;\r\n  }\r\n\r\n  function MIDIConnectionEvent(port, target) {\r\n    this.bubbles = false;\r\n    this.cancelBubble = false;\r\n    this.cancelable = false;\r\n    this.currentTarget = target;\r\n    this.defaultPrevented = false;\r\n    this.eventPhase = 0;\r\n    this.path = [];\r\n    this.port = port;\r\n    this.returnValue = true;\r\n    this.srcElement = target;\r\n    this.target = target;\r\n    this.timeStamp = _now();\r\n    this.type = 'statechange';\r\n  }\r\n\r\n  function MIDIMessageEvent(port, data) {\r\n    this.bubbles = false;\r\n    this.cancelBubble = false;\r\n    this.cancelable = false;\r\n    this.currentTarget = port;\r\n    this.data = data;\r\n    this.defaultPrevented = false;\r\n    this.eventPhase = 0;\r\n    this.path = [];\r\n    this.receivedTime = _now();\r\n    this.returnValue = true;\r\n    this.srcElement = port;\r\n    this.target = port;\r\n    this.timeStamp = this.receivedTime;\r\n    this.type = 'midimessage';\r\n  }\r\n\r\n  function _statechange(p, a) {\r\n    if (p) {\r\n      if (p.onstatechange) p.onstatechange(new MIDIConnectionEvent(p, p));\r\n      if (a.onstatechange) a.onstatechange(new MIDIConnectionEvent(p, a));\r\n    }\r\n  }\r\n\r\n  function MIDIInput(a, p) {\r\n    var self = this;\r\n    var _open = false;\r\n    var _ochng = null;\r\n    var _onmsg = null;\r\n    this.type = 'input';\r\n    this.id = p.id;\r\n    this.name = p.name;\r\n    this.manufacturer = p.man;\r\n    this.version = p.ver;\r\n    Object.defineProperty(this, 'state', { get: function() { return p.connected ? 'connected' : 'disconnected'; }, enumerable: true });\r\n    Object.defineProperty(this, 'connection', { get: function() {\r\n      return _open ? p.proxy ? 'open' : 'pending' : 'closed';\r\n    }, enumerable: true });\r\n    Object.defineProperty(this, 'onmidimessage', {\r\n      get: function() { return _onmsg; },\r\n      set: function(value) {\r\n        if (_func(value)) {\r\n          _onmsg = value;\r\n          if (!_open) self.open().then(_nop, _nop);\r\n        }\r\n        else _onmsg = null;\r\n      },\r\n      enumerable: true\r\n    });\r\n    Object.defineProperty(this, 'onstatechange', {\r\n      get: function() { return _ochng; },\r\n      set: function(value) {\r\n        if (_func(value)) _ochng = value;\r\n        else _ochng = null;\r\n      },\r\n      enumerable: true\r\n    });\r\n    this.open = function() {\r\n      return new Promise(function(resolve, reject) {\r\n        if (_open) resolve(self);\r\n        else {\r\n          p.open().then(function() {\r\n            if (!_open) {\r\n              _open = true;\r\n              _statechange(self, a);\r\n            }\r\n            resolve(self);\r\n          }, function() {\r\n            reject(new DOMException('InvalidAccessError', 'Port is not available', 15));\r\n          });\r\n        }\r\n      });\r\n    };\r\n    this.close = function() {\r\n      return new Promise(function(resolve/*, reject*/) {\r\n        if (_open) {\r\n          _open = false;\r\n          p.close();\r\n          _statechange(self, a);\r\n        }\r\n        resolve(self);\r\n      });\r\n    };\r\n    Object.freeze(this);\r\n  }\r\n\r\n  function _split(q) {\r\n    var i, k;\r\n    while (q.length) {\r\n      for (i = 0; i < q.length; i++) if (q[i] == parseInt(q[i]) && q[i] >= 0x80 && q[i] <= 0xff && q[i] != 0xf7) break;\r\n      q.splice(0, i);\r\n      if (!q.length) return;\r\n      if (q[0] == 0xf0) {\r\n        for (i = 1; i < q.length; i++) if (q[i] == 0xf7) break;\r\n        if (i == q.length) return;\r\n        return q.splice(0, i + 1);\r\n      }\r\n      else {\r\n        k = _datalen(q[0]) + 1;\r\n        if (k > q.length) return;\r\n        for (i = 1; i < k; i++) if (q[i] != parseInt(q[i]) || q[i] < 0 || q[i] >= 0x80) break;\r\n        if (i == k) return q.splice(0, i);\r\n        else q.splice(0, i);\r\n      }\r\n    }\r\n  }\r\n\r\n  function _InputProxy(id, name, man, ver) {\r\n    var self = this;\r\n    this.id = id;\r\n    this.name = name;\r\n    this.man = man;\r\n    this.ver = ver;\r\n    this.connected = true;\r\n    this.ports = [];\r\n    this.pending = [];\r\n    this.proxy = undefined;\r\n    this.queue = [];\r\n    this.onmidi = function(msg) {\r\n      var m;\r\n      self.queue = self.queue.concat(msg.slice());\r\n      for (m = _split(self.queue); m; m = _split(self.queue)) {\r\n        for (i = 0; i < self.ports.length; i++) {\r\n          if (self.ports[i][0].onmidimessage && (m[0] != 0xf0 || self.ports[i][1])) {\r\n            self.ports[i][0].onmidimessage(new MIDIMessageEvent(self, new Uint8Array(m)));\r\n          }\r\n        }\r\n      }\r\n    };\r\n  }\r\n  _InputProxy.prototype.open = function() {\r\n    var self = this;\r\n    return new Promise(function(resolve, reject) {\r\n      var i;\r\n      if (self.proxy || !self.connected) resolve();\r\n      else {\r\n        self.pending.push([resolve, reject]);\r\n        if (self.pending.length == 1) {\r\n          JZZ().openMidiIn(self.name).or(function() {\r\n            for (i = 0; i < self.pending.length; i++) self.pending[i][1]();\r\n            self.pending = [];\r\n          }).and(function() {\r\n            self.proxy = this;\r\n            self.proxy.connect(self.onmidi);\r\n            for (i = 0; i < self.pending.length; i++) self.pending[i][0]();\r\n            self.pending = [];\r\n          });\r\n        }\r\n      }\r\n    });\r\n  };\r\n  _InputProxy.prototype.close = function() {\r\n    var i;\r\n    if (this.proxy) {\r\n      for (i = 0; i < this.ports.length; i++) if (this.ports[i].connection == 'open') return;\r\n      this.proxy.close();\r\n      this.proxy = undefined;\r\n    }\r\n  };\r\n  _InputProxy.prototype.disconnect = function() {\r\n    this.connected = false;\r\n    if (this.proxy) {\r\n      this.proxy.close();\r\n      this.proxy = undefined;\r\n    }\r\n  };\r\n  _InputProxy.prototype.reconnect = function() {\r\n    var self = this;\r\n    var i, p;\r\n    var a = [];\r\n    this.connected = true;\r\n    for (i = 0; i < _wma.length; i++) {\r\n      p = _wma[i].inputs.get(this.id);\r\n      if (p.connection == 'closed') _statechange(p, _wma[i]);\r\n      else a.push([p, _wma[i]]);\r\n    }\r\n    if (a.length) {\r\n      JZZ()._openMidiInNR(self.name).or(function() {\r\n        for (i = 0; i < a.length; i++) a[i][0].close();\r\n      }).and(function() {\r\n        self.proxy = this;\r\n        self.proxy.connect(self.onmidi);\r\n        for (i = 0; i < a.length; i++) _statechange(a[i][0], a[i][1]);\r\n      });\r\n    }\r\n  };\r\n\r\n  function _datalen(x) {\r\n    if (x >= 0x80 && x <= 0xbf || x >= 0xe0 && x <= 0xef || x == 0xf2) return 2;\r\n    if (x >= 0xc0 && x <= 0xdf || x == 0xf1 || x == 0xf3) return 1;\r\n    return 0;\r\n  }\r\n\r\n  var _epr = \"Failed to execute 'send' on 'MIDIOutput': \";\r\n\r\n  function _validate(arr, sysex) {\r\n    var i, k;\r\n    var msg;\r\n    var data = [];\r\n    for (i = 0; i < arr.length; i++) {\r\n      if (arr[i] != parseInt(arr[i]) || arr[i] < 0 || arr[i] > 255) throw TypeError(_epr + arr[i] + ' is not a UInt8 value.');\r\n    }\r\n    k = 0;\r\n    for (i = 0; i < arr.length; i++) {\r\n      if (!k) {\r\n        if (arr[i] < 0x80) throw TypeError(_epr + 'Running status is not allowed at index ' + i + ' (' + arr[i] + ').');\r\n        if (arr[i] == 0xf7) throw TypeError(_epr + 'Unexpected end of system exclusive message at index ' + i + ' (' + arr[i] + ').');\r\n        msg = [arr[i]];\r\n        data.push(msg);\r\n        if (arr[i] == 0xf0) {\r\n          if (!sysex) throw new DOMException('InvalidAccessError', _epr + 'System exclusive messag is not allowed at index ' + i + ' (' + arr[i] + ').', 15);\r\n          k = -1;\r\n          for (; i < arr.length; i++) {\r\n            msg.push(arr[i]);\r\n            if (arr[i] == 0xf7) {\r\n              k = 0;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        else {\r\n          k = _datalen(arr[i]);\r\n        }\r\n      }\r\n      else {\r\n        if (arr[i] > 0x7f) throw TypeError(_epr + 'Unexpected status byte at index ' + i + ' (' + arr[i] + ').');\r\n        msg.push(arr[i]);\r\n        k--;\r\n      }\r\n    }\r\n    if (k) throw TypeError(_epr + 'Message is incomplete');\r\n    return [data];\r\n  }\r\n\r\n  function MIDIOutput(a, p) {\r\n    var self = this;\r\n    var _open = false;\r\n    var _ochng = null;\r\n    this.type = 'output';\r\n    this.id = p.id;\r\n    this.name = p.name;\r\n    this.manufacturer = p.man;\r\n    this.version = p.ver;\r\n    Object.defineProperty(this, 'state', { get: function() { return p.connected ? 'connected' : 'disconnected'; }, enumerable: true });\r\n    Object.defineProperty(this, 'connection', { get: function() {\r\n      return _open ? p.proxy ? 'open' : 'pending' : 'closed';\r\n    }, enumerable: true });\r\n    Object.defineProperty(this, 'onstatechange', {\r\n      get: function() { return _ochng; },\r\n      set: function(value) {\r\n        if (_func(value)) _ochng = value;\r\n        else _ochng = null;\r\n      },\r\n      enumerable: true\r\n    });\r\n    this.open = function() {\r\n      return new Promise(function(resolve, reject) {\r\n        if (_open) resolve(self);\r\n        else {\r\n          p.open().then(function() {\r\n            if (!_open) {\r\n              _open = true;\r\n              _statechange(self, a);\r\n            }\r\n            resolve(self);\r\n          }, function() {\r\n            reject(new DOMException('InvalidAccessError', 'Port is not available', 15));\r\n          });\r\n        }\r\n      });\r\n    };\r\n    this.close = function() {\r\n      return new Promise(function(resolve/*, reject*/) {\r\n        if (_open) {\r\n          _open = false;\r\n          self.clear();\r\n          p.close();\r\n          _statechange(self, a);\r\n        }\r\n        resolve(self);\r\n      });\r\n    };\r\n    this.clear = function() {\r\n    };\r\n    this.send = function(data, timestamp) {\r\n      _validate(data, a.sysexEnabled);\r\n      if (!p.connected) throw new DOMException('InvalidStateError', 'Port is not connected', 11);\r\n      if (_open) {\r\n        var now = _now();\r\n        if (timestamp > now) setTimeout(function() { p.proxy.send(data); }, timestamp - now);\r\n        else p.proxy.send(data);\r\n      }\r\n      else this.open().then(function() { self.send(data, timestamp); }, _nop);\r\n    };\r\n    Object.freeze(this);\r\n  }\r\n\r\n  function _OutputProxy(id, name, man, ver) {\r\n    this.id = id;\r\n    this.name = name;\r\n    this.man = man;\r\n    this.ver = ver;\r\n    this.connected = true;\r\n    this.ports = [];\r\n    this.pending = [];\r\n    this.proxy = undefined;\r\n  }\r\n  _OutputProxy.prototype.open = function() {\r\n    var self = this;\r\n    return new Promise(function(resolve, reject) {\r\n      var i;\r\n      if (self.proxy || !self.connected) resolve();\r\n      else {\r\n        self.pending.push([resolve, reject]);\r\n        if (self.pending.length == 1) {\r\n          JZZ().openMidiOut(self.name).or(function() {\r\n            for (i = 0; i < self.pending.length; i++) self.pending[i][1]();\r\n            self.pending = [];\r\n          }).and(function() {\r\n            self.proxy = this;\r\n            for (i = 0; i < self.pending.length; i++) self.pending[i][0]();\r\n            self.pending = [];\r\n          });\r\n        }\r\n      }\r\n    });\r\n  };\r\n  _OutputProxy.prototype.close = function() {\r\n    var i;\r\n    if (this.proxy) {\r\n      for (i = 0; i < this.ports.length; i++) if (this.ports[i].connection == 'open') return;\r\n      this.proxy.close();\r\n      this.proxy = undefined;\r\n    }\r\n  };\r\n  _OutputProxy.prototype.disconnect = function() {\r\n    this.connected = false;\r\n    if (this.proxy) {\r\n      this.proxy.close();\r\n      this.proxy = undefined;\r\n    }\r\n  };\r\n  _OutputProxy.prototype.reconnect = function() {\r\n    var self = this;\r\n    var i, p;\r\n    var a = [];\r\n    this.connected = true;\r\n    for (i = 0; i < _wma.length; i++) {\r\n      p = _wma[i].outputs.get(this.id);\r\n      if (p.connection == 'closed') _statechange(p, _wma[i]);\r\n      else a.push([p, _wma[i]]);\r\n    }\r\n    if (a.length) {\r\n      JZZ()._openMidiOutNR(self.name).or(function() {\r\n        for (i = 0; i < a.length; i++) a[i][0].close();\r\n      }).and(function() {\r\n        self.proxy = this;\r\n        for (i = 0; i < a.length; i++) _statechange(a[i][0], a[i][1]);\r\n      });\r\n    }\r\n  };\r\n\r\n  function _Maplike(data) {\r\n    this.has = function(id) {\r\n      return data.hasOwnProperty(id) && data[id].connected;\r\n    };\r\n    this.keys = function() {\r\n      try { // some old browsers may have no Map object\r\n        var m = new Map();\r\n        for (var id in data) if (this.has(id)) m.set(id, this.get(id));\r\n        return m.keys();\r\n      } catch (e) {}\r\n    };\r\n    this.values = function() {\r\n      try {\r\n        var m = new Map();\r\n        for (var id in data) if (this.has(id)) m.set(id, this.get(id));\r\n        return m.values();\r\n      } catch (e) {}\r\n    };\r\n    this.entries = function() {\r\n      try {\r\n        var m = new Map();\r\n        for (var id in data) if (this.has(id)) m.set(id, this.get(id));\r\n        return m.entries();\r\n      } catch (e) {}\r\n    };\r\n    this.forEach = function(fun, self) {\r\n      if (typeof self == 'undefined') self = this;\r\n      for (var id in data) if (this.has(id)) fun.call(self, this.get(id), id, this);\r\n    };\r\n    Object.defineProperty(this, 'size', {\r\n      get: function() {\r\n        var len = 0;\r\n        for (var id in data) if (this.has(id)) len++;\r\n        return len;\r\n      },\r\n      enumerable: true\r\n    });\r\n  }\r\n\r\n  function MIDIInputMap(_access, _inputs) {\r\n    this.get = function(id) {\r\n      if (_inputMap.hasOwnProperty(id) && _inputMap[id].connected) {\r\n        if (!_inputs[id]) {\r\n          _inputs[id] = new MIDIInput(_access, _inputMap[id]);\r\n          _inputMap[id].ports.push([_inputs[id], _access.sysexEnabled]);\r\n        }\r\n        return _inputs[id];\r\n      }\r\n    };\r\n    Object.freeze(this);\r\n  }\r\n  MIDIInputMap.prototype = new _Maplike(_inputMap);\r\n  MIDIInputMap.prototype.constructor = MIDIInputMap;\r\n\r\n  function MIDIOutputMap(_access, _outputs) {\r\n    this.get = function(id) {\r\n      if (_outputMap.hasOwnProperty(id) && _outputMap[id].connected) {\r\n        if (!_outputs[id]) {\r\n          _outputs[id] = new MIDIOutput(_access, _outputMap[id]);\r\n          _outputMap[id].ports.push([_outputs[id], _access.sysexEnabled]);\r\n        }\r\n        return _outputs[id];\r\n      }\r\n    };\r\n    Object.freeze(this);\r\n  }\r\n  MIDIOutputMap.prototype = new _Maplike(_outputMap);\r\n  MIDIOutputMap.prototype.constructor = MIDIOutputMap;\r\n\r\n  function _wm_watch(x) {\r\n    var i, k, p, a;\r\n    for (i = 0; i < x.inputs.added.length; i++) {\r\n      p = x.inputs.added[i];\r\n      if (!_inputMap.hasOwnProperty(p.id)) _inputMap[p.id] = new _InputProxy(p.id, p.name, p.manufacturer, p.version);\r\n      _inputMap[p.id].reconnect();\r\n    }\r\n    for (i = 0; i < x.outputs.added.length; i++) {\r\n      p = x.outputs.added[i];\r\n      if (!_outputMap.hasOwnProperty(p.id)) _outputMap[p.id] = new _OutputProxy(p.id, p.name, p.manufacturer, p.version);\r\n      _outputMap[p.id].reconnect();\r\n    }\r\n    for (i = 0; i < x.inputs.removed.length; i++) {\r\n      p = x.inputs.removed[i];\r\n      if (_inputMap.hasOwnProperty(p.id)) {\r\n        a = [];\r\n        for (k = 0; k < _wma.length; k++) a.push([_wma[k].inputs.get(p.id), _wma[k]]);\r\n        _inputMap[p.id].disconnect();\r\n        for (k = 0; k < a.length; k++) _statechange(a[k][0], a[k][1]);\r\n      }\r\n    }\r\n    for (i = 0; i < x.outputs.removed.length; i++) {\r\n      p = x.outputs.removed[i];\r\n      if (_outputMap.hasOwnProperty(p.id)) {\r\n        a = [];\r\n        for (k = 0; k < _wma.length; k++) a.push([_wma[k].outputs.get(p.id), _wma[k]]);\r\n        _outputMap[p.id].disconnect();\r\n        for (k = 0; k < a.length; k++) _statechange(a[k][0], a[k][1]);\r\n      }\r\n    }\r\n  }\r\n\r\n  function MIDIAccess(sysex) {\r\n    var _inputs = {};\r\n    var _outputs = {};\r\n    var _onstatechange = null;\r\n    var self = this;\r\n    this.sysexEnabled = sysex;\r\n    this.inputs = new MIDIInputMap(self, _inputs);\r\n    this.outputs = new MIDIOutputMap(self, _outputs);\r\n    Object.defineProperty(this, 'onstatechange', {\r\n      get: function() { return _onstatechange; },\r\n      set: function(f) { _onstatechange = _func(f) ? f : null; },\r\n      enumerable: true\r\n    });\r\n    Object.freeze(this);\r\n    var i;\r\n    var p;\r\n    var info = _jzz._info;\r\n    for (i = 0; i < info.inputs.length; i++) {\r\n      p = info.inputs[i];\r\n      if (!_inputMap.hasOwnProperty(p.id)) _inputMap[p.id] = new _InputProxy(p.id, p.name, p.manufacturer, p.version);\r\n    }\r\n    for (i = 0; i < info.outputs.length; i++) {\r\n      p = info.outputs[i];\r\n      if (!_outputMap.hasOwnProperty(p.id)) _outputMap[p.id] = new _OutputProxy(p.id, p.name, p.manufacturer, p.version);\r\n    }\r\n    if (!_wma.length) JZZ().onChange(_wm_watch);\r\n    _wma.push(this);\r\n  }\r\n\r\n  JZZ.requestMIDIAccess = function(opt) {\r\n    return new Promise(function(resolve, reject) {\r\n      JZZ.JZZ(opt).or(function() {\r\n      }).and(function() {\r\n        var sysex = !!(opt && opt.sysex);\r\n        if (sysex && !this.info().sysex) reject(new DOMException('SecurityError', 'Sysex is not allowed', 18));\r\n        else {\r\n          var wma = new MIDIAccess(sysex);\r\n          resolve(wma);\r\n        }\r\n      });\r\n    });\r\n  };\r\n  if (typeof navigator !== 'undefined' && !navigator.requestMIDIAccess) navigator.requestMIDIAccess = JZZ.requestMIDIAccess;\r\n  JZZ.close = function() { if (_engine._close) _engine._close(); };\r\n\r\n  return JZZ;\r\n});\r\n","(function(global, factory) {\r\n  /* istanbul ignore next */\r\n  if (typeof exports === 'object' && typeof module !== 'undefined') {\r\n    module.exports = factory;\r\n  }\r\n  else if (typeof define === 'function' && define.amd) {\r\n    define('JZZ.synth.Tiny', ['JZZ'], factory);\r\n  }\r\n  else {\r\n    factory(JZZ);\r\n  }\r\n})(this, function(JZZ) {\r\n\r\n  /* istanbul ignore next */\r\n  if (!JZZ) return;\r\n  /* istanbul ignore next */\r\n  if (!JZZ.synth) JZZ.synth = {};\r\n  /* istanbul ignore next */\r\n  if (JZZ.synth.Tiny) return;\r\n\r\n  var _version = '1.3.2';\r\n\r\nfunction WebAudioTinySynth(opt){\r\n  this.__proto__ = this.sy =\r\n  /* webaudio-tynysynth core object */\r\n  {\r\n    is:\"webaudio-tinysynth\",\r\n    properties:{\r\n      masterVol:  {type:Number, value:0.5, observer:\"setMasterVol\"},\r\n      reverbLev:  {type:Number, value:0.3, observer:\"setReverbLev\"},\r\n      quality:    {type:Number, value:1, observer:\"setQuality\"},\r\n      debug:      {type:Number, value:0},\r\n      src:        {type:String, value:null, observer:\"loadMIDIUrl\"},\r\n      loop:       {type:Number, value:0},\r\n      //internalcontext: {type:Number, value:1},\r\n      tsmode:     {type:Number, value:0},\r\n      voices:     {type:Number, value:64},\r\n      useReverb:  {type:Number, value:1},\r\n      /**/\r\n    },\r\n    /**/\r\n    program:[],\r\n    drummap:[],\r\n    program1:[\r\n      // 1-8 : Piano\r\n      [{w:\"sine\",v:.4,d:0.7,r:0.1,},{w:\"triangle\",v:3,d:0.7,s:0.1,g:1,a:0.01,k:-1.2}],\r\n      [{w:\"triangle\",v:0.4,d:0.7,r:0.1,},{w:\"triangle\",v:4,t:3,d:0.4,s:0.1,g:1,k:-1,a:0.01,}],\r\n      [{w:\"sine\",d:0.7,r:0.1,},{w:\"triangle\",v:4,f:2,d:0.5,s:0.5,g:1,k:-1}],\r\n      [{w:\"sine\",d:0.7,v:0.2,},{w:\"triangle\",v:4,t:3,f:2,d:0.3,g:1,k:-1,a:0.01,s:0.5,}],\r\n      [{w:\"sine\",v:0.35,d:0.7,},{w:\"sine\",v:3,t:7,f:1,d:1,s:1,g:1,k:-.7}],\r\n      [{w:\"sine\",v:0.35,d:0.7,},{w:\"sine\",v:8,t:7,f:1,d:0.5,s:1,g:1,k:-.7}],\r\n      [{w:\"sawtooth\",v:0.34,d:2,},{w:\"sine\",v:8,f:0.1,d:2,s:1,r:2,g:1,}],\r\n      [{w:\"triangle\",v:0.34,d:1.5,},{w:\"square\",v:6,f:0.1,d:1.5,s:0.5,r:2,g:1,}],\r\n      /* 9-16 : Chromatic Perc*/\r\n      [{w:\"sine\",d:0.3,r:0.3,},{w:\"sine\",v:7,t:11,d:0.03,g:1,}],\r\n      [{w:\"sine\",d:0.3,r:0.3,},{w:\"sine\",v:11,t:6,d:0.2,s:0.4,g:1,}],\r\n      [{w:\"sine\",v:0.2,d:0.3,r:0.3,},{w:\"sine\",v:11,t:5,d:0.1,s:0.4,g:1,}],\r\n      [{w:\"sine\",v:0.2,d:0.6,r:0.6,},{w:\"triangle\",v:11,t:5,f:1,s:0.5,g:1,}],\r\n      [{w:\"sine\",v:0.3,d:0.2,r:0.2,},{w:\"sine\",v:6,t:5,d:0.02,g:1,}],\r\n      [{w:\"sine\",v:0.3,d:0.2,r:0.2,},{w:\"sine\",v:7,t:11,d:0.03,g:1,}],\r\n      [{w:\"sine\",v:0.2,d:1,r:1,},{w:\"sine\",v:11,t:3.5,d:1,r:1,g:1,}],\r\n      [{w:\"triangle\",v:0.2,d:0.5,r:0.2,},{w:\"sine\",v:6,t:2.5,d:0.2,s:0.1,r:0.2,g:1,}],\r\n      /* 17-24 : Organ */\r\n      [{w:\"w9999\",v:0.22,s:0.9,},{w:\"w9999\",v:0.22,t:2,f:2,s:0.9,}],\r\n      [{w:\"w9999\",v:0.2,s:1,},{w:\"sine\",v:11,t:6,f:2,s:0.1,g:1,h:0.006,r:0.002,d:0.002,},{w:\"w9999\",v:0.2,t:2,f:1,h:0,s:1,}],\r\n      [{w:\"w9999\",v:0.2,d:0.1,s:0.9,},{w:\"w9999\",v:0.25,t:4,f:2,s:0.5,}],\r\n      [{w:\"w9999\",v:0.3,a:0.04,s:0.9,},{w:\"w9999\",v:0.2,t:8,f:2,a:0.04,s:0.9,}],\r\n      [{w:\"sine\",v:0.2,a:0.02,d:0.05,s:1,},{w:\"sine\",v:6,t:3,f:1,a:0.02,d:0.05,s:1,g:1,}],\r\n      [{w:\"triangle\",v:0.2,a:0.02,d:0.05,s:0.8,},{w:\"square\",v:7,t:3,f:1,d:0.05,s:1.5,g:1,}],\r\n      [{w:\"square\",v:0.2,a:0.02,d:0.2,s:0.5,},{w:\"square\",v:1,d:0.03,s:2,g:1,}],\r\n      [{w:\"square\",v:0.2,a:0.02,d:0.1,s:0.8,},{w:\"square\",v:1,a:0.3,d:0.1,s:2,g:1,}],\r\n      /* 25-32 : Guitar */\r\n      [{w:\"sine\",v:0.3,d:0.5,f:1,},{w:\"triangle\",v:5,t:3,f:-1,d:1,s:0.1,g:1,}],\r\n      [{w:\"sine\",v:0.4,d:0.6,f:1,},{w:\"triangle\",v:12,t:3,d:0.6,s:0.1,g:1,f:-1,}],\r\n      [{w:\"triangle\",v:0.3,d:1,f:1,},{w:\"triangle\",v:6,f:-1,d:0.4,s:0.5,g:1,t:3,}],\r\n      [{w:\"sine\",v:0.3,d:1,f:-1,},{w:\"triangle\",v:11,f:1,d:0.4,s:0.5,g:1,t:3,}],\r\n      [{w:\"sine\",v:0.4,d:0.1,r:0.01},{w:\"sine\",v:7,g:1,}],\r\n      [{w:\"triangle\",v:0.4,d:1,f:1,},{w:\"square\",v:4,f:-1,d:1,s:0.7,g:1,}],//[{w:\"triangle\",v:0.35,d:1,f:1,},{w:\"square\",v:7,f:-1,d:0.3,s:0.5,g:1,}],\r\n      [{w:\"triangle\",v:0.35,d:1,f:1,},{w:\"square\",v:7,f:-1,d:0.3,s:0.5,g:1,}],//[{w:\"triangle\",v:0.4,d:1,f:1,},{w:\"square\",v:4,f:-1,d:1,s:0.7,g:1,}],//[{w:\"triangle\",v:0.4,d:1,},{w:\"square\",v:4,f:2,d:1,s:0.7,g:1,}],\r\n      [{w:\"sine\",v:0.2,t:1.5,a:0.005,h:0.2,d:0.6,},{w:\"sine\",v:11,t:5,f:2,d:1,s:0.5,g:1,}],\r\n      /* 33-40 : Bass */\r\n      [{w:\"sine\",d:0.3,},{w:\"sine\",v:4,t:3,d:1,s:1,g:1,}],\r\n      [{w:\"sine\",d:0.3,},{w:\"sine\",v:4,t:3,d:1,s:1,g:1,}],\r\n      [{w:\"w9999\",d:0.3,v:0.7,s:0.5,},{w:\"sawtooth\",v:1.2,d:0.02,s:0.5,g:1,h:0,r:0.02,}],\r\n      [{w:\"sine\",d:0.3,},{w:\"sine\",v:4,t:3,d:1,s:1,g:1,}],\r\n      [{w:\"triangle\",v:0.3,t:2,d:1,},{w:\"triangle\",v:15,t:2.5,d:0.04,s:0.1,g:1,}],\r\n      [{w:\"triangle\",v:0.3,t:2,d:1,},{w:\"triangle\",v:15,t:2.5,d:0.04,s:0.1,g:1,}],\r\n      [{w:\"triangle\",d:0.7,},{w:\"square\",v:0.4,t:0.5,f:1,d:0.2,s:10,g:1,}],\r\n      [{w:\"triangle\",d:0.7,},{w:\"square\",v:0.4,t:0.5,f:1,d:0.2,s:10,g:1,}],\r\n      /* 41-48 : Strings */\r\n      [{w:\"sawtooth\",v:0.4,a:0.1,d:11,},{w:\"sine\",v:5,d:11,s:0.2,g:1,}],\r\n      [{w:\"sawtooth\",v:0.4,a:0.1,d:11,},{w:\"sine\",v:5,d:11,s:0.2,g:1,}],\r\n      [{w:\"sawtooth\",v:0.4,a:0.1,d:11,},{w:\"sine\",v:5,t:0.5,d:11,s:0.2,g:1,}],\r\n      [{w:\"sawtooth\",v:0.4,a:0.1,d:11,},{w:\"sine\",v:5,t:0.5,d:11,s:0.2,g:1,}],\r\n      [{w:\"sine\",v:0.4,a:0.1,d:11,},{w:\"sine\",v:6,f:2.5,d:0.05,s:1.1,g:1,}],\r\n      [{w:\"sine\",v:0.3,d:0.1,r:0.1,},{w:\"square\",v:4,t:3,d:1,s:0.2,g:1,}],\r\n      [{w:\"sine\",v:0.3,d:0.5,r:0.5,},{w:\"sine\",v:7,t:2,f:2,d:1,r:1,g:1,}],\r\n      [{w:\"triangle\",v:0.6,h:0.03,d:0.3,r:0.3,t:0.5,},{w:\"n0\",v:8,t:1.5,d:0.08,r:0.08,g:1,}],\r\n      /* 49-56 : Ensamble */\r\n      [{w:\"sawtooth\",v:0.3,a:0.03,s:0.5,},{w:\"sawtooth\",v:0.2,t:2,f:2,d:1,s:2,}],\r\n      [{w:\"sawtooth\",v:0.3,f:-2,a:0.03,s:0.5,},{w:\"sawtooth\",v:0.2,t:2,f:2,d:1,s:2,}],\r\n      [{w:\"sawtooth\",v:0.2,a:0.02,s:1,},{w:\"sawtooth\",v:0.2,t:2,f:2,a:1,d:1,s:1,}],\r\n      [{w:\"sawtooth\",v:0.2,a:0.02,s:1,},{w:\"sawtooth\",v:0.2,f:2,a:0.02,d:1,s:1,}],\r\n      [{w:\"triangle\",v:0.3,a:0.03,s:1,},{w:\"sine\",v:3,t:5,f:1,d:1,s:1,g:1,}],\r\n      [{w:\"sine\",v:0.4,a:0.03,s:0.9,},{w:\"sine\",v:1,t:2,f:3,d:0.03,s:0.2,g:1,}],\r\n      [{w:\"triangle\",v:0.6,a:0.05,s:0.5,},{w:\"sine\",v:1,f:0.8,d:0.2,s:0.2,g:1,}],\r\n      [{w:\"square\",v:0.15,a:0.01,d:0.2,r:0.2,t:0.5,h:0.03,},{w:\"square\",v:4,f:0.5,d:0.2,r:11,a:0.01,g:1,h:0.02,},{w:\"square\",v:0.15,t:4,f:1,a:0.02,d:0.15,r:0.15,h:0.03,},{g:3,w:\"square\",v:4,f:-0.5,a:0.01,h:0.02,d:0.15,r:11,}],\r\n      /* 57-64 : Brass */\r\n      [{w:\"square\",v:0.2,a:0.01,d:1,s:0.6,r:0.04,},{w:\"sine\",v:1,d:0.1,s:4,g:1,}],\r\n      [{w:\"square\",v:0.2,a:0.02,d:1,s:0.5,r:0.08,},{w:\"sine\",v:1,d:0.1,s:4,g:1,}],\r\n      [{w:\"square\",v:0.2,a:0.04,d:1,s:0.4,r:0.08,},{w:\"sine\",v:1,d:0.1,s:4,g:1,}],\r\n      [{w:\"square\",v:0.15,a:0.04,s:1,},{w:\"sine\",v:2,d:0.1,g:1,}],\r\n      [{w:\"square\",v:0.2,a:0.02,d:1,s:0.5,r:0.08,},{w:\"sine\",v:1,d:0.1,s:4,g:1,}],\r\n      [{w:\"square\",v:0.2,a:0.02,d:1,s:0.6,r:0.08,},{w:\"sine\",v:1,f:0.2,d:0.1,s:4,g:1,}],\r\n      [{w:\"square\",v:0.2,a:0.02,d:0.5,s:0.7,r:0.08,},{w:\"sine\",v:1,d:0.1,s:4,g:1,}],\r\n      [{w:\"square\",v:0.2,a:0.02,d:1,s:0.5,r:0.08,},{w:\"sine\",v:1,d:0.1,s:4,g:1,}],\r\n      /* 65-72 : Reed */\r\n      [{w:\"square\",v:0.2,a:0.02,d:2,s:0.6,},{w:\"sine\",v:2,d:1,g:1,}],\r\n      [{w:\"square\",v:0.2,a:0.02,d:2,s:0.6,},{w:\"sine\",v:2,d:1,g:1,}],\r\n      [{w:\"square\",v:0.2,a:0.02,d:1,s:0.6,},{w:\"sine\",v:2,d:1,g:1,}],\r\n      [{w:\"square\",v:0.2,a:0.02,d:1,s:0.6,},{w:\"sine\",v:2,d:1,g:1,}],\r\n      [{w:\"sine\",v:0.4,a:0.02,d:0.7,s:0.5,},{w:\"square\",v:5,t:2,d:0.2,s:0.5,g:1,}],\r\n      [{w:\"sine\",v:0.3,a:0.05,d:0.2,s:0.8,},{w:\"sawtooth\",v:6,f:0.1,d:0.1,s:0.3,g:1,}],\r\n      [{w:\"sine\",v:0.3,a:0.03,d:0.2,s:0.4,},{w:\"square\",v:7,f:0.2,d:1,s:0.1,g:1,}],\r\n      [{w:\"square\",v:0.2,a:0.05,d:0.1,s:0.8,},{w:\"square\",v:4,d:0.1,s:1.1,g:1,}],\r\n      /* 73-80 : Pipe */\r\n      [{w:\"sine\",a:0.02,d:2,},{w:\"sine\",v:6,t:2,d:0.04,g:1,}],\r\n      [{w:\"sine\",v:0.7,a:0.03,d:0.4,s:0.4,},{w:\"sine\",v:4,t:2,f:0.2,d:0.4,g:1,}],\r\n      [{w:\"sine\",v:0.7,a:0.02,d:0.4,s:0.6,},{w:\"sine\",v:3,t:2,d:0,s:1,g:1,}],\r\n      [{w:\"sine\",v:0.4,a:0.06,d:0.3,s:0.3,},{w:\"sine\",v:7,t:2,d:0.2,s:0.2,g:1,}],\r\n      [{w:\"sine\",a:0.02,d:0.3,s:0.3,},{w:\"sawtooth\",v:3,t:2,d:0.3,g:1,}],\r\n      [{w:\"sine\",v:0.4,a:0.02,d:2,s:0.1,},{w:\"sawtooth\",v:8,t:2,f:1,d:0.5,g:1,}],\r\n      [{w:\"sine\",v:0.7,a:0.03,d:0.5,s:0.3,},{w:\"sine\",v:0.003,t:0,f:4,d:0.1,s:0.002,g:1,}],\r\n      [{w:\"sine\",v:0.7,a:0.02,d:2,},{w:\"sine\",v:1,t:2,f:1,d:0.02,g:1,}],\r\n      /* 81-88 : SynthLead */\r\n      [{w:\"square\",v:0.3,d:1,s:0.5,},{w:\"square\",v:1,f:0.2,d:1,s:0.5,g:1,}],\r\n      [{w:\"sawtooth\",v:0.3,d:2,s:0.5,},{w:\"square\",v:2,f:0.1,s:0.5,g:1,}],\r\n      [{w:\"triangle\",v:0.5,a:0.05,d:2,s:0.6,},{w:\"sine\",v:4,t:2,g:1,}],\r\n      [{w:\"triangle\",v:0.3,a:0.01,d:2,s:0.3,},{w:\"sine\",v:22,t:2,f:1,d:0.03,s:0.2,g:1,}],\r\n      [{w:\"sawtooth\",v:0.3,d:1,s:0.5,},{w:\"sine\",v:11,t:11,a:0.2,d:0.05,s:0.3,g:1,}],\r\n      [{w:\"sine\",v:0.3,a:0.06,d:1,s:0.5,},{w:\"sine\",v:7,f:1,d:1,s:0.2,g:1,}],\r\n      [{w:\"sawtooth\",v:0.3,a:0.03,d:0.7,s:0.3,r:0.2,},{w:\"sawtooth\",v:0.3,t:0.75,d:0.7,a:0.1,s:0.3,r:0.2,}],\r\n      [{w:\"triangle\",v:0.3,a:0.01,d:0.7,s:0.5,},{w:\"square\",v:5,t:0.5,d:0.7,s:0.5,g:1,}],\r\n      /* 89-96 : SynthPad */\r\n      [{w:\"triangle\",v:0.3,a:0.02,d:0.3,s:0.3,r:0.3,},{w:\"square\",v:3,t:4,f:1,a:0.02,d:0.1,s:1,g:1,},{w:\"triangle\",v:0.08,t:0.5,a:0.1,h:0,d:0.1,s:0.5,r:0.1,b:0,c:0,}],\r\n      [{w:\"sine\",v:0.3,a:0.05,d:1,s:0.7,r:0.3,},{w:\"sine\",v:2,f:1,d:0.3,s:1,g:1,}],\r\n      [{w:\"square\",v:0.3,a:0.03,d:0.5,s:0.3,r:0.1,},{w:\"square\",v:4,f:1,a:0.03,d:0.1,g:1,}],\r\n      [{w:\"triangle\",v:0.3,a:0.08,d:1,s:0.3,r:0.1,},{w:\"square\",v:2,f:1,d:0.3,s:0.3,g:1,t:4,a:0.08,}],\r\n      [{w:\"sine\",v:0.3,a:0.05,d:1,s:0.3,r:0.1,},{w:\"sine\",v:0.1,t:2.001,f:1,d:1,s:50,g:1,}],\r\n      [{w:\"triangle\",v:0.3,a:0.03,d:0.7,s:0.3,r:0.2,},{w:\"sine\",v:12,t:7,f:1,d:0.5,s:1.7,g:1,}],\r\n      [{w:\"sine\",v:0.3,a:0.05,d:1,s:0.3,r:0.1,},{w:\"sawtooth\",v:22,t:6,d:0.06,s:0.3,g:1,}],\r\n      [{w:\"triangle\",v:0.3,a:0.05,d:11,r:0.3,},{w:\"triangle\",v:1,d:1,s:8,g:1,}],\r\n      /* 97-104 : FX */\r\n      [{w:\"sawtooth\",v:0.3,d:4,s:0.8,r:0.1,},{w:\"square\",v:1,t:2,f:8,a:1,d:1,s:1,r:0.1,g:1,}],\r\n      [{w:\"triangle\",v:0.3,d:1,s:0.5,t:0.8,a:0.2,p:1.25,q:0.2,},{w:\"sawtooth\",v:0.2,a:0.2,d:0.3,s:1,t:1.2,p:1.25,q:0.2,}],\r\n      [{w:\"sine\",v:0.3,d:1,s:0.3,},{w:\"square\",v:22,t:11,d:0.5,s:0.1,g:1,}],\r\n      [{w:\"sawtooth\",v:0.3,a:0.04,d:1,s:0.8,r:0.1,},{w:\"square\",v:1,t:0.5,d:1,s:2,g:1,}],\r\n      [{w:\"triangle\",v:0.3,d:1,s:0.3,},{w:\"sine\",v:22,t:6,d:0.6,s:0.05,g:1,}],\r\n      [{w:\"sine\",v:0.6,a:0.1,d:0.05,s:0.4,},{w:\"sine\",v:5,t:5,f:1,d:0.05,s:0.3,g:1,}],\r\n      [{w:\"sine\",a:0.1,d:0.05,s:0.4,v:0.8,},{w:\"sine\",v:5,t:5,f:1,d:0.05,s:0.3,g:1,}],\r\n      [{w:\"square\",v:0.3,a:0.1,d:0.1,s:0.4,},{w:\"square\",v:1,f:1,d:0.3,s:0.1,g:1,}],\r\n      /* 105-112 : Ethnic */\r\n      [{w:\"sawtooth\",v:0.3,d:0.5,r:0.5,},{w:\"sawtooth\",v:11,t:5,d:0.05,g:1,}],\r\n      [{w:\"square\",v:0.3,d:0.2,r:0.2,},{w:\"square\",v:7,t:3,d:0.05,g:1,}],\r\n      [{w:\"triangle\",d:0.2,r:0.2,},{w:\"square\",v:9,t:3,d:0.1,r:0.1,g:1,}],\r\n      [{w:\"triangle\",d:0.3,r:0.3,},{w:\"square\",v:6,t:3,d:1,r:1,g:1,}],\r\n      [{w:\"triangle\",v:0.4,d:0.2,r:0.2,},{w:\"square\",v:22,t:12,d:0.1,r:0.1,g:1,}],\r\n      [{w:\"sine\",v:0.25,a:0.02,d:0.05,s:0.8,},{w:\"square\",v:1,t:2,d:0.03,s:11,g:1,}],\r\n      [{w:\"sine\",v:0.3,a:0.05,d:11,},{w:\"square\",v:7,t:3,f:1,s:0.7,g:1,}],\r\n      [{w:\"square\",v:0.3,a:0.05,d:0.1,s:0.8,},{w:\"square\",v:4,d:0.1,s:1.1,g:1,}],\r\n      /* 113-120 : Percussive */\r\n      [{w:\"sine\",v:0.4,d:0.3,r:0.3,},{w:\"sine\",v:7,t:9,d:0.1,r:0.1,g:1,}],\r\n      [{w:\"sine\",v:0.7,d:0.1,r:0.1,},{w:\"sine\",v:22,t:7,d:0.05,g:1,}],\r\n      [{w:\"sine\",v:0.6,d:0.15,r:0.15,},{w:\"square\",v:11,t:3.2,d:0.1,r:0.1,g:1,}],\r\n      [{w:\"sine\",v:0.8,d:0.07,r:0.07,},{w:\"square\",v:11,t:7,r:0.01,g:1,}],\r\n      [{w:\"triangle\",v:0.7,t:0.5,d:0.2,r:0.2,p:0.95,},{w:\"n0\",v:9,g:1,d:0.2,r:0.2,}],\r\n      [{w:\"sine\",v:0.7,d:0.1,r:0.1,p:0.9,},{w:\"square\",v:14,t:2,d:0.005,r:0.005,g:1,}],\r\n      [{w:\"square\",d:0.15,r:0.15,p:0.5,},{w:\"square\",v:4,t:5,d:0.001,r:0.001,g:1,}],\r\n      [{w:\"n1\",v:0.3,a:1,s:1,d:0.15,r:0,t:0.5,}],\r\n      /* 121-128 : SE */\r\n      [{w:\"sine\",t:12.5,d:0,r:0,p:0.5,v:0.3,h:0.2,q:0.5,},{g:1,w:\"sine\",v:1,t:2,d:0,r:0,s:1,},{g:1,w:\"n0\",v:0.2,t:2,a:0.6,h:0,d:0.1,r:0.1,b:0,c:0,}],\r\n      [{w:\"n0\",v:0.2,a:0.05,h:0.02,d:0.02,r:0.02,}],\r\n      [{w:\"n0\",v:0.4,a:1,d:1,t:0.25,}],\r\n      [{w:\"sine\",v:0.3,a:0.1,d:1,s:0.5,},{w:\"sine\",v:4,t:0,f:1.5,d:1,s:1,r:0.1,g:1,},{g:1,w:\"sine\",v:4,t:0,f:2,a:0.6,h:0,d:0.1,s:1,r:0.1,b:0,c:0,}],\r\n      [{w:\"square\",v:0.3,t:0.25,d:11,s:1,},{w:\"square\",v:12,t:0,f:8,d:1,s:1,r:11,g:1,}],\r\n      [{w:\"n0\",v:0.4,t:0.5,a:1,d:11,s:1,r:0.5,},{w:\"square\",v:1,t:0,f:14,d:1,s:1,r:11,g:1,}],\r\n      [{w:\"sine\",t:0,f:1221,a:0.2,d:1,r:0.25,s:1,},{g:1,w:\"n0\",v:3,t:0.5,d:1,s:1,r:1,}],\r\n      [{w:\"sine\",d:0.4,r:0.4,p:0.1,t:2.5,v:1,},{w:\"n0\",v:12,t:2,d:1,r:1,g:1,}],\r\n    ],\r\n    program0:[\r\n// 1-8 : Piano\r\n      [{w:\"triangle\",v:.5,d:.7}],                   [{w:\"triangle\",v:.5,d:.7}],\r\n      [{w:\"triangle\",v:.5,d:.7}],                   [{w:\"triangle\",v:.5,d:.7}],\r\n      [{w:\"triangle\",v:.5,d:.7}],                   [{w:\"triangle\",v:.5,d:.7}],\r\n      [{w:\"sawtooth\",v:.3,d:.7}],                   [{w:\"sawtooth\",v:.3,d:.7}],\r\n/* 9-16 : Chromatic Perc*/\r\n      [{w:\"sine\",v:.5,d:.3,r:.3}],                  [{w:\"triangle\",v:.5,d:.3,r:.3}],\r\n      [{w:\"square\",v:.2,d:.3,r:.3}],                [{w:\"square\",v:.2,d:.3,r:.3}],\r\n      [{w:\"sine\",v:.5,d:.1,r:.1}],                  [{w:\"sine\",v:.5,d:.1,r:.1}],\r\n      [{w:\"square\",v:.2,d:1,r:1}],                  [{w:\"sawtooth\",v:.3,d:.7,r:.7}],\r\n/* 17-24 : Organ */\r\n      [{w:\"sine\",v:0.5,a:0.01,s:1}],                [{w:\"sine\",v:0.7,d:0.02,s:0.7}],\r\n      [{w:\"square\",v:.2,s:1}],                      [{w:\"triangle\",v:.5,a:.01,s:1}],\r\n      [{w:\"square\",v:.2,a:.02,s:1}],                [{w:\"square\",v:0.2,a:0.02,s:1}],\r\n      [{w:\"square\",v:0.2,a:0.02,s:1}],              [{w:\"square\",v:.2,a:.05,s:1}],\r\n/* 25-32 : Guitar */\r\n      [{w:\"triangle\",v:.5,d:.5}],                   [{w:\"square\",v:.2,d:.6}],\r\n      [{w:\"square\",v:.2,d:.6}],                     [{w:\"triangle\",v:.8,d:.6}],\r\n      [{w:\"triangle\",v:.4,d:.05}],                  [{w:\"square\",v:.2,d:1}],\r\n      [{w:\"square\",v:.2,d:1}],                      [{w:\"sine\",v:.4,d:.6}],\r\n/* 33-40 : Bass */\r\n      [{w:\"triangle\",v:.7,d:.4}],                   [{w:\"triangle\",v:.7,d:.7}],\r\n      [{w:\"triangle\",v:.7,d:.7}],                   [{w:\"triangle\",v:.7,d:.7}],\r\n      [{w:\"square\",v:.3,d:.2}],                     [{w:\"square\",v:.3,d:.2}],\r\n      [{w:\"square\",v:.3,d:.1,s:.2}],                [{w:\"sawtooth\",v:.4,d:.1,s:.2}],\r\n/* 41-48 : Strings */\r\n      [{w:\"sawtooth\",v:.2,a:.02,s:1}],              [{w:\"sawtooth\",v:.2,a:.02,s:1}],\r\n      [{w:\"sawtooth\",v:.2,a:.02,s:1}],              [{w:\"sawtooth\",v:.2,a:.02,s:1}],\r\n      [{w:\"sawtooth\",v:.2,a:.02,s:1}],              [{w:\"sawtooth\",v:.3,d:.1}],\r\n      [{w:\"sawtooth\",v:.3,d:.5,r:.5}],              [{w:\"triangle\",v:.6,d:.1,r:.1,h:0.03,p:0.8}],\r\n/* 49-56 : Ensamble */\r\n      [{w:\"sawtooth\",v:.2,a:.02,s:1}],              [{w:\"sawtooth\",v:.2,a:.02,s:1}],\r\n      [{w:\"sawtooth\",v:.2,a:.02,s:1}],              [{w:\"sawtooth\",v:.2,a:.02,s:1}],\r\n      [{w:\"triangle\",v:.3,a:.03,s:1}],              [{w:\"sine\",v:.3,a:.03,s:1}],\r\n      [{w:\"triangle\",v:.3,a:.05,s:1}],              [{w:\"sawtooth\",v:.5,a:.01,d:.1}],\r\n/* 57-64 : Brass */\r\n      [{w:\"square\",v:.3,a:.05,d:.2,s:.6}],          [{w:\"square\",v:.3,a:.05,d:.2,s:.6}],\r\n      [{w:\"square\",v:.3,a:.05,d:.2,s:.6}],          [{w:\"square\",v:0.2,a:.05,d:0.01,s:1}],\r\n      [{w:\"square\",v:.3,a:.05,s:1}],                [{w:\"square\",v:.3,s:.7}],\r\n      [{w:\"square\",v:.3,s:.7}],                     [{w:\"square\",v:.3,s:.7}],\r\n/* 65-72 : Reed */\r\n      [{w:\"square\",v:.3,a:.02,d:2}],                [{w:\"square\",v:.3,a:.02,d:2}],\r\n      [{w:\"square\",v:.3,a:.03,d:2}],                [{w:\"square\",v:.3,a:.04,d:2}],\r\n      [{w:\"square\",v:.3,a:.02,d:2}],                [{w:\"square\",v:.3,a:.05,d:2}],\r\n      [{w:\"square\",v:.3,a:.03,d:2}],                [{w:\"square\",v:.3,a:.03,d:2}],\r\n/* 73-80 : Pipe */\r\n      [{w:\"sine\",v:.7,a:.02,d:2}],                  [{w:\"sine\",v:.7,a:.02,d:2}],\r\n      [{w:\"sine\",v:.7,a:.02,d:2}],                  [{w:\"sine\",v:.7,a:.02,d:2}],\r\n      [{w:\"sine\",v:.7,a:.02,d:2}],                  [{w:\"sine\",v:.7,a:.02,d:2}],\r\n      [{w:\"sine\",v:.7,a:.02,d:2}],                  [{w:\"sine\",v:.7,a:.02,d:2}],\r\n/* 81-88 : SynthLead */\r\n      [{w:\"square\",v:.3,s:.7}],                     [{w:\"sawtooth\",v:.4,s:.7}],\r\n      [{w:\"triangle\",v:.5,s:.7}],                   [{w:\"sawtooth\",v:.4,s:.7}],\r\n      [{w:\"sawtooth\",v:.4,d:12}],                   [{w:\"sine\",v:.4,a:.06,d:12}],\r\n      [{w:\"sawtooth\",v:.4,d:12}],                   [{w:\"sawtooth\",v:.4,d:12}],\r\n/* 89-96 : SynthPad */\r\n      [{w:\"sawtooth\",v:.3,d:12}],                   [{w:\"triangle\",v:.5,d:12}],\r\n      [{w:\"square\",v:.3,d:12}],                     [{w:\"triangle\",v:.5,a:.08,d:11}],\r\n      [{w:\"sawtooth\",v:.5,a:.05,d:11}],             [{w:\"sawtooth\",v:.5,d:11}],\r\n      [{w:\"triangle\",v:.5,d:11}],                   [{w:\"triangle\",v:.5,d:11}],\r\n/* 97-104 : FX */\r\n      [{w:\"triangle\",v:.5,d:11}],                   [{w:\"triangle\",v:.5,d:11}],\r\n      [{w:\"square\",v:.3,d:11}],                     [{w:\"sawtooth\",v:0.5,a:0.04,d:11}],\r\n      [{w:\"sawtooth\",v:.5,d:11}],                   [{w:\"triangle\",v:.5,a:.8,d:11}],\r\n      [{w:\"triangle\",v:.5,d:11}],                   [{w:\"square\",v:.3,d:11}],\r\n/* 105-112 : Ethnic */\r\n      [{w:\"sawtooth\",v:.3,d:1,r:1}],                [{w:\"sawtooth\",v:.5,d:.3}],\r\n      [{w:\"sawtooth\",v:.5,d:.3,r:.3}],              [{w:\"sawtooth\",v:.5,d:.3,r:.3}],\r\n      [{w:\"square\",v:.3,d:.2,r:.2}],                [{w:\"square\",v:.3,a:.02,d:2}],\r\n      [{w:\"sawtooth\",v:.2,a:.02,d:.7}],             [{w:\"triangle\",v:.5,d:1}],\r\n/* 113-120 : Percussive */\r\n      [{w:\"sawtooth\",v:.3,d:.3,r:.3}],              [{w:\"sine\",v:.8,d:.1,r:.1}],\r\n      [{w:\"square\",v:.2,d:.1,r:.1,p:1.05}],         [{w:\"sine\",v:.8,d:.05,r:.05}],\r\n      [{w:\"triangle\",v:0.5,d:0.1,r:0.1,p:0.96}],    [{w:\"triangle\",v:0.5,d:0.1,r:0.1,p:0.97}],\r\n      [{w:\"square\",v:.3,d:.1,r:.1,}],               [{w:\"n1\",v:0.3,a:1,s:1,d:0.15,r:0,t:0.5,}],\r\n/* 121-128 : SE */\r\n      [{w:\"triangle\",v:0.5,d:0.03,t:0,f:1332,r:0.001,p:1.1}],\r\n      [{w:\"n0\",v:0.2,t:0.1,d:0.02,a:0.05,h:0.02,r:0.02}],\r\n      [{w:\"n0\",v:0.4,a:1,d:1,t:0.25,}],\r\n      [{w:\"sine\",v:0.3,a:0.8,d:1,t:0,f:1832}],\r\n      [{w:\"triangle\",d:0.5,t:0,f:444,s:1,}],\r\n      [{w:\"n0\",v:0.4,d:1,t:0,f:22,s:1,}],\r\n      [{w:\"n0\",v:0.5,a:0.2,d:11,t:0,f:44}],\r\n      [{w:\"n0\",v:0.5,t:0.25,d:0.4,r:0.4}],\r\n    ],\r\n    drummap1:[\r\n/*35*/  [{w:\"triangle\",t:0,f:70,v:1,d:0.05,h:0.03,p:0.9,q:0.1,},{w:\"n0\",g:1,t:6,v:17,r:0.01,h:0,p:0,}],\r\n        [{w:\"triangle\",t:0,f:88,v:1,d:0.05,h:0.03,p:0.5,q:0.1,},{w:\"n0\",g:1,t:5,v:42,r:0.01,h:0,p:0,}],\r\n        [{w:\"n0\",f:222,p:0,t:0,r:0.01,h:0,}],\r\n        [{w:\"triangle\",v:0.3,f:180,d:0.05,t:0,h:0.03,p:0.9,q:0.1,},{w:\"n0\",v:0.6,t:0,f:70,h:0.02,r:0.01,p:0,},{g:1,w:\"square\",v:2,t:0,f:360,r:0.01,b:0,c:0,}],\r\n        [{w:\"square\",f:1150,v:0.34,t:0,r:0.03,h:0.025,d:0.03,},{g:1,w:\"n0\",t:0,f:13,h:0.025,d:0.1,s:1,r:0.1,v:1,}],\r\n/*40*/  [{w:\"triangle\",f:200,v:1,d:0.06,t:0,r:0.06,},{w:\"n0\",g:1,t:0,f:400,v:12,r:0.02,d:0.02,}],\r\n        [{w:\"triangle\",f:100,v:0.9,d:0.12,h:0.02,p:0.5,t:0,r:0.12,},{g:1,w:\"n0\",v:5,t:0.4,h:0.015,d:0.005,r:0.005,}],\r\n        [{w:\"n1\",f:390,v:0.25,r:0.01,t:0,}],\r\n        [{w:\"triangle\",f:120,v:0.9,d:0.12,h:0.02,p:0.5,t:0,r:0.12,},{g:1,w:\"n0\",v:5,t:0.5,h:0.015,d:0.005,r:0.005,}],\r\n        [{w:\"n1\",v:0.25,f:390,r:0.03,t:0,h:0.005,d:0.03,}],\r\n/*45*/  [{w:\"triangle\",f:140,v:0.9,d:0.12,h:0.02,p:0.5,t:0,r:0.12,},{g:1,w:\"n0\",v:5,t:0.3,h:0.015,d:0.005,r:0.005,}],\r\n        [{w:\"n1\",v:0.25,f:390,t:0,d:0.2,r:0.2,},{w:\"n0\",v:0.3,t:0,c:0,f:440,h:0.005,d:0.05,}],\r\n        [{w:\"triangle\",f:155,v:0.9,d:0.12,h:0.02,p:0.5,t:0,r:0.12,},{g:1,w:\"n0\",v:5,t:0.3,h:0.015,d:0.005,r:0.005,}],\r\n        [{w:\"triangle\",f:180,v:0.9,d:0.12,h:0.02,p:0.5,t:0,r:0.12,},{g:1,w:\"n0\",v:5,t:0.3,h:0.015,d:0.005,r:0.005,}],\r\n        [{w:\"n1\",v:0.3,f:1200,d:0.2,r:0.2,h:0.05,t:0,},{w:\"n1\",t:0,v:1,d:0.1,r:0.1,p:1.2,f:440,}],\r\n/*50*/  [{w:\"triangle\",f:220,v:0.9,d:0.12,h:0.02,p:0.5,t:0,r:0.12,},{g:1,w:\"n0\",v:5,t:0.3,h:0.015,d:0.005,r:0.005,}],\r\n        [{w:\"n1\",f:500,v:0.15,d:0.4,r:0.4,h:0,t:0,},{w:\"n0\",v:0.1,t:0,r:0.01,f:440,}],\r\n        [{w:\"n1\",v:0.3,f:800,d:0.2,r:0.2,h:0.05,t:0,},{w:\"square\",t:0,v:1,d:0.1,r:0.1,p:0.1,f:220,g:1,}],\r\n        [{w:\"sine\",f:1651,v:0.15,d:0.2,r:0.2,h:0,t:0,},{w:\"sawtooth\",g:1,t:1.21,v:7.2,d:0.1,r:11,h:1,},{g:1,w:\"n0\",v:3.1,t:0.152,d:0.002,r:0.002,}],\r\n        null,\r\n/*55*/  [{w:\"n1\",v:.3,f:1200,d:0.2,r:0.2,h:0.05,t:0,},{w:\"n1\",t:0,v:1,d:0.1,r:0.1,p:1.2,f:440,}],\r\n        null,\r\n        [{w:\"n1\",v:0.3,f:555,d:0.25,r:0.25,h:0.05,t:0,},{w:\"n1\",t:0,v:1,d:0.1,r:0.1,f:440,a:0.005,h:0.02,}],\r\n        [{w:\"sawtooth\",f:776,v:0.2,d:0.3,t:0,r:0.3,},{g:1,w:\"n0\",v:2,t:0,f:776,a:0.005,h:0.02,d:0.1,s:1,r:0.1,c:0,},{g:11,w:\"sine\",v:0.1,t:0,f:22,d:0.3,r:0.3,b:0,c:0,}],\r\n        [{w:\"n1\",f:440,v:0.15,d:0.4,r:0.4,h:0,t:0,},{w:\"n0\",v:0.4,t:0,r:0.01,f:440,}],\r\n/*60*/  null,null,null,null,null,\r\n/*65*/  null,null,null,null,null,\r\n/*70*/  null,null,null,null,null,\r\n/*75*/  null,null,null,null,null,\r\n/*80*/  [{w:\"sine\",f:1720,v:0.3,d:0.02,t:0,r:0.02,},{w:\"square\",g:1,t:0,f:2876,v:6,d:0.2,s:1,r:0.2,}],\r\n        [{w:\"sine\",f:1720,v:0.3,d:0.25,t:0,r:0.25,},{w:\"square\",g:1,t:0,f:2876,v:6,d:0.2,s:1,r:0.2,}],\r\n    ],\r\n    drummap0:[\r\n/*35*/[{w:\"triangle\",t:0,f:110,v:1,d:0.05,h:0.02,p:0.1,}],\r\n      [{w:\"triangle\",t:0,f:150,v:0.8,d:0.1,p:0.1,h:0.02,r:0.01,}],\r\n      [{w:\"n0\",f:392,v:0.5,d:0.01,p:0,t:0,r:0.05}],\r\n      [{w:\"n0\",f:33,d:0.05,t:0,}],\r\n      [{w:\"n0\",f:100,v:0.7,d:0.03,t:0,r:0.03,h:0.02,}],\r\n/*40*/[{w:\"n0\",f:44,v:0.7,d:0.02,p:0.1,t:0,h:0.02,}],\r\n      [{w:\"triangle\",f:240,v:0.9,d:0.1,h:0.02,p:0.1,t:0,}],\r\n      [{w:\"n0\",f:440,v:0.2,r:0.01,t:0,}],\r\n      [{w:\"triangle\",f:270,v:0.9,d:0.1,h:0.02,p:0.1,t:0,}],\r\n      [{w:\"n0\",f:440,v:0.2,d:0.04,r:0.04,t:0,}],\r\n/*45*/[{w:\"triangle\",f:300,v:0.9,d:0.1,h:0.02,p:0.1,t:0,}],\r\n      [{w:\"n0\",f:440,v:0.2,d:0.1,r:0.1,h:0.02,t:0,}],\r\n      [{w:\"triangle\",f:320,v:0.9,d:0.1,h:0.02,p:0.1,t:0,}],\r\n      [{w:\"triangle\",f:360,v:0.9,d:0.1,h:0.02,p:0.1,t:0,}],\r\n      [{w:\"n0\",f:150,v:0.2,d:0.1,r:0.1,h:0.05,t:0,p:0.1,}],\r\n/*50*/[{w:\"triangle\",f:400,v:0.9,d:0.1,h:0.02,p:0.1,t:0,}],\r\n      [{w:\"n0\",f:150,v:0.2,d:0.1,r:0.01,h:0.05,t:0,p:0.1}],\r\n      [{w:\"n0\",f:150,v:0.2,d:0.1,r:0.01,h:0.05,t:0,p:0.1}],\r\n      [{w:\"n0\",f:440,v:0.3,d:0.1,p:0.9,t:0,r:0.1,}],\r\n      [{w:\"n0\",f:200,v:0.2,d:0.05,p:0.9,t:0,}],\r\n/*55*/[{w:\"n0\",f:440,v:0.3,d:0.12,p:0.9,t:0,}],\r\n      [{w:\"sine\",f:800,v:0.4,d:0.06,t:0,}],\r\n      [{w:\"n0\",f:150,v:0.2,d:0.1,r:0.01,h:0.05,t:0,p:0.1}],\r\n      [{w:\"n0\",f:33,v:0.3,d:0.2,p:0.9,t:0,}],\r\n      [{w:\"n0\",f:300,v:0.3,d:0.14,p:0.9,t:0,}],\r\n/*60*/[{w:\"sine\",f:200,d:0.06,t:0,}],\r\n      [{w:\"sine\",f:150,d:0.06,t:0,}],\r\n      [{w:\"sine\",f:300,t:0,}],\r\n      [{w:\"sine\",f:300,d:0.06,t:0,}],\r\n      [{w:\"sine\",f:250,d:0.06,t:0,}],\r\n/*65*/[{w:\"square\",f:300,v:.3,d:.06,p:.8,t:0,}],\r\n      [{w:\"square\",f:260,v:.3,d:.06,p:.8,t:0,}],\r\n      [{w:\"sine\",f:850,v:.5,d:.07,t:0,}],\r\n      [{w:\"sine\",f:790,v:.5,d:.07,t:0,}],\r\n      [{w:\"n0\",f:440,v:0.3,a:0.05,t:0,}],\r\n/*70*/[{w:\"n0\",f:440,v:0.3,a:0.05,t:0,}],\r\n      [{w:\"triangle\",f:1800,v:0.4,p:0.9,t:0,h:0.03,}],\r\n      [{w:\"triangle\",f:1800,v:0.3,p:0.9,t:0,h:0.13,}],\r\n      [{w:\"n0\",f:330,v:0.3,a:0.02,t:0,r:0.01,}],\r\n      [{w:\"n0\",f:330,v:0.3,a:0.02,t:0,h:0.04,r:0.01,}],\r\n/*75*/[{w:\"n0\",f:440,v:0.3,t:0,}],\r\n      [{w:\"sine\",f:800,t:0,}],\r\n      [{w:\"sine\",f:700,t:0,}],\r\n      [{w:\"n0\",f:330,v:0.3,t:0,}],\r\n      [{w:\"n0\",f:330,v:0.3,t:0,h:0.1,r:0.01,p:0.7,}],\r\n/*80*/[{w:\"sine\",t:0,f:1200,v:0.3,r:0.01,}],\r\n      [{w:\"sine\",t:0,f:1200,v:0.3,d:0.2,r:0.2,}],\r\n\r\n    ],\r\n    /**/\r\n    ready:function(){\r\n      var i;\r\n      this.pg=[]; this.vol=[]; this.ex=[]; this.bend=[]; this.rpnidx=[]; this.brange=[];\r\n      this.sustain=[]; this.notetab=[]; this.rhythm=[];\r\n      this.masterTuningC=0; this.masterTuningF=0; this.tuningC=[]; this.tuningF=[]; this.scaleTuning=[];\r\n      this.maxTick=0, this.playTick=0, this.playing=0; this.releaseRatio=3.5;\r\n      for(var i=0;i<16;++i){\r\n        this.pg[i]=0; this.vol[i]=3*100*100/(127*127);\r\n        this.bend[i]=0; this.brange[i]=0x100;\r\n        this.tuningC[i]=0; this.tuningF[i]=0;\r\n        this.scaleTuning[i]=[0,0,0,0,0,0,0,0,0,0,0,0];\r\n        this.rhythm[i]=0;\r\n      }\r\n      this.rhythm[9]=1;\r\n      /**/\r\n      this.preroll=0.2;\r\n      this.relcnt=0;\r\n      /* istanbul ignore next */\r\n      setInterval(\r\n        function(){\r\n          if(++this.relcnt>=3){\r\n            this.relcnt=0;\r\n            for(var i=this.notetab.length-1;i>=0;--i){\r\n              var nt=this.notetab[i];\r\n              if(this.actx.currentTime>nt.e){\r\n                this._pruneNote(nt);\r\n                this.notetab.splice(i,1);\r\n              }\r\n            }\r\n            /**/\r\n          }\r\n          if(this.playing && this.song.ev.length>0){\r\n            var e=this.song.ev[this.playIndex];\r\n            while(this.actx.currentTime+this.preroll>this.playTime){\r\n              if(e.m[0]==0xff51){\r\n                this.song.tempo=e.m[1];\r\n                this.tick2Time=4*60/this.song.tempo/this.song.timebase;\r\n              }\r\n              else\r\n                this.send(e.m,this.playTime);\r\n              ++this.playIndex;\r\n              if(this.playIndex>=this.song.ev.length){\r\n                if(this.loop){\r\n                  e=this.song.ev[this.playIndex=0];\r\n                  this.playTick=e.t;\r\n                }\r\n                else{\r\n                  this.playTick=this.maxTick;\r\n                  this.playing=0;\r\n                  break;\r\n                }\r\n              }\r\n              else{\r\n                e=this.song.ev[this.playIndex];\r\n                this.playTime+=(e.t-this.playTick)*this.tick2Time;\r\n                this.playTick=e.t;\r\n              }\r\n            }\r\n          }\r\n        }.bind(this),60\r\n      );\r\n      //if(this.internalcontext){\r\n      //  window.AudioContext = window.AudioContext || window.webkitAudioContext;\r\n      //  this.setAudioContext(new AudioContext());\r\n      //}\r\n      this.isReady=1;\r\n    },\r\n    setMasterVol:function(v){\r\n      if(v!=undefined)\r\n        this.masterVol=v;\r\n      if(this.out)\r\n        this.out.gain.value=this.masterVol;\r\n    },\r\n    setReverbLev:function(v){\r\n      if(v!=undefined)\r\n        this.reverbLev=v;\r\n      var r=parseFloat(this.reverbLev);\r\n      if(this.rev&&!isNaN(r))\r\n        this.rev.gain.value=r*8;\r\n    },\r\n    setLoop:function(f){\r\n      this.loop=f;\r\n    },\r\n    setVoices:function(v){\r\n      this.voices=v;\r\n    },\r\n    reset:function(){\r\n      for(var i=0;i<16;++i){\r\n        this.setProgram(i,0);\r\n        this.setBendRange(i,0x100);\r\n        this.setModulation(i,0);\r\n        this.setChVol(i,100);\r\n        this.setPan(i,64);\r\n        this.resetAllControllers(i);\r\n        this.allSoundOff(i);\r\n        this.rhythm[i]=0;\r\n        this.tuningC[i]=0;\r\n        this.tuningF[i]=0;\r\n        this.scaleTuning[i]=[0,0,0,0,0,0,0,0,0,0,0,0];\r\n      }\r\n      this.masterTuningC=0;\r\n      this.masterTuningF=0;\r\n      this.rhythm[9]=1;\r\n    },\r\n    setQuality:function(q){\r\n      var i,k,n,p;\r\n      if(q!=undefined)\r\n        this.quality=q;\r\n      for(i=0;i<128;++i)\r\n        this.setTimbre(0,i,this.program0[i]);\r\n      for(i=0;i<this.drummap0.length;++i)\r\n        this.setTimbre(1,i+35,this.drummap0[i]);\r\n      if(this.quality){\r\n        for(i=0;i<this.program1.length;++i)\r\n          this.setTimbre(0,i,this.program1[i]);\r\n        for(i=0;i<this.drummap.length;++i){\r\n          if(this.drummap1[i])\r\n            this.setTimbre(1,i+35,this.drummap1[i]);\r\n        }\r\n      }\r\n    },\r\n    setTimbre:function(m,n,p){\r\n      var defp={g:0,w:\"sine\",t:1,f:0,v:0.5,a:0,h:0.01,d:0.01,s:0,r:0.05,p:1,q:1,k:0};\r\n      function filldef(p){\r\n        for(n=0;n<p.length;++n){\r\n          for(k in defp){\r\n            if(!p[n].hasOwnProperty(k) || typeof(p[n][k])==\"undefined\")\r\n              p[n][k]=defp[k];\r\n          }\r\n        }\r\n        return p;\r\n      }\r\n      if(m && n>=35 && n<=81)\r\n        this.drummap[n-35] = filldef(p);\r\n      if(m==0 && n>=0 && n<=127)\r\n        this.program[n] = filldef(p);\r\n    },\r\n    _pruneNote:function(nt){\r\n      for(var k=nt.o.length-1;k>=0;--k){\r\n        if(nt.o[k].frequency){\r\n          nt.o[k].frequency.cancelScheduledValues(0);\r\n        }\r\n        else{\r\n          nt.o[k].playbackRate.cancelScheduledValues(0);\r\n        }\r\n        nt.g[k].gain.cancelScheduledValues(0);\r\n\r\n        nt.o[k].stop();\r\n        if(nt.o[k].detune) {\r\n          try {\r\n            this.chmod[nt.ch].disconnect(nt.o[k].detune);\r\n          } catch (c) {}\r\n        }\r\n        nt.g[k].gain.value = 0;\r\n      }\r\n    },\r\n    _limitVoices:function(ch,n){\r\n      this.notetab.sort(function(n1,n2){\r\n        if(n1.f!=n2.f) return n1.f-n2.f;\r\n        if(n1.e!=n2.e) return n2.e-n1.e;\r\n        return n2.t-n1.t;\r\n      });\r\n      for(var i=this.notetab.length-1;i>=0;--i){\r\n        var nt=this.notetab[i];\r\n        if(this.actx.currentTime>nt.e || i>=(this.voices-1)){\r\n          this._pruneNote(nt);\r\n          this.notetab.splice(i,1);\r\n        }\r\n      }\r\n    },\r\n    _note:function(t,ch,n,v,p){\r\n      var out,sc,pn;\r\n      var o=[],g=[],vp=[],fp=[],r=[];\r\n      var f=440*Math.pow(2,(n-69 + this.masterTuningC + this.tuningC[ch] + (this.masterTuningF + this.tuningF[ch]/8192 + this.scaleTuning[ch][n%12]))/12);\r\n      this._limitVoices(ch,n);\r\n      for(var i=0;i<p.length;++i){\r\n        pn=p[i];\r\n        var dt=t+pn.a+pn.h;\r\n        if(pn.g==0)\r\n          out=this.chvol[ch], sc=v*v/16384, fp[i]=f*pn.t+pn.f;\r\n        else if(pn.g>10)\r\n          out=g[pn.g-11].gain, sc=1, fp[i]=fp[pn.g-11]*pn.t+pn.f;\r\n        else if(o[pn.g-1].frequency)\r\n          out=o[pn.g-1].frequency, sc=fp[pn.g-1], fp[i]=fp[pn.g-1]*pn.t+pn.f;\r\n        else\r\n          out=o[pn.g-1].playbackRate, sc=fp[pn.g-1]/440, fp[i]=fp[pn.g-1]*pn.t+pn.f;\r\n        switch(pn.w[0]){\r\n        case \"n\":\r\n          o[i]=this.actx.createBufferSource();\r\n          o[i].buffer=this.noiseBuf[pn.w];\r\n          o[i].loop=true;\r\n          o[i].playbackRate.value=fp[i]/440;\r\n          if(pn.p!=1)\r\n            this._setParamTarget(o[i].playbackRate,fp[i]/440*pn.p,t,pn.q);\r\n          if (o[i].detune) {\r\n            this.chmod[ch].connect(o[i].detune);\r\n            o[i].detune.value=this.bend[ch];\r\n          }\r\n          break;\r\n        default:\r\n          o[i]=this.actx.createOscillator();\r\n          o[i].frequency.value=fp[i];\r\n          if(pn.p!=1)\r\n            this._setParamTarget(o[i].frequency,fp[i]*pn.p,t,pn.q);\r\n          if(pn.w[0]==\"w\")\r\n            o[i].setPeriodicWave(this.wave[pn.w]);\r\n          else\r\n            o[i].type=pn.w;\r\n          if (o[i].detune) {\r\n            this.chmod[ch].connect(o[i].detune);\r\n            o[i].detune.value=this.bend[ch];\r\n          }\r\n          break;\r\n        }\r\n        g[i]=this.actx.createGain();\r\n        r[i]=pn.r;\r\n        o[i].connect(g[i]); g[i].connect(out);\r\n        vp[i]=sc*pn.v;\r\n        if(pn.k)\r\n          vp[i]*=Math.pow(2,(n-60)/12*pn.k);\r\n        if(pn.a){\r\n          g[i].gain.value=0;\r\n          g[i].gain.setValueAtTime(0,t);\r\n          g[i].gain.linearRampToValueAtTime(vp[i],t+pn.a);\r\n        }\r\n        else\r\n          g[i].gain.setValueAtTime(vp[i],t);\r\n        this._setParamTarget(g[i].gain,pn.s*vp[i],dt,pn.d);\r\n        o[i].start(t);\r\n        if(this.rhythm[ch]){\r\n          // difference between '()=>' and 'function()': need to pack parameters\r\n          o[i].onended = function(a, b) { return function() { if (b) a.disconnect(b); }; }(this.chmod[ch], o[i].detune);\r\n          o[i].stop(t+p[0].d*this.releaseRatio);\r\n        }\r\n      }\r\n      if(!this.rhythm[ch])\r\n        this.notetab.push({t:t,e:99999,ch:ch,n:n,o:o,g:g,t2:t+pn.a,v:vp,r:r,f:0});\r\n    },\r\n    _setParamTarget:function(p,v,t,d){\r\n      if(d!=0)\r\n        p.setTargetAtTime(v,t,d);\r\n      else\r\n        p.setValueAtTime(v,t);\r\n    },\r\n    _releaseNote:function(nt,t){\r\n      if(nt.ch!=9){\r\n        for(var k=nt.g.length-1;k>=0;--k){\r\n          nt.g[k].gain.cancelScheduledValues(t);\r\n          if(t==nt.t2)\r\n            nt.g[k].gain.setValueAtTime(nt.v[k],t);\r\n          else if(t<nt.t2)\r\n            nt.g[k].gain.setValueAtTime(nt.v[k]*(t-nt.t)/(nt.t2-nt.t),t);\r\n          this._setParamTarget(nt.g[k].gain,0,t,nt.r[k]);\r\n        }\r\n      }\r\n      nt.e=t+nt.r[0]*this.releaseRatio;\r\n      nt.f=1;\r\n    },\r\n    setModulation:function(ch,v,t){\r\n      this.chmod[ch].gain.setValueAtTime(v*100/127,this._tsConv(t));\r\n    },\r\n    setChVol:function(ch,v,t){\r\n      this.vol[ch]=3*v*v/(127*127);\r\n      this.chvol[ch].gain.setValueAtTime(this.vol[ch]*this.ex[ch],this._tsConv(t));\r\n    },\r\n    setPan:function(ch,v,t){\r\n      if(this.chpan[ch])\r\n        this.chpan[ch].pan.setValueAtTime((v-64)/64,this._tsConv(t));\r\n    },\r\n    setExpression:function(ch,v,t){\r\n      this.ex[ch]=v*v/(127*127);\r\n      this.chvol[ch].gain.setValueAtTime(this.vol[ch]*this.ex[ch],this._tsConv(t));\r\n    },\r\n    setSustain:function(ch,v,t){\r\n      this.sustain[ch]=v;\r\n      t=this._tsConv(t);\r\n      if(v<64){\r\n        for(var i=this.notetab.length-1;i>=0;--i){\r\n          var nt=this.notetab[i];\r\n          if(t>=nt.t && nt.ch==ch && nt.f==1)\r\n            this._releaseNote(nt,t);\r\n        }\r\n      }\r\n    },\r\n    allSoundOff:function(ch){\r\n      for(var i=this.notetab.length-1;i>=0;--i){\r\n        var nt=this.notetab[i];\r\n        if(nt.ch==ch){\r\n          this._pruneNote(nt);\r\n          this.notetab.splice(i,1);\r\n        }\r\n      }\r\n    },\r\n    resetAllControllers:function(ch){\r\n      this.bend[ch]=0; this.ex[ch]=1.0;\r\n      this.rpnidx[ch]=0x3fff; this.sustain[ch]=0;\r\n      if(this.chvol[ch]){\r\n        this.chvol[ch].gain.value=this.vol[ch]*this.ex[ch];\r\n        this.chmod[ch].gain.value=0;\r\n      }\r\n    },\r\n    setBendRange:function(ch,v){\r\n      this.brange[ch]=v;\r\n    },\r\n    setProgram:function(ch,v){\r\n      if(this.debug)\r\n        console.log(\"Pg(\"+ch+\")=\"+v);\r\n      this.pg[ch]=v;\r\n    },\r\n    setBend:function(ch,v,t){\r\n      t=this._tsConv(t);\r\n      var br=this.brange[ch]*100/127;\r\n      this.bend[ch]=(v-8192)*br/8192;\r\n      for(var i=this.notetab.length-1;i>=0;--i){\r\n        var nt=this.notetab[i];\r\n        if(nt.ch==ch){\r\n          for(var k=nt.o.length-1;k>=0;--k){\r\n            if(nt.o[k].frequency)\r\n              if (nt.o[k].detune) nt.o[k].detune.setValueAtTime(this.bend[ch],t);\r\n          }\r\n        }\r\n      }\r\n    },\r\n    noteOn:function(ch,n,v,t){\r\n      if(v==0){\r\n        this.noteOff(ch,n,t);\r\n        return;\r\n      }\r\n      t=this._tsConv(t);\r\n      if(this.rhythm[ch]){\r\n        if(n>=35&&n<=81)\r\n          this._note(t,ch,n,v,this.drummap[n-35]);\r\n        return;\r\n      }\r\n      this._note(t,ch,n,v,this.program[this.pg[ch]]);\r\n    },\r\n    noteOff:function(ch,n,t){\r\n      if(this.rhythm[ch])\r\n        return;\r\n      t=this._tsConv(t);\r\n      for(var i=this.notetab.length-1;i>=0;--i){\r\n        var nt=this.notetab[i];\r\n        if(t>=nt.t && nt.ch==ch && nt.n==n && nt.f==0){\r\n          nt.f=1;\r\n          if(this.sustain[ch]<64)\r\n            this._releaseNote(nt,t);\r\n        }\r\n      }\r\n    },\r\n    _tsConv:function(t){\r\n      if(t==undefined||t<=0){\r\n        t=0;\r\n        if(this.actx)\r\n          t=this.actx.currentTime;\r\n      }\r\n      else{\r\n        if(this.tsmode)\r\n          t=t*.001-this.tsdiff;\r\n      }\r\n      return t;\r\n    },\r\n    setTsMode:function(tsmode){\r\n      this.tsmode=tsmode;\r\n    },\r\n    send:function(msg,t){    /* send midi message */\r\n      var ch=msg[0]&0xf;\r\n      var cmd=msg[0]&~0xf;\r\n      if(cmd<0x80||cmd>=0x100)\r\n        return;\r\n      if(this.audioContext.state==\"suspended\"){\r\n        this.audioContext.resume();\r\n      }\r\n      switch(cmd){\r\n      case 0xb0:  /* ctl change */\r\n        switch(msg[1]){\r\n        case 1:  this.setModulation(ch,msg[2],t); break;\r\n        case 7:  this.setChVol(ch,msg[2],t); break;\r\n        case 10: this.setPan(ch,msg[2],t); break;\r\n        case 11: this.setExpression(ch,msg[2],t); break;\r\n        case 64: this.setSustain(ch,msg[2],t); break;\r\n        case 98:  case 99: this.rpnidx[ch]=0x3fff; break; /* nrpn lsb/msb */\r\n        case 100: this.rpnidx[ch]=(this.rpnidx[ch]&0x3f80)|msg[2]; break; /* rpn lsb */\r\n        case 101: this.rpnidx[ch]=(this.rpnidx[ch]&0x7f)|(msg[2]<<7); break; /* rpn msb */\r\n        case 6:  /* data entry msb */\r\n          switch (this.rpnidx[ch]) {\r\n            case 0:\r\n              this.brange[ch]=(msg[2]<<7)+(this.brange[ch]&0x7f);\r\n              break;\r\n            case 1:\r\n              this.tuningF[ch]=(msg[2]<<7)+((this.tuningF[ch]+0x2000)&0x7f)-0x2000;\r\n              break;\r\n            case 2:\r\n              this.tuningC[ch]=msg[2]-0x40;\r\n              break;\r\n          }\r\n          break;\r\n        case 38:  /* data entry lsb */\r\n          switch (this.rpnidx[ch]) {\r\n            case 0:\r\n              this.brange[ch]=(this.brange[ch]&0x3f80)|msg[2];\r\n              break;\r\n            case 1:\r\n              this.tuningF[ch]=(((this.tuningF[ch]+0x2000)&0x3f80)|msg[2])-0x2000;\r\n              break;\r\n            case 2: break;\r\n          }\r\n          break;\r\n        case 120:  /* all sound off */\r\n        case 123:  /* all notes off */\r\n        case 124: case 125: case 126: case 127: /* omni off/on mono/poly */\r\n          this.allSoundOff(ch);\r\n          break;\r\n        case 121: this.resetAllControllers(ch); break;\r\n        }\r\n        break;\r\n      case 0xc0: this.setProgram(ch,msg[1]); break;\r\n      case 0xe0: this.setBend(ch,(msg[1]+(msg[2]<<7)),t); break;\r\n      case 0x90: this.noteOn(ch,msg[1],msg[2],t); break;\r\n      case 0x80: this.noteOff(ch,msg[1],t); break;\r\n      case 0xf0:\r\n        if (msg[0] == 0xff) {\r\n          this.reset();\r\n          break;\r\n        }\r\n        if(msg[0]!=254 && this.debug){\r\n          var ds=[];\r\n          for(var ii=0;ii<msg.length;++ii)\r\n            ds.push(msg[ii].toString(16));\r\n        }\r\n        if (msg[0]==0xf0) {\r\n          if (msg[1]==0x7f && msg[3]==4) {\r\n            if (msg[4]==3 && msg.length >= 8) { // Master Fine Tuning\r\n              this.masterTuningF = (msg[6]*0x80 + msg[5] - 8192) / 8192;\r\n            }\r\n            if (msg[4]==4 && msg.length >= 8) { // Master Coarse Tuning\r\n              this.masterTuningC = msg[6]-0x40;\r\n            }\r\n          }\r\n          if (msg[1]==0x41 && msg[3]==0x42 && msg[4]==0x12 &&msg[5]==0x40) { // GS\r\n            if ((msg[6]&0xf0)==0x10 && msg.length==11) {\r\n              var c=[9,0,1,2,3,4,5,6,7,8,10,11,12,13,14,15][msg[6]&0xf];\r\n              if (msg[7]==0x15) {\r\n                this.rhythm[c]=msg[8];\r\n              }\r\n              else if (msg[7] >= 0x40 && msg[7] <= 0x4b) { // Scale Tuning\r\n                this.scaleTuning[c][msg[7]-0x40] = (msg[8]-0x40) / 100;\r\n              }\r\n            }\r\n            else if (msg[6]==0) {\r\n              if (msg[7]==0 && msg.length==14) { // Master Tuning\r\n                this.masterTuningF = (msg[8]*0x1000 + msg[9]*0x100 + msg[10]*0x10 + msg[11] - 0x400) / 1000;\r\n              }\r\n              else if (msg[7]==5 && msg.length==11) { // Master Transpose\r\n                this.masterTuningC = msg[8]-0x40;\r\n              }\r\n            }\r\n          }\r\n        }\r\n        break;\r\n      }\r\n    },\r\n    _createWave:function(w){\r\n      var imag=new Float32Array(w.length);\r\n      var real=new Float32Array(w.length);\r\n      for(var i=1;i<w.length;++i)\r\n        imag[i]=w[i];\r\n      return this.actx.createPeriodicWave(real,imag);\r\n    },\r\n    getAudioContext:function(){\r\n      return this.actx;\r\n    },\r\n    setAudioContext:function(actx,dest){\r\n      this.audioContext=this.actx=actx;\r\n      this.dest=dest;\r\n      if(!dest)\r\n        this.dest=actx.destination;\r\n      this.tsdiff=performance.now()*.001-this.actx.currentTime;\r\n      this.out=this.actx.createGain();\r\n      this.comp=this.actx.createDynamicsCompressor();\r\n      var blen=this.actx.sampleRate*.5|0;\r\n      this.convBuf=this.actx.createBuffer(2,blen,this.actx.sampleRate);\r\n      this.noiseBuf={};\r\n      this.noiseBuf.n0=this.actx.createBuffer(1,blen,this.actx.sampleRate);\r\n      this.noiseBuf.n1=this.actx.createBuffer(1,blen,this.actx.sampleRate);\r\n      var d1=this.convBuf.getChannelData(0);\r\n      var d2=this.convBuf.getChannelData(1);\r\n      var dn=this.noiseBuf.n0.getChannelData(0);\r\n      var dr=this.noiseBuf.n1.getChannelData(0);\r\n      for(var i=0;i<blen;++i){\r\n        if(i/blen<Math.random()){\r\n          d1[i]=Math.exp(-3*i/blen)*(Math.random()-.5)*.5;\r\n          d2[i]=Math.exp(-3*i/blen)*(Math.random()-.5)*.5;\r\n        }\r\n        dn[i]=Math.random()*2-1;\r\n      }\r\n      for(var jj=0;jj<64;++jj){\r\n        var r1=Math.random()*10+1;\r\n        var r2=Math.random()*10+1;\r\n        for(i=0;i<blen;++i){\r\n          var dd=Math.sin((i/blen)*2*Math.PI*440*r1)*Math.sin((i/blen)*2*Math.PI*440*r2);\r\n          dr[i]+=dd/8;\r\n        }\r\n      }\r\n      if(this.useReverb){\r\n        this.conv=this.actx.createConvolver();\r\n        this.conv.buffer=this.convBuf;\r\n        this.rev=this.actx.createGain();\r\n        this.rev.gain.value=this.reverbLev;\r\n        this.out.connect(this.conv);\r\n        this.conv.connect(this.rev);\r\n        this.rev.connect(this.comp);\r\n      }\r\n      this.setMasterVol();\r\n      this.out.connect(this.comp);\r\n      this.comp.connect(this.dest);\r\n      this.chvol=[]; this.chmod=[]; this.chpan=[];\r\n      this.wave={\"w9999\":this._createWave(\"w9999\")};\r\n      this.lfo=this.actx.createOscillator();\r\n      this.lfo.frequency.value=5;\r\n      this.lfo.start(0);\r\n      for(i=0;i<16;++i){\r\n        this.chvol[i]=this.actx.createGain();\r\n        if(this.actx.createStereoPanner){\r\n          this.chpan[i]=this.actx.createStereoPanner();\r\n          this.chvol[i].connect(this.chpan[i]);\r\n          this.chpan[i].connect(this.out);\r\n        }\r\n        else{\r\n          this.chpan[i]=null;\r\n          this.chvol[i].connect(this.out);\r\n        }\r\n        this.chmod[i]=this.actx.createGain();\r\n        this.lfo.connect(this.chmod[i]);\r\n        this.pg[i]=0;\r\n        this.resetAllControllers(i);\r\n      }\r\n      this.setReverbLev();\r\n      this.reset();\r\n    },\r\n  }\r\n/* webaudio-tinysynth coreobject */\r\n\r\n;\r\n  for(var k in this.sy.properties)\r\n    this[k]=this.sy.properties[k].value;\r\n  this.setQuality(1);\r\n  if(opt){\r\n    if(opt.useReverb!=undefined)\r\n      this.useReverb=opt.useReverb;\r\n    if(opt.quality!=undefined)\r\n      this.setQuality(opt.quality);\r\n    if(opt.voices!=undefined)\r\n      this.setVoices(opt.voices);\r\n  }\r\n  this.ready();\r\n}\r\n\r\n  function _clone(obj, key, val) {\r\n    if (typeof key == 'undefined') return _clone(obj, [], []);\r\n    if (obj instanceof Object) {\r\n      for (var i = 0; i < key.length; i++) if (key[i] === obj) return val[i];\r\n      var ret;\r\n      if (obj instanceof Array) ret = []; else ret = {};\r\n      key.push(obj); val.push(ret);\r\n      for(var k in obj) if (obj.hasOwnProperty(k)) ret[k] = _clone(obj[k], key, val);\r\n      return ret;\r\n    }\r\n    return obj;\r\n  }\r\n\r\n  var _ac;\r\n  function initAC() {\r\n    if (!_ac) _ac = JZZ.lib.getAudioContext();\r\n    return !!_ac;\r\n  }\r\n\r\n  var _synth = {};\r\n  var _noname = [];\r\n  var _engine = {};\r\n\r\n  _engine._info = function(name) {\r\n    if (!name) name = 'JZZ.synth.Tiny';\r\n    return {\r\n      type: 'Web Audio',\r\n      name: name,\r\n      manufacturer: 'virtual',\r\n      version: _version\r\n    };\r\n  };\r\n\r\n  _engine._openOut = function(port, name) {\r\n    initAC();\r\n    /* istanbul ignore next */\r\n    if (!_ac) {\r\n      port._crash('AudioContext not supported');\r\n      return;\r\n    }\r\n    var synth;\r\n    if (typeof name !== 'undefined') {\r\n      name = '' + name;\r\n      if (!_synth[name]) _synth[name] = new WebAudioTinySynth();\r\n      synth = _synth[name];\r\n    }\r\n    else {\r\n      synth = new WebAudioTinySynth();\r\n      _noname.push(synth);\r\n    }\r\n    synth.setAudioContext(_ac);\r\n    port.plug = function(dest) {\r\n      if (dest && (dest.context instanceof AudioContext || dest.context instanceof webkitAudioContext)) {\r\n        synth.setAudioContext(dest.context, dest);\r\n      }\r\n    };\r\n    port.setSynth = function(n, s, k) { synth.setTimbre(!!k, n, _clone(s)); };\r\n    port.getSynth = function(n, k) { return k ? _clone(synth.drummap[n - 35]) : _clone(synth.program[n]); };\r\n    port._info = _engine._info(name);\r\n    port._receive = function(msg) { synth.send(msg); };\r\n    port._resume();\r\n  };\r\n\r\n  JZZ.synth.Tiny = function(name) {\r\n    return JZZ.lib.openMidiOut(name, _engine);\r\n  };\r\n\r\n  JZZ.synth.Tiny.register = function(name) {\r\n    return initAC() ? JZZ.lib.registerMidiOut(name, _engine) : false;\r\n  };\r\n\r\n  JZZ.synth.Tiny.version = function() { return _version; };\r\n\r\n});","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","(function(global, factory) {\r\n  /* istanbul ignore next */\r\n  if (typeof exports === 'object' && typeof module !== 'undefined') {\r\n    module.exports = factory;\r\n  }\r\n  else if (typeof define === 'function' && define.amd) {\r\n    define('JZZ.midi.SMF', ['JZZ'], factory);\r\n  }\r\n  else {\r\n    factory(JZZ);\r\n  }\r\n})(this, function(JZZ) {\r\n\r\n  /* istanbul ignore next */\r\n  if (JZZ.MIDI.SMF) return;\r\n\r\n  var _ver = '1.6.9';\r\n\r\n  var _now = JZZ.lib.now;\r\n  function _error(s) { throw new Error(s); }\r\n\r\n  function _num(n) {\r\n    var s = '';\r\n    if (n > 0x1fffff) s += String.fromCharCode(((n >> 21) & 0x7f) + 0x80);\r\n    if (n > 0x3fff) s += String.fromCharCode(((n >> 14) & 0x7f) + 0x80);\r\n    if (n > 0x7f) s += String.fromCharCode(((n >> 7) & 0x7f) + 0x80);\r\n    s += String.fromCharCode(n & 0x7f);\r\n    return s;\r\n  }\r\n  function _num2(n) {\r\n    return String.fromCharCode(n >> 8) + String.fromCharCode(n & 0xff);\r\n  }\r\n  function _num4(n) {\r\n    return String.fromCharCode((n >> 24) & 0xff) + String.fromCharCode((n >> 16) & 0xff) + String.fromCharCode((n >> 8) & 0xff) + String.fromCharCode(n & 0xff);\r\n  }\r\n  function _num4le(n) {\r\n    return String.fromCharCode(n & 0xff) + String.fromCharCode((n >> 8) & 0xff) + String.fromCharCode((n >> 16) & 0xff) + String.fromCharCode((n >> 24) & 0xff);\r\n  }\r\n  function _u8a2s(u) {\r\n    var s = '';\r\n    var len = u.byteLength;\r\n    // String.fromCharCode.apply(null, u) throws \"RangeError: Maximum call stack size exceeded\" on large files\r\n    for (var i = 0; i < len; i++) s += String.fromCharCode(u[i]);\r\n    return s;\r\n  }\r\n\r\n  function SMF() {\r\n    var self = this;\r\n    if (!(self instanceof SMF)) {\r\n      self = new SMF();\r\n      delete self.ppqn;\r\n    }\r\n    var type = 1;\r\n    var ppqn = 96;\r\n    var fps;\r\n    var ppf;\r\n    if (arguments.length == 1) {\r\n      if (arguments[0] instanceof SMF) {\r\n        return arguments[0].copy();\r\n      }\r\n      if (arguments[0] instanceof SYX) {\r\n        self.type = 0;\r\n        self.ppqn = ppqn;\r\n        self.push(new MTrk());\r\n        for (var i = 0; i < arguments[0].length; i++) self[0].add(0, arguments[0][i]);\r\n        return self;\r\n      }\r\n      var data;\r\n      try {\r\n        if (arguments[0] instanceof ArrayBuffer) {\r\n          data = _u8a2s(new Uint8Array(arguments[0]));\r\n        }\r\n      }\r\n      catch (err) {/**/}\r\n      try {\r\n        if (arguments[0] instanceof Uint8Array || arguments[0] instanceof Int8Array) {\r\n          data = _u8a2s(new Uint8Array(arguments[0]));\r\n        }\r\n      }\r\n      catch (err) {/**/}\r\n      try {\r\n        /* istanbul ignore next */\r\n        if (arguments[0] instanceof Buffer) {\r\n          data = arguments[0].toString('binary');\r\n        }\r\n      }\r\n      catch (err) {/**/}\r\n      if (typeof arguments[0] == 'string' && arguments[0] != '0' && arguments[0] != '1' && arguments[0] != '2') {\r\n        data = arguments[0];\r\n      }\r\n      if (data) {\r\n        self.load(data);\r\n        return self;\r\n      }\r\n      type = parseInt(arguments[0]);\r\n    }\r\n    else if (arguments.length == 2) {\r\n      type = parseInt(arguments[0]);\r\n      ppqn = parseInt(arguments[1]);\r\n    }\r\n    else if (arguments.length == 3) {\r\n      type = parseInt(arguments[0]);\r\n      fps = parseInt(arguments[1]);\r\n      ppf = parseInt(arguments[2]);\r\n    }\r\n    else if (arguments.length) _error('Invalid parameters');\r\n    if (isNaN(type) || type < 0 || type > 2) _error('Invalid parameters');\r\n    self.type = type;\r\n    if (typeof fps == 'undefined') {\r\n      if (isNaN(ppqn) || ppqn < 0 || ppqn > 0xffff) _error('Invalid parameters');\r\n      self.ppqn = ppqn;\r\n    }\r\n    else {\r\n      if (fps != 24 && fps != 25 && fps != 29 && fps != 30) _error('Invalid parameters');\r\n      if (isNaN(ppf) || ppf < 0 || ppf > 0xff) _error('Invalid parameters');\r\n      self.fps = fps;\r\n      self.ppf = ppf;\r\n    }\r\n    return self;\r\n  }\r\n  SMF.version = function() { return _ver; };\r\n\r\n  SMF.prototype = [];\r\n  SMF.prototype.constructor = SMF;\r\n  SMF.prototype.copy = function() {\r\n    var smf = new SMF();\r\n    smf.type = this.type;\r\n    smf.ppqn = this.ppqn;\r\n    smf.fps = this.fps;\r\n    smf.ppf = this.ppf;\r\n    smf.rmi = this.rmi;\r\n    smf.ntrk = this.ntrk;\r\n    for (var i = 0; i < this.length; i++) smf.push(this[i].copy());\r\n    return smf;\r\n  };\r\n\r\n  function _issue(off, msg, data, tick, track) {\r\n    var w = { off: off, msg: msg, data: data };\r\n    if (typeof tick != 'undefined') w.tick = tick;\r\n    if (typeof track != 'undefined') w.track = track;\r\n    return w;\r\n  }\r\n  SMF.prototype._complain = function(off, msg, data) {\r\n    if (!this._warn) this._warn = [];\r\n    this._warn.push(_issue(off, msg, data));\r\n  };\r\n  SMF.prototype.load = function(s) {\r\n    var off = 0;\r\n    if (s.substr(0, 4) == 'RIFF' && s.substr(8, 8) == 'RMIDdata') {\r\n      this.rmi = true;\r\n      off = 20;\r\n      s = s.substr(20, s.charCodeAt(16) + s.charCodeAt(17) * 0x100 + s.charCodeAt(18) * 0x10000 + s.charCodeAt(19) * 0x1000000);\r\n    }\r\n    this.loadSMF(s, off);\r\n  };\r\n\r\n  var MThd0006 = 'MThd' + String.fromCharCode(0) + String.fromCharCode(0) + String.fromCharCode(0) + String.fromCharCode(6);\r\n  SMF.prototype.loadSMF = function(s, off) {\r\n    if (!s.length) _error('Empty file');\r\n    if (s.substr(0, 8) != MThd0006) {\r\n      var z = s.indexOf(MThd0006);\r\n      if (z != -1) {\r\n        s = s.substr(z);\r\n        this._complain(off, 'Extra leading characters', z);\r\n        off += z;\r\n      }\r\n      else _error('Not a MIDI file');\r\n    }\r\n    this._off = off;\r\n    this.type = s.charCodeAt(8) * 16 + s.charCodeAt(9);\r\n    this._off_type = off + 8;\r\n    this.ntrk = s.charCodeAt(10) * 16 + s.charCodeAt(11);\r\n    this._off_ntrk = off + 10;\r\n    if (s.charCodeAt(12) > 0x7f) {\r\n      this.fps = 0x100 - s.charCodeAt(12);\r\n      this.ppf = s.charCodeAt(13);\r\n      this._off_fps = off + 12;\r\n      this._off_ppf = off + 13;\r\n    }\r\n    else{\r\n      this.ppqn = s.charCodeAt(12) * 256 + s.charCodeAt(13);\r\n      this._off_ppqn = off + 12;\r\n    }\r\n    if (this.type > 2) this._complain(8 + off, 'Invalid MIDI file type', this.type);\r\n    else if (this.type == 0 && this.ntrk > 1) this._complain(10 + off, 'Wrong number of tracks for the type 0 MIDI file', this.ntrk);\r\n    if (!this.ppf && !this.ppqn) _error('Invalid MIDI header');\r\n    var n = 0;\r\n    var p = 14;\r\n    while (p < s.length - 8) {\r\n      var offset = p + off;\r\n      var type = s.substr(p, 4);\r\n      if (type == 'MTrk') n++;\r\n      var len = (s.charCodeAt(p + 4) << 24) + (s.charCodeAt(p + 5) << 16) + (s.charCodeAt(p + 6) << 8) + s.charCodeAt(p + 7);\r\n      if (len <= 0) { // broken file\r\n        len = s.length - p - 8;\r\n        this._complain(p + off + 4, 'Invalid track length', s.charCodeAt(p + 4) + '/' + s.charCodeAt(p + 5) + '/' + s.charCodeAt(p + 6) + '/' + s.charCodeAt(p + 7));\r\n      }\r\n      p += 8;\r\n      var data = s.substr(p, len);\r\n      this.push(new Chunk(type, data, offset));\r\n      if (type == 'MThd') this._complain(offset, 'Unexpected chunk type', 'MThd');\r\n      p += len;\r\n    }\r\n    if (n != this.ntrk) {\r\n      this._complain(off + 10, 'Incorrect number of tracks', this.ntrk);\r\n      this.ntrk = n;\r\n    }\r\n    if (!this.ntrk)  _error('No MIDI tracks');\r\n    if (!this.type && this.ntrk > 1 || this.type > 2)  this.type = 1;\r\n    if (p < s.length) this._complain(off + p, 'Extra trailing characters', s.length - p);\r\n    if (p > s.length) this._complain(off + s.length, 'Incomplete data', p - s.length);\r\n  };\r\n\r\n  function Warn(obj) {\r\n    if (!(this instanceof Warn)) return new Warn(obj);\r\n    for (var k in obj) if (obj.hasOwnProperty(k)) this[k] = obj[k];\r\n  }\r\n  Warn.prototype.toString = function() {\r\n    var a = [];\r\n    if (typeof this.off != 'undefined') a.push('offset ' + this.off);\r\n    if (typeof this.track != 'undefined') a.push('track ' + this.track);\r\n    if (typeof this.tick != 'undefined') a.push('tick ' + this.tick);\r\n    return a.join(' ') + ' -- ' + this.msg + ' (' + this.data + ')';\r\n  };\r\n\r\n  SMF.prototype.tracks = function() {\r\n    var t = 0;\r\n    for (var i = 0; i < this.length; i++) if (this[i] instanceof MTrk) t++;\r\n    return t;\r\n  };\r\n\r\n  function _reset_state(w, s) {\r\n    var i;\r\n    for (i = 0; i < 16; i++) {\r\n      if (s[i]) {\r\n        if (s[i].rm && s[i].rl && s[i].rm[0][2] == 0x7f && s[i].rl[0][2] == 0x7f) {\r\n          s[i].rm[1] = true;\r\n          s[i].rl[1] = true;\r\n        }\r\n        _check_unused(w, s, i, 'bm');\r\n        _check_unused(w, s, i, 'bl');\r\n        _check_unused(w, s, i, 'nm');\r\n        _check_unused(w, s, i, 'nl');\r\n        _check_unused(w, s, i, 'rm');\r\n        _check_unused(w, s, i, 'rl');\r\n      }\r\n      s[i] = {};\r\n    }\r\n  }\r\n  function _update_state(w, s, msg) {\r\n    if (!msg.length || msg[0] < 0x80) return;\r\n    if (msg.isGmReset() || msg.isGsReset() || msg.isXgReset()) {\r\n      _reset_state(w, s);\r\n      return;\r\n    }\r\n    var st = msg[0] >> 4;\r\n    var ch = msg[0] & 15;\r\n    var m;\r\n    if (st == 0xb) {\r\n      switch (msg[1]) {\r\n        case 0:\r\n          _check_unused(w, s, ch, 'bm');\r\n          s[ch].bm = [msg, false];\r\n          break;\r\n        case 0x20:\r\n          _check_unused(w, s, ch, 'bl');\r\n          s[ch].bl = [msg, false];\r\n          break;\r\n        case 0x62:\r\n          _check_unused(w, s, ch, 'nl');\r\n          _check_unused(w, s, ch, 'rm');\r\n          _check_unused(w, s, ch, 'rl');\r\n          s[ch].nl = [msg, false];\r\n          break;\r\n        case 0x63:\r\n          _check_unused(w, s, ch, 'nm');\r\n          _check_unused(w, s, ch, 'rm');\r\n          _check_unused(w, s, ch, 'rl');\r\n          s[ch].nm = [msg, false];\r\n          break;\r\n        case 0x64:\r\n          _check_unused(w, s, ch, 'rl');\r\n          _check_unused(w, s, ch, 'nm');\r\n          _check_unused(w, s, ch, 'nl');\r\n          s[ch].rl = [msg, false];\r\n          break;\r\n        case 0x65:\r\n          _check_unused(w, s, ch, 'rm');\r\n          _check_unused(w, s, ch, 'nm');\r\n          _check_unused(w, s, ch, 'nl');\r\n          s[ch].rm = [msg, false];\r\n          break;\r\n        case 0x6: case 0x26: case 0x60: case 0x61:\r\n          if (s[ch].rm && s[ch].rl) {\r\n            s[ch].rm[1] = true;\r\n            s[ch].rl[1] = true;\r\n          }\r\n          if (s[ch].rm && !s[ch].rl && !s[ch].rm[1]) {\r\n            m = s[ch].rm[0];\r\n            w.push(_issue(m._off, 'No matching RPN LSB', m.toString(), m.tt, m.track));\r\n            s[ch].rm[1] = true;\r\n          }\r\n          if (!s[ch].rm && s[ch].rl && !s[ch].rl[1]) {\r\n            m = s[ch].rl[0];\r\n            w.push(_issue(m._off, 'No matching RPN MSB', m.toString(), m.tt, m.track));\r\n            s[ch].rl[1] = true;\r\n          }\r\n          if (s[ch].nm && s[ch].nl) {\r\n            s[ch].nm[1] = true;\r\n            s[ch].nl[1] = true;\r\n          }\r\n          if (s[ch].nm && !s[ch].nl && !s[ch].nm[1]) {\r\n            m = s[ch].nm[0];\r\n            w.push(_issue(m._off, 'No matching NRPN LSB', m.toString(), m.tt, m.track));\r\n            s[ch].nm[1] = true;\r\n          }\r\n          if (!s[ch].nm && s[ch].nl && !s[ch].nl[1]) {\r\n            m = s[ch].nl[0];\r\n            w.push(_issue(m._off, 'No matching NRPN MSB', m.toString(), m.tt, m.track));\r\n            s[ch].nl[1] = true;\r\n          }\r\n          if (!s[ch].rm && !s[ch].rl && !s[ch].nm && !s[ch].nl) {\r\n            w.push(_issue(msg._off, 'RPN/NRPN not set', msg.toString(), msg.tt, msg.track));\r\n          }\r\n          if (s[ch].rm && s[ch].rl && s[ch].rm[0][2] == 0x7f && s[ch].rl[0][2] == 0x7f) {\r\n            w.push(_issue(msg._off, 'RPN/NRPN not set', msg.toString(), msg.tt, msg.track));\r\n          }\r\n          break;\r\n      }\r\n      return;\r\n    }\r\n    if (st == 0xc) {\r\n      if (s[ch].bm) s[ch].bm[1] = true;\r\n      if (s[ch].bl) s[ch].bl[1] = true;\r\n      if (s[ch].bl && !s[ch].bm) {\r\n        m = s[ch].bl[0];\r\n        w.push(_issue(m._off, 'No matching Bank Select MSB', m.toString(), m.tt, m.track));\r\n      }\r\n      if (s[ch].bm && !s[ch].bl) {\r\n        m = s[ch].bm[0];\r\n        w.push(_issue(m._off, 'No matching Bank Select LSB', m.toString(), m.tt, m.track));\r\n      }\r\n    }\r\n  }\r\n  function _check_unused(w, s, c, x) {\r\n    if (s[c][x] && !s[c][x][1]) {\r\n      var str;\r\n      switch (x) {\r\n        case 'bm': case 'bl': str = 'Unnecessary Bank Select'; break;\r\n        case 'nm': case 'nl': str = 'Unnecessary NRPN'; break;\r\n        case 'rm': case 'rl': str = 'Unnecessary RPN'; break;\r\n      }\r\n      var m = s[c][x][0];\r\n      w.push(_issue(m._off, str, m.toString(), m.tt, m.track));\r\n      delete s[c][x];\r\n    }\r\n  }\r\n  SMF.prototype.validate = function() {\r\n    var i, k, z;\r\n    var w = [];\r\n    if (this._warn) for (i = 0; i < this._warn.length; i++) w.push(Warn(this._warn[i]));\r\n    var mm = _sort(this);\r\n    k = 0;\r\n    for (i = 0; i < this.length; i++) if (this[i] instanceof MTrk) {\r\n      this[i]._validate(w, k);\r\n      k++;\r\n    }\r\n    var st = {};\r\n    _reset_state(w, st);\r\n    for (i = 0; i < mm.length; i++) {\r\n      z = _validate_midi(mm[i], this.type == 1);\r\n      if (z) {\r\n        z.track = mm[i].track;\r\n        w.push(z);\r\n      }\r\n      _update_state(w, st, mm[i]);\r\n    }\r\n    _reset_state(w, st);\r\n    w.sort(function(a, b) {\r\n      return (a.off || 0) - (b.off || 0) || (a.track || 0) - (b.track || 0) || (a.tick || 0) - (b.tick || 0);\r\n    });\r\n    if (w.length) {\r\n      for (i = 0; i < w.length; i++) w[i] = Warn(w[i]);\r\n      return w;\r\n    }\r\n  };\r\n  SMF.prototype.dump = function(rmi) {\r\n    var s = '';\r\n    if (rmi) {\r\n      s = this.dump();\r\n      return 'RIFF' + _num4le(s.length + 12) + 'RMIDdata' + _num4le(s.length) + s;\r\n    }\r\n    this.ntrk = 0;\r\n    for (var i = 0; i < this.length; i++) {\r\n      if (this[i] instanceof MTrk) this.ntrk++;\r\n      s += this[i].dump();\r\n    }\r\n    s = (this.ppqn ? _num2(this.ppqn) : String.fromCharCode(0x100 - this.fps) + String.fromCharCode(this.ppf)) + s;\r\n    s = MThd0006 + String.fromCharCode(0) + String.fromCharCode(this.type) + _num2(this.ntrk) + s;\r\n    return s;\r\n  };\r\n  SMF.prototype.toBuffer = function(rmi) {\r\n    return Buffer.from(this.dump(rmi), 'binary');\r\n  };\r\n  SMF.prototype.toUint8Array = function(rmi) {\r\n    var str = this.dump(rmi);\r\n    var buf = new ArrayBuffer(str.length);\r\n    var arr = new Uint8Array(buf);\r\n    for (var i = 0; i < str.length; i++) arr[i] = str.charCodeAt(i);\r\n    return arr;\r\n  };\r\n  SMF.prototype.toArrayBuffer = function(rmi) {\r\n    return this.toUint8Array(rmi).buffer;\r\n  };\r\n  SMF.prototype.toInt8Array = function(rmi) {\r\n    return new Int8Array(this.toArrayBuffer(rmi));\r\n  };\r\n  SMF.prototype.toString = function() {\r\n    var i;\r\n    this.ntrk = 0;\r\n    for (i = 0; i < this.length; i++) if (this[i] instanceof MTrk) this.ntrk++;\r\n    var a = ['SMF:', '  type: ' + this.type];\r\n    if (this.ppqn) a.push('  ppqn: ' + this.ppqn);\r\n    else a.push('  fps: ' + this.fps, '  ppf: ' + this.ppf);\r\n    a.push('  tracks: ' + this.ntrk);\r\n    for (i = 0; i < this.length; i++) {\r\n      a.push(this[i].toString());\r\n    }\r\n    return a.join('\\n');\r\n  };\r\n\r\n  function _var2num(s) {\r\n    if (!s.length) return 0; // missing last byte\r\n    if (s.charCodeAt(0) < 0x80) return [1, s.charCodeAt(0)];\r\n    var x = s.charCodeAt(0) & 0x7f;\r\n    x <<= 7;\r\n    if (s.charCodeAt(1) < 0x80) return [2, x + s.charCodeAt(1)];\r\n    x += s.charCodeAt(1) & 0x7f;\r\n    x <<= 7;\r\n    if (s.charCodeAt(2) < 0x80) return [3, x + s.charCodeAt(2)];\r\n    x += s.charCodeAt(2) & 0x7f;\r\n    x <<= 7;\r\n    x += s.charCodeAt(3) & 0x7f;\r\n    return [4, s.charCodeAt(3) < 0x80 ? x : -x];\r\n  }\r\n  function _msglen(n) {\r\n    switch (n & 0xf0) {\r\n      case 0x80: case 0x90: case 0xa0: case 0xb0: case 0xe0: return 2;\r\n      case 0xc0: case 0xD0: return 1;\r\n    }\r\n    switch (n) {\r\n      case 0xf1: case 0xf3: return 1;\r\n      case 0xf2: return 2;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  function _sort(smf) {\r\n    var i, j;\r\n    var tt = [];\r\n    var mm = [];\r\n    for (i = 0; i < smf.length; i++) if (smf[i] instanceof MTrk) tt.push(smf[i]);\r\n    if (smf.type != 1) {\r\n      for (i = 0; i < tt.length; i++) {\r\n        for (j = 0; j < tt[i].length; j++) {\r\n          tt[i][j].track = i;\r\n          mm.push(tt[i][j]);\r\n        }\r\n      }\r\n    }\r\n    else {\r\n      var t = 0;\r\n      var pp = [];\r\n      for (i = 0; i < tt.length; i++) pp[i] = 0;\r\n      while (true) {\r\n        var b = true;\r\n        var m = 0;\r\n        for (i = 0; i < tt.length; i++) {\r\n          while (pp[i] < tt[i].length && tt[i][pp[i]].tt == t) {\r\n            tt[i][pp[i]].track = i;\r\n            mm.push(tt[i][pp[i]]);\r\n            pp[i]++;\r\n          }\r\n          if (pp[i] >= tt[i].length) continue;\r\n          if (b) m = tt[i][pp[i]].tt;\r\n          b = false;\r\n          if (m > tt[i][pp[i]].tt) m = tt[i][pp[i]].tt;\r\n        }\r\n        t = m;\r\n        if (b) break;\r\n      }\r\n    }\r\n    return mm;\r\n  }\r\n\r\n  SMF.prototype.annotate = function() {\r\n    var mm = _sort(this);\r\n    var ctxt = JZZ.Context();\r\n    for (var i = 0; i < mm.length; i++) {\r\n      if (mm[i].lbl) mm[i].lbl = undefined;\r\n      ctxt._read(mm[i]);\r\n    }\r\n    return this;\r\n  };\r\n\r\n  SMF.prototype.player = function() {\r\n    var pl = new Player();\r\n    pl.ppqn = this.ppqn;\r\n    pl.fps = this.fps;\r\n    pl.ppf = this.ppf;\r\n    var i;\r\n    var e;\r\n    var mm = _sort(this);\r\n    if (this.type == 2) {\r\n      var tr = 0;\r\n      var m = 0;\r\n      var t = 0;\r\n      for (i = 0; i < mm.length; i++) {\r\n        e = JZZ.MIDI(mm[i]);\r\n        if (tr != e.track) {\r\n          tr = e.track;\r\n          m = t;\r\n        }\r\n        t = e.tt + m;\r\n        e.tt = t;\r\n        pl._data.push(e);\r\n      }\r\n    }\r\n    else {\r\n      for (i = 0; i < mm.length; i++) {\r\n        e = JZZ.MIDI(mm[i]);\r\n        pl._data.push(e);\r\n      }\r\n    }\r\n    pl._type = this.type;\r\n    pl._tracks = this.tracks();\r\n    pl._timing();\r\n    return pl;\r\n  };\r\n\r\n  function Chunk(t, d, off) {\r\n    if (!(this instanceof Chunk)) return new Chunk(t, d, off);\r\n    var i;\r\n    if (this.sub[t]) return this.sub[t](t, d, off);\r\n    if (typeof t != 'string' || t.length != 4) _error(\"Invalid chunk type: \" + t);\r\n    for (i = 0; i < t.length; i++) if (t.charCodeAt(i) < 0 || t.charCodeAt(i) > 255) _error(\"Invalid chunk type: \" + t);\r\n    if (typeof d != 'string') _error(\"Invalid data type: \" + d);\r\n    for (i = 0; i < d.length; i++) if (d.charCodeAt(i) < 0 || d.charCodeAt(i) > 255) _error(\"Invalid data character: \" + d[i]);\r\n    this.type = t;\r\n    this.data = d;\r\n    this._off = off;\r\n  }\r\n  SMF.Chunk = Chunk;\r\n  Chunk.prototype = [];\r\n  Chunk.prototype.constructor = Chunk;\r\n  Chunk.prototype.copy = function() { return new Chunk(this.type, this.data); };\r\n\r\n  Chunk.prototype.sub = {\r\n    'MTrk': function(t, d, off) { return new MTrk(d, off); }\r\n  };\r\n  Chunk.prototype.dump = function() {\r\n    return this.type + _num4(this.data.length) + this.data;\r\n  };\r\n  Chunk.prototype.toString = function() {\r\n    return this.type + ': ' + this.data.length + ' bytes';\r\n  };\r\n\r\n  function _validate_msg_data(trk, s, p, m, t, off) {\r\n    var x = s.substr(p, m);\r\n    if (x.length < m) {\r\n      trk._complain(off, 'Incomplete track data', m - x.length, t);\r\n      x = (x + '\\x00\\x00').substr(0, m);\r\n    }\r\n    for (var i = 0; i < m; i++) if (x.charCodeAt(i) > 127) {\r\n      trk._complain(off + i, 'Bad MIDI value set to 0', x.charCodeAt(i), t);\r\n      x = x.substr(0, i) + '\\x00' + x.substr(i + 1);\r\n    }\r\n    return x;\r\n  }\r\n  function _validate_number(trk, s, off, t, tt) {\r\n    var nn = _var2num(s);\r\n    if (tt) t += nn[1];\r\n    if (nn[1] < 0) {\r\n      nn[1] = -nn[1];\r\n      trk._complain(off, \"Bad byte sequence\", s.charCodeAt(0) + '/' + s.charCodeAt(1) + '/' + s.charCodeAt(2) + '/' + s.charCodeAt(3), t);\r\n    }\r\n    else if (nn[0] == 4 && nn[1] < 0x200000) {\r\n      trk._complain(off, \"Long VLQ value\", s.charCodeAt(0) + '/' + s.charCodeAt(1) + '/' + s.charCodeAt(2) + '/' + s.charCodeAt(3), t);\r\n    }\r\n    else if (nn[0] == 3 && nn[1] < 0x4000) {\r\n      trk._complain(off, \"Long VLQ value\", s.charCodeAt(0) + '/' + s.charCodeAt(1) + '/' + s.charCodeAt(2), t);\r\n    }\r\n    else if (nn[0] == 2 && nn[1] < 0x80) {\r\n      trk._complain(off, \"Long VLQ value\", s.charCodeAt(0) + '/' + s.charCodeAt(1), t);\r\n    }\r\n    return nn;\r\n  }\r\n\r\n  function MTrk(s, off) {\r\n    if (!(this instanceof MTrk)) return new MTrk(s, off);\r\n    this._off = off;\r\n    this._orig = this;\r\n    this._tick = 0;\r\n    if(typeof s == 'undefined') {\r\n      this.push(new Event(0, '\\xff\\x2f', ''));\r\n      return;\r\n    }\r\n    var t = 0;\r\n    var p = 0;\r\n    var w = '';\r\n    var st;\r\n    var m;\r\n    off += 8;\r\n    var offset = p + off;\r\n    while (p < s.length) {\r\n      m = _validate_number(this, s.substr(p, 4), offset, t, true);\r\n      p += m[0];\r\n      t += m[1];\r\n      offset = p + off;\r\n      if (s.charCodeAt(p) == 0xff) {\r\n        st = s.substr(p, 2);\r\n        if (st.length < 2) {\r\n          this._complain(offset, 'Incomplete track data', 3 - st.length, t);\r\n          st = '\\xff\\x2f';\r\n        }\r\n        p += 2;\r\n        m = _validate_number(this, s.substr(p, 4), offset + 2, t);\r\n        p += m[0];\r\n        this.push (new Event(t, st, s.substr(p, m[1]), offset));\r\n        p += m[1];\r\n      }\r\n      else if (s.charCodeAt(p) == 0xf0 || s.charCodeAt(p) == 0xf7) {\r\n        st = s.substr(p, 1);\r\n        p += 1;\r\n        m = _validate_number(this, s.substr(p, 4), offset + 1, t);\r\n        p += m[0];\r\n        this.push(new Event(t, st, s.substr(p, m[1]), offset));\r\n        p += m[1];\r\n      }\r\n      else if (s.charCodeAt(p) & 0x80) {\r\n        w = s.substr(p, 1);\r\n        p += 1;\r\n        m = _msglen(w.charCodeAt(0));\r\n        if (w.charCodeAt(0) > 0xf0) this._complain(offset, 'Unexpected MIDI message', w.charCodeAt(0).toString(16), t);\r\n        this.push(new Event(t, w, _validate_msg_data(this, s, p, m, t, offset + 1), offset));\r\n        p += m;\r\n      }\r\n      else if (w.charCodeAt(0) & 0x80) { // running status\r\n        m = _msglen(w.charCodeAt(0));\r\n        if (w.charCodeAt(0) > 0xf0) this._complain(offset, 'Unexpected MIDI message', w.charCodeAt(0).toString(16), t);\r\n        this.push(new Event(t, w, _validate_msg_data(this, s, p, m, t, offset), offset));\r\n        p += m;\r\n      }\r\n    }\r\n  }\r\n  SMF.MTrk = MTrk;\r\n\r\n  MTrk.prototype = [];\r\n  MTrk.prototype.constructor = MTrk;\r\n  MTrk.prototype.type = 'MTrk';\r\n  MTrk.prototype.copy = function() {\r\n    var trk = new MTrk();\r\n    trk.length = 0;\r\n    for (var i = 0; i < this.length; i++) trk.push(new JZZ.MIDI(this[i]));\r\n    return trk;\r\n  };\r\n  function _shortmsg(msg) {\r\n    var s = msg.toString();\r\n    if (s.length > 80) {\r\n      s = s.substr(0, 78);\r\n      s = s.substr(0, s.lastIndexOf(' ')) + ' ...';\r\n    }\r\n    return s;\r\n  }\r\n  function _metaevent_len(msg, name, len) {\r\n    if (msg.dd.length < len) return _issue(msg._off, 'Invalid ' + name + ' meta event: ' + (msg.dd.length ? 'data too short' : 'no data'), _shortmsg(msg), msg.tt);\r\n    if (msg.dd.length > len) return _issue(msg._off, 'Invalid ' + name + ' meta event: data too long', _shortmsg(msg), msg.tt);\r\n  }\r\n  function _timing_first_track(msg, name) {\r\n    return _issue(msg._off, name + ' meta events must be in the first track', _shortmsg(msg), msg.tt);\r\n  }\r\n  function _validate_midi(msg, t1) {\r\n    var issue;\r\n    if (typeof msg.ff != 'undefined') {\r\n      if (msg.ff > 0x7f) return _issue(msg._off, 'Invalid meta event', _shortmsg(msg), msg.tt);\r\n      else if (msg.ff == 0) {\r\n        issue = _metaevent_len(msg, 'Sequence Number', 2); if (issue) return issue;\r\n      }\r\n      else if (msg.ff < 10) {\r\n        if (!msg.dd.length) return _issue(msg._off, 'Invalid Text meta event: no data', _shortmsg(msg), msg.tt);\r\n      }\r\n      else if (msg.ff == 32) {\r\n        issue = _metaevent_len(msg, 'Channel Prefix', 1); if (issue) return issue;\r\n        if (msg.dd.charCodeAt(0) > 15) return _issue(msg._off, 'Invalid Channel Prefix meta event: incorrect data', _shortmsg(msg), msg.tt);\r\n      }\r\n      else if (msg.ff == 33) {\r\n        issue = _metaevent_len(msg, 'MIDI Port', 1); if (issue) return issue;\r\n        if (msg.dd.charCodeAt(0) > 127) return _issue(msg._off, 'Invalid MIDI Port meta event: incorrect data', _shortmsg(msg), msg.tt);\r\n      }\r\n      else if (msg.ff == 47) {\r\n        issue = _metaevent_len(msg, 'End of Track', 0); if (issue) return issue;\r\n      }\r\n      else if (msg.ff == 81) {\r\n        issue = _metaevent_len(msg, 'Tempo', 3); if (issue) return issue;\r\n        if (t1 && msg.track) return _timing_first_track(msg, 'Tempo');\r\n      }\r\n      else if (msg.ff == 84) {\r\n        issue = _metaevent_len(msg, 'SMPTE', 5); if (issue) return issue;\r\n        if ((msg.dd.charCodeAt(0) & 0x1f) >= 24 || msg.dd.charCodeAt(1) >= 60 || msg.dd.charCodeAt(2) >= 60 || msg.dd.charCodeAt(3) >= 30 || msg.dd.charCodeAt(4) >= 200 || msg.dd.charCodeAt(4) % 25) return _issue(msg._off, 'Invalid SMPTE meta event: incorrect data', _shortmsg(msg), msg.tt);\r\n        else if ((msg.dd.charCodeAt(0) >> 5) > 3) return _issue(msg._off, 'Invalid SMPTE meta event: incorrect format', msg.dd.charCodeAt(0) >> 5, msg.tt);\r\n        if (t1 && msg.track) return _timing_first_track(msg, 'SMPTE');\r\n      }\r\n      else if (msg.ff == 88) {\r\n        issue = _metaevent_len(msg, 'Time Signature', 4); if (issue) return issue;\r\n        if (msg.dd.charCodeAt(1) > 8) return _issue(msg._off, 'Invalid Time Signature meta event: incorrect data', _shortmsg(msg), msg.tt);\r\n        if (t1 && msg.track) return _timing_first_track(msg, 'Time Signature');\r\n      }\r\n      else if (msg.ff == 89) {\r\n        issue = _metaevent_len(msg, 'Key Signature', 2); if (issue) return issue;\r\n        if (msg.dd.charCodeAt(1) > 1 || msg.dd.charCodeAt(0) > 255 || (msg.dd.charCodeAt(0) > 7 && msg.dd.charCodeAt(0) < 249)) return _issue(msg._off, 'Invalid Key Signature meta event: incorrect data', msg.toString(), msg.tt);\r\n      }\r\n      else if (msg.ff == 127) {\r\n        // Sequencer Specific meta event\r\n      }\r\n      else {\r\n        return _issue(msg._off, 'Unknown meta event', _shortmsg(msg), msg.tt);\r\n      }\r\n    }\r\n    else {\r\n      //\r\n    }\r\n  }\r\n  MTrk.prototype._validate = function(w, k) {\r\n    var i, z;\r\n    if (this._warn) for (i = 0; i < this._warn.length; i++) {\r\n      z = Warn(this._warn[i]);\r\n      z.track = k;\r\n      w.push(z);\r\n    }\r\n  };\r\n  MTrk.prototype._complain = function(off, msg, data, tick) {\r\n    if (!this._warn) this._warn = [];\r\n    this._warn.push(_issue(off, msg, data, tick));\r\n  };\r\n  MTrk.prototype.dump = function() {\r\n    var s = '';\r\n    var t = 0;\r\n    var m = '';\r\n    var i, j;\r\n    for (i = 0; i < this.length; i++) {\r\n      s += _num(this[i].tt - t);\r\n      t = this[i].tt;\r\n      if (typeof this[i].dd != 'undefined') {\r\n        s += '\\xff';\r\n        s += String.fromCharCode(this[i].ff);\r\n        s += _num(this[i].dd.length);\r\n        s += this[i].dd;\r\n      }\r\n      else if (this[i][0] == 0xf0 || this[i][0] == 0xf7) {\r\n        s += String.fromCharCode(this[i][0]);\r\n        s += _num(this[i].length - 1);\r\n        for (j = 1; j < this[i].length; j++) s += String.fromCharCode(this[i][j]);\r\n      }\r\n      else {\r\n        if (this[i][0] != m) {\r\n          m = this[i][0];\r\n          s += String.fromCharCode(this[i][0]);\r\n        }\r\n        for (j = 1; j < this[i].length; j++) s += String.fromCharCode(this[i][j]);\r\n      }\r\n    }\r\n    return 'MTrk' + _num4(s.length) + s;\r\n  };\r\n  MTrk.prototype.toString = function() {\r\n    var a = ['MTrk:'];\r\n    for (var i = 0; i < this.length; i++) {\r\n      a.push(this[i].tt + ': ' + this[i].toString());\r\n    }\r\n    return a.join('\\n  ');\r\n  };\r\n\r\n  MTrk.prototype.add = function(t, msg) {\r\n    t = parseInt(t);\r\n    if(isNaN(t) || t < 0) _error('Invalid parameter');\r\n    msg = JZZ.MIDI(msg);\r\n    msg.tt = t;\r\n    if (this[this._orig.length - 1].tt < t) this[this._orig.length - 1].tt = t; // end of track\r\n    if (msg.ff == 0x2f || msg[0] > 0xf0 && msg[0] != 0xf7) return this;\r\n    var i;\r\n    for (i = 0; i < this._orig.length - 1; i++) {\r\n      if (this._orig[i].tt > t) break;\r\n    }\r\n    this._orig.splice(i, 0, msg);\r\n    return this;\r\n  };\r\n\r\n  MTrk.prototype._ch = undefined;\r\n  MTrk.prototype._sxid = 0x7f;\r\n  MTrk.prototype._image = function() {\r\n    var F = function() {}; F.prototype = this._orig;\r\n    var img = new F();\r\n    img._ch = this._ch;\r\n    img._sxid = this._sxid;\r\n    img._tick = this._tick;\r\n    return img;\r\n  };\r\n  MTrk.prototype.send = function(msg) { this._orig.add(this._tick, msg); return this; };\r\n  MTrk.prototype.tick = function(t) {\r\n    if (t != parseInt(t) || t < 0) throw RangeError('Bad tick value: ' + t);\r\n    if (!t) return this;\r\n    var img = this._image();\r\n    img._tick = this._tick + t;\r\n    return img;\r\n  };\r\n  MTrk.prototype.sxId = function(id) {\r\n    if (typeof id == 'undefined') id = MTrk.prototype._sxid;\r\n    if (id == this._sxid) return this;\r\n    if (id != parseInt(id) || id < 0 || id > 0x7f) throw RangeError('Bad MIDI value: ' + id);\r\n    var img = this._image();\r\n    img._sxid = id;\r\n    return img;\r\n  };\r\n  MTrk.prototype.ch = function(c) {\r\n    if (c == this._ch || typeof c == 'undefined' && typeof this._ch == 'undefined') return this;\r\n    if (typeof c != 'undefined') {\r\n      if (c != parseInt(c) || c < 0 || c > 15) throw RangeError('Bad channel value: ' + c  + ' (must be from 0 to 15)');\r\n    }\r\n    var img = this._image();\r\n    img._ch = c;\r\n    return img;\r\n  };\r\n  MTrk.prototype.note = function(c, n, v, t) {\r\n    this.noteOn(c, n, v);\r\n    if (typeof this._ch == 'undefined') {\r\n      if (t > 0) this.tick(t).noteOff(c, n);\r\n    }\r\n    else {\r\n      if (v > 0) this.tick(v).noteOff(c);\r\n    }\r\n    return this;\r\n  };\r\n  JZZ.lib.copyMidiHelpers(MTrk);\r\n\r\n  function Event(t, s, d, off) {\r\n    var midi;\r\n    if (s.charCodeAt(0) == 0xff) {\r\n      midi = JZZ.MIDI.smf(s.charCodeAt(1), d);\r\n    }\r\n    else {\r\n      var a = [s.charCodeAt(0)];\r\n      for (var i = 0; i < d.length; i++) a.push(d.charCodeAt(i));\r\n      midi = JZZ.MIDI(a);\r\n    }\r\n    if (typeof off != 'undefined') midi._off = off;\r\n    midi.tt = t;\r\n    return midi;\r\n  }\r\n\r\n  function Player() {\r\n    var self = new JZZ.Widget();\r\n    self._info.name = 'MIDI Player';\r\n    self._info.manufacturer = 'Jazz-Soft';\r\n    self._info.version = _ver;\r\n    self.playing = false;\r\n    self._loop = 0;\r\n    self._data = [];\r\n    self._pos = 0;\r\n    self._tick = (function(x) { return function(){ x.tick(); }; })(self);\r\n    for (var k in Player.prototype) if (Player.prototype.hasOwnProperty(k)) self[k] = Player.prototype[k];\r\n    return self;\r\n  }\r\n  Player.prototype.onEnd = function() {};\r\n  Player.prototype.loop = function(n) {\r\n    if (n == parseInt(n) && n > 0) this._loop = n;\r\n    else this._loop = n ? -1 : 0;\r\n  };\r\n  Player.prototype.play = function() {\r\n    this.event = undefined;\r\n    this.playing = true;\r\n    this.paused = false;\r\n    this._ptr = 0;\r\n    this._pos = 0;\r\n    this._p0 = 0;\r\n    this._t0 = _now();\r\n    this.tick();\r\n  };\r\n  Player.prototype.stop = function() {\r\n    this._pos = 0;\r\n    this.playing = false;\r\n    this.event = 'stop';\r\n    this.paused = undefined;\r\n  };\r\n  Player.prototype.pause = function() {\r\n    this.event = 'pause';\r\n  };\r\n  Player.prototype.resume = function() {\r\n    if (this.playing) return;\r\n    if (this.paused) {\r\n      this.event = undefined;\r\n      this._t0 = _now();\r\n      this.playing = true;\r\n      this.paused = false;\r\n      this.tick();\r\n    }\r\n    else this.play();\r\n  };\r\n  Player.prototype.sndOff = function() {\r\n    var c;\r\n    for (c = 0; c < 16; c++) this._emit(JZZ.MIDI.allSoundOff(c));\r\n    for (c = 0; c < 16; c++) this._emit(JZZ.MIDI.resetAllControllers(c));\r\n  };\r\n  function _filter(e) { this._receive(e); }\r\n  Player.prototype._filter = _filter;\r\n  Player.prototype.filter = function(f) {\r\n    this._filter = f instanceof Function ? f : _filter;\r\n  };\r\n  function _div(s) { return (s.charCodeAt(0) << 16) + (s.charCodeAt(1) << 8) + s.charCodeAt(2); }\r\n  Player.prototype._receive = function(e) {\r\n    if (e.ff == 0x51 && this.ppqn) {\r\n      this._mul = this.ppqn * 1000.0 / _div(e.dd);\r\n      this.mul = this._mul * this._speed;\r\n      this._t0 = _now();\r\n      this._p0 = this._pos;\r\n    }\r\n    this._emit(e);\r\n  };\r\n  Player.prototype.tick = function() {\r\n    var t = _now();\r\n    var e;\r\n    this._pos = this._p0 + (t - this._t0) * this.mul;\r\n    for(; this._ptr < this._data.length; this._ptr++) {\r\n      e = this._data[this._ptr];\r\n      if (e.tt > this._pos) break;\r\n      this._filter(e);\r\n    }\r\n    if (this._ptr >= this._data.length) {\r\n      if (this._loop && this._loop != -1) this._loop--;\r\n      if (this._loop) {\r\n        this._ptr = 0;\r\n        this._p0 = 0;\r\n        this._t0 = t;\r\n      }\r\n      else this.stop();\r\n      this.onEnd();\r\n    }\r\n    if (this.event == 'stop') {\r\n      this.playing = false;\r\n      this.paused = false;\r\n      this._pos = 0;\r\n      this._ptr = 0;\r\n      this.sndOff();\r\n      this.event = undefined;\r\n    }\r\n    if (this.event == 'pause') {\r\n      this.playing = false;\r\n      this.paused = true;\r\n      if (this._pos >= this._duration) this._pos = this._duration - 1;\r\n      this._p0 = this._pos;\r\n      this.sndOff();\r\n      this.event = undefined;\r\n    }\r\n    if (this.playing) JZZ.lib.schedule(this._tick);\r\n  };\r\n  Player.prototype.trim = function() {\r\n    var i, j, e;\r\n    var data = [];\r\n    j = 0;\r\n    for (i = 0; i < this._data.length; i++) {\r\n      e = this._data[i];\r\n      if (e.length || e.ff == 1 || e.ff == 5) {\r\n        for (; j <= i; j++) data.push(this._data[j]);\r\n      }\r\n    }\r\n    var dt = (i ? this._data[i - 1].tt : 0) - (j ? this._data[j - 1].tt : 0);\r\n    this._data = data;\r\n    this._timing();\r\n    return dt;\r\n  };\r\n  Player.prototype._timing = function() {\r\n    var i, m, t, e;\r\n    this._duration = this._data.length ? this._data[this._data.length - 1].tt : 0;\r\n    this._ttt = [];\r\n    if (this.ppqn) {\r\n      this._mul = this.ppqn / 500.0; // 120 bpm\r\n      m = this._mul;\r\n      t = 0;\r\n      this._durationMS = 0;\r\n      this._ttt.push({ t: 0, m: m, ms: 0 });\r\n      for (i = 0; i < this._data.length; i++) {\r\n        e = this._data[i];\r\n        if (e.ff == 0x51) {\r\n          this._durationMS += (e.tt - t) / m;\r\n          t = e.tt;\r\n          m = this.ppqn * 1000.0 / _div(e.dd);\r\n          this._ttt.push({ t: t, m: m, ms: this._durationMS });\r\n        }\r\n      }\r\n      this._durationMS += (this._duration - t) / m;\r\n    }\r\n    else {\r\n      this._mul = this.fps * this.ppf / 1000.0; // 1s = fps*ppf ticks\r\n      this._ttt.push({ t: 0, m: this._mul, ms: 0 });\r\n      this._durationMS = this._duration / this._mul;\r\n    }\r\n    this._speed = 1;\r\n    this.mul = this._mul;\r\n    this._ttt.push({ t: this._duration, m: 0, ms: this._durationMS });\r\n    if (!this._durationMS) this._durationMS = 1;\r\n  };\r\n  Player.prototype.speed = function(x) {\r\n    if (typeof x != 'undefined') {\r\n      if (isNaN(parseFloat(x)) || x <= 0) x = 1;\r\n      this._speed = x;\r\n      this.mul = this._mul * this._speed;\r\n      this._p0 = this._pos - (_now() - this._t0) * this.mul;\r\n    }\r\n    return this._speed;\r\n  };\r\n  Player.prototype.type = function() { return this._type; };\r\n  Player.prototype.tracks = function() { return this._tracks; };\r\n  Player.prototype.duration = function() { return this._duration; };\r\n  Player.prototype.durationMS = function() { return this._durationMS; };\r\n  Player.prototype.position = function() { return this._pos; };\r\n  Player.prototype.positionMS = function() { return this.tick2ms(this._pos); };\r\n  Player.prototype.jump = function(t) {\r\n    if (isNaN(parseFloat(t))) _error('Not a number: ' + t);\r\n    if (t < 0) t = 0.0;\r\n    if (t >= this._duration) t = this._duration - 1;\r\n    this._goto(t);\r\n  };\r\n  Player.prototype.jumpMS = function(ms) {\r\n    if (isNaN(parseFloat(ms))) _error('Not a number: ' + ms);\r\n    if (ms < 0) ms = 0.0;\r\n    if (ms >= this._durationMS) ms = this._durationMS - 1;\r\n    this._goto(this._ms2t(ms));\r\n  };\r\n  Player.prototype._t2ms = function(t) {\r\n    if (!t) return 0.0;\r\n    var i;\r\n    for (i = 0; this._ttt[i].t < t; i++) ;\r\n    i--;\r\n    return this._ttt[i].ms + (t - this._ttt[i].t) / this._ttt[i].m;\r\n  };\r\n  Player.prototype._ms2t = function(ms) {\r\n    if (!ms) return 0.0;\r\n    var i;\r\n    for (i = 0; this._ttt[i].ms < ms; i++) ;\r\n    i--;\r\n    return this._ttt[i].t + (ms - this._ttt[i].ms) * this._ttt[i].m;\r\n  };\r\n  Player.prototype._goto = function(t) {\r\n    this._pos = t;\r\n    if (!this.playing) this.paused = !!t;\r\n    this._toPos();\r\n    if (this.playing) this.sndOff();\r\n  };\r\n  Player.prototype._toPos = function() {\r\n    for(this._ptr = 0; this._ptr < this._data.length; this._ptr++) {\r\n      var e = this._data[this._ptr];\r\n      if (e.tt >= this._pos) break;\r\n      if (e.ff == 0x51 && this.ppqn) this._mul = this.ppqn * 1000.0 / _div(e.dd);\r\n    }\r\n    this.mul = this._mul * this._speed;\r\n    this._t0 = _now();\r\n    this._p0 = this._pos;\r\n  };\r\n  Player.prototype.tick2ms = function(t) {\r\n    if (isNaN(parseFloat(t))) _error('Not a number: ' + t);\r\n    if (t <= 0) return 0.0;\r\n    if (t >= this._duration) return this._durationMS;\r\n    return this._t2ms(t);\r\n  };\r\n  Player.prototype.ms2tick = function(t) {\r\n    if (isNaN(parseFloat(t))) _error('Not a number: ' + t);\r\n    if (t <= 0) return 0.0;\r\n    if (t >= this._durationMS) return this._duration;\r\n    return this._ms2t(t);\r\n  };\r\n  JZZ.MIDI.SMF = SMF;\r\n\r\n  function _not_a_syx() { _error('Not a SYX file'); }\r\n\r\n  function SYX(arg) {\r\n    var self = this instanceof SYX ? this : self = new SYX();\r\n    self._orig = self;\r\n    if (typeof arg != 'undefined') {\r\n      if (arg instanceof SMF) {\r\n        self.copy(arg.player()._data);\r\n        return self;\r\n      }\r\n      if (arg instanceof SYX) {\r\n        self.copy(arg);\r\n        return self;\r\n      }\r\n      try {\r\n        if (arg instanceof ArrayBuffer) {\r\n          arg = _u8a2s(new Uint8Array(arg));\r\n        }\r\n      }\r\n      catch (err) {/**/}\r\n      try {\r\n        if (arg instanceof Uint8Array || arg instanceof Int8Array) {\r\n          arg = _u8a2s(new Uint8Array(arg));\r\n        }\r\n      }\r\n      catch (err) {/**/}\r\n      try {\r\n        /* istanbul ignore next */\r\n        if (arg instanceof Buffer) {\r\n          arg = arg.toString('binary');\r\n        }\r\n      }\r\n      catch (err) {/**/}\r\n      if (typeof arg != 'string') {\r\n        arg = String.fromCharCode.apply(null, arg);\r\n      }\r\n      var x;\r\n      var msg = [];\r\n      var i = 0;\r\n      var off = 0;\r\n      while (i < arg.length) {\r\n        if (arg.charCodeAt(i) != 0xf0) _not_a_syx();\r\n        while (i < arg.length) {\r\n          x = arg.charCodeAt(i);\r\n          msg.push(x);\r\n          if (x == 0xf7) {\r\n            msg = JZZ.MIDI(msg);\r\n            msg._off = off;\r\n            self.push(JZZ.MIDI(msg));\r\n            msg = [];\r\n            off = i + 1;\r\n            break;\r\n          }\r\n          i++;\r\n        }\r\n        i++;\r\n      }\r\n      if (msg.length) _not_a_syx();\r\n      return self;\r\n    }\r\n    return self;\r\n  }\r\n  SYX.version = function() { return _ver; };\r\n  SYX.prototype = [];\r\n  SYX.prototype.constructor = SYX;\r\n\r\n  SYX.prototype.copy = function(data) {\r\n    for (var i = 0; i < data.length; i++) if (!data[i].isSMF()) {\r\n      if (data[i].isFullSysEx()) this.push(JZZ.MIDI(data[i]));\r\n      else _not_a_syx();\r\n    }\r\n  };\r\n  SYX.prototype.validate = function() { return []; };\r\n  SYX.prototype.dump = function() {\r\n    var i, j, s = '';\r\n    for (i = 0; i < this.length; i++) for (j = 0; j < this[i].length; j++) s += String.fromCharCode(this[i][j]);\r\n    return s;\r\n  };\r\n  SYX.prototype.toBuffer = function() {\r\n    return Buffer.from(this.dump(), 'binary');\r\n  };\r\n  SYX.prototype.toUint8Array = function() {\r\n    var str = this.dump();\r\n    var buf = new ArrayBuffer(str.length);\r\n    var arr = new Uint8Array(buf);\r\n    for (var i = 0; i < str.length; i++) arr[i] = str.charCodeAt(i);\r\n    return arr;\r\n  };\r\n  SYX.prototype.toArrayBuffer = function() {\r\n    return this.toUint8Array().buffer;\r\n  };\r\n  SYX.prototype.toInt8Array = function() {\r\n    return new Int8Array(this.toArrayBuffer());\r\n  };\r\n  SYX.prototype.toString = function() {\r\n    var i;\r\n    var a = ['SYX:'];\r\n    for (i = 0; i < this.length; i++) {\r\n      a.push(this[i].toString());\r\n    }\r\n    return a.join('\\n  ');\r\n  };\r\n  SYX.prototype.annotate = function() {\r\n    var ctxt = JZZ.Context();\r\n    for (var i = 0; i < this.length; i++) {\r\n      if (this[i].lbl) this[i].lbl = undefined;\r\n      ctxt._read(this[i]);\r\n    }\r\n    return this;\r\n  };\r\n  SYX.prototype.player = function() {\r\n    var pl = new Player();\r\n    pl.ppqn = 96;\r\n    var i;\r\n    for (i = 0; i < this.length; i++) {\r\n      var e = JZZ.MIDI(this[i]);\r\n      e.tt = 0;\r\n      pl._data.push(e);\r\n    }\r\n    pl._type = 0;\r\n    pl._tracks = 1;\r\n    pl._timing();\r\n    pl.sndOff = function() {};\r\n    return pl;\r\n  };\r\n\r\n  SYX.prototype._ch = undefined;\r\n  SYX.prototype._sxid = 0x7f;\r\n  SYX.prototype._image = function() {\r\n    var F = function() {}; F.prototype = this._orig;\r\n    var img = new F();\r\n    img._ch = this._ch;\r\n    img._sxid = this._sxid;\r\n    return img;\r\n  };\r\n  SYX.prototype.add = function(msg) {\r\n    msg = JZZ.MIDI(msg);\r\n    if (msg.isFullSysEx()) this._orig.push(msg);\r\n    return this;\r\n  };\r\n  SYX.prototype.send = function(msg) { return this.add(msg); };\r\n  SYX.prototype.sxId = function(id) {\r\n    if (typeof id == 'undefined') id = SYX.prototype._sxid;\r\n    if (id == this._sxid) return this;\r\n    if (id != parseInt(id) || id < 0 || id > 0x7f) throw RangeError('Bad MIDI value: ' + id);\r\n    var img = this._image();\r\n    img._sxid = id;\r\n    return img;\r\n  };\r\n  SYX.prototype.ch = function(c) {\r\n    if (c == this._ch || typeof c == 'undefined' && typeof this._ch == 'undefined') return this;\r\n    if (typeof c != 'undefined') {\r\n      if (c != parseInt(c) || c < 0 || c > 15) throw RangeError('Bad channel value: ' + c  + ' (must be from 0 to 15)');\r\n    }\r\n    var img = this._image();\r\n    img._ch = c;\r\n    return img;\r\n  };\r\n  JZZ.lib.copyMidiHelpers(SYX);\r\n\r\n  JZZ.MIDI.SYX = SYX;\r\n});\r\n",null,"(function(global, factory) {\r\n  /* istanbul ignore next */\r\n  if (typeof exports === 'object' && typeof module !== 'undefined') {\r\n    module.exports = factory;\r\n  }\r\n  else if (typeof define === 'function' && define.amd) {\r\n    define('JZZ.gui.Player', ['JZZ', 'JZZ.midi.SMF'], factory);\r\n  }\r\n  else {\r\n    factory(JZZ);\r\n  }\r\n})(this, function(JZZ) {\r\n\r\n  if (!JZZ.gui) JZZ.gui = {};\r\n  if (JZZ.gui.Player) return;\r\n\r\n  /* istanbul ignore next */\r\n  function nop() {}\r\n  var _noBtn = { on: nop, off: nop, disable: nop, title: nop, div: {} };\r\n\r\n  function Btn(html) {\r\n    this.div = document.createElement('div');\r\n    this.div.style.display = 'inline-block';\r\n    this.div.style.position = 'absolute';\r\n    this.div.style.boxSizing = 'content-box';\r\n    this.div.style.top = '8px';\r\n    this.div.style.margin = '0';\r\n    this.div.style.padding = '2px';\r\n    this.div.style.borderStyle = 'solid';\r\n    this.div.style.borderWidth = '1px';\r\n    this.div.style.borderColor = '#aaa';\r\n    this.div.style.backgroundColor = '#888';\r\n    this.div.style.lineHeight = '0';\r\n    this.div.style.lineSpasing = '0';\r\n    this.div.style.width = '18px';\r\n    this.div.style.height = '18px';\r\n    this.div.innerHTML = html;\r\n  }\r\n  Btn.prototype.on = function() {\r\n    this.div.style.backgroundColor = '#ddd';\r\n    this.div.style.borderColor = '#ccc';\r\n    this.div.firstChild.style.fill = '#000';\r\n  };\r\n  Btn.prototype.off = function() {\r\n    this.div.style.backgroundColor = '#aaa';\r\n    this.div.style.borderColor = '#ccc';\r\n    this.div.firstChild.style.fill = '#000';\r\n  };\r\n  Btn.prototype.disable = function() {\r\n    this.div.style.backgroundColor = '#888';\r\n    this.div.style.borderColor = '#aaa';\r\n    this.div.firstChild.style.fill = '#555';\r\n  };\r\n  Btn.prototype.title = function(s) { this.div.title = s; };\r\n  var svg_play = '<svg fill=\"#555\" height=\"18\" viewBox=\"0 0 24 24\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8 5v14l11-7z\"/><path d=\"M0 0h24v24H0z\" fill=\"none\"/></svg>';\r\n  var svg_pause = '<svg fill=\"#555\" height=\"18\" viewBox=\"0 0 24 24\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M6 19h4V5H6v14zm8-14v14h4V5h-4z\"/><path d=\"M0 0h24v24H0z\" fill=\"none\"/></svg>';\r\n  var svg_stop = '<svg fill=\"#555\" height=\"18\" viewBox=\"0 0 24 24\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M6 6h12v12H6z\"/></svg>';\r\n  var svg_loop = '<svg fill=\"#555\" height=\"18\" viewBox=\"0 0 24 24\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z\"/></svg>';\r\n  var svg_more = '<svg fill=\"#555\" height=\"18\" viewBox=\"0 0 24 24\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M12 3v9.28c-.47-.17-.97-.28-1.5-.28C8.01 12 6 14.01 6 16.5S8.01 21 10.5 21c2.31 0 4.2-1.75 4.45-4H15V6h4V3h-7z\"/></svg>';\r\n  var svg_open = '<svg fill=\"#555\" xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M10 4H2v16h20V6H12l-2-2z\"/></svg>';\r\n  var svg_link = '<svg fill=\"#555\" xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z\"/><path fill=\"none\" d=\"M0 0h24v24H0z\"/></svg>';\r\n  var svg_close = '<svg stroke=\"#ff8\" xmlns=\"http://www.w3.org/2000/svg\" width=\"7\" height=\"7\" viewBox=\"0 0 7 7\"><line x1=\"1\" y1=\"1\" x2=\"6\" y2=\"6\"/><line x1=\"1\" y1=\"6\" x2=\"6\" y2=\"1\"/></svg>';\r\n\r\n  function _stopProp(e) { e.stopPropagation(); e.preventDefault(); }\r\n\r\n  function _createGUI(self, arg) {\r\n    self.gui = document.createElement('div');\r\n    self.gui.style.display = 'inline-block';\r\n    self.gui.style.position = 'relative';\r\n    self.gui.style.boxSizing = 'content-box';\r\n    self.gui.style.margin = '0px';\r\n    self.gui.style.padding = '0px';\r\n    self.gui.style.borderStyle = 'none';\r\n    self.gui.style.backgroundColor = '#888';\r\n    self.gui.style.width = '270px';\r\n    self.gui.style.height = '40px';\r\n\r\n    var left = 8;\r\n    var right = 238;\r\n    var step = 28;\r\n\r\n    if (arg.play) {\r\n      self.playBtn = new Btn(svg_play);\r\n      self.playBtn.div.style.left = left + 'px';\r\n      left += step;\r\n      self.playBtn.div.title = 'play';\r\n      self.playBtn.div.addEventListener('click', function() { self.play(); });\r\n      self.gui.appendChild(self.playBtn.div);\r\n    }\r\n    else self.playBtn = _noBtn;\r\n\r\n    if (arg.pause) {\r\n      self.pauseBtn = new Btn(svg_pause);\r\n      self.pauseBtn.div.style.left = left + 'px';\r\n      left += step;\r\n      self.pauseBtn.div.title = 'pause';\r\n      self.pauseBtn.div.addEventListener('click', function() { self.pause(); });\r\n      self.gui.appendChild(self.pauseBtn.div);\r\n    }\r\n    else self.pauseBtn = _noBtn;\r\n\r\n    if (arg.stop) {\r\n      self.stopBtn = new Btn(svg_stop);\r\n      self.stopBtn.div.style.left = left + 'px';\r\n      left += step;\r\n      self.stopBtn.div.title = 'stop';\r\n      self.stopBtn.div.addEventListener('click', function() { self.stop(); });\r\n      self.gui.appendChild(self.stopBtn.div);\r\n    }\r\n    else self.stopBtn = _noBtn;\r\n\r\n    if (arg.loop) {\r\n      self.loopBtn = new Btn(svg_loop);\r\n      self.loopBtn.div.style.left = left + 'px';\r\n      left += step;\r\n      self.loopBtn.div.title = 'loop';\r\n      self.loopBtn.div.addEventListener('click', function() { self.loop(); });\r\n      self.gui.appendChild(self.loopBtn.div);\r\n    }\r\n    else self.loopBtn = _noBtn;\r\n\r\n    if (arg.midi) {\r\n      self.midiBtn = new Btn(svg_more);\r\n      self.midiBtn.div.style.left = right + 'px';\r\n      right -= step;\r\n      self.midiBtn.div.title = 'midi';\r\n      self.midiBtn.div.addEventListener('click', function() { self.settings(); });\r\n      self.gui.appendChild(self.midiBtn.div);\r\n\r\n      self.sel = document.createElement('select');\r\n      self.sel.style.position = 'absolute';\r\n      self.sel.style.top = '30px';\r\n      self.sel.style.left = '40px';\r\n      self.sel.style.width = '230px';\r\n      self.sel.style.display = 'none';\r\n      self.sel.style.zIndex = 1;\r\n      self.sel.addEventListener('click', function() { self._selected(); });\r\n      self.sel.addEventListener('keydown', function(e) { self._keydown(e); });\r\n      self.sel.addEventListener('focusout', function() { self._closeselect(); });\r\n\r\n      self.gui.appendChild(self.sel);\r\n    }\r\n    else self.midiBtn = _noBtn;\r\n\r\n    if (arg.link) {\r\n      self.linkBtn = new Btn(svg_link);\r\n      self.linkBtn.div.style.left = right + 'px';\r\n      right -= step;\r\n      self.linkBtn.div.title = 'link';\r\n      self.gui.appendChild(self.linkBtn.div);\r\n    }\r\n\r\n    if (arg.file) {\r\n      self.fileBtn = new Btn(svg_open);\r\n      self.fileBtn.div.style.left = right + 'px';\r\n      right -= step;\r\n      self.fileBtn.div.title = 'file';\r\n      self.gui.appendChild(self.fileBtn.div);\r\n\r\n      self.fileInput = document.createElement('input');\r\n      self.fileInput.type = 'file';\r\n      self.fileInput.style.position = 'fixed';\r\n      self.fileInput.style.top = '-1000px';\r\n      self.fileInput.accept = '.mid, .midi, .kar, .rmi, .syx';\r\n      self.gui.appendChild(self.fileInput);\r\n\r\n      if (window.FileReader) {\r\n        self.fileBtn.off();\r\n        self.fileBtn.div.addEventListener('click', function() { self.fileInput.click(); });\r\n        self.fileInput.addEventListener('change', function(e) { _stopProp(e); if (e.target.files[0]) self.readFile(e.target.files[0]); });\r\n        self.gui.addEventListener('drop', function(e) { _stopProp(e); self.fileBtn.off(); self.readFile(e.dataTransfer.files[0]); });\r\n        self.gui.addEventListener('dragover', function(e) { _stopProp(e); self.fileBtn.on(); e.dataTransfer.dropEffect = 'copy'; });\r\n        self.gui.addEventListener('dragexit', function(e) { _stopProp(e); self.fileBtn.off(); });\r\n      }\r\n    }\r\n    else self.fileBtn = _noBtn;\r\n\r\n    if (arg.close) {\r\n      self.closeBtn = document.createElement('div');\r\n      self.closeBtn.style.display = 'inline-block';\r\n      self.closeBtn.style.position = 'absolute';\r\n      self.closeBtn.style.boxSizing = 'content-box';\r\n      self.closeBtn.style.top = '1px';\r\n      self.closeBtn.style.left = '262px';\r\n      self.closeBtn.style.margin = '0';\r\n      self.closeBtn.style.padding = '0';\r\n      self.closeBtn.style.backgroundColor = '#f44';\r\n      self.closeBtn.style.width = '7px';\r\n      self.closeBtn.style.height = '7px';\r\n      self.closeBtn.style.lineHeight = '0';\r\n      self.closeBtn.style.lineSpasing = '0';\r\n      self.closeBtn.innerHTML = svg_close;\r\n      self.closeBtn.title = 'close';\r\n      self.closeBtn.addEventListener('click', function() { self.destroy(); });\r\n      self.gui.appendChild(self.closeBtn);\r\n    }\r\n\r\n    self.rlen = right - left + 10;\r\n\r\n    self.lbl = document.createElement('div');\r\n    self.lbl.style.display = 'inline-block';\r\n    self.lbl.style.position = 'absolute';\r\n    self.lbl.style.top = '26px';\r\n    self.lbl.style.left = left + 'px';\r\n    self.lbl.style.width = (self.rlen + 10) + 'px';\r\n    self.lbl.style.height = '12px';\r\n    self.lbl.style.padding = '0';\r\n    self.lbl.style.textAlign = 'center';\r\n    self.lbl.style.color = '#aaa';\r\n    self.lbl.style.fontSize = '12px';\r\n    self.lbl.style.fontFamily = 'Arial, Helvetica, sans-serif';\r\n    self.gui.appendChild(self.lbl);\r\n\r\n    self.rail = document.createElement('div');\r\n    self.rail.style.display = 'inline-block';\r\n    self.rail.style.position = 'absolute';\r\n    self.rail.style.boxSizing = 'content-box';\r\n    self.rail.style.top = '19px';\r\n    self.rail.style.left = (left + 5) + 'px';\r\n    self.rail.style.width = self.rlen + 'px';\r\n    self.rail.style.height = '0';\r\n    self.rail.style.padding = '1px';\r\n    self.rail.style.borderStyle = 'solid';\r\n    self.rail.style.borderWidth = '1px';\r\n    self.rail.style.borderRadius = '2px';\r\n    self.rail.style.borderColor = '#aaa';\r\n    self.rail.style.backgroundColor = '#888';\r\n    self.gui.appendChild(self.rail);\r\n\r\n    self.caret = document.createElement('div');\r\n    self.caret.style.display = 'inline-block';\r\n    self.caret.style.position = 'absolute';\r\n    self.caret.style.boxSizing = 'content-box';\r\n    self.caret.style.width = '2px';\r\n    self.caret.style.height = '2px';\r\n    self.caret.style.top = '-5px';\r\n    self.caret.style.left = '-5px';\r\n    self.caret.style.padding = '4px';\r\n    self.caret.style.borderStyle = 'solid';\r\n    self.caret.style.borderWidth = '1px';\r\n    self.caret.style.borderRadius = '6px';\r\n    self.caret.style.borderColor = '#aaa';\r\n    self.caret.style.backgroundColor = '#888';\r\n    self.caret.addEventListener('mousedown', function(e) { self._mousedown(e); });\r\n    self.rail.appendChild(self.caret);\r\n\r\n    window.addEventListener('mousemove', function(e) { self._mousemove(e); });\r\n    window.addEventListener('mouseup', function(e) { self._mouseup(e); });\r\n  }\r\n\r\n  var _floating = 0;\r\n  function Player(x, y) {\r\n    if (!(this instanceof Player)) return new Player(x, y);\r\n    var arg = {\r\n      at: undefined,\r\n      x: undefined,\r\n      y: undefined,\r\n      play: true,\r\n      record: false,\r\n      pause: true,\r\n      stop: true,\r\n      loop: true,\r\n      file: false,\r\n      link: false,\r\n      midi: true,\r\n      close: false,\r\n      sndoff: true,\r\n      ports: [undefined, /MIDI Through/i],\r\n      connect: true\r\n    };\r\n    if (typeof x == 'object') for (var k in arg) if (arg.hasOwnProperty(k) && typeof x[k] != 'undefined') arg[k] = x[k];\r\n    if (typeof arg.at == 'undefined') arg.at = x;\r\n    if (typeof arg.x == 'undefined') arg.x = x;\r\n    if (typeof arg.y == 'undefined') arg.y = y;\r\n    _createGUI(this, arg);\r\n    if (!(arg.ports instanceof Array)) arg.ports = [arg.ports];\r\n    arg.ports.push(undefined);\r\n    this._ports = arg.ports;\r\n    this._conn = arg.connect;\r\n    this._sndoff = arg.sndoff;\r\n    this.disable();\r\n\r\n    if (typeof arg.at == 'string') {\r\n      try {\r\n        document.getElementById(arg.at).appendChild(this.gui);\r\n        return this;\r\n      }\r\n      catch(e) {}\r\n    }\r\n    try {\r\n      arg.at.appendChild(this.gui);\r\n      return this;\r\n    }\r\n    catch(e) {}\r\n\r\n    if (arg.x != parseInt(arg.x) || arg.y != parseInt(arg.y)) {\r\n      arg.x = _floating * 15 + 5;\r\n      arg.y = _floating * 45 + 5;\r\n      _floating++;\r\n    }\r\n    this.gui.style.position = 'fixed';\r\n    this.gui.style.top = arg.y + 'px';\r\n    this.gui.style.left = arg.x + 'px';\r\n    this.gui.style.opacity = 0.9;\r\n    var self = this;\r\n    this.gui.addEventListener('mousedown', function(e) { self._startmove(e); });\r\n    document.body.appendChild(this.gui);\r\n  }\r\n  Player.prototype = new JZZ.Widget();\r\n  Player.prototype.constructor = Player;\r\n\r\n  Player.prototype.label = function(html) {\r\n    this.lbl.innerHTML = html;\r\n  };\r\n  Player.prototype.disable = function() {\r\n    this.playBtn.disable();\r\n    this.pauseBtn.disable();\r\n    this.stopBtn.disable();\r\n    this.loopBtn.disable();\r\n    this.midiBtn.disable();\r\n    if (this._conn) this.midiBtn.off();\r\n    this.fileBtn.off();\r\n    this.rail.style.borderColor = '#aaa';\r\n    this.rail.style.backgroundColor = '#888';\r\n    this.caret.style.borderColor = '#aaa';\r\n    this.caret.style.backgroundColor = '#888';\r\n  };\r\n  Player.prototype.enable = function() {\r\n    this.playBtn.off();\r\n    this.pauseBtn.off();\r\n    this.stopBtn.off();\r\n    this.loopBtn.off();\r\n    if (this._conn) this.midiBtn.off();\r\n    this.rail.style.borderColor = '#ccc';\r\n    this.caret.style.backgroundColor = '#aaa';\r\n    this.caret.style.borderColor = '#ccc';\r\n  };\r\n  Player.prototype.load = function(smf) {\r\n    var self = this;\r\n    this._player = smf.player();\r\n    this._player.trim();\r\n    this._player.connect(this);\r\n    this._player.onEnd = function() { self._onEnd(); };\r\n    this._player.filter(this._setfilter);\r\n    if (!this._sndoff) this._player.sndOff = nop;\r\n    this.enable();\r\n    this.onLoad(smf);\r\n  };\r\n  Player.prototype.filter = function(f) {\r\n    this._setfilter = f instanceof Function ? f : undefined;\r\n    if (this._player) this._player.filter(this._setfilter);\r\n  };\r\n  Player.prototype.onSelect = nop;\r\n  Player.prototype.onEnd = nop;\r\n  Player.prototype.onLoad = nop;\r\n  Player.prototype._onEnd = function() {\r\n    this.onEnd();\r\n    if (this._loop && this._loop != -1) this._loop--;\r\n    if (!this._loop) {\r\n      if (this._moving) clearInterval(this._moving);\r\n      this._move();\r\n      this._playing = false;\r\n      this.playBtn.off();\r\n    }\r\n    else {\r\n      if (this._loop == 1) {\r\n        this._loop = 0;\r\n        this.loopBtn.off();\r\n        this.loopBtn.title('loop');\r\n      }\r\n      else this.loopBtn.title('loop: ' + (this._loop == -1 ? '\\u221e' : this._loop));\r\n    }\r\n  };\r\n  Player.prototype._move = function() {\r\n    var off = Math.round(this._player.positionMS() * this.rlen / this._player.durationMS()) - 5;\r\n    this.caret.style.left = off + 'px';\r\n  };\r\n  Player.prototype.onPlay = nop;\r\n  Player.prototype.onResume = nop;\r\n  Player.prototype._resume = function() {\r\n    var self = this;\r\n    this._player.resume();\r\n    this._moving = setInterval(function() { self._move(); }, 100);\r\n  };\r\n  Player.prototype.play = function() {\r\n    if (this._player) {\r\n      var self = this;\r\n      this.playBtn.on();\r\n      this.pauseBtn.off();\r\n      if (this._playing) return;\r\n      if (this._paused) this.onResume();\r\n      else this.onPlay();\r\n      this._playing = true;\r\n      this._paused = false;\r\n      if (this._out || !this._conn) {\r\n        this._resume();\r\n      }\r\n      else if (!this._waiting) {\r\n        this._waiting = true;\r\n        JZZ().openMidiOut(self._ports).and(function() {\r\n          self._out = this;\r\n          self._outname = this.name();\r\n          self.midiBtn.title(self._outname);\r\n          self._connect(this);\r\n          self._waiting = false;\r\n          self.onSelect(self._outname);\r\n          if (self._playing) {\r\n            self._resume();\r\n          }\r\n        }).or(function() {\r\n          self._waiting = false;\r\n          self._resume();\r\n        });\r\n      }\r\n    }\r\n  };\r\n  Player.prototype.onStop = nop;\r\n  Player.prototype.stop = function() {\r\n    if (this._player) {\r\n      var self = this;\r\n      this._player.stop();\r\n      JZZ.lib.schedule(function() { self.onStop(); });\r\n      if (this._moving) clearInterval(this._moving);\r\n      this._playing = false;\r\n      this._paused = false;\r\n      this.playBtn.off();\r\n      this.pauseBtn.off();\r\n      this._move();\r\n    }\r\n  };\r\n  Player.prototype.onPause = nop;\r\n  Player.prototype.pause = function(p) {\r\n    if (this._player) {\r\n      var self = this;\r\n      if (this._paused) {\r\n        if (typeof p == 'undefined' || p) {\r\n          if (this._out) {\r\n            this._resume();\r\n            this.onResume();\r\n            this._playing = true;\r\n            this._paused = false;\r\n            this.playBtn.on();\r\n            this.pauseBtn.off();\r\n          }\r\n          else this.play();\r\n        }\r\n      }\r\n      else if (this._playing) {\r\n        if (typeof p == 'undefined' || !p) {\r\n          this._player.pause();\r\n          JZZ.lib.schedule(function() { self.onPause(); });\r\n          if (this._moving) clearInterval(this._moving);\r\n          this._playing = false;\r\n          this._paused = true;\r\n          this.playBtn.off();\r\n          this.pauseBtn.on();\r\n        }\r\n      }\r\n    }\r\n  };\r\n  Player.prototype.loop = function(n) {\r\n    if (this._player) {\r\n      if (typeof n == 'undefined') n = !this._loop;\r\n      if (n == parseInt(n) && n > 0) this._loop = n;\r\n      else this._loop = n ? -1 : 0;\r\n      if (this._loop == 1) this._loop = 0;\r\n      this._player.loop(this._loop);\r\n      if (this._loop) {\r\n        this.loopBtn.on();\r\n        this.loopBtn.title('loop: ' + (this._loop == -1 ? '\\u221e' : this._loop));\r\n      }\r\n      else {\r\n        this.loopBtn.off();\r\n        this.loopBtn.title('loop');\r\n      }\r\n    }\r\n  };\r\n  Player.prototype.onClose = nop;\r\n  Player.prototype.destroy = function() {\r\n    this.stop();\r\n    if (this._out) {\r\n      var out = this._out;\r\n      JZZ.lib.schedule(function() { out.close(); });\r\n    }\r\n    this.gui.parentNode.removeChild(this.gui);\r\n    this.onClose();\r\n  };\r\n\r\n  Player.prototype.setUrl = function(url, name) {\r\n    if (this.linkBtn) {\r\n      if (this._url) {\r\n        this.linkBtn.div.appendChild(this._url.firstChild);\r\n        this.linkBtn.div.removeChild(this._url);\r\n        this._url = undefined;\r\n      }\r\n      if (typeof url == 'undefined') this.linkBtn.disable();\r\n      else {\r\n        this.linkBtn.off();\r\n        this._url = document.createElement('a');\r\n        this._url.target = '_blank';\r\n        this._url.appendChild(this.linkBtn.div.firstChild);\r\n        this.linkBtn.div.appendChild(this._url);\r\n        this._url.href = url;\r\n        if (!this._url.dataset) this._url.dataset = {};\r\n        this._url.dataset.jzzGuiPlayer = true;\r\n        if (typeof name != 'undefined') this._url.download = name;\r\n      }\r\n    }\r\n  };\r\n\r\n  Player.prototype.readFile = function(f) {\r\n    var self = this;\r\n    var reader = new FileReader();\r\n    reader.onload = function(e) {\r\n      var data = '';\r\n      var bytes = new Uint8Array(e.target.result);\r\n      for (var i = 0; i < bytes.length; i++) data += String.fromCharCode(bytes[i]);\r\n      var smf;\r\n      try {\r\n        smf = new JZZ.MIDI.SYX(data);\r\n      }\r\n      catch (err) {}\r\n      try {\r\n        if (!smf) smf = new JZZ.MIDI.SMF(data);\r\n        self.stop();\r\n        JZZ.lib.schedule(function() { self.load(smf); });\r\n        if (self.linkBtn) self.setUrl('data:audio/midi;base64,' + JZZ.lib.toBase64(data), f.name);\r\n      }\r\n      catch (err) { console.log(err.message); }\r\n    };\r\n    reader.readAsArrayBuffer(f);\r\n  };\r\n\r\n  // selecting MIDI\r\n\r\n  Player.prototype.onSelect = nop;\r\n  Player.prototype._closeselect = function() {\r\n    this.midiBtn.off();\r\n    this.sel.style.display = 'none';\r\n    this._more = false;\r\n  };\r\n  Player.prototype.settings = function() {\r\n    if (this._more || !this._conn) return;\r\n    var self = this;\r\n    this._more = true;\r\n    this.midiBtn.on();\r\n    this.sel.style.display = 'inline-block';\r\n    JZZ().refresh().and(function() {\r\n      var outs = this.info().outputs;\r\n      var i;\r\n      for (i = 0; i < self.sel.options.length; i++) self.sel.remove(i);\r\n      for (i = 0; i < outs.length; i++) self.sel[i] = new Option(outs[i].name, outs[i].name, outs[i].name == self._outname, outs[i].name == self._outname);\r\n      self.sel.size = outs.length < 2 ? 2 : outs.length;\r\n      self.sel.focus();\r\n    });\r\n  };\r\n  Player.prototype._selectMidi = function() {\r\n    var self = this;\r\n    JZZ().openMidiOut(this._newname).or(function() {\r\n      self._newname = undefined;\r\n      self._closeselect();\r\n    }).and(function() {\r\n      self._newname = undefined;\r\n      if (self._outname != this.name()) {\r\n        self._outname = this.name();\r\n        self._closeselect();\r\n        if (self._out) {\r\n          if (self._playing) for (var c = 0; c < 16; c++) self._out._receive(JZZ.MIDI.allSoundOff(c));\r\n          self._disconnect(self._out);\r\n          self._out.close();\r\n        }\r\n        self._out = this;\r\n        self._connect(this);\r\n        self.midiBtn.title(self._outname);\r\n        self.onSelect(self._outname);\r\n        setTimeout(function() { self.onSelect(self._outname); }, 0);\r\n      }\r\n    });\r\n  };\r\n  Player.prototype.select = function(name) {\r\n    var self = this;\r\n    this._newname = name || 0;\r\n    if (this._newname == this._outname) {\r\n      this._newname = undefined;\r\n      this._closeselect();\r\n    }\r\n    else {\r\n      setTimeout(function() { self._selectMidi(); }, 0);\r\n    }\r\n  };\r\n  Player.prototype._selected = function() {\r\n    var selected = this.sel.options[this.sel.selectedIndex];\r\n    if (selected) this.select(selected.value);\r\n  };\r\n  Player.prototype._keydown = function(e) {\r\n    if (e.keyCode == 13 || e.keyCode == 32) this._selected();\r\n  };\r\n\r\n  Player.prototype.type = function() { return this._player ? this._player.type() : 0; };\r\n  Player.prototype.tracks = function() { return this._player ? this._player.tracks() : 0; };\r\n  Player.prototype.duration = function() { return this._player ? this._player.duration() : 0; };\r\n  Player.prototype.durationMS = function() { return this._player ? this._player.durationMS() : 0; };\r\n  Player.prototype.position = function() { return this._player ? this._player.position() : 0; };\r\n  Player.prototype.positionMS = function() { return this._player ? this._player.positionMS() : 0; };\r\n  Player.prototype.tick2ms = function() { return this._player ? this._player.tick2ms() : 0; };\r\n  Player.prototype.ms2tick = function() { return this._player ? this._player.ms2tick() : 0; };\r\n  Player.prototype.onJump = nop;\r\n  Player.prototype.jump = function(pos) {\r\n    if (this._player) {\r\n      this._player.jump(pos);\r\n      this._move();\r\n      if (!this._playing) {\r\n        if (pos) {\r\n          this._paused = true;\r\n          this.playBtn.off();\r\n          this.pauseBtn.on();\r\n        }\r\n        else {\r\n          this._paused = false;\r\n          this.playBtn.off();\r\n          this.pauseBtn.off();\r\n        }\r\n      }\r\n      this.onJump(this._player.position());\r\n    }\r\n  };\r\n  Player.prototype.jumpMS = function(pos) {\r\n    if (this._player) {\r\n      this._player.jumpMS(pos);\r\n      this._move();\r\n      if (!this._playing) {\r\n        if (pos) {\r\n          this._paused = true;\r\n          this.playBtn.off();\r\n          this.pauseBtn.on();\r\n        }\r\n        else {\r\n          this._paused = false;\r\n          this.playBtn.off();\r\n          this.pauseBtn.off();\r\n        }\r\n      }\r\n      this.onJump(this._player.position());\r\n    }\r\n  };\r\n\r\n  Player.prototype.speed = function(x) { return this._player ? this._player.speed(x) : 1; };\r\n\r\n  // mouse dragging\r\n  function _lftBtnDn(e) { return typeof e.buttons == 'undefined' ? !e.button : e.buttons & 1; }\r\n\r\n  Player.prototype._mousedown = function(e) {\r\n    if (_lftBtnDn(e) && this._player) {\r\n      if (!this._more) e.preventDefault();\r\n      this.caret.style.backgroundColor = '#ddd';\r\n      this._wasPlaying = this._playing;\r\n      this._player.pause();\r\n      this._caretX = e.clientX;\r\n      this._caretPos = parseInt(this.caret.style.left) + 5;\r\n    }\r\n  };\r\n  Player.prototype._startmove = function(e) {\r\n    if (_lftBtnDn(e)) {\r\n      if (!this._more) e.preventDefault();\r\n      this._startX = parseInt(this.gui.style.left);\r\n      this._startY = parseInt(this.gui.style.top);\r\n      this._clickX = e.clientX;\r\n      this._clickY = e.clientY;\r\n    }\r\n  };\r\n  Player.prototype._mouseup = function() {\r\n    if (this._player) {\r\n      if (typeof this._caretX != 'undefined') {\r\n        if (this._wasPlaying) {\r\n          this._wasPlaying = undefined;\r\n          this._player.resume();\r\n        }\r\n        this.caret.style.backgroundColor = '#aaa';\r\n        this._caretX = undefined;\r\n      }\r\n    }\r\n    if (typeof this._startX != 'undefined') {\r\n      this._startX = undefined;\r\n      this._startY = undefined;\r\n      this._clickX = undefined;\r\n      this._clickY = undefined;\r\n    }\r\n  };\r\n  Player.prototype._mousemove = function(e) {\r\n    if (this._more) {\r\n      this._startX = undefined;\r\n      this._startY = undefined;\r\n      this._clickX = undefined;\r\n      this._clickY = undefined;\r\n    }\r\n    if (this._player && typeof this._caretX != 'undefined') {\r\n      e.preventDefault();\r\n      var to = this._caretPos + e.clientX - this._caretX;\r\n      if (to < 0) to = 0;\r\n      if (to > this.rlen) to = this.rlen;\r\n      this.jumpMS(this.durationMS() * to * 1.0 / this.rlen);\r\n    }\r\n    else if (typeof this._startX != 'undefined') {\r\n      e.preventDefault();\r\n      this.gui.style.left = this._startX - this._clickX + e.clientX + 'px';\r\n      this.gui.style.top = this._startY - this._clickY + e.clientY + 'px';\r\n    }\r\n  };\r\n\r\n  Player.prototype._connect = Player.prototype.connect;\r\n  Player.prototype._disconnect = Player.prototype.disconnect;\r\n\r\n  Player.prototype.connect = function(port) {\r\n    if (port == this) {\r\n      this._conn = true;\r\n      this.midiBtn.off();\r\n    }\r\n    else {\r\n      this._connect(port);\r\n    }\r\n  };\r\n  Player.prototype.disconnect = function(port) {\r\n    if (port == this) {\r\n      this._conn = false;\r\n      if (this._out) this._disconnect(this._out);\r\n      this._outname = undefined;\r\n      this.midiBtn.disable();\r\n    }\r\n    else {\r\n      this._disconnect(port);\r\n    }\r\n  };\r\n  Player.prototype.connected = function() { return this._outname; };\r\n\r\n  JZZ.gui.Player = Player;\r\n});\r\n",null],"names":["Victor","x","y","this","module","exports","fromArray","arr","fromObject","obj","prototype","addX","vec","addY","add","addScalar","scalar","addScalarX","addScalarY","subtractX","subtractY","subtract","subtractScalar","subtractScalarX","subtractScalarY","divideX","vector","divideY","divide","divideScalar","divideScalarX","divideScalarY","invertX","invertY","invert","multiplyX","multiplyY","multiply","multiplyScalar","multiplyScalarX","multiplyScalarY","normalize","length","norm","limit","max","factor","Math","abs","randomize","topLeft","bottomRight","randomizeX","randomizeY","min","random","randomizeAny","round","unfloat","toFixed","precision","mixX","amount","mixY","mix","clone","copyX","copyY","copy","zero","dot","vec2","cross","projectOnto","coeff","horizontalAngle","atan2","horizontalAngleDeg","radian2degrees","verticalAngle","verticalAngleDeg","angle","angleDeg","direction","rotate","nx","cos","sin","ny","rotateDeg","degrees2radian","rotateTo","rotation","rotateToDeg","rotateBy","rotateByDeg","distanceX","absDistanceX","distanceY","absDistanceY","distance","sqrt","distanceSq","dx","dy","lengthSq","magnitude","isZero","isEqualTo","toString","toArray","toObject","degrees","PI","floor","rad","deg","$c2Qiy","parcelRequire","$672e8deef35e16b7$var$path","$672e8deef35e16b7$var$v","versions","node","split","platform","arch","require","package","$672e8deef35e16b7$var$__dirname","$8c4e3d4da094f73e$var$cachedSetTimeout","$8c4e3d4da094f73e$var$cachedClearTimeout","$8c4e3d4da094f73e$var$process","$8c4e3d4da094f73e$var$defaultSetTimout","Error","$8c4e3d4da094f73e$var$defaultClearTimeout","$8c4e3d4da094f73e$var$runTimeout","fun","setTimeout","e","call","e1","clearTimeout","$8c4e3d4da094f73e$var$currentQueue","$8c4e3d4da094f73e$var$queue","$8c4e3d4da094f73e$var$draining","$8c4e3d4da094f73e$var$queueIndex","$8c4e3d4da094f73e$var$cleanUpNextTick","concat","$8c4e3d4da094f73e$var$drainQueue","timeout","len","run","marker","$8c4e3d4da094f73e$var$runClearTimeout","$8c4e3d4da094f73e$var$Item","array","$8c4e3d4da094f73e$var$noop","nextTick","args","Array","arguments","i","push","apply","title","browser","env","argv","version","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","register","JSON","parse","$d24ac01c4a18745d$var$ReflectOwnKeys","$d24ac01c4a18745d$var$R","Reflect","$d24ac01c4a18745d$var$ReflectApply","target","receiver","Function","ownKeys","Object","getOwnPropertySymbols","getOwnPropertyNames","$d24ac01c4a18745d$var$NumberIsNaN","Number","isNaN","value","$d24ac01c4a18745d$var$EventEmitter","init","$d24ac01c4a18745d$exports","emitter","Promise","resolve","reject","errorListener","err","resolver","slice","$d24ac01c4a18745d$var$eventTargetAgnosticAddListener","handler","flags","$d24ac01c4a18745d$var$addErrorHandlerIfEventEmitter","EventEmitter","_events","undefined","_eventsCount","_maxListeners","$d24ac01c4a18745d$var$defaultMaxListeners","$d24ac01c4a18745d$var$checkListener","listener","TypeError","$d24ac01c4a18745d$var$_getMaxListeners","that","defaultMaxListeners","$d24ac01c4a18745d$var$_addListener","type","prepend","m","events","existing","warning","create","newListener","unshift","warned","w","String","count","console","warn","$d24ac01c4a18745d$var$onceWrapper","fired","wrapFn","$d24ac01c4a18745d$var$_onceWrap","state","wrapped","bind","$d24ac01c4a18745d$var$_listeners","unwrap","evlistener","ret","$d24ac01c4a18745d$var$unwrapListeners","$d24ac01c4a18745d$var$arrayClone","$d24ac01c4a18745d$var$listenerCount","n","addEventListener","wrapListener","arg","removeEventListener","defineProperty","enumerable","get","set","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","error","er","message","context","list","position","originalListener","shift","index","pop","$d24ac01c4a18745d$var$spliceOne","key","keys","rawListeners","listenerCount","eventNames","$0e4e0e4ea40a359e$var$defaultOptions","channelMask","$0e4e0e4ea40a359e$var$eventNames","$0e4e0e4ea40a359e$export$2e2bcd8739ae039","constructor","options","super","process","data","handleMidiMessageData","handleEvent","event","handleMidiMessageEvent","status","subtype","channel","handleMidiChannelMessage","subtype1","handleMidiSystemMessage","channelMessageFunc1Map","channelMessageFunc2Map","handleNoteOffMessage","handleNoteOnMessage","handleControlChangeMessage2","useChannel","channelBit","func","func1","systemMessageFuncMap","handleResetMessage","handleMidiControlChangeMessage","controller","controllerFunc","controllerFuncMap","handleControlChangeHoldMessage","handleControlChangeSostenutoMessage","handleControlChangeAllSoundsOffMessage","handleControlChangeAllNotesOffMessage","handleControlChangeAllControllersOffMessage","note","velocity","$6ac1649881201fb6$export$2e2bcd8739ae039","port","processor","inputPort","handlePortStateChange","static","midiAccess","midiInputPortName","portFilterPredicate","midiPorts","inputs","values","filter","handleStateChange","isInputPort","open","getProcessor","$a20876b9714702fd$export$2e2bcd8739ae039","attack","decay","release","gateDuration","inMin","inMax","outMin","outMax","LINEAR","curveLinear","EXPONENTIAL","curveExponential","attackDuration","attackCurve","CURVES","peakLevel","decayDuration","decayCurve","sustainDuration","Infinity","sustainLevel","releaseDuration","releaseCurve","DEFAULTS","duration","targetLevel","curve","_valueAtADS","elapsedTime","timeInSection","sourceLevel","forEach","_valueAtR","elapsedTimeSinceRelease","levelAtReleaseTime","_minReleaseTime","releaseTime","valueAt","minReleaseTime","timeInReleaseSection","isOver","$3upfH","$03bd44b47f92f77d$export$2e2bcd8739ae039","midiNote","midiVelocity","envelope","startTime","holdState","sustainState","shouldRelease","performance","now","sustain","enable","isHeld","isOff","forceOff","isSustained","hold","getVolume","$77d8b892510a5fae$export$c8f2e574698899d6","splat","$931829cbc9e5fd44$export$2e2bcd8739ae039","angleOffset","color","lastCoords","secondsPerRotation","$4pXtx","isRGBColor","getPointerCoordinates","update","getInterpolationParameter","t","radius","$9CG7a","default","RADIUS","splatRadius","SPLAT_RADIUS","center","$parcel$interopDefault","start","end","volume","p","d","$9c5e9202dea23610$var$adsrEnvelope","$9c5e9202dea23610$var$channelEnvelopes","fill","$9c5e9202dea23610$var$channelNoteSplashLists","map","$9c5e9202dea23610$var$channelHold","$9c5e9202dea23610$export$a2b6353e9736276b","midiChannel","midiControllerValue","ns","$9c5e9202dea23610$export$5221a85567936f4c","sostenuto","$9c5e9202dea23610$export$7f6bb5bc0648b12b","$9c5e9202dea23610$export$306c625fe25b743e","$9c5e9202dea23610$export$68745e1e5efda758","$9c5e9202dea23610$var$releaseADSRNoteSplash","force","turnOff","$9c5e9202dea23610$export$a6328a4d8d615e7a","$9c5e9202dea23610$export$e03a6f121205184b","noteSplashList","adsr","generateRandomColor","noteSplash","$9c5e9202dea23610$var$addADSRNoteSplash","$9c5e9202dea23610$export$aad8462122ac592b","$hDMAa","splice","startNow","$9773a534ef16517d$exports","j","k","_scope","window","$parcel$global","_version","_time","Date","getTime","_startTime","_now","_schedule","f","_nop","_func","_R","_orig","_ready","_queue","_log","_then","good","bad","_bad","_err","_wait","delay","_crash","_resume","_kick","_break","_rechain","self","_image","_push","_and","q","log","_or","_close","_tryAny","_slip","_repair","_pop","_J","_for","hasOwnProperty","_clone","val","_exec","_pause","_dup","F","_thenable","then","wait","and","or","_info","info","engine","sysex","close","ver","outputs","_jzz","_outs","_ins","_outsW","_insW","_postRefresh","_engine","_type","_sysex","_allOuts","_allIns","id","manufacturer","_virtual","_watcher","_handles","diff","_diff","removed","_inMap","_closeAll","_outMap","_fireW","_refresh","_filterList","before","after","etc","a","RegExp","test","_notFound","msg","_openMidiOut","pack","_openOut","_openMidiIn","_openIn","_onChange","watcher","_connectW","_M","_receive","_emit","_connect","_disconnect","_mpe","MPE","setup","_validateChannel","c","parseInt","_W","_watch","_disconnectW","_unwatch","_changed","x0","y0","x1","y1","ax","ay","rx","ry","h","added","refresh","openMidiOut","_openMidiOutNR","openMidiIn","_openMidiInNR","onChange","_filter","out","outs","send","MIDI","v","noteOn","_ch","_master","noteOff","_stamp","_stamped","connect","disconnect","connected","dup","_sxid","_band","sxId","_7b","img","ch","mpe","validate","_navigator","_requestMIDIAccess","_tryNODE","_initNode","_tryJazzPlugin","div","document","createElement","style","visibility","body","appendChild","width","height","classid","isJazz","_initJazzPlugin","_findMidiAccess","navigator","requestMIDIAccess","indexOf","_tryWebMIDI","onGood","midi","_initWebMIDI","onBad","opt","_tryWebMIDIsysex","_tryCRX","inst","eventHandle","getElementById","innerText","_initCRX","dispatchEvent","Event","_zeroBreak","_filterEngines","_filterEngineNames","degrade","_initNONE","web","none","head","tail","toLowerCase","_initJZZ","_options","_initEngineJP","clients","_inArr","_outArr","_main","MidiOutInfo","MidiInInfo","impl","_pool","_newPlugin","_closeOut","plugin","MidiOutRaw","s","MidiOutOpen","MidiOutClose","_impl","_closeIn","handle","makeHandle","onmidi","MidiInOpen","MidiInClose","setInterval","clearInterval","plg","access","_access","found","dev","evt","onmidimessage","onstatechange","refreshClients","_msg","CustomEvent","detail","ready","client","_start","output","input","ins","JZZ","Widget","SMPTE","reset","_fixDropFrame","second","frame","minute","_825","_mtc","backwards","quarter","decrFrame","incrFrame","hour","_hrtype","_dec","_smptetxt","join","_from","noteValue","programValue","_throw","addMidiIn","widget","lib","registerMidiIn","addMidiOut","registerMidiOut","setType","getType","setHour","getHour","setMinute","getMinute","setSecond","getSecond","setFrame","getFrame","setQuarter","getQuarter","isFullFrame","incrQF","decrQF","read","_","_b","_f","_a","_noteNum","_float","parseFloat","_MIDI","octaveValue","freq","_7bn","pow","f0","log2","to7b","to14b","to21b","_noteMap","g","b","_oor","_8b","_14b","_16b","_21b","_lsb","_msb","_8bs","charCodeAt","_to777","_01","_rt","_ntu","kkk","vvv","sort","_f2ntu","_hz2ntu","_12x7","_12x14","_helperMPE","aftertouch","_helperCH","control","program","pressure","pitchBend","l","pitchBendF","bankMSB","bankLSB","modMSB","modLSB","breathMSB","breathLSB","footMSB","footLSB","portamentoMSB","portamentoLSB","dataMSB","dataLSB","volumeMSB","volumeLSB","balanceMSB","balanceLSB","panMSB","panLSB","expressionMSB","expressionLSB","damper","portamento","soft","legato","hold2","soundVariation","filterResonance","attackTime","brightness","decayTime","vibratoRate","vibratoDepth","vibratoDelay","ptc","dataIncr","dataDecr","nrpnLSB","nrpnMSB","rpnLSB","rpnMSB","allSoundOff","resetAllControllers","localControl","allNotesOff","omni","mono","poly","_splitMasterTuning","_gsxg12b","_helperNC","mtc","songPosition","songSelect","tune","clock","continue","stop","active","sxIdRequest","sxTuningDumpRequest","sxFullFrame","sxMasterVolume","sxMasterVolumeF","sxMasterFineTuning","sxMasterFineTuningF","sxMasterCoarseTuning","sxMasterCoarseTuningF","sxNoteTuning","sxNoteTuningF","sxNoteTuningHZ","sxScaleTuning1","sxScaleTuning1F","sxScaleTuning2","sxScaleTuning2F","sxGM","gm","sxGS","sxXG","sxid","sxMidiSoft","gsMasterVolume","gsMasterVolumeF","gsMasterFineTuning","gsMasterFineTuningF","gsMasterCoarseTuning","gsMasterCoarseTuningF","gsOctaveTuning","gsOctaveTuningF","xgMasterVolume","xgMasterVolumeF","xgMasterFineTuning","xgMasterFineTuningF","xgMasterCoarseTuning","xgMasterCoarseTuningF","xgOctaveTuning","xgOctaveTuningF","sxScaleTuning","sxScaleTuningF","sxMasterTranspose","sxMasterTransposeF","gsMasterTranspose","gsMasterTransposeF","xgMasterTranspose","xgMasterTransposeF","_helperGCH","bank","modF","mod","breathF","breath","footF","foot","portamentoTimeF","portamentoTime","dataF","volumeF","balanceF","balance","panF","pan","expressionF","expression","nrpn","rpn","rpnPitchBendRange","rpnPitchBendRangeF","rpnFineTuning","rpnFineTuningF","rpnCoarseTuning","rpnCoarseTuningF","rpnTuning","rpnTuningF","rpnTuningA","rpnSelectTuningProgram","rpnSelectTuningBank","rpnSelectTuning","rpnModulationDepthRange","rpnModulationDepthRangeF","rpnNull","mode1","mode2","mode3","mode4","_helperGNC","sxMasterTuning","sxMasterTuningF","gsMasterTuningF","xgMasterTuningF","sxMasterTuningA","gsMasterTuningA","xgMasterTuningA","gsScaleTuning","gsScaleTuningF","xgScaleTuning","xgScaleTuningF","_smf","ff","dd","_helperSMF","smf","_2s","smfSeqNumber","fromCharCode","_smftxt","smfText","toUTF8","smfCopyright","smfSeqName","smfInstrName","smfLyric","smfMarker","smfCuePoint","smfProgName","smfDevName","smfChannelPrefix","smfMidiPort","smfEndOfTrack","smfTempo","smfBPM","bpm","smfSMPTE","smfTimeSignature","nn","cc","bb","match","smfKeySignature","sf","CB","GB","DB","AB","EB","BB","C","G","D","A","E","B","H","toUpperCase","mi","MAJ","MAJOR","DUR","M","MIN","MINOR","MOLL","smfSequencer","_helpers","_copyHelperNC","_copyHelperSMF","_copyHelperGNC","_copyHelperMPE","_copyHelperCH","chan","_copyHelperGCH","_copyMidiHelpers","_ac","_channelMap","_is_yamaha_smf","_is_yamaha_chord","_yamaha_chord","_s2a","_a2s","_s2n","__hex","_hex","_toLine","_smfhex","fromUTF8","_clear_ctxt","_cc","_rpn_txt","msb","lsb","_nrpn_txt","_read_ctxt","_clear","st","_bm","bm","_bl","bl","programName","label","nl","rn","nm","rl","rm","_rm","_rl","_nm","_nl","isFullSysEx","_gm","Context","_read","_initAudioContext","AudioContext","webkitAudioContext","createGain","createGainNode","_activateAudioContext","resume","osc","createOscillator","gain","setTargetAtTime","currentTime","destination","getChannel","setChannel","getNote","setNote","getVelocity","setVelocity","getSysExId","setSysExId","getData","setData","getText","isMidiSoft","setText","getTempo","getBPM","ms","getTimeSignature","getKeySignature","isNoteOn","isNoteOff","isSysEx","isSMF","isEOT","isTempo","isTimeSignature","isKeySignature","isGmReset","isGsReset","isXgReset","lbl","_str","ss","ks","substr","_unstamp","band","master","last","notes","schedule","copyMidiHelpers","getAudioContext","_b64","fromBase64","chr1","chr2","chr3","enc2","enc3","enc4","replace","charAt","toBase64","h1","h2","h3","h4","bits","ac","enc","r","_wma","_outputMap","_inputMap","DOMException","code","MIDIConnectionEvent","bubbles","cancelBubble","cancelable","currentTarget","defaultPrevented","eventPhase","path","returnValue","srcElement","timeStamp","MIDIMessageEvent","receivedTime","_statechange","MIDIInput","_open","_ochng","_onmsg","man","proxy","freeze","_split","_datalen","_InputProxy","ports","pending","queue","Uint8Array","executor","connection","reconnect","_epr","_validate","MIDIOutput","clear","timestamp","sysexEnabled","_OutputProxy","_Maplike","has","Map","entries","MIDIInputMap","_inputs","MIDIOutputMap","_outputs","_wm_watch","MIDIAccess","_onstatechange","wma","factory","$6bf72af592ba5964$exports","synth","Tiny","_synth","_noname","initAC","WebAudioTinySynth","setAudioContext","plug","dest","setSynth","setTimbre","getSynth","drummap","__proto__","sy","is","properties","masterVol","observer","reverbLev","quality","debug","src","loop","tsmode","voices","useReverb","program1","program0","drummap1","drummap0","pg","vol","ex","bend","rpnidx","brange","notetab","rhythm","masterTuningC","masterTuningF","tuningC","tuningF","scaleTuning","maxTick","playTick","playing","releaseRatio","preroll","relcnt","nt","actx","_pruneNote","song","ev","playIndex","playTime","tempo","tick2Time","timebase","isReady","setMasterVol","setReverbLev","rev","setLoop","setVoices","setProgram","setBendRange","setModulation","setChVol","setPan","setQuality","defp","filldef","o","frequency","cancelScheduledValues","playbackRate","detune","chmod","_limitVoices","n1","n2","_note","sc","pn","vp","fp","dt","chvol","createBufferSource","buffer","noiseBuf","_setParamTarget","setPeriodicWave","wave","setValueAtTime","linearRampToValueAtTime","onended","t2","_releaseNote","_tsConv","chpan","setExpression","setSustain","setBend","br","tsdiff","setTsMode","cmd","audioContext","ds","ii","_createWave","imag","Float32Array","real","createPeriodicWave","comp","createDynamicsCompressor","blen","sampleRate","convBuf","createBuffer","n0","d1","getChannelData","d2","dn","dr","exp","jj","r1","r2","conv","createConvolver","w9999","lfo","createStereoPanner","$ce6bf52c60a43a84$export$a143d493d941bafc","$7e3bb73b1250ae3f$export$d622b2ad8d90c771","$7e3bb73b1250ae3f$export$6100ba28696e12de","b64","tmp","lens","$7e3bb73b1250ae3f$var$getLens","validLen","placeHoldersLen","$7e3bb73b1250ae3f$var$Arr","$7e3bb73b1250ae3f$var$_byteLength","curByte","$7e3bb73b1250ae3f$var$revLookup","uint8","extraBytes","parts","maxChunkLength","len2","$7e3bb73b1250ae3f$var$encodeChunk","$7e3bb73b1250ae3f$var$lookup","$50db161ce85f1889$export$aafa59e2e03f2942","$50db161ce85f1889$export$68d8715fc104d294","$7e3bb73b1250ae3f$var$code","$7e3bb73b1250ae3f$var$i","$7e3bb73b1250ae3f$var$len","num","offset","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","LN2","$ce6bf52c60a43a84$var$customInspectSymbol","Symbol","$ce6bf52c60a43a84$var$Buffer","$ce6bf52c60a43a84$var$createBuffer","buf","setPrototypeOf","encodingOrOffset","$ce6bf52c60a43a84$var$allocUnsafe","$ce6bf52c60a43a84$var$from","string","encoding","isEncoding","$ce6bf52c60a43a84$var$byteLength","actual","write","$ce6bf52c60a43a84$var$fromString","ArrayBuffer","isView","arrayView","$ce6bf52c60a43a84$var$isInstance","$ce6bf52c60a43a84$var$fromArrayBuffer","byteOffset","byteLength","$ce6bf52c60a43a84$var$fromArrayLike","$ce6bf52c60a43a84$var$fromArrayView","SharedArrayBuffer","valueOf","from","isBuffer","$ce6bf52c60a43a84$var$checked","$ce6bf52c60a43a84$var$numberIsNaN","isArray","$ce6bf52c60a43a84$var$fromObject","toPrimitive","$ce6bf52c60a43a84$var$assertSize","size","mustMatch","loweredCase","$ce6bf52c60a43a84$var$utf8ToBytes","$ce6bf52c60a43a84$var$base64ToBytes","$ce6bf52c60a43a84$var$slowToString","$ce6bf52c60a43a84$var$hexSlice","$ce6bf52c60a43a84$var$utf8Slice","$ce6bf52c60a43a84$var$asciiSlice","$ce6bf52c60a43a84$var$latin1Slice","$ce6bf52c60a43a84$var$base64Slice","$ce6bf52c60a43a84$var$utf16leSlice","$ce6bf52c60a43a84$var$swap","$ce6bf52c60a43a84$var$bidirectionalIndexOf","$ce6bf52c60a43a84$var$arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","readUInt16BE","foundIndex","$ce6bf52c60a43a84$var$hexWrite","remaining","strLen","parsed","$ce6bf52c60a43a84$var$utf8Write","$ce6bf52c60a43a84$var$blitBuffer","$ce6bf52c60a43a84$var$asciiWrite","str","byteArray","$ce6bf52c60a43a84$var$asciiToBytes","$ce6bf52c60a43a84$var$base64Write","$ce6bf52c60a43a84$var$ucs2Write","units","hi","lo","$ce6bf52c60a43a84$var$utf16leToBytes","res","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","codePoints","$ce6bf52c60a43a84$var$decodeCodePointsArray","TYPED_ARRAY_SUPPORT","proto","foo","$ce6bf52c60a43a84$var$typedArraySupport","poolSize","alloc","$ce6bf52c60a43a84$var$alloc","allocUnsafe","allocUnsafeSlow","_isBuffer","compare","pos","swap16","swap32","swap64","toLocaleString","equals","inspect","trim","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","_arr","$ce6bf52c60a43a84$var$hexSliceLookupTable","bytes","$ce6bf52c60a43a84$var$checkOffset","ext","$ce6bf52c60a43a84$var$checkInt","$ce6bf52c60a43a84$var$wrtBigUInt64LE","$ce6bf52c60a43a84$var$checkIntBI","BigInt","$ce6bf52c60a43a84$var$wrtBigUInt64BE","$ce6bf52c60a43a84$var$checkIEEE754","$ce6bf52c60a43a84$var$writeFloat","littleEndian","noAssert","$ce6bf52c60a43a84$var$writeDouble","newBuf","subarray","readUintLE","readUIntLE","mul","readUintBE","readUIntBE","readUint8","readUInt8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readBigUInt64LE","$ce6bf52c60a43a84$var$defineBigIntMethod","$ce6bf52c60a43a84$var$validateNumber","first","$ce6bf52c60a43a84$var$boundsError","readBigUInt64BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readBigInt64LE","readBigInt64BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUIntLE","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeBigUInt64LE","writeBigUInt64BE","writeIntLE","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeBigInt64LE","writeBigInt64BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","$ce6bf52c60a43a84$var$errors","$ce6bf52c60a43a84$var$E","sym","getMessage","Base","writable","configurable","stack","$ce6bf52c60a43a84$var$addNumericalSeparator","range","ERR_OUT_OF_RANGE","$ce6bf52c60a43a84$var$checkBounds","ERR_INVALID_ARG_TYPE","ERR_BUFFER_OUT_OF_BOUNDS","received","isInteger","$ce6bf52c60a43a84$var$INVALID_BASE64_RE","leadSurrogate","$ce6bf52c60a43a84$var$base64clean","dst","alphabet","table","i16","fn","$ce6bf52c60a43a84$var$BufferBigIntNotDefined","$e8aaf829f8df4a5a$exports","SMF","_ver","ppqn","fps","ppf","rmi","ntrk","_complain","_warn","_issue","load","loadSMF","MThd0006","_error","z","_off","_off_type","_off_ntrk","_off_fps","_off_ppf","_off_ppqn","Chunk","Warn","track","tick","tracks","MTrk","mm","_sort","_reset_state","_validate_midi","_update_state","dump","_num4le","_num2","toBuffer","$e8aaf829f8df4a5a$require$Buffer","toUint8Array","toArrayBuffer","toInt8Array","Int8Array","annotate","ctxt","player","pl","Player","tr","tt","_data","_tracks","_timing","_num4","trk","_num","_tick","onEnd","_loop","play","paused","_ptr","_pos","_p0","_t0","pause","sndOff","_mul","_div","_speed","_duration","_ttt","_durationMS","speed","durationMS","positionMS","tick2ms","jump","_goto","jumpMS","_ms2t","_t2ms","_toPos","ms2tick","SYX","_not_a_syx","_u8a2s","u","err1","err2","_check_unused","_var2num","_msglen","pp","_validate_msg_data","_validate_number","_shortmsg","_metaevent_len","_timing_first_track","t1","issue","$3ba05427cffbf653$export$7fcbfffcfc3be87c","containerElement","midiMessageCallback","midiPlayerOptions","at","file","gui","$0ddcf035742b1376$exports","_noBtn","nop","disable","Btn","backgroundColor","borderColor","firstChild","svg_play","svg_pause","svg_stop","svg_loop","svg_more","svg_open","svg_link","svg_close","_floating","html","innerHTML","playBtn","pauseBtn","stopBtn","loopBtn","midiBtn","_conn","fileBtn","rail","caret","_player","_onEnd","_setfilter","_sndoff","onLoad","onSelect","_moving","_move","_playing","rlen","left","onPlay","onResume","_paused","_out","_waiting","_ports","_outname","onStop","onPause","onClose","destroy","parentNode","removeChild","setUrl","url","linkBtn","_url","href","dataset","jzzGuiPlayer","download","readFile","reader","FileReader","onload","result","readAsArrayBuffer","_closeselect","sel","display","_more","settings","remove","Option","focus","_selectMidi","_newname","select","_selected","selected","selectedIndex","_keydown","keyCode","onJump","_mousedown","_lftBtnDn","preventDefault","_wasPlaying","_caretX","clientX","_caretPos","_startmove","_startX","_startY","top","_clickX","_clickY","clientY","_mouseup","_mousemove","to","boxSizing","margin","padding","borderStyle","borderWidth","lineHeight","lineSpasing","_stopProp","stopPropagation","_createGUI","right","step","zIndex","link","fileInput","accept","click","files","dataTransfer","dropEffect","closeBtn","textAlign","fontSize","fontFamily","borderRadius","record","sndoff","opacity","buttons","button","async","$7f1395006cc26c5f$var$setupMidiPlayer","midiProcessorOptions","playerContainerElementSelector","playerContainerElement","querySelector","midiProcessor","midiDataCallback","playerAutoHideTimeout","showPlayer","$hsX8u","midiChannelMask","midiPortName","midiInput","createOnceAvailable","$7f1395006cc26c5f$var$setupMidiInput","$7f1395006cc26c5f$var$registerMidiMessageEventHandlers","$7f1395006cc26c5f$var$main","catch"],"version":3,"file":"midi-viz.d8553cc0.js.map"}